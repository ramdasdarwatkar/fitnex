(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vh={exports:{}},so={};var dy;function R0(){if(dy)return so;dy=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:r,type:l,key:m,ref:c!==void 0?c:null,props:f}}return so.Fragment=n,so.jsx=i,so.jsxs=i,so}var my;function C0(){return my||(my=1,vh.exports=R0()),vh.exports}var w=C0(),bh={exports:{}},qe={};var py;function N0(){if(py)return qe;py=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function R(H){return H===null||typeof H!="object"?null:(H=A&&H[A]||H["@@iterator"],typeof H=="function"?H:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function le(H,ie,ve){this.props=H,this.context=ie,this.refs=F,this.updater=ve||$}le.prototype.isReactComponent={},le.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},le.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function ae(){}ae.prototype=le.prototype;function re(H,ie,ve){this.props=H,this.context=ie,this.refs=F,this.updater=ve||$}var _e=re.prototype=new ae;_e.constructor=re,J(_e,le.prototype),_e.isPureReactComponent=!0;var Ue=Array.isArray;function Oe(){}var pe={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function ut(H,ie,ve){var Se=ve.ref;return{$$typeof:r,type:H,key:ie,ref:Se!==void 0?Se:null,props:ve}}function pn(H,ie){return ut(H.type,ie,H.props)}function jn(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function Lt(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ie[ve]})}var yn=/\/+/g;function ta(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?Lt(""+H.key):ie.toString(36)}function gn(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Oe,Oe):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,ie,ve,Se,Le){var He=typeof H;(He==="undefined"||He==="boolean")&&(H=null);var Ie=!1;if(H===null)Ie=!0;else switch(He){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(H.$$typeof){case r:case n:Ie=!0;break;case S:return Ie=H._init,ee(Ie(H._payload),ie,ve,Se,Le)}}if(Ie)return Le=Le(H),Ie=Se===""?"."+ta(H,0):Se,Ue(Le)?(ve="",Ie!=null&&(ve=Ie.replace(yn,"$&/")+"/"),ee(Le,ie,ve,"",function(ke){return ke})):Le!=null&&(jn(Le)&&(Le=pn(Le,ve+(Le.key==null||H&&H.key===Le.key?"":(""+Le.key).replace(yn,"$&/")+"/")+Ie)),ie.push(Le)),1;Ie=0;var Gt=Se===""?".":Se+":";if(Ue(H))for(var jt=0;jt<H.length;jt++)Se=H[jt],He=Gt+ta(Se,jt),Ie+=ee(Se,ie,ve,He,Le);else if(jt=R(H),typeof jt=="function")for(H=jt.call(H),jt=0;!(Se=H.next()).done;)Se=Se.value,He=Gt+ta(Se,jt++),Ie+=ee(Se,ie,ve,He,Le);else if(He==="object"){if(typeof H.then=="function")return ee(gn(H),ie,ve,Se,Le);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ge(H,ie,ve){if(H==null)return H;var Se=[],Le=0;return ee(H,Se,"","",function(He){return ie.call(ve,He,Le++)}),Se}function Ae(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var Ze=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ve={map:ge,forEach:function(H,ie,ve){ge(H,function(){ie.apply(this,arguments)},ve)},count:function(H){var ie=0;return ge(H,function(){ie++}),ie},toArray:function(H){return ge(H,function(ie){return ie})||[]},only:function(H){if(!jn(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return qe.Activity=T,qe.Children=Ve,qe.Component=le,qe.Fragment=i,qe.Profiler=c,qe.PureComponent=re,qe.StrictMode=l,qe.Suspense=v,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return pe.H.useMemoCache(H)}},qe.cache=function(H){return function(){return H.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(H,ie,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Se=J({},H.props),Le=H.key;if(ie!=null)for(He in ie.key!==void 0&&(Le=""+ie.key),ie)!nt.call(ie,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ie.ref===void 0||(Se[He]=ie[He]);var He=arguments.length-2;if(He===1)Se.children=ve;else if(1<He){for(var Ie=Array(He),Gt=0;Gt<He;Gt++)Ie[Gt]=arguments[Gt+2];Se.children=Ie}return ut(H.type,Le,Se)},qe.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:f,_context:H},H},qe.createElement=function(H,ie,ve){var Se,Le={},He=null;if(ie!=null)for(Se in ie.key!==void 0&&(He=""+ie.key),ie)nt.call(ie,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Le[Se]=ie[Se]);var Ie=arguments.length-2;if(Ie===1)Le.children=ve;else if(1<Ie){for(var Gt=Array(Ie),jt=0;jt<Ie;jt++)Gt[jt]=arguments[jt+2];Le.children=Gt}if(H&&H.defaultProps)for(Se in Ie=H.defaultProps,Ie)Le[Se]===void 0&&(Le[Se]=Ie[Se]);return ut(H,He,Le)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:y,render:H}},qe.isValidElement=jn,qe.lazy=function(H){return{$$typeof:S,_payload:{_status:-1,_result:H},_init:Ae}},qe.memo=function(H,ie){return{$$typeof:_,type:H,compare:ie===void 0?null:ie}},qe.startTransition=function(H){var ie=pe.T,ve={};pe.T=ve;try{var Se=H(),Le=pe.S;Le!==null&&Le(ve,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(Oe,Ze)}catch(He){Ze(He)}finally{ie!==null&&ve.types!==null&&(ie.types=ve.types),pe.T=ie}},qe.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},qe.use=function(H){return pe.H.use(H)},qe.useActionState=function(H,ie,ve){return pe.H.useActionState(H,ie,ve)},qe.useCallback=function(H,ie){return pe.H.useCallback(H,ie)},qe.useContext=function(H){return pe.H.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H,ie){return pe.H.useDeferredValue(H,ie)},qe.useEffect=function(H,ie){return pe.H.useEffect(H,ie)},qe.useEffectEvent=function(H){return pe.H.useEffectEvent(H)},qe.useId=function(){return pe.H.useId()},qe.useImperativeHandle=function(H,ie,ve){return pe.H.useImperativeHandle(H,ie,ve)},qe.useInsertionEffect=function(H,ie){return pe.H.useInsertionEffect(H,ie)},qe.useLayoutEffect=function(H,ie){return pe.H.useLayoutEffect(H,ie)},qe.useMemo=function(H,ie){return pe.H.useMemo(H,ie)},qe.useOptimistic=function(H,ie){return pe.H.useOptimistic(H,ie)},qe.useReducer=function(H,ie,ve){return pe.H.useReducer(H,ie,ve)},qe.useRef=function(H){return pe.H.useRef(H)},qe.useState=function(H){return pe.H.useState(H)},qe.useSyncExternalStore=function(H,ie,ve){return pe.H.useSyncExternalStore(H,ie,ve)},qe.useTransition=function(){return pe.H.useTransition()},qe.version="19.2.4",qe}var yy;function Zh(){return yy||(yy=1,bh.exports=N0()),bh.exports}var Y=Zh();const D0=Wh(Y);var _h={exports:{}},lo={},wh={exports:{}},xh={};var gy;function M0(){return gy||(gy=1,(function(r){function n(ee,ge){var Ae=ee.length;ee.push(ge);e:for(;0<Ae;){var Ze=Ae-1>>>1,Ve=ee[Ze];if(0<c(Ve,ge))ee[Ze]=ge,ee[Ae]=Ve,Ae=Ze;else break e}}function i(ee){return ee.length===0?null:ee[0]}function l(ee){if(ee.length===0)return null;var ge=ee[0],Ae=ee.pop();if(Ae!==ge){ee[0]=Ae;e:for(var Ze=0,Ve=ee.length,H=Ve>>>1;Ze<H;){var ie=2*(Ze+1)-1,ve=ee[ie],Se=ie+1,Le=ee[Se];if(0>c(ve,Ae))Se<Ve&&0>c(Le,ve)?(ee[Ze]=Le,ee[Se]=Ae,Ze=Se):(ee[Ze]=ve,ee[ie]=Ae,Ze=ie);else if(Se<Ve&&0>c(Le,Ae))ee[Ze]=Le,ee[Se]=Ae,Ze=Se;else break e}}return ge}function c(ee,ge){var Ae=ee.sortIndex-ge.sortIndex;return Ae!==0?Ae:ee.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var v=[],_=[],S=1,T=null,A=3,R=!1,$=!1,J=!1,F=!1,le=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(ee){for(var ge=i(_);ge!==null;){if(ge.callback===null)l(_);else if(ge.startTime<=ee)l(_),ge.sortIndex=ge.expirationTime,n(v,ge);else break;ge=i(_)}}function Ue(ee){if(J=!1,_e(ee),!$)if(i(v)!==null)$=!0,Oe||(Oe=!0,Lt());else{var ge=i(_);ge!==null&&gn(Ue,ge.startTime-ee)}}var Oe=!1,pe=-1,nt=5,ut=-1;function pn(){return F?!0:!(r.unstable_now()-ut<nt)}function jn(){if(F=!1,Oe){var ee=r.unstable_now();ut=ee;var ge=!0;try{e:{$=!1,J&&(J=!1,ae(pe),pe=-1),R=!0;var Ae=A;try{t:{for(_e(ee),T=i(v);T!==null&&!(T.expirationTime>ee&&pn());){var Ze=T.callback;if(typeof Ze=="function"){T.callback=null,A=T.priorityLevel;var Ve=Ze(T.expirationTime<=ee);if(ee=r.unstable_now(),typeof Ve=="function"){T.callback=Ve,_e(ee),ge=!0;break t}T===i(v)&&l(v),_e(ee)}else l(v);T=i(v)}if(T!==null)ge=!0;else{var H=i(_);H!==null&&gn(Ue,H.startTime-ee),ge=!1}}break e}finally{T=null,A=Ae,R=!1}ge=void 0}}finally{ge?Lt():Oe=!1}}}var Lt;if(typeof re=="function")Lt=function(){re(jn)};else if(typeof MessageChannel<"u"){var yn=new MessageChannel,ta=yn.port2;yn.port1.onmessage=jn,Lt=function(){ta.postMessage(null)}}else Lt=function(){le(jn,0)};function gn(ee,ge){pe=le(function(){ee(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var ge=3;break;default:ge=A}var Ae=A;A=ge;try{return ee()}finally{A=Ae}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ae=A;A=ee;try{return ge()}finally{A=Ae}},r.unstable_scheduleCallback=function(ee,ge,Ae){var Ze=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Ze+Ae:Ze):Ae=Ze,ee){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Ae+Ve,ee={id:S++,callback:ge,priorityLevel:ee,startTime:Ae,expirationTime:Ve,sortIndex:-1},Ae>Ze?(ee.sortIndex=Ae,n(_,ee),i(v)===null&&ee===i(_)&&(J?(ae(pe),pe=-1):J=!0,gn(Ue,Ae-Ze))):(ee.sortIndex=Ve,n(v,ee),$||R||($=!0,Oe||(Oe=!0,Lt()))),ee},r.unstable_shouldYield=pn,r.unstable_wrapCallback=function(ee){var ge=A;return function(){var Ae=A;A=ge;try{return ee.apply(this,arguments)}finally{A=Ae}}}})(xh)),xh}var vy;function U0(){return vy||(vy=1,wh.exports=M0()),wh.exports}var Sh={exports:{}},mn={};var by;function z0(){if(by)return mn;by=1;var r=Zh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(v,_,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:v,containerInfo:_,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,S)},mn.flushSync=function(v){var _=m.T,S=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=S,l.d.f()}},mn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},mn.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},mn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,T=y(S,_.crossOrigin),A=typeof _.integrity=="string"?_.integrity:void 0,R=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:R}):S==="script"&&l.d.X(v,{crossOrigin:T,integrity:A,fetchPriority:R,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},mn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,T=y(S,_.crossOrigin);l.d.L(v,S,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},mn.requestFormReset=function(v){l.d.r(v)},mn.unstable_batchedUpdates=function(v,_){return v(_)},mn.useFormState=function(v,_,S){return m.H.useFormState(v,_,S)},mn.useFormStatus=function(){return m.H.useHostTransitionStatus()},mn.version="19.2.4",mn}var _y;function L0(){if(_y)return Sh.exports;_y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Sh.exports=z0(),Sh.exports}var wy;function B0(){if(wy)return lo;wy=1;var r=U0(),n=Zh(),i=L0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(l(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return v(u),e;if(h===s)return v(u),t;h=h.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=h;else{for(var b=!1,k=u.child;k;){if(k===a){b=!0,a=u,s=h;break}if(k===s){b=!0,s=u,a=h;break}k=k.sibling}if(!b){for(k=h.child;k;){if(k===a){b=!0,a=h,s=u;break}if(k===s){b=!0,s=h,a=u;break}k=k.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),pn=Symbol.for("react.memo_cache_sentinel"),jn=Symbol.iterator;function Lt(e){return e===null||typeof e!="object"?null:(e=jn&&e[jn]||e["@@iterator"],typeof e=="function"?e:null)}var yn=Symbol.for("react.client.reference");function ta(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case le:return"Profiler";case F:return"StrictMode";case Ue:return"Suspense";case Oe:return"SuspenseList";case ut:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case re:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:ta(e.type)||"Memo";case nt:t=e._payload,e=e._init;try{return ta(e(t))}catch{}}return null}var gn=Array.isArray,ee=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Ze=[],Ve=-1;function H(e){return{current:e}}function ie(e){0>Ve||(e.current=Ze[Ve],Ze[Ve]=null,Ve--)}function ve(e,t){Ve++,Ze[Ve]=e.current,e.current=t}var Se=H(null),Le=H(null),He=H(null),Ie=H(null);function Gt(e,t){switch(ve(He,t),ve(Le,e),ve(Se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?zp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=zp(t),e=Lp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(Se),ve(Se,e)}function jt(){ie(Se),ie(Le),ie(He)}function ke(e){e.memoizedState!==null&&ve(Ie,e);var t=Se.current,a=Lp(t,e.type);t!==a&&(ve(Le,e),ve(Se,a))}function ti(e){Le.current===e&&(ie(Se),ie(Le)),Ie.current===e&&(ie(Ie),no._currentValue=Ae)}var at,mr;function Ca(e){if(at===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);at=t&&t[1]||"",mr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+e+mr}var na=!1;function rl(e,t){if(!e||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var W=Z}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(Z){W=Z}e.call(oe.prototype)}}else{try{throw Error()}catch(Z){W=Z}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),b=h[0],k=h[1];if(b&&k){var C=b.split(`
`),X=k.split(`
`);for(u=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(s===C.length||u===X.length)for(s=C.length-1,u=X.length-1;1<=s&&0<=u&&C[s]!==X[u];)u--;for(;1<=s&&0<=u;s--,u--)if(C[s]!==X[u]){if(s!==1||u!==1)do if(s--,u--,0>u||C[s]!==X[u]){var ne=`
`+C[s].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=s&&0<=u);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ca(a):""}function Sc(e,t){switch(e.tag){case 26:case 27:case 5:return Ca(e.type);case 16:return Ca("Lazy");case 13:return e.child!==t&&t!==null?Ca("Suspense Fallback"):Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 15:return rl(e.type,!1);case 11:return rl(e.type.render,!1);case 1:return rl(e.type,!0);case 31:return Ca("Activity");default:return""}}function jo(e){try{var t="",a=null;do t+=Sc(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var il=Object.prototype.hasOwnProperty,ni=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Ao=r.unstable_shouldYield,ai=r.unstable_requestPaint,on=r.unstable_now,ri=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,ii=r.unstable_LowPriority,Yi=r.unstable_IdlePriority,Vi=r.log,Na=r.unstable_setDisableYieldValue,pa=null,Zt=null;function Ft(e){if(typeof Vi=="function"&&Na(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pa,e)}catch{}}var be=Math.clz32?Math.clz32:Ii,si=Math.log,Da=Math.LN2;function Ii(e){return e>>>=0,e===0?32:31-(si(e)/Da|0)|0}var me=256,yr=262144,li=4194304;function aa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var k=s&134217727;return k!==0?(s=k&~h,s!==0?u=aa(s):(b&=k,b!==0?u=aa(b):a||(a=k&~e,a!==0&&(u=aa(a))))):(k=s&~h,k!==0?u=aa(k):b!==0?u=aa(b):a||(a=s&~e,a!==0&&(u=aa(a)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:u}function Ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ec(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=li;return li<<=1,(li&62914560)===0&&(li=4194304),e}function ya(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $n(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sl(e,t,a,s,u,h){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var k=e.entanglements,C=e.expirationTimes,X=e.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-be(a),oe=1<<ne;k[ne]=0,C[ne]=-1;var W=X[ne];if(W!==null)for(X[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}a&=~oe}s!==0&&ui(e,s,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~t))}function ui(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-be(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function vt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-be(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function Nt(e,t){var a=t&-t;return a=(a&42)!==0?1:ll(a),(a&(e.suspendedLanes|t))!==0?0:a}function ll(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ci(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:sy(e.type))}function fi(e,t){var a=ge.p;try{return ge.p=e,t()}finally{ge.p=a}}var ga=Math.random().toString(36).slice(2),_t="__reactFiber$"+ga,Dt="__reactProps$"+ga,vn="__reactContainer$"+ga,vr="__reactEvents$"+ga,Tc="__reactListeners$"+ga,va="__reactHandles$"+ga,ol="__reactResources$"+ga,An="__reactMarker$"+ga;function Xi(e){delete e[_t],delete e[Dt],delete e[vr],delete e[Tc],delete e[va]}function ba(e){var t=e[_t];if(t)return t;for(var a=e.parentNode;a;){if(t=a[vn]||a[_t]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Gp(e);e!==null;){if(a=e[_t])return a;e=Gp(e)}return t}e=a,a=e.parentNode}return null}function dt(e){if(e=e[_t]||e[vn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function cn(e){var t=e[ol];return t||(t=e[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mt(e){e[An]=!0}var Ua=new Set,hi={};function ra(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(hi[e]=t,e=0;e<t.length;e++)Ua.add(t[e])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},di={};function Co(e){return il.call(di,e)?!0:il.call(ul,e)?!1:za.test(e)?di[e]=!0:(ul[e]=!0,!1)}function Ge(e,t,a){if(Co(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function mi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function br(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function No(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qi(e){if(!e._valueTracker){var t=br(e)?"checked":"value";e._valueTracker=No(e,t,""+e[t])}}function cl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=br(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function st(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pi=/[\n"\\]/g;function It(e){return e.replace(pi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wa(e,t,a,s,u,h,b,k){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?yi(e,b,en(t)):a!=null?yi(e,b,en(a)):s!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+en(k):e.removeAttribute("name")}function Ji(e,t,a,s,u,h,b,k){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Qi(e);return}a=a!=null?""+en(a):"",t=t!=null?""+en(t):a,k||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=k?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Qi(e)}function yi(e,t,a){t==="number"&&st(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ia(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fl(e,t,a){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+en(a):""}function gi(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(gn(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=en(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Qi(e)}function La(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fe(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||kc.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hl(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&Fe(e,u,s)}else for(var h in t)t.hasOwnProperty(h)&&Fe(e,h,t[h])}function dl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return bn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xn(){}var Kn=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,xt=null;function Cn(e){var t=dt(e);if(t&&(e=t.stateNode)){var a=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[Dt]||null;if(!u)throw Error(l(90));wa(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&cl(s)}break e;case"textarea":fl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ia(e,!!a.multiple,t,!1)}}}var qa=!1;function _r(e,t,a){if(qa)return e(t,a);qa=!0;try{var s=e(t);return s}finally{if(qa=!1,(Ba!==null||xt!==null)&&(wu(),Ba&&(t=Ba,e=xt,xt=Ba=null,Cn(t),e)))for(t=0;t<e.length;t++)Cn(e[t])}}function Ha(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Dt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=!1;if(Xt)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){ml=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{ml=!1}var Gn=null,Zi=null,wr=null;function xr(){if(wr)return wr;var e,t=Zi,a=t.length,s,u="value"in Gn?Gn.value:Gn.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var b=a-e;for(s=1;s<=b&&t[a-s]===u[h-s];s++);return wr=u.slice(e,1<s?1-s:void 0)}function Sr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vi(){return!0}function Do(){return!1}function Bt(e){function t(a,s,u,h,b){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(h):h[k]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?vi:Do,this.isPropagationStopped=Do,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Bt($a),xa=T({},$a,{view:0,detail:0}),es=Bt(xa),bi,pl,_i,ts=T({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(bi=e.screenX-_i.screenX,pl=e.screenY-_i.screenY):pl=bi=0,_i=e),bi)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),ns=Bt(ts),yl=T({},ts,{dataTransfer:0}),Mo=Bt(yl),as=T({},xa,{relatedTarget:0}),Er=Bt(as),rs=T({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=Bt(rs),jc=T({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tr=Bt(jc),gl=T({},$a,{data:0}),is=Bt(gl),vl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qt[e])?!!t[e]:!1}function Pa(){return wi}var zo=T({},xa,{key:function(e){if(e.key){var t=vl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=Bt(zo),Lo=T({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Bt(Lo),ls=T({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),wl=Bt(ls),Ka=T({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),xl=Bt(Ka),Sl=T({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Bt(Sl),El=T({},$a,{newState:0,oldState:0}),Bo=Bt(El),Ac=[9,13,27,32],xi=Xt&&"CompositionEvent"in window,Sa=null;Xt&&"documentMode"in document&&(Sa=document.documentMode);var Rc=Xt&&"TextEvent"in window&&!Sa,us=Xt&&(!xi||Sa&&8<Sa&&11>=Sa),cs=" ",qo=!1;function Tl(e,t){switch(e){case"keyup":return Ac.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function $o(e,t){switch(e){case"compositionend":return Ho(t);case"keypress":return t.which!==32?null:(qo=!0,cs);case"textInput":return e=t.data,e===cs&&qo?null:e;default:return null}}function Cc(e,t){if(Ga)return e==="compositionend"||!xi&&Tl(e,t)?(e=xr(),wr=Zi=Gn=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return us&&t.locale!=="ko"?null:t.data;default:return null}}var Po={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Po[e.type]:t==="textarea"}function kl(e,t,a,s){Ba?xt?xt.push(s):xt=[s]:Ba=s,t=ju(t,"onChange"),0<t.length&&(a=new Fi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var kr=null,Si=null;function Nc(e){Rp(e,0)}function hs(e){var t=Rn(e);if(cl(t))return e}function Ei(e,t){if(e==="change")return t}var Yn=!1;if(Xt){var St;if(Xt){var Or="oninput"in document;if(!Or){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),Or=typeof Ya.oninput=="function"}St=Or}else St=!1;Yn=St&&(!document.documentMode||9<document.documentMode)}function Ko(){kr&&(kr.detachEvent("onpropertychange",ds),Si=kr=null)}function ds(e){if(e.propertyName==="value"&&hs(Si)){var t=[];kl(t,Si,e,Wi(e)),_r(Nc,t)}}function Go(e,t,a){e==="focusin"?(Ko(),kr=t,Si=a,kr.attachEvent("onpropertychange",ds)):e==="focusout"&&Ko()}function Va(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(Si)}function Ol(e,t){if(e==="click")return hs(t)}function jr(e,t){if(e==="input"||e==="change")return hs(t)}function Ea(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:Ea;function o(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!il.call(t,u)||!hn(e[u],t[u]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var a=d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=d(a)}}function g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=st(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=st(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O=Xt&&"documentMode"in document&&11>=document.documentMode,j=null,D=null,K=null,M=!1;function N(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;M||j==null||j!==st(s)||(s=j,"selectionStart"in s&&E(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),K&&o(K,s)||(K=s,s=ju(D,"onSelect"),0<s.length&&(t=new Fi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=j)))}function L(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var q={animationend:L("Animation","AnimationEnd"),animationiteration:L("Animation","AnimationIteration"),animationstart:L("Animation","AnimationStart"),transitionrun:L("Transition","TransitionRun"),transitionstart:L("Transition","TransitionStart"),transitioncancel:L("Transition","TransitionCancel"),transitionend:L("Transition","TransitionEnd")},U={},z={};Xt&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function V(e){if(U[e])return U[e];if(!q[e])return e;var t=q[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in z)return U[e]=t[a];return e}var Q=V("animationend"),G=V("animationiteration"),te=V("animationstart"),ue=V("transitionrun"),he=V("transitionstart"),de=V("transitioncancel"),ce=V("transitionend"),we=new Map,ye="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ye.push("scrollEnd");function fe(e,t){we.set(e,t),ra(t,[e])}var xe=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ze=[],Ye=0,Re=0;function Be(){for(var e=Ye,t=Re=Ye=0;t<e;){var a=ze[t];ze[t++]=null;var s=ze[t];ze[t++]=null;var u=ze[t];ze[t++]=null;var h=ze[t];if(ze[t++]=null,s!==null&&u!==null){var b=s.pending;b===null?u.next=u:(u.next=b.next,b.next=u),s.pending=u}h!==0&&Ta(a,u,h)}}function mt(e,t,a,s){ze[Ye++]=e,ze[Ye++]=t,ze[Ye++]=a,ze[Ye++]=s,Re|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function dn(e,t,a,s){return mt(e,t,a,s),Ar(e)}function ot(e,t){return mt(e,null,null,t),Ar(e)}function Ta(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,s=h.alternate,s!==null&&(s.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-be(a),e=h.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),h):null}function Ar(e){if(50<Ql)throw Ql=0,Pf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ms={};function hv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,a,s){return new hv(e,t,a,s)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ia(e,t){var a=e.alternate;return a===null?(a=Nn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yo(e,t,a,s,u,h){var b=0;if(s=e,typeof e=="function")Dc(e)&&(b=1);else if(typeof e=="string")b=g0(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ut:return e=Nn(31,a,t,u),e.elementType=ut,e.lanes=h,e;case J:return Ti(a.children,u,h,t);case F:b=8,u|=24;break;case le:return e=Nn(12,a,t,u|2),e.elementType=le,e.lanes=h,e;case Ue:return e=Nn(13,a,t,u),e.elementType=Ue,e.lanes=h,e;case Oe:return e=Nn(19,a,t,u),e.elementType=Oe,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:b=10;break e;case ae:b=9;break e;case _e:b=11;break e;case pe:b=14;break e;case nt:b=16,s=null;break e}b=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Nn(b,a,t,u),t.elementType=e,t.type=s,t.lanes=h,t}function Ti(e,t,a,s){return e=Nn(7,e,s,t),e.lanes=a,e}function Mc(e,t,a){return e=Nn(6,e,null,t),e.lanes=a,e}function dd(e){var t=Nn(18,null,null,0);return t.stateNode=e,t}function Uc(e,t,a){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var md=new WeakMap;function Vn(e,t){if(typeof e=="object"&&e!==null){var a=md.get(e);return a!==void 0?a:(t={value:e,source:t,stack:jo(t)},md.set(e,t),t)}return{value:e,source:t,stack:jo(t)}}var ps=[],ys=0,Vo=null,jl=0,In=[],Xn=0,Rr=null,ka=1,Oa="";function Xa(e,t){ps[ys++]=jl,ps[ys++]=Vo,Vo=e,jl=t}function pd(e,t,a){In[Xn++]=ka,In[Xn++]=Oa,In[Xn++]=Rr,Rr=e;var s=ka;e=Oa;var u=32-be(s)-1;s&=~(1<<u),a+=1;var h=32-be(t)+u;if(30<h){var b=u-u%5;h=(s&(1<<b)-1).toString(32),s>>=b,u-=b,ka=1<<32-be(t)+u|a<<u|s,Oa=h+e}else ka=1<<h|a<<u|s,Oa=e}function zc(e){e.return!==null&&(Xa(e,1),pd(e,1,0))}function Lc(e){for(;e===Vo;)Vo=ps[--ys],ps[ys]=null,jl=ps[--ys],ps[ys]=null;for(;e===Rr;)Rr=In[--Xn],In[Xn]=null,Oa=In[--Xn],In[Xn]=null,ka=In[--Xn],In[Xn]=null}function yd(e,t){In[Xn++]=ka,In[Xn++]=Oa,In[Xn++]=Rr,ka=t.id,Oa=t.overflow,Rr=e}var tn=null,Et=null,et=!1,Cr=null,Qn=!1,Bc=Error(l(519));function Nr(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Vn(t,e)),Bc}function gd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[_t]=e,t[Dt]=s,a){case"dialog":Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":case"embed":Qe("load",t);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Qe(Wl[a],t);break;case"source":Qe("error",t);break;case"img":case"image":case"link":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"input":Qe("invalid",t),Ji(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Qe("invalid",t);break;case"textarea":Qe("invalid",t),gi(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Mp(t.textContent,a)?(s.popover!=null&&(Qe("beforetoggle",t),Qe("toggle",t)),s.onScroll!=null&&Qe("scroll",t),s.onScrollEnd!=null&&Qe("scrollend",t),s.onClick!=null&&(t.onclick=xn),t=!0):t=!1,t||Nr(e,!0)}function vd(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:tn=tn.return}}function gs(e){if(e!==tn)return!1;if(!et)return vd(e),et=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ah(e.type,e.memoizedProps)),a=!a),a&&Et&&Nr(e),vd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Et=Kp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Et=Kp(e)}else t===27?(t=Et,Vr(e.type)?(e=oh,oh=null,Et=e):Et=t):Et=tn?Wn(e.stateNode.nextSibling):null;return!0}function ki(){Et=tn=null,et=!1}function qc(){var e=Cr;return e!==null&&(kn===null?kn=e:kn.push.apply(kn,e),Cr=null),e}function Al(e){Cr===null?Cr=[e]:Cr.push(e)}var Hc=H(null),Oi=null,Qa=null;function Dr(e,t,a){ve(Hc,t._currentValue),t._currentValue=a}function Ja(e){e._currentValue=Hc.current,ie(Hc)}function $c(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Pc(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var b=u.child;h=h.firstContext;e:for(;h!==null;){var k=h;h=u;for(var C=0;C<t.length;C++)if(k.context===t[C]){h.lanes|=a,k=h.alternate,k!==null&&(k.lanes|=a),$c(h.return,a,e),s||(b=null);break e}h=k.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(l(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),$c(b,a,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function vs(e,t,a,s){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var k=u.type;hn(u.pendingProps.value,b.value)||(e!==null?e.push(k):e=[k])}}else if(u===Ie.current){if(b=u.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}u=u.return}e!==null&&Pc(t,e,a,s),t.flags|=262144}function Io(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Oi=e,Qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return bd(Oi,e)}function Xo(e,t){return Oi===null&&ji(e),bd(e,t)}function bd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Qa===null){if(e===null)throw Error(l(308));Qa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qa=Qa.next=t;return a}var dv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},mv=r.unstable_scheduleCallback,pv=r.unstable_NormalPriority,qt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new dv,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&mv(pv,function(){e.controller.abort()})}var Cl=null,Gc=0,bs=0,_s=null;function yv(e,t){if(Cl===null){var a=Cl=[];Gc=0,bs=Xf(),_s={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Gc++,t.then(_d,_d),t}function _d(){if(--Gc===0&&Cl!==null){_s!==null&&(_s.status="fulfilled");var e=Cl;Cl=null,bs=0,_s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var wd=ee.S;ee.S=function(e,t){rp=on(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yv(e,t),wd!==null&&wd(e,t)};var Ai=H(null);function Yc(){var e=Ai.current;return e!==null?e:bt.pooledCache}function Qo(e,t){t===null?ve(Ai,Ai.current):ve(Ai,t.pool)}function xd(){var e=Yc();return e===null?null:{parent:qt._currentValue,pool:e}}var ws=Error(l(460)),Vc=Error(l(474)),Jo=Error(l(542)),Wo={then:function(){}};function Sd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ed(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(xn,xn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(xn,xn);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw Ci=t,ws}}function Ri(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ci=a,ws):a}}var Ci=null;function Td(){if(Ci===null)throw Error(l(459));var e=Ci;return Ci=null,e}function kd(e){if(e===ws||e===Jo)throw Error(l(483))}var xs=null,Nl=0;function Zo(e){var t=Nl;return Nl+=1,xs===null&&(xs=[]),Ed(xs,e,t)}function Dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fo(e,t){throw t.$$typeof===A?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Od(e){function t(P,B){if(e){var I=P.deletions;I===null?(P.deletions=[B],P.flags|=16):I.push(B)}}function a(P,B){if(!e)return null;for(;B!==null;)t(P,B),B=B.sibling;return null}function s(P){for(var B=new Map;P!==null;)P.key!==null?B.set(P.key,P):B.set(P.index,P),P=P.sibling;return B}function u(P,B){return P=Ia(P,B),P.index=0,P.sibling=null,P}function h(P,B,I){return P.index=I,e?(I=P.alternate,I!==null?(I=I.index,I<B?(P.flags|=67108866,B):I):(P.flags|=67108866,B)):(P.flags|=1048576,B)}function b(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function k(P,B,I,se){return B===null||B.tag!==6?(B=Mc(I,P.mode,se),B.return=P,B):(B=u(B,I),B.return=P,B)}function C(P,B,I,se){var Ce=I.type;return Ce===J?ne(P,B,I.props.children,se,I.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===nt&&Ri(Ce)===B.type)?(B=u(B,I.props),Dl(B,I),B.return=P,B):(B=Yo(I.type,I.key,I.props,null,P.mode,se),Dl(B,I),B.return=P,B)}function X(P,B,I,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==I.containerInfo||B.stateNode.implementation!==I.implementation?(B=Uc(I,P.mode,se),B.return=P,B):(B=u(B,I.children||[]),B.return=P,B)}function ne(P,B,I,se,Ce){return B===null||B.tag!==7?(B=Ti(I,P.mode,se,Ce),B.return=P,B):(B=u(B,I),B.return=P,B)}function oe(P,B,I){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Mc(""+B,P.mode,I),B.return=P,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return I=Yo(B.type,B.key,B.props,null,P.mode,I),Dl(I,B),I.return=P,I;case $:return B=Uc(B,P.mode,I),B.return=P,B;case nt:return B=Ri(B),oe(P,B,I)}if(gn(B)||Lt(B))return B=Ti(B,P.mode,I,null),B.return=P,B;if(typeof B.then=="function")return oe(P,Zo(B),I);if(B.$$typeof===re)return oe(P,Xo(P,B),I);Fo(P,B)}return null}function W(P,B,I,se){var Ce=B!==null?B.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return Ce!==null?null:k(P,B,""+I,se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return I.key===Ce?C(P,B,I,se):null;case $:return I.key===Ce?X(P,B,I,se):null;case nt:return I=Ri(I),W(P,B,I,se)}if(gn(I)||Lt(I))return Ce!==null?null:ne(P,B,I,se,null);if(typeof I.then=="function")return W(P,B,Zo(I),se);if(I.$$typeof===re)return W(P,B,Xo(P,I),se);Fo(P,I)}return null}function Z(P,B,I,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return P=P.get(I)||null,k(B,P,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case R:return P=P.get(se.key===null?I:se.key)||null,C(B,P,se,Ce);case $:return P=P.get(se.key===null?I:se.key)||null,X(B,P,se,Ce);case nt:return se=Ri(se),Z(P,B,I,se,Ce)}if(gn(se)||Lt(se))return P=P.get(I)||null,ne(B,P,se,Ce,null);if(typeof se.then=="function")return Z(P,B,I,Zo(se),Ce);if(se.$$typeof===re)return Z(P,B,I,Xo(B,se),Ce);Fo(B,se)}return null}function Ee(P,B,I,se){for(var Ce=null,rt=null,Te=B,Ke=B=0,We=null;Te!==null&&Ke<I.length;Ke++){Te.index>Ke?(We=Te,Te=null):We=Te.sibling;var it=W(P,Te,I[Ke],se);if(it===null){Te===null&&(Te=We);break}e&&Te&&it.alternate===null&&t(P,Te),B=h(it,B,Ke),rt===null?Ce=it:rt.sibling=it,rt=it,Te=We}if(Ke===I.length)return a(P,Te),et&&Xa(P,Ke),Ce;if(Te===null){for(;Ke<I.length;Ke++)Te=oe(P,I[Ke],se),Te!==null&&(B=h(Te,B,Ke),rt===null?Ce=Te:rt.sibling=Te,rt=Te);return et&&Xa(P,Ke),Ce}for(Te=s(Te);Ke<I.length;Ke++)We=Z(Te,P,Ke,I[Ke],se),We!==null&&(e&&We.alternate!==null&&Te.delete(We.key===null?Ke:We.key),B=h(We,B,Ke),rt===null?Ce=We:rt.sibling=We,rt=We);return e&&Te.forEach(function(Wr){return t(P,Wr)}),et&&Xa(P,Ke),Ce}function Ne(P,B,I,se){if(I==null)throw Error(l(151));for(var Ce=null,rt=null,Te=B,Ke=B=0,We=null,it=I.next();Te!==null&&!it.done;Ke++,it=I.next()){Te.index>Ke?(We=Te,Te=null):We=Te.sibling;var Wr=W(P,Te,it.value,se);if(Wr===null){Te===null&&(Te=We);break}e&&Te&&Wr.alternate===null&&t(P,Te),B=h(Wr,B,Ke),rt===null?Ce=Wr:rt.sibling=Wr,rt=Wr,Te=We}if(it.done)return a(P,Te),et&&Xa(P,Ke),Ce;if(Te===null){for(;!it.done;Ke++,it=I.next())it=oe(P,it.value,se),it!==null&&(B=h(it,B,Ke),rt===null?Ce=it:rt.sibling=it,rt=it);return et&&Xa(P,Ke),Ce}for(Te=s(Te);!it.done;Ke++,it=I.next())it=Z(Te,P,Ke,it.value,se),it!==null&&(e&&it.alternate!==null&&Te.delete(it.key===null?Ke:it.key),B=h(it,B,Ke),rt===null?Ce=it:rt.sibling=it,rt=it);return e&&Te.forEach(function(j0){return t(P,j0)}),et&&Xa(P,Ke),Ce}function gt(P,B,I,se){if(typeof I=="object"&&I!==null&&I.type===J&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case R:e:{for(var Ce=I.key;B!==null;){if(B.key===Ce){if(Ce=I.type,Ce===J){if(B.tag===7){a(P,B.sibling),se=u(B,I.props.children),se.return=P,P=se;break e}}else if(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===nt&&Ri(Ce)===B.type){a(P,B.sibling),se=u(B,I.props),Dl(se,I),se.return=P,P=se;break e}a(P,B);break}else t(P,B);B=B.sibling}I.type===J?(se=Ti(I.props.children,P.mode,se,I.key),se.return=P,P=se):(se=Yo(I.type,I.key,I.props,null,P.mode,se),Dl(se,I),se.return=P,P=se)}return b(P);case $:e:{for(Ce=I.key;B!==null;){if(B.key===Ce)if(B.tag===4&&B.stateNode.containerInfo===I.containerInfo&&B.stateNode.implementation===I.implementation){a(P,B.sibling),se=u(B,I.children||[]),se.return=P,P=se;break e}else{a(P,B);break}else t(P,B);B=B.sibling}se=Uc(I,P.mode,se),se.return=P,P=se}return b(P);case nt:return I=Ri(I),gt(P,B,I,se)}if(gn(I))return Ee(P,B,I,se);if(Lt(I)){if(Ce=Lt(I),typeof Ce!="function")throw Error(l(150));return I=Ce.call(I),Ne(P,B,I,se)}if(typeof I.then=="function")return gt(P,B,Zo(I),se);if(I.$$typeof===re)return gt(P,B,Xo(P,I),se);Fo(P,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,B!==null&&B.tag===6?(a(P,B.sibling),se=u(B,I),se.return=P,P=se):(a(P,B),se=Mc(I,P.mode,se),se.return=P,P=se),b(P)):a(P,B)}return function(P,B,I,se){try{Nl=0;var Ce=gt(P,B,I,se);return xs=null,Ce}catch(Te){if(Te===ws||Te===Jo)throw Te;var rt=Nn(29,Te,null,P.mode);return rt.lanes=se,rt.return=P,rt}}}var Ni=Od(!0),jd=Od(!1),Mr=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(lt&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=Ar(e),Ta(e,null,a),t}return mt(e,s,t,a),Ar(e)}function Ml(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vt(e,a)}}function Qc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Jc=!1;function Ul(){if(Jc){var e=_s;if(e!==null)throw e}}function zl(e,t,a,s){Jc=!1;var u=e.updateQueue;Mr=!1;var h=u.firstBaseUpdate,b=u.lastBaseUpdate,k=u.shared.pending;if(k!==null){u.shared.pending=null;var C=k,X=C.next;C.next=null,b===null?h=X:b.next=X,b=C;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==b&&(k===null?ne.firstBaseUpdate=X:k.next=X,ne.lastBaseUpdate=C))}if(h!==null){var oe=u.baseState;b=0,ne=X=C=null,k=h;do{var W=k.lane&-536870913,Z=W!==k.lane;if(Z?(Je&W)===W:(s&W)===W){W!==0&&W===bs&&(Jc=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=e,Ne=k;W=t;var gt=a;switch(Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){oe=Ee.call(gt,oe,W);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,W=typeof Ee=="function"?Ee.call(gt,oe,W):Ee,W==null)break e;oe=T({},oe,W);break e;case 2:Mr=!0}}W=k.callback,W!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=u.callbacks,Z===null?u.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(X=ne=Z,C=oe):ne=ne.next=Z,b|=W;if(k=k.next,k===null){if(k=u.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,u.lastBaseUpdate=Z,u.shared.pending=null}}while(!0);ne===null&&(C=oe),u.baseState=C,u.firstBaseUpdate=X,u.lastBaseUpdate=ne,h===null&&(u.shared.lanes=0),$r|=b,e.lanes=b,e.memoizedState=oe}}function Ad(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Rd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ad(a[e],t)}var Ss=H(null),eu=H(0);function Cd(e,t){e=ir,ve(eu,e),ve(Ss,t),ir=e|t.baseLanes}function Wc(){ve(eu,ir),ve(Ss,Ss.current)}function Zc(){ir=eu.current,ie(Ss),ie(eu)}var Dn=H(null),Jn=null;function Lr(e){var t=e.alternate;ve(Ut,Ut.current&1),ve(Dn,e),Jn===null&&(t===null||Ss.current!==null||t.memoizedState!==null)&&(Jn=e)}function Fc(e){ve(Ut,Ut.current),ve(Dn,e),Jn===null&&(Jn=e)}function Nd(e){e.tag===22?(ve(Ut,Ut.current),ve(Dn,e),Jn===null&&(Jn=e)):Br()}function Br(){ve(Ut,Ut.current),ve(Dn,Dn.current)}function Mn(e){ie(Dn),Jn===e&&(Jn=null),ie(Ut)}var Ut=H(0);function tu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sh(a)||lh(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,$e=null,pt=null,Ht=null,nu=!1,Es=!1,Di=!1,au=0,Ll=0,Ts=null,vv=0;function At(){throw Error(l(321))}function ef(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!hn(e[a],t[a]))return!1;return!0}function tf(e,t,a,s,u,h){return Wa=h,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ee.H=e===null||e.memoizedState===null?pm:gf,Di=!1,h=a(s,u),Di=!1,Es&&(h=Md(t,a,s,u)),Dd(e),h}function Dd(e){ee.H=Hl;var t=pt!==null&&pt.next!==null;if(Wa=0,Ht=pt=$e=null,nu=!1,Ll=0,Ts=null,t)throw Error(l(300));e===null||$t||(e=e.dependencies,e!==null&&Io(e)&&($t=!0))}function Md(e,t,a,s){$e=e;var u=0;do{if(Es&&(Ts=null),Ll=0,Es=!1,25<=u)throw Error(l(301));if(u+=1,Ht=pt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}ee.H=ym,h=t(a,s)}while(Es);return h}function bv(){var e=ee.H,t=e.useState()[0];return t=typeof t.then=="function"?Bl(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&($e.flags|=1024),t}function nf(){var e=au!==0;return au=0,e}function af(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function rf(e){if(nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nu=!1}Wa=0,Ht=pt=$e=null,Es=!1,Ll=au=0,Ts=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?$e.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function zt(){if(pt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Ht===null?$e.memoizedState:Ht.next;if(t!==null)Ht=t,pt=e;else{if(e===null)throw $e.alternate===null?Error(l(467)):Error(l(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ht===null?$e.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var t=Ll;return Ll+=1,Ts===null&&(Ts=[]),e=Ed(Ts,e,t),t=$e,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,ee.H=t===null||t.memoizedState===null?pm:gf),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===re)return nn(e)}throw Error(l(438,String(e)))}function sf(e){var t=null,a=$e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=$e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ru(),$e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=pn;return t.index++,a}function Za(e,t){return typeof t=="function"?t(e):t}function su(e){var t=zt();return lf(t,pt,e)}function lf(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,h=s.pending;if(h!==null){if(u!==null){var b=u.next;u.next=h.next,h.next=b}t.baseQueue=u=h,s.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var k=b=null,C=null,X=t,ne=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Je&oe)===oe:(Wa&oe)===oe){var W=X.revertLane;if(W===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===bs&&(ne=!0);else if((Wa&W)===W){X=X.next,W===bs&&(ne=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(k=C=oe,b=h):C=C.next=oe,$e.lanes|=W,$r|=W;oe=X.action,Di&&a(h,oe),h=X.hasEagerState?X.eagerState:a(h,oe)}else W={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(k=C=W,b=h):C=C.next=W,$e.lanes|=oe,$r|=oe;X=X.next}while(X!==null&&X!==t);if(C===null?b=h:C.next=k,!hn(h,e.memoizedState)&&($t=!0,ne&&(a=_s,a!==null)))throw a;e.memoizedState=h,e.baseState=b,e.baseQueue=C,s.lastRenderedState=h}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function of(e){var t=zt(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var b=u=u.next;do h=e(h,b.action),b=b.next;while(b!==u);hn(h,t.memoizedState)||($t=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,s]}function Ud(e,t,a){var s=$e,u=zt(),h=et;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=t();var b=!hn((pt||u).memoizedState,a);if(b&&(u.memoizedState=a,$t=!0),u=u.queue,ff(Bd.bind(null,s,u,e),[e]),u.getSnapshot!==t||b||Ht!==null&&Ht.memoizedState.tag&1){if(s.flags|=2048,ks(9,{destroy:void 0},Ld.bind(null,s,u,a,t),null),bt===null)throw Error(l(349));h||(Wa&127)!==0||zd(s,t,a)}return a}function zd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$e.updateQueue,t===null?(t=ru(),$e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ld(e,t,a,s){t.value=a,t.getSnapshot=s,qd(t)&&Hd(e)}function Bd(e,t,a){return a(function(){qd(t)&&Hd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!hn(e,a)}catch{return!0}}function Hd(e){var t=ot(e,2);t!==null&&On(t,e,2)}function uf(e){var t=_n();if(typeof e=="function"){var a=e;if(e=a(),Di){Ft(!0);try{a()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},t}function $d(e,t,a,s){return e.baseState=a,lf(e,pt,typeof s=="function"?s:Za)}function _v(e,t,a,s,u){if(uu(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};ee.T!==null?a(!0):h.isTransition=!1,s(h),a=t.pending,a===null?(h.next=t.pending=h,Pd(t,h)):(h.next=a.next,t.pending=a.next=h)}}function Pd(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var h=ee.T,b={};ee.T=b;try{var k=a(u,s),C=ee.S;C!==null&&C(b,k),Kd(e,t,k)}catch(X){cf(e,t,X)}finally{h!==null&&b.types!==null&&(h.types=b.types),ee.T=h}}else try{h=a(u,s),Kd(e,t,h)}catch(X){cf(e,t,X)}}function Kd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Gd(e,t,s)},function(s){return cf(e,t,s)}):Gd(e,t,a)}function Gd(e,t,a){t.status="fulfilled",t.value=a,Yd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pd(e,a)))}function cf(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Yd(t),t=t.next;while(t!==s)}e.action=null}function Yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vd(e,t){return t}function Id(e,t){if(et){var a=bt.formState;if(a!==null){e:{var s=$e;if(et){if(Et){t:{for(var u=Et,h=Qn;u.nodeType!==8;){if(!h){u=null;break t}if(u=Wn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Et=Wn(u.nextSibling),s=u.data==="F!";break e}}Nr(s)}s=!1}s&&(t=a[0])}}return a=_n(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},a.queue=s,a=hm.bind(null,$e,s),s.dispatch=a,s=uf(!1),h=yf.bind(null,$e,!1,s.queue),s=_n(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=_v.bind(null,$e,u,h,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Xd(e){var t=zt();return Qd(t,pt,e)}function Qd(e,t,a){if(t=lf(e,t,Vd)[0],e=su(Za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Bl(t)}catch(b){throw b===ws?Jo:b}else s=t;t=zt();var u=t.queue,h=u.dispatch;return a!==t.memoizedState&&($e.flags|=2048,ks(9,{destroy:void 0},wv.bind(null,u,a),null)),[s,h,e]}function wv(e,t){e.action=t}function Jd(e){var t=zt(),a=pt;if(a!==null)return Qd(t,a,e);zt(),t=t.memoizedState,a=zt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ks(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=$e.updateQueue,t===null&&(t=ru(),$e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Wd(){return zt().memoizedState}function lu(e,t,a,s){var u=_n();$e.flags|=e,u.memoizedState=ks(1|t,{destroy:void 0},a,s===void 0?null:s)}function ou(e,t,a,s){var u=zt();s=s===void 0?null:s;var h=u.memoizedState.inst;pt!==null&&s!==null&&ef(s,pt.memoizedState.deps)?u.memoizedState=ks(t,h,a,s):($e.flags|=e,u.memoizedState=ks(1|t,h,a,s))}function Zd(e,t){lu(8390656,8,e,t)}function ff(e,t){ou(2048,8,e,t)}function xv(e){$e.flags|=4;var t=$e.updateQueue;if(t===null)t=ru(),$e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Fd(e){var t=zt().memoizedState;return xv({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function em(e,t){return ou(4,2,e,t)}function tm(e,t){return ou(4,4,e,t)}function nm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function am(e,t,a){a=a!=null?a.concat([e]):null,ou(4,4,nm.bind(null,t,e),a)}function hf(){}function rm(e,t){var a=zt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&ef(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function im(e,t){var a=zt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&ef(t,s[1]))return s[0];if(s=e(),Di){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,t],s}function df(e,t,a){return a===void 0||(Wa&1073741824)!==0&&(Je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=sp(),$e.lanes|=e,$r|=e,a)}function sm(e,t,a,s){return hn(a,t)?a:Ss.current!==null?(e=df(e,a,s),hn(e,t)||($t=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(Je&261930)===0?($t=!0,e.memoizedState=a):(e=sp(),$e.lanes|=e,$r|=e,t)}function lm(e,t,a,s,u){var h=ge.p;ge.p=h!==0&&8>h?h:8;var b=ee.T,k={};ee.T=k,yf(e,!1,t,a);try{var C=u(),X=ee.S;if(X!==null&&X(k,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ne=gv(C,s);ql(e,t,ne,Ln(e))}else ql(e,t,s,Ln(e))}catch(oe){ql(e,t,{then:function(){},status:"rejected",reason:oe},Ln())}finally{ge.p=h,b!==null&&k.types!==null&&(b.types=k.types),ee.T=b}}function Sv(){}function mf(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=om(e).queue;lm(e,u,t,Ae,a===null?Sv:function(){return um(e),a(s)})}function om(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:Ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function um(e){var t=om(e);t.next===null&&(t=e.alternate.memoizedState),ql(e,t.next.queue,{},Ln())}function pf(){return nn(no)}function cm(){return zt().memoizedState}function fm(){return zt().memoizedState}function Ev(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ln();e=Ur(a);var s=zr(t,e,a);s!==null&&(On(s,t,a),Ml(s,t,a)),t={cache:Kc()},e.payload=t;return}t=t.return}}function Tv(e,t,a){var s=Ln();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(e)?dm(t,a):(a=dn(e,t,a,s),a!==null&&(On(a,e,s),mm(a,t,s)))}function hm(e,t,a){var s=Ln();ql(e,t,a,s)}function ql(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(e))dm(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,k=h(b,a);if(u.hasEagerState=!0,u.eagerState=k,hn(k,b))return mt(e,t,u,0),bt===null&&Be(),!1}catch{}if(a=dn(e,t,u,s),a!==null)return On(a,e,s),mm(a,t,s),!0}return!1}function yf(e,t,a,s){if(s={lane:2,revertLane:Xf(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uu(e)){if(t)throw Error(l(479))}else t=dn(e,a,s,2),t!==null&&On(t,e,2)}function uu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function dm(e,t){Es=nu=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function mm(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,vt(e,a)}}var Hl={readContext:nn,use:iu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Hl.useEffectEvent=At;var pm={readContext:nn,use:iu,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Zd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,lu(4194308,4,nm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){lu(4,2,e,t)},useMemo:function(e,t){var a=_n();t=t===void 0?null:t;var s=e();if(Di){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=_n();if(a!==void 0){var u=a(t);if(Di){Ft(!0);try{a(t)}finally{Ft(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=Tv.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:function(e){e=uf(e);var t=e.queue,a=hm.bind(null,$e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:hf,useDeferredValue:function(e,t){var a=_n();return df(a,e,t)},useTransition:function(){var e=uf(!1);return e=lm.bind(null,$e,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=$e,u=_n();if(et){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),bt===null)throw Error(l(349));(Je&127)!==0||zd(s,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,Zd(Bd.bind(null,s,h,e),[e]),s.flags|=2048,ks(9,{destroy:void 0},Ld.bind(null,s,h,a,t),null),a},useId:function(){var e=_n(),t=bt.identifierPrefix;if(et){var a=Oa,s=ka;a=(s&~(1<<32-be(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=au++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=vv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pf,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=_n();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=yf.bind(null,$e,!0,a),a.dispatch=t,[e,t]},useMemoCache:sf,useCacheRefresh:function(){return _n().memoizedState=Ev.bind(null,$e)},useEffectEvent:function(e){var t=_n(),a={impl:e};return t.memoizedState=a,function(){if((lt&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},gf={readContext:nn,use:iu,useCallback:rm,useContext:nn,useEffect:ff,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:su,useRef:Wd,useState:function(){return su(Za)},useDebugValue:hf,useDeferredValue:function(e,t){var a=zt();return sm(a,pt.memoizedState,e,t)},useTransition:function(){var e=su(Za)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Ud,useId:cm,useHostTransitionStatus:pf,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var a=zt();return $d(a,pt,e,t)},useMemoCache:sf,useCacheRefresh:fm};gf.useEffectEvent=Fd;var ym={readContext:nn,use:iu,useCallback:rm,useContext:nn,useEffect:ff,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:im,useReducer:of,useRef:Wd,useState:function(){return of(Za)},useDebugValue:hf,useDeferredValue:function(e,t){var a=zt();return pt===null?df(a,e,t):sm(a,pt.memoizedState,e,t)},useTransition:function(){var e=of(Za)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Ud,useId:cm,useHostTransitionStatus:pf,useFormState:Jd,useActionState:Jd,useOptimistic:function(e,t){var a=zt();return pt!==null?$d(a,pt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:sf,useCacheRefresh:fm};ym.useEffectEvent=Fd;function vf(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:T({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bf={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ln(),u=Ur(s);u.payload=t,a!=null&&(u.callback=a),t=zr(e,u,s),t!==null&&(On(t,e,s),Ml(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ln(),u=Ur(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=zr(e,u,s),t!==null&&(On(t,e,s),Ml(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ln(),s=Ur(a);s.tag=2,t!=null&&(s.callback=t),t=zr(e,s,a),t!==null&&(On(t,e,a),Ml(t,e,a))}};function gm(e,t,a,s,u,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):t.prototype&&t.prototype.isPureReactComponent?!o(a,s)||!o(u,h):!0}function vm(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&bf.enqueueReplaceState(t,t.state,null)}function Mi(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=T({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function bm(e){xe(e)}function _m(e){console.error(e)}function wm(e){xe(e)}function cu(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xm(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function _f(e,t,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(e,t)},a}function Sm(e){return e=Ur(e),e.tag=3,e}function Em(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;e.payload=function(){return u(h)},e.callback=function(){xm(t,a,s)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){xm(t,a,s),typeof u!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var k=s.stack;this.componentDidCatch(s.value,{componentStack:k!==null?k:""})})}function kv(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&vs(t,a,u,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?xu():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===Wo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Yf(e,s,u)),!1;case 22:return a.flags|=65536,s===Wo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Yf(e,s,u)),!1}throw Error(l(435,a.tag))}return Yf(e,s,u),xu(),!1}if(et)return t=Dn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Bc&&(e=Error(l(422),{cause:s}),Al(Vn(e,a)))):(s!==Bc&&(t=Error(l(423),{cause:s}),Al(Vn(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Vn(s,a),u=_f(e.stateNode,s,u),Qc(e,u),Rt!==4&&(Rt=2)),!1;var h=Error(l(520),{cause:s});if(h=Vn(h,a),Xl===null?Xl=[h]:Xl.push(h),Rt!==4&&(Rt=2),t===null)return!0;s=Vn(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=_f(a.stateNode,s,e),Qc(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Pr===null||!Pr.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Sm(u),Em(u,e,a,s),Qc(a,u),!1}a=a.return}while(a!==null);return!1}var wf=Error(l(461)),$t=!1;function an(e,t,a,s){t.child=e===null?jd(t,null,a,s):Ni(t,e.child,a,s)}function Tm(e,t,a,s,u){a=a.render;var h=t.ref;if("ref"in s){var b={};for(var k in s)k!=="ref"&&(b[k]=s[k])}else b=s;return ji(t),s=tf(e,t,a,b,h,u),k=nf(),e!==null&&!$t?(af(e,t,u),Fa(e,t,u)):(et&&k&&zc(t),t.flags|=1,an(e,t,s,u),t.child)}function km(e,t,a,s,u){if(e===null){var h=a.type;return typeof h=="function"&&!Dc(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,Om(e,t,h,s,u)):(e=Yo(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Af(e,u)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(b,s)&&e.ref===t.ref)return Fa(e,t,u)}return t.flags|=1,e=Ia(h,s),e.ref=t.ref,e.return=t,t.child=e}function Om(e,t,a,s,u){if(e!==null){var h=e.memoizedProps;if(o(h,s)&&e.ref===t.ref)if($t=!1,t.pendingProps=s=h,Af(e,u))(e.flags&131072)!==0&&($t=!0);else return t.lanes=e.lanes,Fa(e,t,u)}return xf(e,t,a,s,u)}function jm(e,t,a,s){var u=s.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~h}else s=0,t.child=null;return Am(e,t,h,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qo(t,h!==null?h.cachePool:null),h!==null?Cd(t,h):Wc(),Nd(t);else return s=t.lanes=536870912,Am(e,t,h!==null?h.baseLanes|a:a,a,s)}else h!==null?(Qo(t,h.cachePool),Cd(t,h),Br(),t.memoizedState=null):(e!==null&&Qo(t,null),Wc(),Br());return an(e,t,u,a),t.child}function $l(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Am(e,t,a,s,u){var h=Yc();return h=h===null?null:{parent:qt._currentValue,pool:h},t.memoizedState={baseLanes:a,cachePool:h},e!==null&&Qo(t,null),Wc(),Nd(t),e!==null&&vs(e,t,s,!0),t.childLanes=u,null}function fu(e,t){return t=du({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rm(e,t,a){return Ni(t,e.child,null,a),e=fu(t,t.pendingProps),e.flags|=2,Mn(t),t.memoizedState=null,e}function Ov(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(et){if(s.mode==="hidden")return e=fu(t,s),t.lanes=536870912,$l(null,e);if(Fc(t),(e=Et)?(e=Pp(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:ka,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,tn=t,Et=null)):e=null,e===null)throw Nr(t);return t.lanes=536870912,null}return fu(t,s)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Fc(t),u)if(t.flags&256)t.flags&=-257,t=Rm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if($t||vs(e,t,a,!1),u=(a&e.childLanes)!==0,$t||u){if(s=bt,s!==null&&(b=Nt(s,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,ot(e,b),On(s,e,b),wf;xu(),t=Rm(e,t,a)}else e=h.treeContext,Et=Wn(b.nextSibling),tn=t,et=!0,Cr=null,Qn=!1,e!==null&&yd(t,e),t=fu(t,s),t.flags|=4096;return t}return e=Ia(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function xf(e,t,a,s,u){return ji(t),a=tf(e,t,a,s,void 0,u),s=nf(),e!==null&&!$t?(af(e,t,u),Fa(e,t,u)):(et&&s&&zc(t),t.flags|=1,an(e,t,a,u),t.child)}function Cm(e,t,a,s,u,h){return ji(t),t.updateQueue=null,a=Md(t,s,a,u),Dd(e),s=nf(),e!==null&&!$t?(af(e,t,h),Fa(e,t,h)):(et&&s&&zc(t),t.flags|=1,an(e,t,a,h),t.child)}function Nm(e,t,a,s,u){if(ji(t),t.stateNode===null){var h=ms,b=a.contextType;typeof b=="object"&&b!==null&&(h=nn(b)),h=new a(s,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=bf,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=s,h.state=t.memoizedState,h.refs={},Ic(t),b=a.contextType,h.context=typeof b=="object"&&b!==null?nn(b):ms,h.state=t.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(vf(t,a,b,s),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&bf.enqueueReplaceState(h,h.state,null),zl(t,s,h,u),Ul(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){h=t.stateNode;var k=t.memoizedProps,C=Mi(a,k);h.props=C;var X=h.context,ne=a.contextType;b=ms,typeof ne=="object"&&ne!==null&&(b=nn(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function",k=t.pendingProps!==k,ne||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(k||X!==b)&&vm(t,h,s,b),Mr=!1;var W=t.memoizedState;h.state=W,zl(t,s,h,u),Ul(),X=t.memoizedState,k||W!==X||Mr?(typeof oe=="function"&&(vf(t,a,oe,s),X=t.memoizedState),(C=Mr||gm(t,a,C,s,W,X,b))?(ne||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=X),h.props=s,h.state=X,h.context=b,s=C):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Xc(e,t),b=t.memoizedProps,ne=Mi(a,b),h.props=ne,oe=t.pendingProps,W=h.context,X=a.contextType,C=ms,typeof X=="object"&&X!==null&&(C=nn(X)),k=a.getDerivedStateFromProps,(X=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==oe||W!==C)&&vm(t,h,s,C),Mr=!1,W=t.memoizedState,h.state=W,zl(t,s,h,u),Ul();var Z=t.memoizedState;b!==oe||W!==Z||Mr||e!==null&&e.dependencies!==null&&Io(e.dependencies)?(typeof k=="function"&&(vf(t,a,k,s),Z=t.memoizedState),(ne=Mr||gm(t,a,ne,s,W,Z,C)||e!==null&&e.dependencies!==null&&Io(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Z,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Z,C)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Z),h.props=s,h.state=Z,h.context=C,s=ne):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),s=!1)}return h=s,hu(e,t),s=(t.flags&128)!==0,h||s?(h=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&s?(t.child=Ni(t,e.child,null,u),t.child=Ni(t,null,a,u)):an(e,t,a,u),t.memoizedState=h.state,e=t.child):e=Fa(e,t,u),e}function Dm(e,t,a,s){return ki(),t.flags|=256,an(e,t,a,s),t.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(e){return{baseLanes:e,cachePool:xd()}}function Tf(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=zn),e}function Mm(e,t,a){var s=t.pendingProps,u=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),b&&(u=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(et){if(u?Lr(t):Br(),(e=Et)?(e=Pp(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:ka,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},a=dd(e),a.return=t,t.child=a,tn=t,Et=null)):e=null,e===null)throw Nr(t);return lh(e)?t.lanes=32:t.lanes=536870912,null}var k=s.children;return s=s.fallback,u?(Br(),u=t.mode,k=du({mode:"hidden",children:k},u),s=Ti(s,u,a,null),k.return=t,s.return=t,k.sibling=s,t.child=k,s=t.child,s.memoizedState=Ef(a),s.childLanes=Tf(e,b,a),t.memoizedState=Sf,$l(null,s)):(Lr(t),kf(t,k))}var C=e.memoizedState;if(C!==null&&(k=C.dehydrated,k!==null)){if(h)t.flags&256?(Lr(t),t.flags&=-257,t=Of(e,t,a)):t.memoizedState!==null?(Br(),t.child=e.child,t.flags|=128,t=null):(Br(),k=s.fallback,u=t.mode,s=du({mode:"visible",children:s.children},u),k=Ti(k,u,a,null),k.flags|=2,s.return=t,k.return=t,s.sibling=k,t.child=s,Ni(t,e.child,null,a),s=t.child,s.memoizedState=Ef(a),s.childLanes=Tf(e,b,a),t.memoizedState=Sf,t=$l(null,s));else if(Lr(t),lh(k)){if(b=k.nextSibling&&k.nextSibling.dataset,b)var X=b.dgst;b=X,s=Error(l(419)),s.stack="",s.digest=b,Al({value:s,source:null,stack:null}),t=Of(e,t,a)}else if($t||vs(e,t,a,!1),b=(a&e.childLanes)!==0,$t||b){if(b=bt,b!==null&&(s=Nt(b,a),s!==0&&s!==C.retryLane))throw C.retryLane=s,ot(e,s),On(b,e,s),wf;sh(k)||xu(),t=Of(e,t,a)}else sh(k)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Et=Wn(k.nextSibling),tn=t,et=!0,Cr=null,Qn=!1,e!==null&&yd(t,e),t=kf(t,s.children),t.flags|=4096);return t}return u?(Br(),k=s.fallback,u=t.mode,C=e.child,X=C.sibling,s=Ia(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,X!==null?k=Ia(X,k):(k=Ti(k,u,a,null),k.flags|=2),k.return=t,s.return=t,s.sibling=k,t.child=s,$l(null,s),s=t.child,k=e.child.memoizedState,k===null?k=Ef(a):(u=k.cachePool,u!==null?(C=qt._currentValue,u=u.parent!==C?{parent:C,pool:C}:u):u=xd(),k={baseLanes:k.baseLanes|a,cachePool:u}),s.memoizedState=k,s.childLanes=Tf(e,b,a),t.memoizedState=Sf,$l(e.child,s)):(Lr(t),a=e.child,e=a.sibling,a=Ia(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=a,t.memoizedState=null,a)}function kf(e,t){return t=du({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function du(e,t){return e=Nn(22,e,null,t),e.lanes=0,e}function Of(e,t,a){return Ni(t,e.child,null,a),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Um(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),$c(e.return,t,a)}function jf(e,t,a,s,u,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:h}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=a,b.tailMode=u,b.treeForkCount=h)}function zm(e,t,a){var s=t.pendingProps,u=s.revealOrder,h=s.tail;s=s.children;var b=Ut.current,k=(b&2)!==0;if(k?(b=b&1|2,t.flags|=128):b&=1,ve(Ut,b),an(e,t,s,a),s=et?jl:0,!k&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Um(e,a,t);else if(e.tag===19)Um(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&tu(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),jf(t,!1,u,a,h,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&tu(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}jf(t,!0,a,null,h,s);break;case"together":jf(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(vs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Af(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Io(e)))}function jv(e,t,a){switch(t.tag){case 3:Gt(t,t.stateNode.containerInfo),Dr(t,qt,e.memoizedState.cache),ki();break;case 27:case 5:ke(t);break;case 4:Gt(t,t.stateNode.containerInfo);break;case 10:Dr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Lr(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mm(e,t,a):(Lr(t),e=Fa(e,t,a),e!==null?e.sibling:null);Lr(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(vs(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return zm(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ve(Ut,Ut.current),s)break;return null;case 22:return t.lanes=0,jm(e,t,a,t.pendingProps);case 24:Dr(t,qt,e.memoizedState.cache)}return Fa(e,t,a)}function Lm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!Af(e,a)&&(t.flags&128)===0)return $t=!1,jv(e,t,a);$t=(e.flags&131072)!==0}else $t=!1,et&&(t.flags&1048576)!==0&&pd(t,jl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ri(t.elementType),t.type=e,typeof e=="function")Dc(e)?(s=Mi(e,s),t.tag=1,t=Nm(null,t,e,s,a)):(t.tag=0,t=xf(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===_e){t.tag=11,t=Tm(null,t,e,s,a);break e}else if(u===pe){t.tag=14,t=km(null,t,e,s,a);break e}}throw t=ta(e)||e,Error(l(306,t,""))}}return t;case 0:return xf(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=Mi(s,t.pendingProps),Nm(e,t,s,u,a);case 3:e:{if(Gt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var h=t.memoizedState;u=h.element,Xc(e,t),zl(t,s,null,a);var b=t.memoizedState;if(s=b.cache,Dr(t,qt,s),s!==h.cache&&Pc(t,[qt],a,!0),Ul(),s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Dm(e,t,s,a);break e}else if(s!==u){u=Vn(Error(l(424)),t),Al(u),t=Dm(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Et=Wn(e.firstChild),tn=t,et=!0,Cr=null,Qn=!0,a=jd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ki(),s===u){t=Fa(e,t,a);break e}an(e,t,s,a)}t=t.child}return t;case 26:return hu(e,t),e===null?(a=Xp(t.type,null,t.pendingProps,null))?t.memoizedState=a:et||(a=t.type,e=t.pendingProps,s=Au(He.current).createElement(a),s[_t]=t,s[Dt]=e,rn(s,a,e),Mt(s),t.stateNode=s):t.memoizedState=Xp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&et&&(s=t.stateNode=Yp(t.type,t.pendingProps,He.current),tn=t,Qn=!0,u=Et,Vr(t.type)?(oh=u,Et=Wn(s.firstChild)):Et=u),an(e,t,t.pendingProps.children,a),hu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&et&&((u=s=Et)&&(s=r0(s,t.type,t.pendingProps,Qn),s!==null?(t.stateNode=s,tn=t,Et=Wn(s.firstChild),Qn=!1,u=!0):u=!1),u||Nr(t)),ke(t),u=t.type,h=t.pendingProps,b=e!==null?e.memoizedProps:null,s=h.children,ah(u,h)?s=null:b!==null&&ah(u,b)&&(t.flags|=32),t.memoizedState!==null&&(u=tf(e,t,bv,null,null,a),no._currentValue=u),hu(e,t),an(e,t,s,a),t.child;case 6:return e===null&&et&&((e=a=Et)&&(a=i0(a,t.pendingProps,Qn),a!==null?(t.stateNode=a,tn=t,Et=null,e=!0):e=!1),e||Nr(t)),null;case 13:return Mm(e,t,a);case 4:return Gt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ni(t,null,s,a):an(e,t,s,a),t.child;case 11:return Tm(e,t,t.type,t.pendingProps,a);case 7:return an(e,t,t.pendingProps,a),t.child;case 8:return an(e,t,t.pendingProps.children,a),t.child;case 12:return an(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Dr(t,t.type,s.value),an(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,ji(t),u=nn(u),s=s(u),t.flags|=1,an(e,t,s,a),t.child;case 14:return km(e,t,t.type,t.pendingProps,a);case 15:return Om(e,t,t.type,t.pendingProps,a);case 19:return zm(e,t,a);case 31:return Ov(e,t,a);case 22:return jm(e,t,a,t.pendingProps);case 24:return ji(t),s=nn(qt),e===null?(u=Yc(),u===null&&(u=bt,h=Kc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),t.memoizedState={parent:s,cache:u},Ic(t),Dr(t,qt,u)):((e.lanes&a)!==0&&(Xc(e,t),zl(t,null,null,a),Ul()),u=e.memoizedState,h=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Dr(t,qt,s)):(s=h.cache,Dr(t,qt,s),s!==u.cache&&Pc(t,[qt],a,!0))),an(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function er(e){e.flags|=4}function Rf(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(cp())e.flags|=8192;else throw Ci=Wo,Vc}else e.flags&=-16777217}function Bm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fp(t))if(cp())e.flags|=8192;else throw Ci=Wo,Vc}function mu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ro():536870912,e.lanes|=t,Rs|=t)}function Pl(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Av(e,t,a){var s=t.pendingProps;switch(Lc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ja(qt),jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gs(t)?er(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qc())),Tt(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(er(t),h!==null?(Tt(t),Bm(t,h)):(Tt(t),Rf(t,u,null,s,a))):h?h!==e.memoizedState?(er(t),Tt(t),Bm(t,h)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&er(t),Tt(t),Rf(t,u,e,s,a)),null;case 27:if(ti(t),a=He.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Tt(t),null}e=Se.current,gs(t)?gd(t):(e=Yp(u,s,a),t.stateNode=e,er(t))}return Tt(t),null;case 5:if(ti(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Tt(t),null}if(h=Se.current,gs(t))gd(t);else{var b=Au(He.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?b.createElement("select",{is:s.is}):b.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?b.createElement(u,{is:s.is}):b.createElement(u)}}h[_t]=t,h[Dt]=s;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=h;e:switch(rn(h,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&er(t)}}return Tt(t),Rf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=He.current,gs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=tn,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[_t]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Mp(e.nodeValue,a)),e||Nr(t,!0)}else e=Au(e).createTextNode(s),e[_t]=t,t.stateNode=e}return Tt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=gs(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[_t]=t}else ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else a=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Mn(t),t):(Mn(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=gs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[_t]=t}else ki(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Tt(t),u=!1}else u=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Mn(t),t):(Mn(t),null)}return Mn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),mu(t,t.updateQueue),Tt(t),null);case 4:return jt(),e===null&&Zf(t.stateNode.containerInfo),Tt(t),null;case 10:return Ja(t.type),Tt(t),null;case 19:if(ie(Ut),s=t.memoizedState,s===null)return Tt(t),null;if(u=(t.flags&128)!==0,h=s.rendering,h===null)if(u)Pl(s,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=tu(e),h!==null){for(t.flags|=128,Pl(s,!1),e=h.updateQueue,t.updateQueue=e,mu(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)hd(a,e),a=a.sibling;return ve(Ut,Ut.current&1|2),et&&Xa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&on()>bu&&(t.flags|=128,u=!0,Pl(s,!1),t.lanes=4194304)}else{if(!u)if(e=tu(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,mu(t,e),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!et)return Tt(t),null}else 2*on()-s.renderingStartTime>bu&&a!==536870912&&(t.flags|=128,u=!0,Pl(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(e=s.last,e!==null?e.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=on(),e.sibling=null,a=Ut.current,ve(Ut,u?a&1|2:a&1),et&&Xa(t,s.treeForkCount),e):(Tt(t),null);case 22:case 23:return Mn(t),Zc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),a=t.updateQueue,a!==null&&mu(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ie(Ai),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ja(qt),Tt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Rv(e,t){switch(Lc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(qt),jt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ti(t),null;case 31:if(t.memoizedState!==null){if(Mn(t),t.alternate===null)throw Error(l(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(Ut),null;case 4:return jt(),null;case 10:return Ja(t.type),null;case 22:case 23:return Mn(t),Zc(),e!==null&&ie(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ja(qt),null;case 25:return null;default:return null}}function qm(e,t){switch(Lc(t),t.tag){case 3:Ja(qt),jt();break;case 26:case 27:case 5:ti(t);break;case 4:jt();break;case 31:t.memoizedState!==null&&Mn(t);break;case 13:Mn(t);break;case 19:ie(Ut);break;case 10:Ja(t.type);break;case 22:case 23:Mn(t),Zc(),e!==null&&ie(Ai);break;case 24:Ja(qt)}}function Kl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var h=a.create,b=a.inst;s=h(),b.destroy=s}a=a.next}while(a!==u)}}catch(k){ft(t,t.return,k)}}function qr(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&e)===e){var b=s.inst,k=b.destroy;if(k!==void 0){b.destroy=void 0,u=t;var C=a,X=k;try{X()}catch(ne){ft(u,C,ne)}}}s=s.next}while(s!==h)}}catch(ne){ft(t,t.return,ne)}}function Hm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Rd(t,a)}catch(s){ft(e,e.return,s)}}}function $m(e,t,a){a.props=Mi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ft(e,t,s)}}function Gl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){ft(e,t,u)}}function ja(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){ft(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ft(e,t,u)}else a.current=null}function Pm(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){ft(e,e.return,u)}}function Cf(e,t,a){try{var s=e.stateNode;Zv(s,e.type,a,t),s[Dt]=t}catch(u){ft(e,e.return,u)}}function Km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=xn));else if(s!==4&&(s===27&&Vr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Df(e,t,a),e=e.sibling;e!==null;)Df(e,t,a),e=e.sibling}function pu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Vr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pu(e,t,a),e=e.sibling;e!==null;)pu(e,t,a),e=e.sibling}function Gm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);rn(t,s,a),t[_t]=e,t[Dt]=a}catch(h){ft(e,e.return,h)}}var tr=!1,Pt=!1,Mf=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Cv(e,t){if(e=e.containerInfo,th=zu,e=x(e),E(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,k=-1,C=-1,X=0,ne=0,oe=e,W=null;t:for(;;){for(var Z;oe!==a||u!==0&&oe.nodeType!==3||(k=b+u),oe!==h||s!==0&&oe.nodeType!==3||(C=b+s),oe.nodeType===3&&(b+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)W=oe,oe=Z;for(;;){if(oe===e)break t;if(W===a&&++X===u&&(k=b),W===h&&++ne===s&&(C=b),(Z=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=Z}a=k===-1||C===-1?null:{start:k,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:e,selectionRange:a},zu=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,u=h.memoizedProps,h=h.memoizedState,s=a.stateNode;try{var Ee=Mi(a.type,u);e=s.getSnapshotBeforeUpdate(Ee,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){ft(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ih(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ih(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function Vm(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ar(e,a),s&4&&Kl(5,a);break;case 1:if(ar(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(b){ft(a,a.return,b)}else{var u=Mi(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(a,a.return,b)}}s&64&&Hm(a),s&512&&Gl(a,a.return);break;case 3:if(ar(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Rd(e,t)}catch(b){ft(a,a.return,b)}}break;case 27:t===null&&s&4&&Gm(a);case 26:case 5:ar(e,a),t===null&&s&4&&Pm(a),s&512&&Gl(a,a.return);break;case 12:ar(e,a);break;case 31:ar(e,a),s&4&&Qm(e,a);break;case 13:ar(e,a),s&4&&Jm(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Hv.bind(null,a),s0(e,a))));break;case 22:if(s=a.memoizedState!==null||tr,!s){t=t!==null&&t.memoizedState!==null||Pt,u=tr;var h=Pt;tr=s,(Pt=t)&&!h?rr(e,a,(a.subtreeFlags&8772)!==0):ar(e,a),tr=u,Pt=h}break;case 30:break;default:ar(e,a)}}function Im(e){var t=e.alternate;t!==null&&(e.alternate=null,Im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,Sn=!1;function nr(e,t,a){for(a=a.child;a!==null;)Xm(e,t,a),a=a.sibling}function Xm(e,t,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:Pt||ja(a,t),nr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||ja(a,t);var s=kt,u=Sn;Vr(a.type)&&(kt=a.stateNode,Sn=!1),nr(e,t,a),Fl(a.stateNode),kt=s,Sn=u;break;case 5:Pt||ja(a,t);case 6:if(s=kt,u=Sn,kt=null,nr(e,t,a),kt=s,Sn=u,kt!==null)if(Sn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(a.stateNode)}catch(h){ft(a,t,h)}else try{kt.removeChild(a.stateNode)}catch(h){ft(a,t,h)}break;case 18:kt!==null&&(Sn?(e=kt,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Bs(e)):Hp(kt,a.stateNode));break;case 4:s=kt,u=Sn,kt=a.stateNode.containerInfo,Sn=!0,nr(e,t,a),kt=s,Sn=u;break;case 0:case 11:case 14:case 15:qr(2,a,t),Pt||qr(4,a,t),nr(e,t,a);break;case 1:Pt||(ja(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&$m(a,t,s)),nr(e,t,a);break;case 21:nr(e,t,a);break;case 22:Pt=(s=Pt)||a.memoizedState!==null,nr(e,t,a),Pt=s;break;default:nr(e,t,a)}}function Qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bs(e)}catch(a){ft(t,t.return,a)}}}function Jm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bs(e)}catch(a){ft(t,t.return,a)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ym),t;default:throw Error(l(435,e.tag))}}function yu(e,t){var a=Nv(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=$v.bind(null,e,s);s.then(u,u)}})}function En(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],h=e,b=t,k=b;e:for(;k!==null;){switch(k.tag){case 27:if(Vr(k.type)){kt=k.stateNode,Sn=!1;break e}break;case 5:kt=k.stateNode,Sn=!1;break e;case 3:case 4:kt=k.stateNode.containerInfo,Sn=!0;break e}k=k.return}if(kt===null)throw Error(l(160));Xm(h,b,u),kt=null,Sn=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wm(t,e),t=t.sibling}var la=null;function Wm(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(t,e),Tn(e),s&4&&(qr(3,e,e.return),Kl(3,e),qr(5,e,e.return));break;case 1:En(t,e),Tn(e),s&512&&(Pt||a===null||ja(a,a.return)),s&64&&tr&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=la;if(En(t,e),Tn(e),s&512&&(Pt||a===null||ja(a,a.return)),s&4){var h=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":h=u.getElementsByTagName("title")[0],(!h||h[An]||h[_t]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(s),u.head.insertBefore(h,u.querySelector("head > title"))),rn(h,s,a),h[_t]=e,Mt(h),s=h;break e;case"link":var b=Wp("link","href",u).get(s+(a.href||""));if(b){for(var k=0;k<b.length;k++)if(h=b[k],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(k,1);break t}}h=u.createElement(s),rn(h,s,a),u.head.appendChild(h);break;case"meta":if(b=Wp("meta","content",u).get(s+(a.content||""))){for(k=0;k<b.length;k++)if(h=b[k],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(k,1);break t}}h=u.createElement(s),rn(h,s,a),u.head.appendChild(h);break;default:throw Error(l(468,s))}h[_t]=e,Mt(h),s=h}e.stateNode=s}else Zp(u,e.type,e.stateNode);else e.stateNode=Jp(u,s,e.memoizedProps);else h!==s?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,s===null?Zp(u,e.type,e.stateNode):Jp(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,a.memoizedProps)}break;case 27:En(t,e),Tn(e),s&512&&(Pt||a===null||ja(a,a.return)),a!==null&&s&4&&Cf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(En(t,e),Tn(e),s&512&&(Pt||a===null||ja(a,a.return)),e.flags&32){u=e.stateNode;try{La(u,"")}catch(Ee){ft(e,e.return,Ee)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Cf(e,u,a!==null?a.memoizedProps:u)),s&1024&&(Mf=!0);break;case 6:if(En(t,e),Tn(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Ee){ft(e,e.return,Ee)}}break;case 3:if(Nu=null,u=la,la=Ru(t.containerInfo),En(t,e),la=u,Tn(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(Ee){ft(e,e.return,Ee)}Mf&&(Mf=!1,Zm(e));break;case 4:s=la,la=Ru(e.stateNode.containerInfo),En(t,e),Tn(e),la=s;break;case 12:En(t,e),Tn(e);break;case 31:En(t,e),Tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 13:En(t,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vu=on()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 22:u=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,X=tr,ne=Pt;if(tr=X||u,Pt=ne||C,En(t,e),Pt=ne,tr=X,Tn(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||C||tr||Pt||Ui(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(h=C.stateNode,u)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{k=C.stateNode;var oe=C.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;k.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ee){ft(C,C.return,Ee)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=u?"":C.memoizedProps}catch(Ee){ft(C,C.return,Ee)}}}else if(t.tag===18){if(a===null){C=t;try{var Z=C.stateNode;u?$p(Z,!0):$p(C.stateNode,!1)}catch(Ee){ft(C,C.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,yu(e,a))));break;case 19:En(t,e),Tn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 30:break;case 21:break;default:En(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Km(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,h=Nf(e);pu(e,h,u);break;case 5:var b=a.stateNode;a.flags&32&&(La(b,""),a.flags&=-33);var k=Nf(e);pu(e,k,b);break;case 3:case 4:var C=a.stateNode.containerInfo,X=Nf(e);Df(e,X,C);break;default:throw Error(l(161))}}catch(ne){ft(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ar(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vm(e,t.alternate,t),t=t.sibling}function Ui(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qr(4,t,t.return),Ui(t);break;case 1:ja(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$m(t,t.return,a),Ui(t);break;case 27:Fl(t.stateNode);case 26:case 5:ja(t,t.return),Ui(t);break;case 22:t.memoizedState===null&&Ui(t);break;case 30:Ui(t);break;default:Ui(t)}e=e.sibling}}function rr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,h=t,b=h.flags;switch(h.tag){case 0:case 11:case 15:rr(u,h,a),Kl(4,h);break;case 1:if(rr(u,h,a),s=h,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){ft(s,s.return,X)}if(s=h,u=s.updateQueue,u!==null){var k=s.stateNode;try{var C=u.shared.hiddenCallbacks;if(C!==null)for(u.shared.hiddenCallbacks=null,u=0;u<C.length;u++)Ad(C[u],k)}catch(X){ft(s,s.return,X)}}a&&b&64&&Hm(h),Gl(h,h.return);break;case 27:Gm(h);case 26:case 5:rr(u,h,a),a&&s===null&&b&4&&Pm(h),Gl(h,h.return);break;case 12:rr(u,h,a);break;case 31:rr(u,h,a),a&&b&4&&Qm(u,h);break;case 13:rr(u,h,a),a&&b&4&&Jm(u,h);break;case 22:h.memoizedState===null&&rr(u,h,a),Gl(h,h.return);break;case 30:break;default:rr(u,h,a)}t=t.sibling}}function Uf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Rl(a))}function zf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e))}function oa(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fm(e,t,a,s),t=t.sibling}function Fm(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:oa(e,t,a,s),u&2048&&Kl(9,t);break;case 1:oa(e,t,a,s);break;case 3:oa(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e)));break;case 12:if(u&2048){oa(e,t,a,s),e=t.stateNode;try{var h=t.memoizedProps,b=h.id,k=h.onPostCommit;typeof k=="function"&&k(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ft(t,t.return,C)}}else oa(e,t,a,s);break;case 31:oa(e,t,a,s);break;case 13:oa(e,t,a,s);break;case 23:break;case 22:h=t.stateNode,b=t.alternate,t.memoizedState!==null?h._visibility&2?oa(e,t,a,s):Yl(e,t):h._visibility&2?oa(e,t,a,s):(h._visibility|=2,Os(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Uf(b,t);break;case 24:oa(e,t,a,s),u&2048&&zf(t.alternate,t);break;default:oa(e,t,a,s)}}function Os(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,b=t,k=a,C=s,X=b.flags;switch(b.tag){case 0:case 11:case 15:Os(h,b,k,C,u),Kl(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?Os(h,b,k,C,u):Yl(h,b):(ne._visibility|=2,Os(h,b,k,C,u)),u&&X&2048&&Uf(b.alternate,b);break;case 24:Os(h,b,k,C,u),u&&X&2048&&zf(b.alternate,b);break;default:Os(h,b,k,C,u)}t=t.sibling}}function Yl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:Yl(a,s),u&2048&&Uf(s.alternate,s);break;case 24:Yl(a,s),u&2048&&zf(s.alternate,s);break;default:Yl(a,s)}t=t.sibling}}var Vl=8192;function js(e,t,a){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)ep(e,t,a),e=e.sibling}function ep(e,t,a){switch(e.tag){case 26:js(e,t,a),e.flags&Vl&&e.memoizedState!==null&&v0(a,la,e.memoizedState,e.memoizedProps);break;case 5:js(e,t,a);break;case 3:case 4:var s=la;la=Ru(e.stateNode.containerInfo),js(e,t,a),la=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,js(e,t,a),Vl=s):js(e,t,a));break;default:js(e,t,a)}}function tp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Il(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Jt=s,ap(s,e)}tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)np(e),e=e.sibling}function np(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&qr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gu(e)):Il(e);break;default:Il(e)}}function gu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Jt=s,ap(s,e)}tp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qr(8,t,t.return),gu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,gu(t));break;default:gu(t)}e=e.sibling}}function ap(e,t){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:qr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Jt=s;else e:for(a=e;Jt!==null;){s=Jt;var u=s.sibling,h=s.return;if(Im(s),s===a){Jt=null;break e}if(u!==null){u.return=h,Jt=u;break e}Jt=h}}}var Dv={getCacheForType:function(e){var t=nn(qt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return nn(qt).controller.signal}},Mv=typeof WeakMap=="function"?WeakMap:Map,lt=0,bt=null,Xe=null,Je=0,ct=0,Un=null,Hr=!1,As=!1,Lf=!1,ir=0,Rt=0,$r=0,zi=0,Bf=0,zn=0,Rs=0,Xl=null,kn=null,qf=!1,vu=0,rp=0,bu=1/0,_u=null,Pr=null,Yt=0,Kr=null,Cs=null,sr=0,Hf=0,$f=null,ip=null,Ql=0,Pf=null;function Ln(){return(lt&2)!==0&&Je!==0?Je&-Je:ee.T!==null?Xf():ci()}function sp(){if(zn===0)if((Je&536870912)===0||et){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),zn=e}else zn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),zn}function On(e,t,a){(e===bt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),Gr(e,Je,zn,!1)),$n(e,a),((lt&2)===0||e!==bt)&&(e===bt&&((lt&2)===0&&(zi|=a),Rt===4&&Gr(e,Je,zn,!1)),Aa(e))}function lp(e,t,a){if((lt&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ma(e,t),u=s?Lv(e,t):Gf(e,t,!0),h=s;do{if(u===0){As&&!s&&Gr(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!Uv(a)){u=Gf(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var k=e;u=Xl;var C=k.current.memoizedState.isDehydrated;if(C&&(Ns(k,b).flags|=256),b=Gf(k,b,!1),b!==2){if(Lf&&!C){k.errorRecoveryDisabledLanes|=h,zi|=h,u=4;break e}h=kn,kn=u,h!==null&&(kn===null?kn=h:kn.push.apply(kn,h))}u=b}if(h=!1,u!==2)continue}}if(u===1){Ns(e,0),Gr(e,t,0,!0);break}e:{switch(s=e,h=u,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Gr(s,t,zn,!Hr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=vu+300-on(),10<u)){if(Gr(s,t,zn,!Hr),oi(s,0,!0)!==0)break e;sr=t,s.timeoutHandle=Bp(op.bind(null,s,a,kn,_u,qf,t,zn,zi,Rs,Hr,h,"Throttled",-0,0),u);break e}op(s,a,kn,_u,qf,t,zn,zi,Rs,Hr,h,null,-0,0)}}break}while(!0);Aa(e)}function op(e,t,a,s,u,h,b,k,C,X,ne,oe,W,Z){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},ep(t,h,oe);var Ee=(h&62914560)===h?vu-on():(h&4194048)===h?rp-on():0;if(Ee=b0(oe,Ee),Ee!==null){sr=h,e.cancelPendingCommit=Ee(yp.bind(null,e,t,h,a,s,u,b,k,C,ne,oe,null,W,Z)),Gr(e,h,b,!X);return}}yp(e,t,h,a,s,u,b,k,C)}function Uv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],h=u.getSnapshot;u=u.value;try{if(!hn(h(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t,a,s){t&=~Bf,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var h=31-be(u),b=1<<h;s[h]=-1,u&=~b}a!==0&&ui(e,a,t)}function wu(){return(lt&6)===0?(Jl(0),!1):!0}function Kf(){if(Xe!==null){if(ct===0)var e=Xe.return;else e=Xe,Qa=Oi=null,rf(e),xs=null,Nl=0,e=Xe;for(;e!==null;)qm(e.alternate,e),e=e.return;Xe=null}}function Ns(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,t0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sr=0,Kf(),bt=e,Xe=a=Ia(e.current,null),Je=t,ct=0,Un=null,Hr=!1,As=Ma(e,t),Lf=!1,Rs=zn=Bf=zi=$r=Rt=0,kn=Xl=null,qf=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-be(s),h=1<<u;t|=e[u],s&=~h}return ir=t,Be(),a}function up(e,t){$e=null,ee.H=Hl,t===ws||t===Jo?(t=Td(),ct=3):t===Vc?(t=Td(),ct=4):ct=t===wf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Un=t,Xe===null&&(Rt=1,cu(e,Vn(t,e.current)))}function cp(){var e=Dn.current;return e===null?!0:(Je&4194048)===Je?Jn===null:(Je&62914560)===Je||(Je&536870912)!==0?e===Jn:!1}function fp(){var e=ee.H;return ee.H=Hl,e===null?Hl:e}function hp(){var e=ee.A;return ee.A=Dv,e}function xu(){Rt=4,Hr||(Je&4194048)!==Je&&Dn.current!==null||(As=!0),($r&134217727)===0&&(zi&134217727)===0||bt===null||Gr(bt,Je,zn,!1)}function Gf(e,t,a){var s=lt;lt|=2;var u=fp(),h=hp();(bt!==e||Je!==t)&&(_u=null,Ns(e,t)),t=!1;var b=Rt;e:do try{if(ct!==0&&Xe!==null){var k=Xe,C=Un;switch(ct){case 8:Kf(),b=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(t=!0);var X=ct;if(ct=0,Un=null,Ds(e,k,C,X),a&&As){b=0;break e}break;default:X=ct,ct=0,Un=null,Ds(e,k,C,X)}}zv(),b=Rt;break}catch(ne){up(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Qa=Oi=null,lt=s,ee.H=u,ee.A=h,Xe===null&&(bt=null,Je=0,Be()),b}function zv(){for(;Xe!==null;)dp(Xe)}function Lv(e,t){var a=lt;lt|=2;var s=fp(),u=hp();bt!==e||Je!==t?(_u=null,bu=on()+500,Ns(e,t)):As=Ma(e,t);e:do try{if(ct!==0&&Xe!==null){t=Xe;var h=Un;t:switch(ct){case 1:ct=0,Un=null,Ds(e,t,h,1);break;case 2:case 9:if(Sd(h)){ct=0,Un=null,mp(t);break}t=function(){ct!==2&&ct!==9||bt!==e||(ct=7),Aa(e)},h.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Sd(h)?(ct=0,Un=null,mp(t)):(ct=0,Un=null,Ds(e,t,h,7));break;case 5:var b=null;switch(Xe.tag){case 26:b=Xe.memoizedState;case 5:case 27:var k=Xe;if(b?Fp(b):k.stateNode.complete){ct=0,Un=null;var C=k.sibling;if(C!==null)Xe=C;else{var X=k.return;X!==null?(Xe=X,Su(X)):Xe=null}break t}}ct=0,Un=null,Ds(e,t,h,5);break;case 6:ct=0,Un=null,Ds(e,t,h,6);break;case 8:Kf(),Rt=6;break e;default:throw Error(l(462))}}Bv();break}catch(ne){up(e,ne)}while(!0);return Qa=Oi=null,ee.H=s,ee.A=u,lt=a,Xe!==null?0:(bt=null,Je=0,Be(),Rt)}function Bv(){for(;Xe!==null&&!Ao();)dp(Xe)}function dp(e){var t=Lm(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?Su(e):Xe=t}function mp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cm(a,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=Cm(a,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:rf(t);default:qm(a,t),t=Xe=hd(t,ir),t=Lm(a,t,ir)}e.memoizedProps=e.pendingProps,t===null?Su(e):Xe=t}function Ds(e,t,a,s){Qa=Oi=null,rf(t),xs=null,Nl=0;var u=t.return;try{if(kv(e,u,t,a,Je)){Rt=1,cu(e,Vn(a,e.current)),Xe=null;return}}catch(h){if(u!==null)throw Xe=u,h;Rt=1,cu(e,Vn(a,e.current)),Xe=null;return}t.flags&32768?(et||s===1?e=!0:As||(Je&536870912)!==0?e=!1:(Hr=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dn.current,s!==null&&s.tag===13&&(s.flags|=16384))),pp(t,e)):Su(t)}function Su(e){var t=e;do{if((t.flags&32768)!==0){pp(t,Hr);return}e=t.return;var a=Av(t.alternate,t,ir);if(a!==null){Xe=a;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);Rt===0&&(Rt=5)}function pp(e,t){do{var a=Rv(e.alternate,e);if(a!==null){a.flags&=32767,Xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Xe=e;return}Xe=e=a}while(e!==null);Rt=6,Xe=null}function yp(e,t,a,s,u,h,b,k,C){e.cancelPendingCommit=null;do Eu();while(Yt!==0);if((lt&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Re,sl(e,a,h,b,k,C),e===bt&&(Xe=bt=null,Je=0),Cs=t,Kr=e,sr=a,Hf=h,$f=u,ip=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pv(pr,function(){return wp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null,u=ge.p,ge.p=2,b=lt,lt|=4;try{Cv(e,t,a)}finally{lt=b,ge.p=u,ee.T=s}}Yt=1,gp(),vp(),bp()}}function gp(){if(Yt===1){Yt=0;var e=Kr,t=Cs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var s=ge.p;ge.p=2;var u=lt;lt|=4;try{Wm(t,e);var h=nh,b=x(e.containerInfo),k=h.focusedElem,C=h.selectionRange;if(b!==k&&k&&k.ownerDocument&&g(k.ownerDocument.documentElement,k)){if(C!==null&&E(k)){var X=C.start,ne=C.end;if(ne===void 0&&(ne=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ne,k.value.length);else{var oe=k.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Ee=k.textContent.length,Ne=Math.min(C.start,Ee),gt=C.end===void 0?Ne:Math.min(C.end,Ee);!Z.extend&&Ne>gt&&(b=gt,gt=Ne,Ne=b);var P=p(k,Ne),B=p(k,gt);if(P&&B&&(Z.rangeCount!==1||Z.anchorNode!==P.node||Z.anchorOffset!==P.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var I=oe.createRange();I.setStart(P.node,P.offset),Z.removeAllRanges(),Ne>gt?(Z.addRange(I),Z.extend(B.node,B.offset)):(I.setEnd(B.node,B.offset),Z.addRange(I))}}}}for(oe=[],Z=k;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<oe.length;k++){var se=oe[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}zu=!!th,nh=th=null}finally{lt=u,ge.p=s,ee.T=a}}e.current=t,Yt=2}}function vp(){if(Yt===2){Yt=0;var e=Kr,t=Cs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var s=ge.p;ge.p=2;var u=lt;lt|=4;try{Vm(e,t.alternate,t)}finally{lt=u,ge.p=s,ee.T=a}}Yt=3}}function bp(){if(Yt===4||Yt===3){Yt=0,ai();var e=Kr,t=Cs,a=sr,s=ip;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Yt=5:(Yt=0,Cs=Kr=null,_p(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Pr=null),gr(a),t=t.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ee.T,u=ge.p,ge.p=2,ee.T=null;try{for(var h=e.onRecoverableError,b=0;b<s.length;b++){var k=s[b];h(k.value,{componentStack:k.stack})}}finally{ee.T=t,ge.p=u}}(sr&3)!==0&&Eu(),Aa(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Pf?Ql++:(Ql=0,Pf=e):Ql=0,Jl(0)}}function _p(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rl(t)))}function Eu(){return gp(),vp(),bp(),wp()}function wp(){if(Yt!==5)return!1;var e=Kr,t=Hf;Hf=0;var a=gr(sr),s=ee.T,u=ge.p;try{ge.p=32>a?32:a,ee.T=null,a=$f,$f=null;var h=Kr,b=sr;if(Yt=0,Cs=Kr=null,sr=0,(lt&6)!==0)throw Error(l(331));var k=lt;if(lt|=4,np(h.current),Fm(h,h.current,b,a),lt=k,Jl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pa,h)}catch{}return!0}finally{ge.p=u,ee.T=s,_p(e,t)}}function xp(e,t,a){t=Vn(a,t),t=_f(e.stateNode,t,2),e=zr(e,t,2),e!==null&&($n(e,2),Aa(e))}function ft(e,t,a){if(e.tag===3)xp(e,e,a);else for(;t!==null;){if(t.tag===3){xp(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pr===null||!Pr.has(s))){e=Vn(a,e),a=Sm(2),s=zr(t,a,2),s!==null&&(Em(a,s,t,e),$n(s,2),Aa(s));break}}t=t.return}}function Yf(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Mv;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(Lf=!0,u.add(a),e=qv.bind(null,e,t,a),t.then(e,e))}function qv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,bt===e&&(Je&a)===a&&(Rt===4||Rt===3&&(Je&62914560)===Je&&300>on()-vu?(lt&2)===0&&Ns(e,0):Bf|=a,Rs===Je&&(Rs=0)),Aa(e)}function Sp(e,t){t===0&&(t=Ro()),e=ot(e,t),e!==null&&($n(e,t),Aa(e))}function Hv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Sp(e,a)}function $v(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Sp(e,a)}function Pv(e,t){return ni(e,t)}var Tu=null,Ms=null,Vf=!1,ku=!1,If=!1,Yr=0;function Aa(e){e!==Ms&&e.next===null&&(Ms===null?Tu=Ms=e:Ms=Ms.next=e),ku=!0,Vf||(Vf=!0,Gv())}function Jl(e,t){if(!If&&ku){If=!0;do for(var a=!1,s=Tu;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var h=0;else{var b=s.suspendedLanes,k=s.pingedLanes;h=(1<<31-be(42|e)+1)-1,h&=u&~(b&~k),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Op(s,h))}else h=Je,h=oi(s,s===bt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Ma(s,h)||(a=!0,Op(s,h));s=s.next}while(a);If=!1}}function Kv(){Ep()}function Ep(){ku=Vf=!1;var e=0;Yr!==0&&e0()&&(e=Yr);for(var t=on(),a=null,s=Tu;s!==null;){var u=s.next,h=Tp(s,t);h===0?(s.next=null,a===null?Tu=u:a.next=u,u===null&&(Ms=a)):(a=s,(e!==0||(h&3)!==0)&&(ku=!0)),s=u}Yt!==0&&Yt!==5||Jl(e),Yr!==0&&(Yr=0)}function Tp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-be(h),k=1<<b,C=u[b];C===-1?((k&a)===0||(k&s)!==0)&&(u[b]=Ec(k,t)):C<=t&&(e.expiredLanes|=k),h&=~k}if(t=bt,a=Je,a=oi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&wn(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ma(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&wn(s),gr(a)){case 2:case 8:a=ma;break;case 32:a=pr;break;case 268435456:a=Yi;break;default:a=pr}return s=kp.bind(null,e),a=ni(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&wn(s),e.callbackPriority=2,e.callbackNode=null,2}function kp(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Eu()&&e.callbackNode!==a)return null;var s=Je;return s=oi(e,e===bt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(lp(e,s,t),Tp(e,on()),e.callbackNode!=null&&e.callbackNode===a?kp.bind(null,e):null)}function Op(e,t){if(Eu())return null;lp(e,t,!0)}function Gv(){n0(function(){(lt&6)!==0?ni(un,Kv):Ep()})}function Xf(){if(Yr===0){var e=bs;e===0&&(e=me,me<<=1,(me&261888)===0&&(me=256)),Yr=e}return Yr}function jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Ap(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Yv(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var h=jp((u[Dt]||null).action),b=s.submitter;b&&(t=(t=b[Dt]||null)?jp(t.formAction):b.getAttribute("formAction"),t!==null&&(h=t,b=null));var k=new Fi("action","action",null,s,u);e.push({event:k,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yr!==0){var C=b?Ap(u,b):new FormData(u);mf(a,{pending:!0,data:C,method:u.method,action:h},null,C)}}else typeof h=="function"&&(k.preventDefault(),C=b?Ap(u,b):new FormData(u),mf(a,{pending:!0,data:C,method:u.method,action:h},h,C))},currentTarget:u}]})}}for(var Qf=0;Qf<ye.length;Qf++){var Jf=ye[Qf],Vv=Jf.toLowerCase(),Iv=Jf[0].toUpperCase()+Jf.slice(1);fe(Vv,"on"+Iv)}fe(Q,"onAnimationEnd"),fe(G,"onAnimationIteration"),fe(te,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(ue,"onTransitionRun"),fe(he,"onTransitionStart"),fe(de,"onTransitionCancel"),fe(ce,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Rp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var b=s.length-1;0<=b;b--){var k=s[b],C=k.instance,X=k.currentTarget;if(k=k.listener,C!==h&&u.isPropagationStopped())break e;h=k,u.currentTarget=X;try{h(u)}catch(ne){xe(ne)}u.currentTarget=null,h=C}else for(b=0;b<s.length;b++){if(k=s[b],C=k.instance,X=k.currentTarget,k=k.listener,C!==h&&u.isPropagationStopped())break e;h=k,u.currentTarget=X;try{h(u)}catch(ne){xe(ne)}u.currentTarget=null,h=C}}}}function Qe(e,t){var a=t[vr];a===void 0&&(a=t[vr]=new Set);var s=e+"__bubble";a.has(s)||(Cp(t,e,2,!1),a.add(s))}function Wf(e,t,a){var s=0;t&&(s|=4),Cp(a,e,s,t)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[Ou]){e[Ou]=!0,Ua.forEach(function(a){a!=="selectionchange"&&(Xv.has(a)||Wf(a,!1,e),Wf(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ou]||(t[Ou]=!0,Wf("selectionchange",!1,t))}}function Cp(e,t,a,s){switch(sy(t)){case 2:var u=x0;break;case 8:u=S0;break;default:u=dh}a=u.bind(null,t,a,e),u=void 0,!ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Ff(e,t,a,s,u){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var k=s.stateNode.containerInfo;if(k===u)break;if(b===4)for(b=s.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;k!==null;){if(b=ba(k),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){s=h=b;continue e}k=k.parentNode}}s=s.return}_r(function(){var X=h,ne=Wi(a),oe=[];e:{var W=we.get(e);if(W!==void 0){var Z=Fi,Ee=e;switch(e){case"keypress":if(Sr(a)===0)break e;case"keydown":case"keyup":Z=ss;break;case"focusin":Ee="focus",Z=Er;break;case"focusout":Ee="blur",Z=Er;break;case"beforeblur":case"afterblur":Z=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=wl;break;case Q:case G:case te:Z=Uo;break;case ce:Z=xl;break;case"scroll":case"scrollend":Z=es;break;case"wheel":Z=os;break;case"copy":case"cut":case"paste":Z=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=_l;break;case"toggle":case"beforetoggle":Z=Bo}var Ne=(t&4)!==0,gt=!Ne&&(e==="scroll"||e==="scrollend"),P=Ne?W!==null?W+"Capture":null:W;Ne=[];for(var B=X,I;B!==null;){var se=B;if(I=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||I===null||P===null||(se=Ha(B,P),se!=null&&Ne.push(Zl(B,se,I))),gt)break;B=B.return}0<Ne.length&&(W=new Z(W,Ee,null,a,ne),oe.push({event:W,listeners:Ne}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",W&&a!==Kn&&(Ee=a.relatedTarget||a.fromElement)&&(ba(Ee)||Ee[vn]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Ee=a.relatedTarget||a.toElement,Z=X,Ee=Ee?ba(Ee):null,Ee!==null&&(gt=f(Ee),Ne=Ee.tag,Ee!==gt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ee=null)):(Z=null,Ee=X),Z!==Ee)){if(Ne=ns,se="onMouseLeave",P="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=_l,se="onPointerLeave",P="onPointerEnter",B="pointer"),gt=Z==null?W:Rn(Z),I=Ee==null?W:Rn(Ee),W=new Ne(se,B+"leave",Z,a,ne),W.target=gt,W.relatedTarget=I,se=null,ba(ne)===X&&(Ne=new Ne(P,B+"enter",Ee,a,ne),Ne.target=I,Ne.relatedTarget=gt,se=Ne),gt=se,Z&&Ee)t:{for(Ne=Qv,P=Z,B=Ee,I=0,se=P;se;se=Ne(se))I++;se=0;for(var Ce=B;Ce;Ce=Ne(Ce))se++;for(;0<I-se;)P=Ne(P),I--;for(;0<se-I;)B=Ne(B),se--;for(;I--;){if(P===B||B!==null&&P===B.alternate){Ne=P;break t}P=Ne(P),B=Ne(B)}Ne=null}else Ne=null;Z!==null&&Np(oe,W,Z,Ne,!1),Ee!==null&&gt!==null&&Np(oe,gt,Ee,Ne,!0)}}e:{if(W=X?Rn(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var rt=Ei;else if(fs(W))if(Yn)rt=jr;else{rt=Va;var Te=Go}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&dl(X.elementType)&&(rt=Ei):rt=Ol;if(rt&&(rt=rt(e,X))){kl(oe,rt,a,ne);break e}Te&&Te(e,W,X),e==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&yi(W,"number",W.value)}switch(Te=X?Rn(X):window,e){case"focusin":(fs(Te)||Te.contentEditable==="true")&&(j=Te,D=X,K=null);break;case"focusout":K=D=j=null;break;case"mousedown":M=!0;break;case"contextmenu":case"mouseup":case"dragend":M=!1,N(oe,a,ne);break;case"selectionchange":if(O)break;case"keydown":case"keyup":N(oe,a,ne)}var Ke;if(xi)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ga?Tl(e,a)&&(We="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(us&&a.locale!=="ko"&&(Ga||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ga&&(Ke=xr()):(Gn=ne,Zi="value"in Gn?Gn.value:Gn.textContent,Ga=!0)),Te=ju(X,We),0<Te.length&&(We=new is(We,e,null,a,ne),oe.push({event:We,listeners:Te}),Ke?We.data=Ke:(Ke=Ho(a),Ke!==null&&(We.data=Ke)))),(Ke=Rc?$o(e,a):Cc(e,a))&&(We=ju(X,"onBeforeInput"),0<We.length&&(Te=new is("onBeforeInput","beforeinput",null,a,ne),oe.push({event:Te,listeners:We}),Te.data=Ke)),Yv(oe,e,X,a,ne)}Rp(oe,t)})}function Zl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ju(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Ha(e,a),u!=null&&s.unshift(Zl(e,u,h)),u=Ha(e,t),u!=null&&s.push(Zl(e,u,h))),e.tag===3)return s;e=e.return}return[]}function Qv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Np(e,t,a,s,u){for(var h=t._reactName,b=[];a!==null&&a!==s;){var k=a,C=k.alternate,X=k.stateNode;if(k=k.tag,C!==null&&C===s)break;k!==5&&k!==26&&k!==27||X===null||(C=X,u?(X=Ha(a,h),X!=null&&b.unshift(Zl(a,X,C))):u||(X=Ha(a,h),X!=null&&b.push(Zl(a,X,C)))),a=a.return}b.length!==0&&e.push({event:t,listeners:b})}var Jv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Dp(e){return(typeof e=="string"?e:""+e).replace(Jv,`
`).replace(Wv,"")}function Mp(e,t){return t=Dp(t),Dp(e)===t}function yt(e,t,a,s,u,h){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||La(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&La(e,""+s);break;case"className":mi(e,"class",s);break;case"tabIndex":mi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(e,a,s);break;case"style":hl(e,s,h);break;case"data":if(t!=="object"){mi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=sa(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&yt(e,t,"name",u.name,u,null),yt(e,t,"formEncType",u.formEncType,u,null),yt(e,t,"formMethod",u.formMethod,u,null),yt(e,t,"formTarget",u.formTarget,u,null)):(yt(e,t,"encType",u.encType,u,null),yt(e,t,"method",u.method,u,null),yt(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=sa(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=xn);break;case"onScroll":s!=null&&Qe("scroll",e);break;case"onScrollEnd":s!=null&&Qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Qe("beforetoggle",e),Qe("toggle",e),Ge(e,"popover",s);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ge(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,Ge(e,a,s))}}function eh(e,t,a,s,u,h){switch(a){case"style":hl(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?La(e,s):(typeof s=="number"||typeof s=="bigint")&&La(e,""+s);break;case"onScroll":s!=null&&Qe("scroll",e);break;case"onScrollEnd":s!=null&&Qe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),h=e[Dt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof s=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ge(e,a,s)}}}function rn(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",e),Qe("load",e);var s=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:yt(e,t,h,b,a,null)}}u&&yt(e,t,"srcSet",a.srcSet,a,null),s&&yt(e,t,"src",a.src,a,null);return;case"input":Qe("invalid",e);var k=h=b=u=null,C=null,X=null;for(s in a)if(a.hasOwnProperty(s)){var ne=a[s];if(ne!=null)switch(s){case"name":u=ne;break;case"type":b=ne;break;case"checked":C=ne;break;case"defaultChecked":X=ne;break;case"value":h=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,t));break;default:yt(e,t,s,ne,a,null)}}Ji(e,h,k,C,X,b,u,!1);return;case"select":Qe("invalid",e),s=b=h=null;for(u in a)if(a.hasOwnProperty(u)&&(k=a[u],k!=null))switch(u){case"value":h=k;break;case"defaultValue":b=k;break;case"multiple":s=k;default:yt(e,t,u,k,a,null)}t=h,a=b,e.multiple=!!s,t!=null?ia(e,!!s,t,!1):a!=null&&ia(e,!!s,a,!0);return;case"textarea":Qe("invalid",e),h=u=s=null;for(b in a)if(a.hasOwnProperty(b)&&(k=a[b],k!=null))switch(b){case"value":s=k;break;case"defaultValue":u=k;break;case"children":h=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(91));break;default:yt(e,t,b,k,a,null)}gi(e,s,u,h);return;case"option":for(C in a)a.hasOwnProperty(C)&&(s=a[C],s!=null)&&(C==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":yt(e,t,C,s,a,null));return;case"dialog":Qe("beforetoggle",e),Qe("toggle",e),Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":Qe("load",e);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Qe(Wl[s],e);break;case"image":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"embed":case"source":case"link":Qe("error",e),Qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(s=a[X],s!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:yt(e,t,X,s,a,null)}return;default:if(dl(t)){for(ne in a)a.hasOwnProperty(ne)&&(s=a[ne],s!==void 0&&eh(e,t,ne,s,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(s=a[k],s!=null&&yt(e,t,k,s,a,null))}function Zv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,b=null,k=null,C=null,X=null,ne=null;for(Z in a){var oe=a[Z];if(a.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":C=oe;default:s.hasOwnProperty(Z)||yt(e,t,Z,null,s,oe)}}for(var W in s){var Z=s[W];if(oe=a[W],s.hasOwnProperty(W)&&(Z!=null||oe!=null))switch(W){case"type":h=Z;break;case"name":u=Z;break;case"checked":X=Z;break;case"defaultChecked":ne=Z;break;case"value":b=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,t));break;default:Z!==oe&&yt(e,t,W,Z,s,oe)}}wa(e,b,k,C,X,ne,h,u);return;case"select":Z=b=k=W=null;for(h in a)if(C=a[h],a.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":Z=C;default:s.hasOwnProperty(h)||yt(e,t,h,null,s,C)}for(u in s)if(h=s[u],C=a[u],s.hasOwnProperty(u)&&(h!=null||C!=null))switch(u){case"value":W=h;break;case"defaultValue":k=h;break;case"multiple":b=h;default:h!==C&&yt(e,t,u,h,s,C)}t=k,a=b,s=Z,W!=null?ia(e,!!a,W,!1):!!s!=!!a&&(t!=null?ia(e,!!a,t,!0):ia(e,!!a,a?[]:"",!1));return;case"textarea":Z=W=null;for(k in a)if(u=a[k],a.hasOwnProperty(k)&&u!=null&&!s.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:yt(e,t,k,null,s,u)}for(b in s)if(u=s[b],h=a[b],s.hasOwnProperty(b)&&(u!=null||h!=null))switch(b){case"value":W=u;break;case"defaultValue":Z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&yt(e,t,b,u,s,h)}fl(e,W,Z);return;case"option":for(var Ee in a)W=a[Ee],a.hasOwnProperty(Ee)&&W!=null&&!s.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:yt(e,t,Ee,null,s,W));for(C in s)W=s[C],Z=a[C],s.hasOwnProperty(C)&&W!==Z&&(W!=null||Z!=null)&&(C==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":yt(e,t,C,W,s,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)W=a[Ne],a.hasOwnProperty(Ne)&&W!=null&&!s.hasOwnProperty(Ne)&&yt(e,t,Ne,null,s,W);for(X in s)if(W=s[X],Z=a[X],s.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(l(137,t));break;default:yt(e,t,X,W,s,Z)}return;default:if(dl(t)){for(var gt in a)W=a[gt],a.hasOwnProperty(gt)&&W!==void 0&&!s.hasOwnProperty(gt)&&eh(e,t,gt,void 0,s,W);for(ne in s)W=s[ne],Z=a[ne],!s.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||eh(e,t,ne,W,s,Z);return}}for(var P in a)W=a[P],a.hasOwnProperty(P)&&W!=null&&!s.hasOwnProperty(P)&&yt(e,t,P,null,s,W);for(oe in s)W=s[oe],Z=a[oe],!s.hasOwnProperty(oe)||W===Z||W==null&&Z==null||yt(e,t,oe,W,s,Z)}function Up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],h=u.transferSize,b=u.initiatorType,k=u.duration;if(h&&k&&Up(b)){for(b=0,k=u.responseEnd,s+=1;s<a.length;s++){var C=a[s],X=C.startTime;if(X>k)break;var ne=C.transferSize,oe=C.initiatorType;ne&&Up(oe)&&(C=C.responseEnd,b+=ne*(C<k?1:(k-X)/(C-X)))}if(--s,t+=8*(h+b)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var th=null,nh=null;function Au(e){return e.nodeType===9?e:e.ownerDocument}function zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ah(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rh=null;function e0(){var e=window.event;return e&&e.type==="popstate"?e===rh?!1:(rh=e,!0):(rh=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(e){return qp.resolve(null).then(e).catch(a0)}:Bp;function a0(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function Hp(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),Bs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Fl(a);for(var h=a.firstChild;h;){var b=h.nextSibling,k=h.nodeName;h[An]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&Fl(e.ownerDocument.body);a=u}while(a);Bs(t)}function $p(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function ih(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ih(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function r0(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[An])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function i0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wn(e.nextSibling),e===null))return null;return e}function Pp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wn(e.nextSibling),e===null))return null;return e}function sh(e){return e.data==="$?"||e.data==="$~"}function lh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function s0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var oh=null;function Kp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Wn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Yp(e,t,a){switch(t=Au(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Fl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xi(e)}var Zn=new Map,Vp=new Set;function Ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var lr=ge.d;ge.d={f:l0,r:o0,D:u0,C:c0,L:f0,m:h0,X:m0,S:d0,M:p0};function l0(){var e=lr.f(),t=wu();return e||t}function o0(e){var t=dt(e);t!==null&&t.tag===5&&t.type==="form"?um(t):lr.r(e)}var Us=typeof document>"u"?null:document;function Ip(e,t,a){var s=Us;if(s&&typeof t=="string"&&t){var u=It(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Vp.has(u)||(Vp.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),rn(t,"link",e),Mt(t),s.head.appendChild(t)))}}function u0(e){lr.D(e),Ip("dns-prefetch",e,null)}function c0(e,t){lr.C(e,t),Ip("preconnect",e,t)}function f0(e,t,a){lr.L(e,t,a);var s=Us;if(s&&e&&t){var u='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+It(a.imageSizes)+'"]')):u+='[href="'+It(e)+'"]';var h=u;switch(t){case"style":h=zs(e);break;case"script":h=Ls(e)}Zn.has(h)||(e=T({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zn.set(h,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(eo(h))||t==="script"&&s.querySelector(to(h))||(t=s.createElement("link"),rn(t,"link",e),Mt(t),s.head.appendChild(t)))}}function h0(e,t){lr.m(e,t);var a=Us;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',h=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ls(e)}if(!Zn.has(h)&&(e=T({rel:"modulepreload",href:e},t),Zn.set(h,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(h)))return}s=a.createElement("link"),rn(s,"link",e),Mt(s),a.head.appendChild(s)}}}function d0(e,t,a){lr.S(e,t,a);var s=Us;if(s&&e){var u=cn(s).hoistableStyles,h=zs(e);t=t||"default";var b=u.get(h);if(!b){var k={loading:0,preload:null};if(b=s.querySelector(eo(h)))k.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zn.get(h))&&uh(e,a);var C=b=s.createElement("link");Mt(C),rn(C,"link",e),C._p=new Promise(function(X,ne){C.onload=X,C.onerror=ne}),C.addEventListener("load",function(){k.loading|=1}),C.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cu(b,t,s)}b={type:"stylesheet",instance:b,count:1,state:k},u.set(h,b)}}}function m0(e,t){lr.X(e,t);var a=Us;if(a&&e){var s=cn(a).hoistableScripts,u=Ls(e),h=s.get(u);h||(h=a.querySelector(to(u)),h||(e=T({src:e,async:!0},t),(t=Zn.get(u))&&ch(e,t),h=a.createElement("script"),Mt(h),rn(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function p0(e,t){lr.M(e,t);var a=Us;if(a&&e){var s=cn(a).hoistableScripts,u=Ls(e),h=s.get(u);h||(h=a.querySelector(to(u)),h||(e=T({src:e,async:!0,type:"module"},t),(t=Zn.get(u))&&ch(e,t),h=a.createElement("script"),Mt(h),rn(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function Xp(e,t,a,s){var u=(u=He.current)?Ru(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=zs(a.href),a=cn(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=zs(a.href);var h=cn(u).hoistableStyles,b=h.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=u.querySelector(eo(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(e,a),h||y0(u,e,a,b.state))),t&&s===null)throw Error(l(528,""));return b}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(a),a=cn(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function zs(e){return'href="'+It(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Qp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function y0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rn(t,"link",a),Mt(t),e.head.appendChild(t))}function Ls(e){return'[src="'+It(e)+'"]'}function to(e){return"script[async]"+e}function Jp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+It(a.href)+'"]');if(s)return t.instance=s,Mt(s),s;var u=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Mt(s),rn(s,"style",u),Cu(s,a.precedence,e),t.instance=s;case"stylesheet":u=zs(a.href);var h=e.querySelector(eo(u));if(h)return t.state.loading|=4,t.instance=h,Mt(h),h;s=Qp(a),(u=Zn.get(u))&&uh(s,u),h=(e.ownerDocument||e).createElement("link"),Mt(h);var b=h;return b._p=new Promise(function(k,C){b.onload=k,b.onerror=C}),rn(h,"link",s),t.state.loading|=4,Cu(h,a.precedence,e),t.instance=h;case"script":return h=Ls(a.src),(u=e.querySelector(to(h)))?(t.instance=u,Mt(u),u):(s=a,(u=Zn.get(h))&&(s=T({},a),ch(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),Mt(u),rn(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Cu(s,a.precedence,e));return t.instance}function Cu(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,h=u,b=0;b<s.length;b++){var k=s[b];if(k.dataset.precedence===t)h=k;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function uh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ch(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nu=null;function Wp(e,t,a){if(Nu===null){var s=new Map,u=Nu=new Map;u.set(a,s)}else u=Nu,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[An]||h[_t]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(t)||"";b=e+b;var k=s.get(b);k?k.push(h):s.set(b,[h])}}return s}function Zp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function g0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function v0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=zs(s.href),h=t.querySelector(eo(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Du.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=h,Mt(h);return}h=t.ownerDocument||t,s=Qp(s),(u=Zn.get(u))&&uh(s,u),h=h.createElement("link"),Mt(h);var b=h;b._p=new Promise(function(k,C){b.onload=k,b.onerror=C}),rn(h,"link",s),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Du.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var fh=0;function b0(e,t){return e.stylesheets&&e.count===0&&Uu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&fh===0&&(fh=62500*Fv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>fh?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Uu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(_0,e),Mu=null,Du.call(e))}function _0(e,t){if(!(t.state.loading&4)){var a=Mu.get(e);if(a)var s=a.get(null);else{a=new Map,Mu.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var b=u[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),s=b)}s&&a.set(null,s)}u=t.instance,b=u.getAttribute("data-precedence"),h=a.get(b)||s,h===s&&a.set(null,u),a.set(b,u),this.count++,s=Du.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var no={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function w0(e,t,a,s,u,h,b,k,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ey(e,t,a,s,u,h,b,k,C,X,ne,oe){return e=new w0(e,t,a,b,C,X,ne,oe,k),t=1,h===!0&&(t|=24),h=Nn(3,null,null,t),e.current=h,h.stateNode=e,t=Kc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:s,isDehydrated:a,cache:t},Ic(h),e}function ty(e){return e?(e=ms,e):ms}function ny(e,t,a,s,u,h){u=ty(u),s.context===null?s.context=u:s.pendingContext=u,s=Ur(t),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=zr(e,s,t),a!==null&&(On(a,e,t),Ml(a,e,t))}function ay(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function hh(e,t){ay(e,t),(e=e.alternate)&&ay(e,t)}function ry(e){if(e.tag===13||e.tag===31){var t=ot(e,67108864);t!==null&&On(t,e,67108864),hh(e,67108864)}}function iy(e){if(e.tag===13||e.tag===31){var t=Ln();t=ll(t);var a=ot(e,t);a!==null&&On(a,e,t),hh(e,t)}}var zu=!0;function x0(e,t,a,s){var u=ee.T;ee.T=null;var h=ge.p;try{ge.p=2,dh(e,t,a,s)}finally{ge.p=h,ee.T=u}}function S0(e,t,a,s){var u=ee.T;ee.T=null;var h=ge.p;try{ge.p=8,dh(e,t,a,s)}finally{ge.p=h,ee.T=u}}function dh(e,t,a,s){if(zu){var u=mh(s);if(u===null)Ff(e,t,s,Lu,a),ly(e,s);else if(T0(u,e,t,a,s))s.stopPropagation();else if(ly(e,s),t&4&&-1<E0.indexOf(e)){for(;u!==null;){var h=dt(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=aa(h.pendingLanes);if(b!==0){var k=h;for(k.pendingLanes|=2,k.entangledLanes|=2;b;){var C=1<<31-be(b);k.entanglements[1]|=C,b&=~C}Aa(h),(lt&6)===0&&(bu=on()+500,Jl(0))}}break;case 31:case 13:k=ot(h,2),k!==null&&On(k,h,2),wu(),hh(h,2)}if(h=mh(s),h===null&&Ff(e,t,s,Lu,a),h===u)break;u=h}u!==null&&s.stopPropagation()}else Ff(e,t,s,null,a)}}function mh(e){return e=Wi(e),ph(e)}var Lu=null;function ph(e){if(Lu=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Lu=e,null}function sy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case un:return 2;case ma:return 8;case pr:case ii:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var yh=!1,Ir=null,Xr=null,Qr=null,ao=new Map,ro=new Map,Jr=[],E0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(e,t){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function io(e,t,a,s,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},t!==null&&(t=dt(t),t!==null&&ry(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function T0(e,t,a,s,u){switch(t){case"focusin":return Ir=io(Ir,e,t,a,s,u),!0;case"dragenter":return Xr=io(Xr,e,t,a,s,u),!0;case"mouseover":return Qr=io(Qr,e,t,a,s,u),!0;case"pointerover":var h=u.pointerId;return ao.set(h,io(ao.get(h)||null,e,t,a,s,u)),!0;case"gotpointercapture":return h=u.pointerId,ro.set(h,io(ro.get(h)||null,e,t,a,s,u)),!0}return!1}function oy(e){var t=ba(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,fi(e.priority,function(){iy(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,fi(e.priority,function(){iy(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=mh(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Kn=s,a.target.dispatchEvent(s),Kn=null}else return t=dt(a),t!==null&&ry(t),e.blockedOn=a,!1;t.shift()}return!0}function uy(e,t,a){Bu(e)&&a.delete(t)}function k0(){yh=!1,Ir!==null&&Bu(Ir)&&(Ir=null),Xr!==null&&Bu(Xr)&&(Xr=null),Qr!==null&&Bu(Qr)&&(Qr=null),ao.forEach(uy),ro.forEach(uy)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,yh||(yh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,k0)))}var Hu=null;function cy(e){Hu!==e&&(Hu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(ph(s||a)===null)continue;break}var h=dt(a);h!==null&&(e.splice(t,3),t-=3,mf(h,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function Bs(e){function t(C){return qu(C,e)}Ir!==null&&qu(Ir,e),Xr!==null&&qu(Xr,e),Qr!==null&&qu(Qr,e),ao.forEach(t),ro.forEach(t);for(var a=0;a<Jr.length;a++){var s=Jr[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],h=a[s+1],b=u[Dt]||null;if(typeof h=="function")b||cy(a);else if(b){var k=null;if(h&&h.hasAttribute("formAction")){if(u=h,b=h[Dt]||null)k=b.formAction;else if(ph(u)!==null)continue}else k=b.action;typeof k=="function"?a[s+1]=k:(a.splice(s,3),s-=3),cy(a)}}}function fy(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function gh(e){this._internalRoot=e}$u.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Ln();ny(a,s,e,t,null,null)},$u.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ny(e.current,2,null,e,null,null),wu(),t[vn]=null}};function $u(e){this._internalRoot=e}$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=ci();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Jr.length&&t!==0&&t<Jr[a].priority;a++);Jr.splice(a,0,e),a===0&&oy(e)}};var hy=n.version;if(hy!=="19.2.4")throw Error(l(527,hy,"19.2.4"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=_(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var O0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{pa=Pu.inject(O0),Zt=Pu}catch{}}return lo.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",u=bm,h=_m,b=wm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=ey(e,1,!1,null,null,a,s,null,u,h,b,fy),e[vn]=t.current,Zf(e),new gh(t)},lo.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,u="",h=bm,b=_m,k=wm,C=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),t=ey(e,1,!0,t,a??null,s,u,C,h,b,k,fy),t.context=ty(null),a=t.current,s=Ln(),s=ll(s),u=Ur(s),u.callback=null,zr(a,u,s),a=s,t.current.lanes=a,$n(t,a),Aa(t),e[vn]=t.current,Zf(e),new $u(t)},lo.version="19.2.4",lo}var xy;function q0(){if(xy)return _h.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),_h.exports=B0(),_h.exports}var H0=q0();const $0=Wh(H0);var Sy="popstate";function P0(r={}){function n(l,c){let{pathname:f,search:m,hash:y}=l.location;return Lh("",{pathname:f,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:yo(c)}return G0(n,i,null,r)}function Ot(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function ha(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function K0(){return Math.random().toString(36).substring(2,10)}function Ey(r,n){return{usr:r.state,key:r.key,idx:n}}function Lh(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Zs(n):n,state:i,key:n&&n.key||l||K0()}}function yo({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Zs(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function G0(r,n,i,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,m=c.history,y="POP",v=null,_=S();_==null&&(_=0,m.replaceState({...m.state,idx:_},""));function S(){return(m.state||{idx:null}).idx}function T(){y="POP";let F=S(),le=F==null?null:F-_;_=F,v&&v({action:y,location:J.location,delta:le})}function A(F,le){y="PUSH";let ae=Lh(J.location,F,le);_=S()+1;let re=Ey(ae,_),_e=J.createHref(ae);try{m.pushState(re,"",_e)}catch(Ue){if(Ue instanceof DOMException&&Ue.name==="DataCloneError")throw Ue;c.location.assign(_e)}f&&v&&v({action:y,location:J.location,delta:1})}function R(F,le){y="REPLACE";let ae=Lh(J.location,F,le);_=S();let re=Ey(ae,_),_e=J.createHref(ae);m.replaceState(re,"",_e),f&&v&&v({action:y,location:J.location,delta:0})}function $(F){return Y0(F)}let J={get action(){return y},get location(){return r(c,m)},listen(F){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Sy,T),v=F,()=>{c.removeEventListener(Sy,T),v=null}},createHref(F){return n(c,F)},createURL:$,encodeLocation(F){let le=$(F);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:A,replace:R,go(F){return m.go(F)}};return J}function Y0(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:yo(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function yg(r,n,i="/"){return V0(r,n,i,!1)}function V0(r,n,i,l){let c=typeof n=="string"?Zs(n):n,f=cr(c.pathname||"/",i);if(f==null)return null;let m=gg(r);I0(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let _=rb(f);y=nb(m[v],_,l)}return y}function gg(r,n=[],i=[],l="",c=!1){let f=(m,y,v=c,_)=>{let S={relativePath:_===void 0?m.path||"":_,caseSensitive:m.caseSensitive===!0,childrenIndex:y,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(l)&&v)return;Ot(S.relativePath.startsWith(l),`Absolute route path "${S.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(l.length)}let T=ur([l,S.relativePath]),A=i.concat(S);m.children&&m.children.length>0&&(Ot(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),gg(m.children,n,A,T,v)),!(m.path==null&&!m.index)&&n.push({path:T,score:eb(T,m.index),routesMeta:A})};return r.forEach((m,y)=>{if(m.path===""||!m.path?.includes("?"))f(m,y);else for(let v of vg(m.path))f(m,y,!0,v)}),n}function vg(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let m=vg(l.join("/")),y=[];return y.push(...m.map(v=>v===""?f:[f,v].join("/"))),c&&y.push(...m),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function I0(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:tb(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var X0=/^:[\w-]+$/,Q0=3,J0=2,W0=1,Z0=10,F0=-2,Ty=r=>r==="*";function eb(r,n){let i=r.split("/"),l=i.length;return i.some(Ty)&&(l+=F0),n&&(l+=J0),i.filter(c=>!Ty(c)).reduce((c,f)=>c+(X0.test(f)?Q0:f===""?W0:Z0),l)}function tb(r,n){return r.length===n.length&&r.slice(0,-1).every((l,c)=>l===n[c])?r[r.length-1]-n[n.length-1]:0}function nb(r,n,i=!1){let{routesMeta:l}=r,c={},f="/",m=[];for(let y=0;y<l.length;++y){let v=l[y],_=y===l.length-1,S=f==="/"?n:n.slice(f.length)||"/",T=lc({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},S),A=v.route;if(!T&&_&&i&&!l[l.length-1].route.index&&(T=lc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!T)return null;Object.assign(c,T.params),m.push({params:c,pathname:ur([f,T.pathname]),pathnameBase:ob(ur([f,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(f=ur([f,T.pathnameBase]))}return m}function lc(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=ab(r.path,r.caseSensitive,r.end),c=n.match(i);if(!c)return null;let f=c[0],m=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:l.reduce((_,{paramName:S,isOptional:T},A)=>{if(S==="*"){let $=y[A]||"";m=f.slice(0,f.length-$.length).replace(/(.)\/+$/,"$1")}const R=y[A];return T&&!R?_[S]=void 0:_[S]=(R||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:m,pattern:r}}function ab(r,n=!1,i=!0){ha(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(l.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function rb(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ha(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function cr(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function sb(r,n="/"){let{pathname:i,search:l="",hash:c=""}=typeof r=="string"?Zs(r):r,f;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?f=ky(i.substring(1),"/"):f=ky(i,n)):f=n,{pathname:f,search:ub(l),hash:cb(c)}}function ky(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Eh(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lb(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Fh(r){let n=lb(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function ed(r,n,i,l=!1){let c;typeof r=="string"?c=Zs(r):(c={...r},Ot(!c.pathname||!c.pathname.includes("?"),Eh("?","pathname","search",c)),Ot(!c.pathname||!c.pathname.includes("#"),Eh("#","pathname","hash",c)),Ot(!c.search||!c.search.includes("#"),Eh("#","search","hash",c)));let f=r===""||c.pathname==="",m=f?"/":c.pathname,y;if(m==null)y=i;else{let T=n.length-1;if(!l&&m.startsWith("..")){let A=m.split("/");for(;A[0]==="..";)A.shift(),T-=1;c.pathname=A.join("/")}y=T>=0?n[T]:"/"}let v=sb(c,y),_=m&&m!=="/"&&m.endsWith("/"),S=(f||m===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(_||S)&&(v.pathname+="/"),v}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),ob=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ub=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,fb=class{constructor(r,n,i,l=!1){this.status=r,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function hb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function db(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _g(r,n){let i=r;if(typeof i!="string"||!ib.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,c=!1;if(bg)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),y=cr(m.pathname,n);m.origin===f.origin&&y!=null?i=y+m.search+m.hash:c=!0}catch{ha(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wg=["POST","PUT","PATCH","DELETE"];new Set(wg);var mb=["GET",...wg];new Set(mb);var Fs=Y.createContext(null);Fs.displayName="DataRouter";var mc=Y.createContext(null);mc.displayName="DataRouterState";var pb=Y.createContext(!1),xg=Y.createContext({isTransitioning:!1});xg.displayName="ViewTransition";var yb=Y.createContext(new Map);yb.displayName="Fetchers";var gb=Y.createContext(null);gb.displayName="Await";var Hn=Y.createContext(null);Hn.displayName="Navigation";var To=Y.createContext(null);To.displayName="Location";var da=Y.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var td=Y.createContext(null);td.displayName="RouteError";var Sg="REACT_ROUTER_ERROR",vb="REDIRECT",bb="ROUTE_ERROR_RESPONSE";function _b(r){if(r.startsWith(`${Sg}:${vb}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function wb(r){if(r.startsWith(`${Sg}:${bb}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new fb(n.status,n.statusText,n.data)}catch{}}function xb(r,{relative:n}={}){Ot(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=Y.useContext(Hn),{hash:c,pathname:f,search:m}=ko(r,{relative:n}),y=f;return i!=="/"&&(y=f==="/"?i:ur([i,f])),l.createHref({pathname:y,search:m,hash:c})}function el(){return Y.useContext(To)!=null}function Ra(){return Ot(el(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(To).location}var Eg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tg(r){Y.useContext(Hn).static||Y.useLayoutEffect(r)}function tl(){let{isDataRoute:r}=Y.useContext(da);return r?Lb():Sb()}function Sb(){Ot(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Fs),{basename:n,navigator:i}=Y.useContext(Hn),{matches:l}=Y.useContext(da),{pathname:c}=Ra(),f=JSON.stringify(Fh(l)),m=Y.useRef(!1);return Tg(()=>{m.current=!0}),Y.useCallback((v,_={})=>{if(ha(m.current,Eg),!m.current)return;if(typeof v=="number"){i.go(v);return}let S=ed(v,JSON.parse(f),c,_.relative==="path");r==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:ur([n,S.pathname])),(_.replace?i.replace:i.push)(S,_.state,_)},[n,i,f,c,r])}var Eb=Y.createContext(null);function Tb(r){let n=Y.useContext(da).outlet;return Y.useMemo(()=>n&&Y.createElement(Eb.Provider,{value:r},n),[n,r])}function ko(r,{relative:n}={}){let{matches:i}=Y.useContext(da),{pathname:l}=Ra(),c=JSON.stringify(Fh(i));return Y.useMemo(()=>ed(r,JSON.parse(c),l,n==="path"),[r,c,l,n])}function kb(r,n){return kg(r,n)}function kg(r,n,i,l,c){Ot(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=Y.useContext(Hn),{matches:m}=Y.useContext(da),y=m[m.length-1],v=y?y.params:{},_=y?y.pathname:"/",S=y?y.pathnameBase:"/",T=y&&y.route;{let ae=T&&T.path||"";jg(_,!T||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let A=Ra(),R;if(n){let ae=typeof n=="string"?Zs(n):n;Ot(S==="/"||ae.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),R=ae}else R=A;let $=R.pathname||"/",J=$;if(S!=="/"){let ae=S.replace(/^\//,"").split("/");J="/"+$.replace(/^\//,"").split("/").slice(ae.length).join("/")}let F=yg(r,{pathname:J});ha(T||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ha(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=Cb(F&&F.map(ae=>Object.assign({},ae,{params:Object.assign({},v,ae.params),pathname:ur([S,f.encodeLocation?f.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?S:ur([S,f.encodeLocation?f.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),m,i,l,c);return n&&le?Y.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},le):le}function Ob(){let r=zb(),n=hb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:f},"ErrorBoundary")," or"," ",Y.createElement("code",{style:f},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},n),i?Y.createElement("pre",{style:c},i):null,m)}var jb=Y.createElement(Ob,null),Og=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=wb(r.digest);i&&(r=i)}let n=r!==void 0?Y.createElement(da.Provider,{value:this.props.routeContext},Y.createElement(td.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?Y.createElement(Ab,{error:r},n):n}};Og.contextType=pb;var Th=new WeakMap;function Ab({children:r,error:n}){let{basename:i}=Y.useContext(Hn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=_b(n.digest);if(l){let c=Th.get(n);if(c)throw c;let f=_g(l.location,i);if(bg&&!Th.get(n))if(f.isExternal||l.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:l.replace}));throw Th.set(n,m),m}return Y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return r}function Rb({routeContext:r,match:n,children:i}){let l=Y.useContext(Fs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(da.Provider,{value:r},i)}function Cb(r,n=[],i=null,l=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let f=r,m=i?.errors;if(m!=null){let S=f.findIndex(T=>T.route.id&&m?.[T.route.id]!==void 0);Ot(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,S+1))}let y=!1,v=-1;if(i)for(let S=0;S<f.length;S++){let T=f[S];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=S),T.route.id){let{loaderData:A,errors:R}=i,$=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||$){y=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}let _=i&&l?(S,T)=>{l(S,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:db(i.matches),errorInfo:T})}:void 0;return f.reduceRight((S,T,A)=>{let R,$=!1,J=null,F=null;i&&(R=m&&T.route.id?m[T.route.id]:void 0,J=T.route.errorElement||jb,y&&(v<0&&A===0?(jg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,F=null):v===A&&($=!0,F=T.route.hydrateFallbackElement||null)));let le=n.concat(f.slice(0,A+1)),ae=()=>{let re;return R?re=J:$?re=F:T.route.Component?re=Y.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=S,Y.createElement(Rb,{match:T,routeContext:{outlet:S,matches:le,isDataRoute:i!=null},children:re})};return i&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?Y.createElement(Og,{location:i.location,revalidation:i.revalidation,component:J,error:R,children:ae(),routeContext:{outlet:null,matches:le,isDataRoute:!0},onError:_}):ae()},null)}function nd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nb(r){let n=Y.useContext(Fs);return Ot(n,nd(r)),n}function Db(r){let n=Y.useContext(mc);return Ot(n,nd(r)),n}function Mb(r){let n=Y.useContext(da);return Ot(n,nd(r)),n}function ad(r){let n=Mb(r),i=n.matches[n.matches.length-1];return Ot(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Ub(){return ad("useRouteId")}function zb(){let r=Y.useContext(td),n=Db("useRouteError"),i=ad("useRouteError");return r!==void 0?r:n.errors?.[i]}function Lb(){let{router:r}=Nb("useNavigate"),n=ad("useNavigate"),i=Y.useRef(!1);return Tg(()=>{i.current=!0}),Y.useCallback(async(c,f={})=>{ha(i.current,Eg),i.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:n,...f}))},[r,n])}var Oy={};function jg(r,n,i){!n&&!Oy[r]&&(Oy[r]=!0,ha(!1,i))}Y.memo(Bb);function Bb({routes:r,future:n,state:i,onError:l}){return kg(r,void 0,i,l,n)}function qb({to:r,replace:n,state:i,relative:l}){Ot(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=Y.useContext(Hn);ha(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=Y.useContext(da),{pathname:m}=Ra(),y=tl(),v=ed(r,Fh(f),m,l==="path"),_=JSON.stringify(v);return Y.useEffect(()=>{y(JSON.parse(_),{replace:n,state:i,relative:l})},[y,_,l,n,i]),null}function Ag(r){return Tb(r.context)}function Fn(r){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hb({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:c,static:f=!1,unstable_useTransitions:m}){Ot(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:y,navigator:c,static:f,unstable_useTransitions:m,future:{}}),[y,c,f,m]);typeof i=="string"&&(i=Zs(i));let{pathname:_="/",search:S="",hash:T="",state:A=null,key:R="default"}=i,$=Y.useMemo(()=>{let J=cr(_,y);return J==null?null:{location:{pathname:J,search:S,hash:T,state:A,key:R},navigationType:l}},[y,_,S,T,A,R,l]);return ha($!=null,`<Router basename="${y}"> is not able to match the URL "${_}${S}${T}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:Y.createElement(Hn.Provider,{value:v},Y.createElement(To.Provider,{children:n,value:$}))}function $b({children:r,location:n}){return kb(Bh(r),n)}function Bh(r,n=[]){let i=[];return Y.Children.forEach(r,(l,c)=>{if(!Y.isValidElement(l))return;let f=[...n,c];if(l.type===Y.Fragment){i.push.apply(i,Bh(l.props.children,f));return}Ot(l.type===Fn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Bh(l.props.children,f)),i.push(m)}),i}var rc="get",ic="application/x-www-form-urlencoded";function pc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Pb(r){return pc(r)&&r.tagName.toLowerCase()==="button"}function Kb(r){return pc(r)&&r.tagName.toLowerCase()==="form"}function Gb(r){return pc(r)&&r.tagName.toLowerCase()==="input"}function Yb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Vb(r,n){return r.button===0&&(!n||n==="_self")&&!Yb(r)}var Ku=null;function Ib(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var Xb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kh(r){return r!=null&&!Xb.has(r)?(ha(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):r}function Qb(r,n){let i,l,c,f,m;if(Kb(r)){let y=r.getAttribute("action");l=y?cr(y,n):null,i=r.getAttribute("method")||rc,c=kh(r.getAttribute("enctype"))||ic,f=new FormData(r)}else if(Pb(r)||Gb(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(l=v?cr(v,n):null,i=r.getAttribute("formmethod")||y.getAttribute("method")||rc,c=kh(r.getAttribute("formenctype"))||kh(y.getAttribute("enctype"))||ic,f=new FormData(y,r),!Ib()){let{name:_,type:S,value:T}=r;if(S==="image"){let A=_?`${_}.`:"";f.append(`${A}x`,"0"),f.append(`${A}y`,"0")}else _&&f.append(_,T)}}else{if(pc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rc,l=null,c=ic,m=r}return f&&c==="text/plain"&&(m=f,f=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rd(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Jb(r,n,i,l){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${l}`:c.pathname=`${c.pathname}.${l}`:c.pathname==="/"?c.pathname=`_root.${l}`:n&&cr(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${l}`,c}async function Wb(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Fb(r,n,i){let l=await Promise.all(r.map(async c=>{let f=n.routes[c.route.id];if(f){let m=await Wb(f,i);return m.links?m.links():[]}return[]}));return a_(l.flat(1).filter(Zb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function jy(r,n,i,l,c,f){let m=(v,_)=>i[_]?v.route.id!==i[_].route.id:!0,y=(v,_)=>i[_].pathname!==v.pathname||i[_].route.path?.endsWith("*")&&i[_].params["*"]!==v.params["*"];return f==="assets"?n.filter((v,_)=>m(v,_)||y(v,_)):f==="data"?n.filter((v,_)=>{let S=l.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(m(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let T=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function e_(r,n,{includeHydrateFallback:i}={}){return t_(r.map(l=>{let c=n.routes[l.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function t_(r){return[...new Set(r)]}function n_(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function a_(r,n){let i=new Set;return new Set(n),r.reduce((l,c)=>{let f=JSON.stringify(n_(c));return i.has(f)||(i.add(f),l.push({key:f,link:c})),l},[])}function Rg(){let r=Y.useContext(Fs);return rd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function r_(){let r=Y.useContext(mc);return rd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var id=Y.createContext(void 0);id.displayName="FrameworkContext";function Cg(){let r=Y.useContext(id);return rd(r,"You must render this element inside a <HydratedRouter> element"),r}function i_(r,n){let i=Y.useContext(id),[l,c]=Y.useState(!1),[f,m]=Y.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:S,onTouchStart:T}=n,A=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let J=le=>{le.forEach(ae=>{m(ae.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),Y.useEffect(()=>{if(l){let J=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(J)}}},[l]);let R=()=>{c(!0)},$=()=>{c(!1),m(!1)};return i?r!=="intent"?[f,A,{}]:[f,A,{onFocus:oo(y,R),onBlur:oo(v,$),onMouseEnter:oo(_,R),onMouseLeave:oo(S,$),onTouchStart:oo(T,R)}]:[!1,A,{}]}function oo(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function s_({page:r,...n}){let{router:i}=Rg(),l=Y.useMemo(()=>yg(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?Y.createElement(o_,{page:r,matches:l,...n}):null}function l_(r){let{manifest:n,routeModules:i}=Cg(),[l,c]=Y.useState([]);return Y.useEffect(()=>{let f=!1;return Fb(r,n,i).then(m=>{f||c(m)}),()=>{f=!0}},[r,n,i]),l}function o_({page:r,matches:n,...i}){let l=Ra(),{future:c,manifest:f,routeModules:m}=Cg(),{basename:y}=Rg(),{loaderData:v,matches:_}=r_(),S=Y.useMemo(()=>jy(r,n,_,f,l,"data"),[r,n,_,f,l]),T=Y.useMemo(()=>jy(r,n,_,f,l,"assets"),[r,n,_,f,l]),A=Y.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let J=new Set,F=!1;if(n.forEach(ae=>{let re=f.routes[ae.route.id];!re||!re.hasLoader||(!S.some(_e=>_e.route.id===ae.route.id)&&ae.route.id in v&&m[ae.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:J.add(ae.route.id))}),J.size===0)return[];let le=Jb(r,y,c.unstable_trailingSlashAwareDataRequests,"data");return F&&J.size>0&&le.searchParams.set("_routes",n.filter(ae=>J.has(ae.route.id)).map(ae=>ae.route.id).join(",")),[le.pathname+le.search]},[y,c.unstable_trailingSlashAwareDataRequests,v,l,f,S,n,r,m]),R=Y.useMemo(()=>e_(T,f),[T,f]),$=l_(T);return Y.createElement(Y.Fragment,null,A.map(J=>Y.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...i})),R.map(J=>Y.createElement("link",{key:J,rel:"modulepreload",href:J,...i})),$.map(({key:J,link:F})=>Y.createElement("link",{key:J,nonce:i.nonce,...F,crossOrigin:F.crossOrigin??i.crossOrigin})))}function u_(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var c_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c_&&(window.__reactRouterVersion="7.13.0")}catch{}function f_({basename:r,children:n,unstable_useTransitions:i,window:l}){let c=Y.useRef();c.current==null&&(c.current=P0({window:l,v5Compat:!0}));let f=c.current,[m,y]=Y.useState({action:f.action,location:f.location}),v=Y.useCallback(_=>{i===!1?y(_):Y.startTransition(()=>y(_))},[i]);return Y.useLayoutEffect(()=>f.listen(v),[f,v]),Y.createElement(Hb,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var Ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dg=Y.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:c,reloadDocument:f,replace:m,state:y,target:v,to:_,preventScrollReset:S,viewTransition:T,unstable_defaultShouldRevalidate:A,...R},$){let{basename:J,unstable_useTransitions:F}=Y.useContext(Hn),le=typeof _=="string"&&Ng.test(_),ae=_g(_,J);_=ae.to;let re=xb(_,{relative:c}),[_e,Ue,Oe]=i_(l,R),pe=p_(_,{replace:m,state:y,target:v,preventScrollReset:S,relative:c,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:F});function nt(pn){n&&n(pn),pn.defaultPrevented||pe(pn)}let ut=Y.createElement("a",{...R,...Oe,href:ae.absoluteURL||re,onClick:ae.isExternal||f?n:nt,ref:u_($,Ue),target:v,"data-discover":!le&&i==="render"?"true":void 0});return _e&&!le?Y.createElement(Y.Fragment,null,ut,Y.createElement(s_,{page:re})):ut});Dg.displayName="Link";var h_=Y.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:c=!1,style:f,to:m,viewTransition:y,children:v,..._},S){let T=ko(m,{relative:_.relative}),A=Ra(),R=Y.useContext(mc),{navigator:$,basename:J}=Y.useContext(Hn),F=R!=null&&__(T)&&y===!0,le=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,ae=A.pathname,re=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,le=le.toLowerCase()),re&&J&&(re=cr(re,J)||re);const _e=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let Ue=ae===le||!c&&ae.startsWith(le)&&ae.charAt(_e)==="/",Oe=re!=null&&(re===le||!c&&re.startsWith(le)&&re.charAt(le.length)==="/"),pe={isActive:Ue,isPending:Oe,isTransitioning:F},nt=Ue?n:void 0,ut;typeof l=="function"?ut=l(pe):ut=[l,Ue?"active":null,Oe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let pn=typeof f=="function"?f(pe):f;return Y.createElement(Dg,{..._,"aria-current":nt,className:ut,ref:S,style:pn,to:m,viewTransition:y},typeof v=="function"?v(pe):v)});h_.displayName="NavLink";var d_=Y.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:c,state:f,method:m=rc,action:y,onSubmit:v,relative:_,preventScrollReset:S,viewTransition:T,unstable_defaultShouldRevalidate:A,...R},$)=>{let{unstable_useTransitions:J}=Y.useContext(Hn),F=v_(),le=b_(y,{relative:_}),ae=m.toLowerCase()==="get"?"get":"post",re=typeof y=="string"&&Ng.test(y),_e=Ue=>{if(v&&v(Ue),Ue.defaultPrevented)return;Ue.preventDefault();let Oe=Ue.nativeEvent.submitter,pe=Oe?.getAttribute("formmethod")||m,nt=()=>F(Oe||Ue.currentTarget,{fetcherKey:n,method:pe,navigate:i,replace:c,state:f,relative:_,preventScrollReset:S,viewTransition:T,unstable_defaultShouldRevalidate:A});J&&i!==!1?Y.startTransition(()=>nt()):nt()};return Y.createElement("form",{ref:$,method:ae,action:le,onSubmit:l?v:_e,...R,"data-discover":!re&&r==="render"?"true":void 0})});d_.displayName="Form";function m_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mg(r){let n=Y.useContext(Fs);return Ot(n,m_(r)),n}function p_(r,{target:n,replace:i,state:l,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=tl(),S=Ra(),T=ko(r,{relative:f});return Y.useCallback(A=>{if(Vb(A,n)){A.preventDefault();let R=i!==void 0?i:yo(S)===yo(T),$=()=>_(r,{replace:R,state:l,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y});v?Y.startTransition(()=>$()):$()}},[S,_,T,i,l,n,r,c,f,m,y,v])}var y_=0,g_=()=>`__${String(++y_)}__`;function v_(){let{router:r}=Mg("useSubmit"),{basename:n}=Y.useContext(Hn),i=Ub(),l=r.fetch,c=r.navigate;return Y.useCallback(async(f,m={})=>{let{action:y,method:v,encType:_,formData:S,body:T}=Qb(f,n);if(m.navigate===!1){let A=m.fetcherKey||g_();await l(A,i,m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:T,formMethod:m.method||v,formEncType:m.encType||_,flushSync:m.flushSync})}else await c(m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:T,formMethod:m.method||v,formEncType:m.encType||_,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[l,c,n,i])}function b_(r,{relative:n}={}){let{basename:i}=Y.useContext(Hn),l=Y.useContext(da);Ot(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...ko(r||".",{relative:n})},m=Ra();if(r==null){f.search=m.search;let y=new URLSearchParams(f.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(T=>T).forEach(T=>y.append("index",T));let S=y.toString();f.search=S?`?${S}`:""}}return(!r||r===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:ur([i,f.pathname])),yo(f)}function __(r,{relative:n}={}){let i=Y.useContext(xg);Ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Mg("useViewTransitionState"),c=ko(r,{relative:n});if(!i.isTransitioning)return!1;let f=cr(i.currentLocation.pathname,l)||i.currentLocation.pathname,m=cr(i.nextLocation.pathname,l)||i.nextLocation.pathname;return lc(c.pathname,m)!=null||lc(c.pathname,f)!=null}function yc(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i}function w_(r,n,i,l){function c(f){return f instanceof i?f:new i(function(m){m(f)})}return new(i||(i=Promise))(function(f,m){function y(S){try{_(l.next(S))}catch(T){m(T)}}function v(S){try{_(l.throw(S))}catch(T){m(T)}}function _(S){S.done?f(S.value):c(S.value).then(y,v)}_((l=l.apply(r,n||[])).next())})}const x_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class sd extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class S_ extends sd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Ay extends sd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Ry extends sd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var qh;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qh||(qh={}));class E_{constructor(n,{headers:i={},customFetch:l,region:c=qh.Any}={}){this.url=n,this.headers=i,this.region=c,this.fetch=x_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return w_(this,arguments,void 0,function*(i,l={}){var c;let f,m;try{const{headers:y,method:v,body:_,signal:S,timeout:T}=l;let A={},{region:R}=l;R||(R=this.region);const $=new URL(`${this.url}/${i}`);R&&R!=="any"&&(A["x-region"]=R,$.searchParams.set("forceFunctionRegion",R));let J;_&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",J=_):typeof _=="string"?(A["Content-Type"]="text/plain",J=_):typeof FormData<"u"&&_ instanceof FormData?J=_:(A["Content-Type"]="application/json",J=JSON.stringify(_)):_&&typeof _!="string"&&!(typeof Blob<"u"&&_ instanceof Blob)&&!(_ instanceof ArrayBuffer)&&!(typeof FormData<"u"&&_ instanceof FormData)?J=JSON.stringify(_):J=_;let F=S;T&&(m=new AbortController,f=setTimeout(()=>m.abort(),T),S?(F=m.signal,S.addEventListener("abort",()=>m.abort())):F=m.signal);const le=yield this.fetch($.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),y),body:J,signal:F}).catch(Ue=>{throw new S_(Ue)}),ae=le.headers.get("x-relay-error");if(ae&&ae==="true")throw new Ay(le);if(!le.ok)throw new Ry(le);let re=((c=le.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),_e;return re==="application/json"?_e=yield le.json():re==="application/octet-stream"||re==="application/pdf"?_e=yield le.blob():re==="text/event-stream"?_e=le:re==="multipart/form-data"?_e=yield le.formData():_e=yield le.text(),{data:_e,error:null,response:le}}catch(y){return{data:null,error:y,response:y instanceof Ry||y instanceof Ay?y.context:void 0}}finally{f&&clearTimeout(f)}})}}var T_=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},k_=class{constructor(r){var n,i,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(l=r.urlLengthLimit)!==null&&l!==void 0?l:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let m=null,y=null,v=null,_=f.status,S=f.statusText;if(f.ok){var T,A;if(i.method!=="HEAD"){var R;const le=await f.text();le===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((R=i.headers.get("Accept"))===null||R===void 0)&&R.includes("application/vnd.pgrst.plan+text"))?y=le:y=JSON.parse(le))}const J=(T=i.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),F=(A=f.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");J&&F&&F.length>1&&(v=parseInt(F[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,_=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var $;const J=await f.text();try{m=JSON.parse(J),Array.isArray(m)&&f.status===404&&(y=[],m=null,_=200,S="OK")}catch{f.status===404&&J===""?(_=204,S="No Content"):m={message:J}}if(m&&i.isMaybeSingle&&(!(m==null||($=m.details)===null||$===void 0)&&$.includes("0 rows"))&&(m=null,_=200,S="OK"),m&&i.shouldThrowOnError)throw new T_(m)}return{error:m,data:y,count:v,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(f=>{var m;let y="",v="",_="";const S=f?.cause;if(S){var T,A,R,$;const le=(T=S?.message)!==null&&T!==void 0?T:"",ae=(A=S?.code)!==null&&A!==void 0?A:"";y=`${(R=f?.name)!==null&&R!==void 0?R:"FetchError"}: ${f?.message}`,y+=`

Caused by: ${($=S?.name)!==null&&$!==void 0?$:"Error"}: ${le}`,ae&&(y+=` (${ae})`),S?.stack&&(y+=`
${S.stack}`)}else{var J;y=(J=f?.stack)!==null&&J!==void 0?J:""}const F=this.url.toString().length;return f?.name==="AbortError"||f?.code==="ABORT_ERR"?(_="",v="Request was aborted (timeout or manual cancellation)",F>this.urlLengthLimit&&(v+=`. Note: Your request URL is ${F} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(S?.name==="HeadersOverflowError"||S?.code==="UND_ERR_HEADERS_OVERFLOW")&&(_="",v="HTTP headers exceeded server limits (typically 16KB)",F>this.urlLengthLimit&&(v+=`. Your request URL is ${F} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:y,hint:v,code:_},data:null,count:null,status:0,statusText:""}})),c.then(r,n)}returns(){return this}overrideTypes(){return this}},O_=class extends k_{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(f,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var m;const y=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Cy=new RegExp("[,()]");var Vs=class extends O_{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Cy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Cy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${c}fts${f}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},j_=class{constructor(r,{headers:n={},schema:i,fetch:l,urlLengthLimit:c=8e3}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:l}=n??{},c=i?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join(""),{url:y,headers:v}=this.cloneRequestState();return y.searchParams.set("select",m),l&&v.append("Prefer",`count=${l}`),new Vs({method:c,url:y,headers:v,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const c="POST",{url:f,headers:m}=this.cloneRequestState();if(n&&m.append("Prefer",`count=${n}`),i||m.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);f.searchParams.set("columns",v.join(","))}}return new Vs({method:c,url:f,headers:m,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var f;const m="POST",{url:y,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&y.searchParams.set("on_conflict",n),l&&v.append("Prefer",`count=${l}`),c||v.append("Prefer","missing=default"),Array.isArray(r)){const _=r.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(_.length>0){const S=[...new Set(_)].map(T=>`"${T}"`);y.searchParams.set("columns",S.join(","))}}return new Vs({method:m,url:y,headers:v,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var i;const l="PATCH",{url:c,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new Vs({method:l,url:c,headers:f,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const i="DELETE",{url:l,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new Vs({method:i,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function go(r){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},go(r)}function A_(r,n){if(go(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(go(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function R_(r){var n=A_(r,"string");return go(n)=="symbol"?n:n+""}function C_(r,n,i){return(n=R_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Ny(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Gu(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ny(Object(i),!0).forEach(function(l){C_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ny(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}var N_=class Ug{constructor(n,{headers:i={},schema:l,fetch:c,timeout:f,urlLengthLimit:m=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.urlLengthLimit=m;const y=c??globalThis.fetch;f!==void 0&&f>0?this.fetch=(v,_)=>{const S=new AbortController,T=setTimeout(()=>S.abort(),f),A=_?.signal;if(A){if(A.aborted)return clearTimeout(T),y(v,_);const R=()=>{clearTimeout(T),S.abort()};return A.addEventListener("abort",R,{once:!0}),y(v,Gu(Gu({},_),{},{signal:S.signal})).finally(()=>{clearTimeout(T),A.removeEventListener("abort",R)})}return y(v,Gu(Gu({},_),{},{signal:S.signal})).finally(()=>clearTimeout(T))}:this.fetch=y}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new j_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Ug(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:l=!1,get:c=!1,count:f}={}){var m;let y;const v=new URL(`${this.url}/rpc/${n}`);let _;const S=R=>R!==null&&typeof R=="object"&&(!Array.isArray(R)||R.some(S)),T=l&&Object.values(i).some(S);T?(y="POST",_=i):l||c?(y=l?"HEAD":"GET",Object.entries(i).filter(([R,$])=>$!==void 0).map(([R,$])=>[R,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([R,$])=>{v.searchParams.append(R,$)})):(y="POST",_=i);const A=new Headers(this.headers);return T?A.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&A.set("Prefer",`count=${f}`),new Vs({method:y,url:v,headers:A,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch,urlLengthLimit:this.urlLengthLimit})}};class D_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const c=l.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const M_="2.95.3",U_=`realtime-js/${M_}`,z_="1.0.0",zg="2.0.0",Dy=zg,Hh=1e4,L_=1e3,B_=100;var Fr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Fr||(Fr={}));var Vt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Vt||(Vt={}));var fa;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(fa||(fa={}));var $h;(function(r){r.websocket="websocket"})($h||($h={}));var $i;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})($i||($i={}));class q_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},m=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,i,l){var c,f;const m=n.topic,y=(c=n.ref)!==null&&c!==void 0?c:"",v=(f=n.join_ref)!==null&&f!==void 0?f:"",_=n.payload.event,S=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},T=Object.keys(S).length===0?"":JSON.stringify(S);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+y.length+m.length+_.length+T.length,R=new ArrayBuffer(this.HEADER_LENGTH+A);let $=new DataView(R),J=0;$.setUint8(J++,this.KINDS.userBroadcastPush),$.setUint8(J++,v.length),$.setUint8(J++,y.length),$.setUint8(J++,m.length),$.setUint8(J++,_.length),$.setUint8(J++,T.length),$.setUint8(J++,i),Array.from(v,le=>$.setUint8(J++,le.charCodeAt(0))),Array.from(y,le=>$.setUint8(J++,le.charCodeAt(0))),Array.from(m,le=>$.setUint8(J++,le.charCodeAt(0))),Array.from(_,le=>$.setUint8(J++,le.charCodeAt(0))),Array.from(T,le=>$.setUint8(J++,le.charCodeAt(0)));var F=new Uint8Array(R.byteLength+l.byteLength);return F.set(new Uint8Array(R),0),F.set(new Uint8Array(l),R.byteLength),F.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,f,m,y,v]=l;return i({join_ref:c,ref:f,topic:m,event:y,payload:v})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,c)}_decodeUserBroadcast(n,i,l){const c=i.getUint8(1),f=i.getUint8(2),m=i.getUint8(3),y=i.getUint8(4);let v=this.HEADER_LENGTH+4;const _=l.decode(n.slice(v,v+c));v=v+c;const S=l.decode(n.slice(v,v+f));v=v+f;const T=l.decode(n.slice(v,v+m));v=v+m;const A=n.slice(v,n.byteLength),R=y===this.JSON_ENCODING?JSON.parse(l.decode(A)):A,$={type:this.BROADCAST_EVENT,event:S,payload:R};return m>0&&($.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:$}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}let Lg=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var wt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(wt||(wt={}));const My=(r,n,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((f,m)=>(f[m]=H_(m,r,n,c),f),{}):{}},H_=(r,n,i,l)=>{const c=n.find(y=>y.name===r),f=c?.type,m=i[r];return f&&!l.includes(f)?Bg(f,m):Ph(m)},Bg=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return G_(n,i)}switch(r){case wt.bool:return $_(n);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return P_(n);case wt.json:case wt.jsonb:return K_(n);case wt.timestamp:return Y_(n);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return Ph(n);default:return Ph(n)}},Ph=r=>r,$_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},P_=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},K_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},G_=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let f;const m=r.slice(1,i);try{f=JSON.parse("["+m+"]")}catch{f=m?m.split(","):[]}return f.map(y=>Bg(n,y))}return r},Y_=r=>typeof r=="string"?r.replace(" ","T"):r,qg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Oh{constructor(n,i,l={},c=Hh){this.channel=n,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Uy;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Uy||(Uy={}));class mo{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,c,f,m),this.pendingDiffs.forEach(v=>{this.state=mo.syncDiff(this.state,v,f,m)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},c=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=mo.syncDiff(this.state,c,f,m),y())}),this.onJoin((c,f,m)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:m})}),this.onLeave((c,f,m)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,c){const f=this.cloneDeep(n),m=this.transformState(i),y={},v={};return this.map(f,(_,S)=>{m[_]||(v[_]=S)}),this.map(m,(_,S)=>{const T=f[_];if(T){const A=S.map(F=>F.presence_ref),R=T.map(F=>F.presence_ref),$=S.filter(F=>R.indexOf(F.presence_ref)<0),J=T.filter(F=>A.indexOf(F.presence_ref)<0);$.length>0&&(y[_]=$),J.length>0&&(v[_]=J)}else y[_]=S}),this.syncDiff(f,{joins:y,leaves:v},l,c)}static syncDiff(n,i,l,c){const{joins:f,leaves:m}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(f,(y,v)=>{var _;const S=(_=n[y])!==null&&_!==void 0?_:[];if(n[y]=this.cloneDeep(v),S.length>0){const T=n[y].map(R=>R.presence_ref),A=S.filter(R=>T.indexOf(R.presence_ref)<0);n[y].unshift(...A)}l(y,S,v)}),this.map(m,(y,v)=>{let _=n[y];if(!_)return;const S=v.map(T=>T.presence_ref);_=_.filter(T=>S.indexOf(T.presence_ref)<0),n[y]=_,c(y,_,v),_.length===0&&delete n[y]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const c=n[l];return"metas"in c?i[l]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):i[l]=c,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zy;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(zy||(zy={}));var po;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(po||(po={}));var or;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Qs{constructor(n,i={config:{}},l){var c,f;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Oh(this,fa.join,this.params,this.timeout),this.rejoinTimer=new Lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fa.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new mo(this),this.broadcastEndpointURL=qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:m,presence:y,private:v}}=this.params,_=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(R=>R.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[po.PRESENCE]&&this.bindings[po.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,T={},A={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:S}),postgres_changes:_,private:v};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(R=>n?.(or.CHANNEL_ERROR,R)),this._onClose(()=>n?.(or.CLOSED)),this.updateJoinPayload(Object.assign({config:A},T)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:R})=>{var $;if(this.socket._isManualToken()||this.socket.setAuth(),R===void 0){n?.(or.SUBSCRIBED);return}else{const J=this.bindings.postgres_changes,F=($=J?.length)!==null&&$!==void 0?$:0,le=[];for(let ae=0;ae<F;ae++){const re=J[ae],{filter:{event:_e,schema:Ue,table:Oe,filter:pe}}=re,nt=R&&R[ae];if(nt&&nt.event===_e&&Qs.isFilterValueEqual(nt.schema,Ue)&&Qs.isFilterValueEqual(nt.table,Oe)&&Qs.isFilterValueEqual(nt.filter,pe))le.push(Object.assign(Object.assign({},re),{id:nt.id}));else{this.unsubscribe(),this.state=Vt.errored,n?.(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=le,n&&n(or.SUBSCRIBED);return}}).receive("error",R=>{this.state=Vt.errored,n?.(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{n?.(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===Vt.joined&&n===po.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(y.status===202)return{success:!0};let v=y.statusText;try{const _=await y.json();v=_.error||_.message||v}catch{}return Promise.reject(new Error(v))}async send(n,i={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:m}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:m,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var m,y,v;const _=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||v===void 0)&&v.ack)&&f("ok"),_.receive("ok",()=>f("ok")),_.receive("error",()=>f("error")),_.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Vt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Oh(this,fa.leave,{},n),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const c=new AbortController,f=setTimeout(()=>c.abort(),l),m=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(f),m}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Oh(this,n,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>B_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var c,f;const m=n.toLocaleLowerCase(),{close:y,error:v,leave:_,join:S}=fa;if(l&&[y,v,_,S].indexOf(m)>=0&&l!==this._joinRef())return;let A=this._onMessage(m,i,l);if(i&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(R=>{var $,J,F;return(($=R.filter)===null||$===void 0?void 0:$.event)==="*"||((F=(J=R.filter)===null||J===void 0?void 0:J.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===m}).map(R=>R.callback(A,l)):(f=this.bindings[m])===null||f===void 0||f.filter(R=>{var $,J,F,le,ae,re;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in R){const _e=R.id,Ue=($=R.filter)===null||$===void 0?void 0:$.event;return _e&&((J=i.ids)===null||J===void 0?void 0:J.includes(_e))&&(Ue==="*"||Ue?.toLocaleLowerCase()===((F=i.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const _e=(ae=(le=R?.filter)===null||le===void 0?void 0:le.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return _e==="*"||_e===((re=i?.event)===null||re===void 0?void 0:re.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===m}).map(R=>{if(typeof A=="object"&&"ids"in A){const $=A.data,{schema:J,table:F,commit_timestamp:le,type:ae,errors:re}=$;A=Object.assign(Object.assign({},{schema:J,table:F,commit_timestamp:le,eventType:ae,new:{},old:{},errors:re}),this._getPayloadRecords($))}R.callback(A,l)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const c=n.toLocaleLowerCase(),f={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&Qs.isEqual(c.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(fa.close,{},n)}_onError(n){this._on(fa.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=My(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=My(n.columns,n.old_record)),i}}const jh=()=>{},Yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V_=[1e3,2e3,5e3,1e4],I_=1e4,X_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q_{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hh,this.transport=null,this.heartbeatIntervalMs=Yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jh,this.ref=0,this.reconnectTimer=null,this.vsn=Dy,this.logger=jh,this.conn=null,this.sendBuffer=[],this.serializer=new q_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${$h.websocket}`,this.httpEndpoint=qg(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=D_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return $i.Connecting;case Fr.open:return $i.Open;case Fr.closing:return $i.Closing;default:return $i.Closed}}isConnected(){return this.connectionState()===$i.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(f=>f.topic===l);if(c)return c;{const f=new Qs(`realtime:${n}`,i,this);return this.channels.push(f),f}}push(n){const{topic:i,event:l,payload:c,ref:f}=n,m=()=>{this.encode(n,y=>{var v;(v=this.conn)===null||v===void 0||v.send(y)})};this.log("push",`${i} ${l} (${f})`,c),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(L_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const _=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",_)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:f,ref:m}=i,y=m?`(${m})`:"",v=f.status||"";this.log("receive",`${v} ${l} ${c} ${y}`.trim(),f),this.channels.filter(_=>_._isMember(l)).forEach(_=>_._trigger(c,f,m)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(fa.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${n}${l}${c}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([X_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const f={access_token:i,version:U_};i&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(fa.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,c,f,m,y,v,_,S,T,A,R;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Hh,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:Yu.HEARTBEAT_INTERVAL,this.worker=(f=n?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:jh,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:Dy,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=n?.reconnectAfterMs)!==null&&_!==void 0?_:($=>V_[$-1]||I_),this.vsn){case z_:this.encode=(S=n?.encode)!==null&&S!==void 0?S:(($,J)=>J(JSON.stringify($))),this.decode=(T=n?.decode)!==null&&T!==void 0?T:(($,J)=>J(JSON.parse($)));break;case zg:this.encode=(A=n?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(R=n?.decode)!==null&&R!==void 0?R:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var vo=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function J_(r,n,i){const l=new URL(n,r);if(i)for(const[c,f]of Object.entries(i))f!==void 0&&l.searchParams.set(c,f);return l.toString()}async function W_(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Z_(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:f,headers:m}){const y=J_(r.baseUrl,l,c),v=await W_(r.auth),_=await n(y,{method:i,headers:{...f?{"Content-Type":"application/json"}:{},...v,...m},body:f?JSON.stringify(f):void 0}),S=await _.text(),T=(_.headers.get("content-type")||"").includes("application/json"),A=T&&S?JSON.parse(S):S;if(!_.ok){const R=T?A:void 0,$=R?.error;throw new vo($?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:$?.type,icebergCode:$?.code,details:R})}return{status:_.status,headers:_.headers,data:A}}}}function Vu(r){return r.join("")}var F_=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Vu(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`}),!0}catch(n){if(n instanceof vo&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof vo&&i.status===409)return;throw i}}};function qs(r){return r.join("")}var ew=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qs(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof vo&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof vo&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},tw=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Z_({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new F_(this.client,n),this.tableOps=new ew(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},gc=class extends Error{constructor(r,n="storage",i,l){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=l}};function vc(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Iu=class extends gc{constructor(r,n,i,l="storage"){super(r,l,n,i),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hg=class extends gc{constructor(r,n,i="storage"){super(r,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const nw=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),aw=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Kh=r=>{if(Array.isArray(r))return r.map(i=>Kh(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[c]=Kh(l)}),n},rw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function bo(r){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bo(r)}function iw(r,n){if(bo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(bo(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function sw(r){var n=iw(r,"string");return bo(n)=="symbol"?n:n+""}function lw(r,n,i){return(n=sw(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Ly(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Me(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ly(Object(i),!0).forEach(function(l){lw(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ly(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const By=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},ow=async(r,n,i,l)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const c=r,f=c.status||500;if(typeof c.json=="function")c.json().then(m=>{const y=m?.statusCode||m?.code||f+"";n(new Iu(By(m),f,y,l))}).catch(()=>{if(l==="vectors"){const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}else{const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}});else{const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}}else n(new Hg(By(r),r,l))},uw=(r,n,i,l)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!l?Me(Me({},c),i):(aw(l)?(c.headers=Me({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),Me(Me({},c),i))};async function uo(r,n,i,l,c,f,m){return new Promise((y,v)=>{r(i,uw(n,l,c,f)).then(_=>{if(!_.ok)throw _;if(l?.noResolveJson)return _;if(m==="vectors"){const S=_.headers.get("content-type");if(_.headers.get("content-length")==="0"||_.status===204)return{};if(!S||!S.includes("application/json"))return{}}return _.json()}).then(_=>y(_)).catch(_=>ow(_,v,l,m))})}function $g(r="storage"){return{get:async(n,i,l,c)=>uo(n,"GET",i,l,c,void 0,r),post:async(n,i,l,c,f)=>uo(n,"POST",i,c,f,l,r),put:async(n,i,l,c,f)=>uo(n,"PUT",i,c,f,l,r),head:async(n,i,l,c)=>uo(n,"HEAD",i,Me(Me({},l),{},{noResolveJson:!0}),c,void 0,r),remove:async(n,i,l,c,f)=>uo(n,"DELETE",i,c,f,l,r)}}const cw=$g("storage"),{get:_o,post:ca,put:Gh,head:fw,remove:ld}=cw,qn=$g("vectors");var nl=class{constructor(r,n={},i,l="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=nw(i),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(vc(i))return{data:null,error:i};throw i}}},hw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vc(n))return{data:null,error:n};throw n}}};let Pg;Pg=Symbol.toStringTag;var dw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Pg]="BlobDownloadBuilder",this.promise=null}asStream(){return new hw(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vc(n))return{data:null,error:n};throw n}}};const mw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pw=class extends nl{constructor(r,n={},i,l){super(r,n,l,"storage"),this.bucketId=i}async uploadOrUpdate(r,n,i,l){var c=this;return c.handleOperation(async()=>{let f;const m=Me(Me({},qy),l);let y=Me(Me({},c.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const v=m.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),v&&f.append("metadata",c.encodeMetadata(v)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.has("cacheControl")||f.append("cacheControl",m.cacheControl),v&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(v))):(f=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,v&&(y["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!m.duplex&&(m.duplex="half")),l?.headers&&(y=Me(Me({},y),l.headers));const _=c._removeEmptyFolders(n),S=c._getFinalPath(_),T=await(r=="PUT"?Gh:ca)(c.fetch,`${c.url}/object/${S}`,f,Me({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{path:_,id:T.Id,fullPath:T.Key}})}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var c=this;const f=c._removeEmptyFolders(r),m=c._getFinalPath(f),y=new URL(c.url+`/object/upload/sign/${m}`);return y.searchParams.set("token",n),c.handleOperation(async()=>{let v;const _=Me({upsert:qy.upsert},l),S=Me(Me({},c.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",_.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",_.cacheControl)):(v=i,S["cache-control"]=`max-age=${_.cacheControl}`,S["content-type"]=_.contentType),{path:f,fullPath:(await Gh(c.fetch,y.toString(),v,{headers:S})).Key}})}async createSignedUploadUrl(r,n){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(r);const c=Me({},i.headers);n?.upsert&&(c["x-upsert"]="true");const f=await ca(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),m=new URL(i.url+f.url),y=m.searchParams.get("token");if(!y)throw new gc("No token returned by API");return{signedUrl:m.toString(),path:r,token:y}})}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;return l.handleOperation(async()=>await ca(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}))}async copy(r,n,i){var l=this;return l.handleOperation(async()=>({path:(await ca(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(r,n,i){var l=this;return l.handleOperation(async()=>{let c=l._getFinalPath(r),f=await ca(l.fetch,`${l.url}/object/sign/${c}`,Me({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${l.url}${f.signedURL}${m}`)}})}async createSignedUrls(r,n,i){var l=this;return l.handleOperation(async()=>{const c=await ca(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c.map(m=>Me(Me({},m),{},{signedUrl:m.signedURL?encodeURI(`${l.url}${m.signedURL}${f}`):null}))})}download(r,n,i){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),f=c?`?${c}`:"",m=this._getFinalPath(r),y=()=>_o(this.fetch,`${this.url}/${l}/${m}${f}`,{headers:this.headers,noResolveJson:!0},i);return new dw(y,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);return n.handleOperation(async()=>Kh(await _o(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await fw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(vc(l)&&l instanceof Hg){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${y}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await ld(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,i){var l=this;return l.handleOperation(async()=>{const c=Me(Me(Me({},mw),n),{},{prefix:r||""});return await ca(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i)})}async listV2(r,n){var i=this;return i.handleOperation(async()=>{const l=Me({},r);return await ca(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const yw="2.95.3",Oo={"X-Client-Info":`storage-js/${yw}`};var gw=class extends nl{constructor(r,n={},i,l){const c=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),m=Me(Me({},Oo),n);super(f,m,i,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(r);return await _o(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await _o(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var i=this;return i.handleOperation(async()=>await ca(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(r,n){var i=this;return i.handleOperation(async()=>await Gh(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await ca(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await ld(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},vw=class extends nl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),n);super(l,c,i,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await ca(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await _o(n.fetch,c,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await ld(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!rw(r))throw new gc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new tw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,f){const m=c[f];return typeof m!="function"?m:async(...y)=>{try{return{data:await m.apply(c,y),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}}}})}},bw=class extends nl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var i=this;return i.handleOperation(async()=>await qn.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var i=this;return i.handleOperation(async()=>await qn.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{})}},_w=class extends nl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},ww=class extends nl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await qn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},xw=class extends ww{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Sw(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},Sw=class extends bw{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new Ew(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Ew=class extends _w{constructor(r,n,i,l,c){super(r,n,c),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Tw=class extends gw{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new pw(this.url,this.headers,r,this.fetch)}get vectors(){return new xw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vw(this.url+"/iceberg",this.headers,this.fetch)}};const Kg="2.95.3",Is=30*1e3,Yh=3,Ah=Yh*Is,kw="http://localhost:9999",Ow="supabase.auth.token",jw={"X-Client-Info":`gotrue-js/${Kg}`},Vh="X-Supabase-Api-Version",Gg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Aw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rw=600*1e3;class wo extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function je(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Cw extends wo{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Nw(r){return je(r)&&r.name==="AuthApiError"}class Pi extends wo{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class hr extends wo{constructor(n,i,l,c){super(n,l,c),this.name=i,this.status=l}}class Bn extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rh(r){return je(r)&&r.name==="AuthSessionMissingError"}class Hs extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xu extends hr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends hr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dw(r){return je(r)&&r.name==="AuthImplicitGrantRedirectError"}class Hy extends hr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mw extends hr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ih extends hr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Ch(r){return je(r)&&r.name==="AuthRetryableFetchError"}class $y extends hr{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Xh extends hr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Py=` 	
\r=`.split(""),Uw=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Py.length;n+=1)r[Py[n].charCodeAt(0)]=-2;for(let n=0;n<oc.length;n+=1)r[oc[n].charCodeAt(0)]=n;return r})();function Ky(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(oc[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(oc[l]),n.queuedBits-=6}}function Yg(r,n,i){const l=Uw[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Gy(r){const n=[],i=m=>{n.push(String.fromCodePoint(m))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=m=>{Bw(m,l,i)};for(let m=0;m<r.length;m+=1)Yg(r.charCodeAt(m),c,f);return n.join("")}function zw(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Lw(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}zw(l,n)}}function Bw(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Ws(r){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<r.length;c+=1)Yg(r.charCodeAt(c),i,l);return new Uint8Array(n)}function qw(r){const n=[];return Lw(r,i=>n.push(i)),new Uint8Array(n)}function Ki(r){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};return r.forEach(c=>Ky(c,i,l)),Ky(null,i,l),n.join("")}function Hw(r){return Math.round(Date.now()/1e3)+r}function $w(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",Li={tested:!1,writable:!1},Vg=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Li.tested)return Li.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Li.tested=!0,Li.writable=!0}catch{Li.tested=!0,Li.writable=!1}return Li.writable};function Pw(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,f)=>{n[f]=c})}catch{}return i.searchParams.forEach((l,c)=>{n[c]=l}),n}const Ig=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Kw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Xs=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Bi=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},sn=async(r,n)=>{await r.removeItem(n)};class bc{constructor(){this.promise=new bc.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}bc.promiseConstructor=Promise;function Ju(r){const n=r.split(".");if(n.length!==3)throw new Xh("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Aw.test(n[l]))throw new Xh("JWT not in base64url format");return{header:JSON.parse(Gy(n[0])),payload:JSON.parse(Gy(n[1])),signature:Ws(n[2]),raw:{header:n[0],payload:n[1]}}}async function Gw(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function Yw(r,n){return new Promise((l,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const m=await r(f);if(!n(f,null,m)){l(m);return}}catch(m){if(!n(f,m)){c(m);return}}})()})}function Vw(r){return("0"+r.toString(16)).substr(-2)}function Iw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let f=0;f<56;f++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,Vw).join("")}async function Xw(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Qw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await Xw(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(r,n,i=!1){const l=Iw();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Xs(r,`${n}-code-verifier`,c);const f=await Qw(l);return[f,l===f?"plain":"s256"]}const Jw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ww(r){const n=r.headers.get(Vh);if(!n||!n.match(Jw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Zw(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function Fw(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(r){if(!e1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nh(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t1(r,n){return new Proxy(r,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,c)}})}function Yy(r){return JSON.parse(JSON.stringify(r))}const qi=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),n1=[502,503,504];async function Vy(r){var n;if(!Kw(r))throw new Ih(qi(r),0);if(n1.includes(r.status))throw new Ih(qi(r),r.status);let i;try{i=await r.json()}catch(f){throw new Pi(qi(f),f)}let l;const c=Ww(r);if(c&&c.getTime()>=Gg["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new $y(qi(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Bn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((f,m)=>f&&typeof m=="string",!0))throw new $y(qi(i),r.status,i.weak_password.reasons);throw new Cw(qi(i),r.status||500,l)}const a1=(r,n,i,l)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function De(r,n,i,l){var c;const f=Object.assign({},l?.headers);f[Vh]||(f[Vh]=Gg["2024-01-01"].name),l?.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const m=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(m.redirect_to=l.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",v=await r1(r,n,i+y,{headers:f,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function r1(r,n,i,l,c,f){const m=a1(n,l,c,f);let y;try{y=await r(i,Object.assign({},m))}catch(v){throw console.error(v),new Ih(qi(v),0)}if(y.ok||await Vy(y),l?.noResolveJson)return y;try{return await y.json()}catch(v){await Vy(v)}}function ua(r){var n;let i=null;l1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=Hw(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function Iy(r){const n=ua(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function ei(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function i1(r){return{data:r,error:null}}function s1(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f}=r,m=yc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f},v=Object.assign({},m);return{data:{properties:y,user:v},error:null}}function Xy(r){return r}function l1(r){return r.access_token&&r.refresh_token&&r.expires_in}const Dh=["global","local","others"];class o1{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Ig(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Dh[0]){if(Dh.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dh.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(je(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ei})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=yc(n,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:s1,redirectTo:i?.redirectTo})}catch(i){if(je(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ei})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,c,f,m,y,v;try{const _={nextPage:null,lastPage:0,total:0},S=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Xy});if(S.error)throw S.error;const T=await S.json(),A=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,R=(v=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return R.length>0&&(R.forEach($=>{const J=parseInt($.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse($.split(";")[1].split("=")[1]);_[`${F}Page`]=J}),_.total=parseInt(A)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(je(_))return{data:{users:[]},error:_};throw _}}async getUserById(n){Ps(n);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ei})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Ps(n);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ei})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Ps(n);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ei})}catch(l){if(je(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Ps(n.userId);try{const{data:i,error:l}=await De(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(je(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Ps(n.userId),Ps(n.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,c,f,m,y,v;try{const _={nextPage:null,lastPage:0,total:0},S=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Xy});if(S.error)throw S.error;const T=await S.json(),A=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,R=(v=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return R.length>0&&(R.forEach($=>{const J=parseInt($.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse($.split(";")[1].split("=")[1]);_[`${F}Page`]=J}),_.total=parseInt(A)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(je(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(je(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(je(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(je(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(je(i))return{data:null,error:i};throw i}}}function Qy(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Ks={debug:!!(globalThis&&Vg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class u1 extends Xg{}async function c1(r,n,i){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(n===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new u1(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ks.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function f1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function h1(r){return parseInt(r,16)}function d1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function m1(r){var n;const{chainId:i,domain:l,expirationTime:c,issuedAt:f=new Date,nonce:m,notBefore:y,requestId:v,resources:_,scheme:S,uri:T,version:A}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const R=Qg(r.address),$=S?`${S}://${l}`:l,J=r.statement?`${r.statement}
`:"",F=`${$} wants you to sign in with your Ethereum account:
${R}

${J}`;let le=`URI: ${T}
Version: ${A}
Chain ID: ${i}${m?`
Nonce: ${m}`:""}
Issued At: ${f.toISOString()}`;if(c&&(le+=`
Expiration Time: ${c.toISOString()}`),y&&(le+=`
Not Before: ${y.toISOString()}`),v&&(le+=`
Request ID: ${v}`),_){let ae=`
Resources:`;for(const re of _){if(!re||typeof re!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${re}`);ae+=`
- ${re}`}le+=ae}return`${F}
${le}`}class Kt extends Error{constructor({message:n,code:i,cause:l,name:c}){var f;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=c??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=i}}class uc extends Kt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function p1({error:r,options:n}){var i,l,c;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=f.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Kt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return f.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const m=window.location.hostname;if(Jg(m)){if(f.rp.id!==m)return new Kt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function y1({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Kt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Jg(l)){if(i.rpId!==l)return new Kt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class g1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const v1=new g1;function b1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,c=yc(r,["challenge","user","excludeCredentials"]),f=Ws(n).buffer,m=Object.assign(Object.assign({},i),{id:Ws(i.id).buffer}),y=Object.assign(Object.assign({},c),{challenge:f,user:m});if(l&&l.length>0){y.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const _=l[v];y.excludeCredentials[v]=Object.assign(Object.assign({},_),{id:Ws(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return y}function _1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=yc(r,["challenge","allowCredentials"]),c=Ws(n).buffer,f=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){f.allowCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const y=i[m];f.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Ws(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function w1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ki(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ki(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function x1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ki(new Uint8Array(c.authenticatorData)),clientDataJSON:Ki(new Uint8Array(c.clientDataJSON)),signature:Ki(new Uint8Array(c.signature)),userHandle:c.userHandle?Ki(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Jy(){var r,n;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function S1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new uc("Browser returned unexpected credential type",n)}:{data:null,error:new uc("Empty credential response",n)}}catch(n){return{data:null,error:p1({error:n,options:r})}}}async function E1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new uc("Browser returned unexpected credential type",n)}:{data:null,error:new uc("Empty credential response",n)}}catch(n){return{data:null,error:y1({error:n,options:r})}}}const T1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cc(...r){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const f in c){const m=c[f];if(m!==void 0)if(Array.isArray(m))l[f]=m;else if(i(m))l[f]=m;else if(n(m)){const y=l[f];n(y)?l[f]=cc(y,m):l[f]=cc(m)}else l[f]=m}return l}function O1(r,n){return cc(T1,r,n||{})}function j1(r,n){return cc(k1,r,n||{})}class A1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:c},f){var m;try{const{data:y,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!y)return{data:null,error:v};const _=c??v1.createNewAbortSignal();if(y.webauthn.type==="create"){const{user:S}=y.webauthn.credential_options.publicKey;if(!S.name){const T=l;if(T)S.name=`${S.id}:${T}`;else{const R=(await this.client.getUser()).data.user,$=((m=R?.user_metadata)===null||m===void 0?void 0:m.name)||R?.email||R?.id||"User";S.name=`${S.id}:${$}`}}S.displayName||(S.displayName=S.name)}switch(y.webauthn.type){case"create":{const S=O1(y.webauthn.credential_options.publicKey,f?.create),{data:T,error:A}=await S1({publicKey:S,signal:_});return T?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:T}},error:null}:{data:null,error:A}}case"request":{const S=j1(y.webauthn.credential_options.publicKey,f?.request),{data:T,error:A}=await E1(Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:S,signal:_}));return T?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:T}},error:null}:{data:null,error:A}}}}catch(y){return je(y)?{data:null,error:y}:{data:null,error:new Pi("Unexpected error in challenge",y)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new wo("rpId is required for WebAuthn authentication")};try{if(!Jy())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:f});if(!m)return{data:null,error:y};const{webauthn:v}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:l,credential_response:v.credential_response}})}catch(m){return je(m)?{data:null,error:m}:{data:null,error:new Pi("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new wo("rpId is required for WebAuthn registration")};try{if(!Jy())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(S=>{var T;return(T=S.data)===null||T===void 0?void 0:T.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===n&&A.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:y};const{data:v,error:_}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:f});return v?this._verify({factorId:m.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:_}}catch(m){return je(m)?{data:null,error:m}:{data:null,error:new Pi("Unexpected error in register",m)}}}}f1();const R1={url:kw,storageKey:Ow,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wy(r,n,i){return await i()}const Gs={};class xo{get jwks(){var n,i;return(i=(n=Gs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Gs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},R1),n);if(this.storageKey=f.storageKey,this.instanceID=(i=xo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,xo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&ln()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new o1({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Ig(f.fetch),this.lock=f.lock||Wy,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&ln()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=c1:this.lock=Wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Vg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qy(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Qy(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m);try{await this._notifyAllSubscribers(m.data.event,m.data.session,!1)}catch(y){this._debug("#broadcastChannel","error",y)}})}this.initialize().catch(m=>{this._debug("#initialize()","error",m)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(ln()&&(i=Pw(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ln()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:f}=await this._getSessionFromURL(i,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Dw(f)){const v=(n=f.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:m,redirectType:y}=c;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return je(i)?this._returnResult({error:i}):this._returnResult({error:new Pi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,c;try{const f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ua}),{data:m,error:y}=f;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const v=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(je(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var i,l,c;try{let f;if("email"in n){const{email:S,password:T,options:A}=n;let R=null,$=null;this.flowType==="pkce"&&([R,$]=await $s(this.storage,this.storageKey)),f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:S,password:T,data:(i=A?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:R,code_challenge_method:$},xform:ua})}else if("phone"in n){const{phone:S,password:T,options:A}=n;f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:T,data:(l=A?.data)!==null&&l!==void 0?l:{},channel:(c=A?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:ua})}else throw new Xu("You must provide either an email or phone number and a password");const{data:m,error:y}=f;if(y||!m)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const v=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let i;if("email"in n){const{email:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Iy})}else if("phone"in n){const{phone:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Iy})}else throw new Xu("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new Hs;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,c,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,c,f,m,y,v,_,S,T,A;let R,$;if("message"in n)R=n.message,$=n.signature;else{const{chain:J,wallet:F,statement:le,options:ae}=n;let re;if(ln())if(typeof F=="object")re=F;else{const ut=window;if("ethereum"in ut&&typeof ut.ethereum=="object"&&"request"in ut.ethereum&&typeof ut.ethereum.request=="function")re=ut.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!ae?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");re=F}const _e=new URL((i=ae?.url)!==null&&i!==void 0?i:window.location.href),Ue=await re.request({method:"eth_requestAccounts"}).then(ut=>ut).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ue||Ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Oe=Qg(Ue[0]);let pe=(l=ae?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!pe){const ut=await re.request({method:"eth_chainId"});pe=h1(ut)}const nt={domain:_e.host,address:Oe,statement:le,uri:_e.href,version:"1",chainId:pe,nonce:(c=ae?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(m=(f=ae?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=ae?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(v=ae?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(_=ae?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(S=ae?.signInWithEthereum)===null||S===void 0?void 0:S.resources};R=m1(nt),$=await re.request({method:"personal_sign",params:[d1(R),Oe]})}try{const{data:J,error:F}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:$},!((T=n.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ua});if(F)throw F;if(!J||!J.session||!J.user){const le=new Hs;return this._returnResult({data:{user:null,session:null},error:le})}return J.session&&(await this._saveSession(J.session),await this._notifyAllSubscribers("SIGNED_IN",J.session)),this._returnResult({data:Object.assign({},J),error:F})}catch(J){if(je(J))return this._returnResult({data:{user:null,session:null},error:J});throw J}}async signInWithSolana(n){var i,l,c,f,m,y,v,_,S,T,A,R;let $,J;if("message"in n)$=n.message,J=n.signature;else{const{chain:F,wallet:le,statement:ae,options:re}=n;let _e;if(ln())if(typeof le=="object")_e=le;else{const Oe=window;if("solana"in Oe&&typeof Oe.solana=="object"&&("signIn"in Oe.solana&&typeof Oe.solana.signIn=="function"||"signMessage"in Oe.solana&&typeof Oe.solana.signMessage=="function"))_e=Oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof le!="object"||!re?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_e=le}const Ue=new URL((i=re?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in _e&&_e.signIn){const Oe=await _e.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},re?.signInWithSolana),{version:"1",domain:Ue.host,uri:Ue.href}),ae?{statement:ae}:null));let pe;if(Array.isArray(Oe)&&Oe[0]&&typeof Oe[0]=="object")pe=Oe[0];else if(Oe&&typeof Oe=="object"&&"signedMessage"in Oe&&"signature"in Oe)pe=Oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in pe&&"signature"in pe&&(typeof pe.signedMessage=="string"||pe.signedMessage instanceof Uint8Array)&&pe.signature instanceof Uint8Array)$=typeof pe.signedMessage=="string"?pe.signedMessage:new TextDecoder().decode(pe.signedMessage),J=pe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _e)||typeof _e.signMessage!="function"||!("publicKey"in _e)||typeof _e!="object"||!_e.publicKey||!("toBase58"in _e.publicKey)||typeof _e.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");$=[`${Ue.host} wants you to sign in with your Solana account:`,_e.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${Ue.href}`,`Issued At: ${(c=(l=re?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=re?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${re.signInWithSolana.notBefore}`]:[],...!((m=re?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${re.signInWithSolana.expirationTime}`]:[],...!((y=re?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${re.signInWithSolana.chainId}`]:[],...!((v=re?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${re.signInWithSolana.nonce}`]:[],...!((_=re?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${re.signInWithSolana.requestId}`]:[],...!((T=(S=re?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||T===void 0)&&T.length?["Resources",...re.signInWithSolana.resources.map(pe=>`- ${pe}`)]:[]].join(`
`);const Oe=await _e.signMessage(new TextEncoder().encode($),"utf8");if(!Oe||!(Oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");J=Oe}}try{const{data:F,error:le}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:$,signature:Ki(J)},!((A=n.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(R=n.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:ua});if(le)throw le;if(!F||!F.session||!F.user){const ae=new Hs;return this._returnResult({data:{user:null,session:null},error:ae})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:le})}catch(F){if(je(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async _exchangeCodeForSession(n){const i=await Bi(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Mw;const{data:f,error:m}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:ua});if(await sn(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!f||!f.session||!f.user){const y=new Hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:m})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:i,provider:l,token:c,access_token:f,nonce:m}=n,y=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:f,nonce:m,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ua}),{data:v,error:_}=y;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!v||!v.session||!v.user){const S=new Hs;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:_})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,c,f,m;try{if("email"in n){const{email:y,options:v}=n;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await $s(this.storage,this.storageKey));const{error:T}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=v?.data)!==null&&i!==void 0?i:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in n){const{phone:y,options:v}=n,{data:_,error:S}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(c=v?.data)!==null&&c!==void 0?c:{},create_user:(f=v?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(m=v?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:S})}throw new Xu("You must provide either an email or phone number.")}catch(y){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var i,l;try{let c,f;"options"in n&&(c=(i=n.options)===null||i===void 0?void 0:i.redirectTo,f=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:m,error:y}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:ua});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const v=m.session,_=m.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(c){if(je(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var i,l,c,f,m;try{let y=null,v=null;this.flowType==="pkce"&&([y,v]=await $s(this.storage,this.storageKey));const _=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:v}),headers:this.headers,xform:i1});return!((f=_.data)===null||f===void 0)&&f.url&&ln()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(y){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Bn;const{error:c}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:f}=n,{error:m}=await De(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:l,type:c,options:f}=n,{data:m,error:y}=await De(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Xu("You must provide either an email or phone number and a type")}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Ah:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const m=await Bi(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Nh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=t1(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ei}):await this._useSession(async i=>{var l,c,f;const{data:m,error:y}=i;if(y)throw y;return!(!((l=m.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:ei})})}catch(i){if(je(i))return Rh(i)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:c,error:f}=l;if(f)throw f;if(!c.session)throw new Bn;const m=c.session;let y=null,v=null;this.flowType==="pkce"&&n.email!=null&&([y,v]=await $s(this.storage,this.storageKey));const{data:_,error:S}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:v}),jwt:m.access_token,xform:ei});if(S)throw S;return m.user=_.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Bn;const i=Date.now()/1e3;let l=i,c=!0,f=null;const{payload:m}=Ju(n.access_token);if(m.exp&&(l=m.exp,c=l<=i),c){const{data:y,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y)return{data:{user:null,session:null},error:null};f=y}else{const{data:y,error:v}=await this._getUser(n.access_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});f={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(i){if(je(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:m,error:y}=i;if(y)throw y;n=(l=m.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Bn;const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!ln())throw new Qu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Qu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Hy("No code detected.");const{data:ae,error:re}=await this._exchangeCodeForSession(n.code);if(re)throw re;const _e=new URL(window.location.href);return _e.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_e.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:f,refresh_token:m,expires_in:y,expires_at:v,token_type:_}=n;if(!f||!y||!m||!_)throw new Qu("No session defined in URL");const S=Math.round(Date.now()/1e3),T=parseInt(y);let A=S+T;v&&(A=parseInt(v));const R=A-S;R*1e3<=Is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${T}s`);const $=A-T;S-$>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",$,A,S):S-$<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",$,A,S);const{data:J,error:F}=await this._getUser(f);if(F)throw F;const le={provider_token:l,provider_refresh_token:c,access_token:f,expires_in:T,expires_at:A,refresh_token:m,token_type:_,user:J.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:le,redirectType:n.type},error:null})}catch(l){if(je(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f&&!Rh(f))return this._returnResult({error:f});const m=(l=c.session)===null||l===void 0?void 0:l.access_token;if(m){const{error:y}=await this.admin.signOut(m,n);if(y&&!(Nw(y)&&(y.status===404||y.status===401||y.status===403)||Rh(y)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=$w(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,c;try{const{data:{session:f},error:m}=i;if(m)throw m;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await $s(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:c}=await this._useSession(async f=>{var m,y,v,_,S;const{data:T,error:A}=f;if(A)throw A;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",R,{headers:this.headers,jwt:(S=(_=T.session)===null||_===void 0?void 0:_.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return ln()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(je(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:f}}=i;if(c)throw c;const{options:m,provider:y,token:v,access_token:_,nonce:S}=n,T=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:y,id_token:v,access_token:_,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ua}),{data:A,error:R}=T;return R?this._returnResult({data:{user:null,session:null},error:R}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new Hs}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:R}))}catch(c){if(await sn(this.storage,`${this.storageKey}-code-verifier`),je(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,c;const{data:f,error:m}=i;if(m)throw m;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Yw(async c=>(c>0&&await Gw(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ua})),(c,f)=>{const m=200*Math.pow(2,c);return f&&Ch(f)&&Date.now()+m-l<Is})}catch(l){if(this._debug(i,"error",l),je(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),ln()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Bi(this.storage,this.storageKey);if(c&&this.userStorage){let m=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:c.user},await Xs(this.userStorage,this.storageKey+"-user",m)),c.user=(n=m?.user)!==null&&n!==void 0?n:Nh()}else if(c&&!c.user&&!c.user){const m=await Bi(this.storage,this.storageKey+"-user");m&&m?.user?(c.user=m.user,await sn(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,c)):c.user=Nh()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const f=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ah;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${Ah}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:m}=await this._callRefreshToken(c.refresh_token);m&&(console.error(m),Ch(m)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(c.access_token);!y&&m?.user?(c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(l,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new bc;const{data:f,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!f.session)throw new Bn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const y={data:f.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(f){if(this._debug(c,"error",f),je(f)){const m={data:null,error:f};return Ch(f)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(m),m}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,i,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const f=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,i)}catch(v){f.push(v)}});if(await Promise.all(m),f.length>0){for(let y=0;y<f.length;y+=1)console.error(f[y]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const f=Yy(c);await Xs(this.storage,this.storageKey,f)}else{const c=Yy(i);await Xs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ln()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Is);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Is}ms, refresh threshold is ${Yh} ticks`),c<=Yh&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Xg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,m]=await $s(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});c.push(y.toString())}if(l?.queryParams){const f=new URLSearchParams(l.queryParams);c.push(f.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;return f?this._returnResult({data:null,error:f}):await De(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,c;const{data:f,error:m}=i;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:_}=await De(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=f?.session)===null||l===void 0?void 0:l.access_token});return _?this._returnResult({data:null,error:_}):(n.factorType==="totp"&&v.type==="totp"&&(!((c=v?.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?w1(n.webauthn.credential_response):x1(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:v}=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:v}))})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:b1(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:_1(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=i?.factors)!==null&&n!==void 0?n:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,l,c,f;if(n)try{const{payload:R}=Ju(n);let $=null;R.aal&&($=R.aal);let J=$;const{data:{user:F},error:le}=await this.getUser(n);if(le)return this._returnResult({data:null,error:le});((l=(i=F?.factors)===null||i===void 0?void 0:i.filter(_e=>_e.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(J="aal2");const re=R.amr||[];return{data:{currentLevel:$,nextLevel:J,currentAuthenticationMethods:re},error:null}}catch(R){if(je(R))return this._returnResult({data:null,error:R});throw R}const{data:{session:m},error:y}=await this.getSession();if(y)return this._returnResult({data:null,error:y});if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=Ju(m.access_token);let _=null;v.aal&&(_=v.aal);let S=_;((f=(c=m.user.factors)===null||c===void 0?void 0:c.filter(R=>R.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(S="aal2");const A=v.amr||[];return{data:{currentLevel:_,nextLevel:S,currentAuthenticationMethods:A},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Bn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&ln()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(je(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Bn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&ln()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(je(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(i){if(je(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(y=>y.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(y=>y.kid===n),l&&this.jwks_cached_at+Rw>c)return l;const{data:f,error:m}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,l=f.keys.find(y=>y.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:R,error:$}=await this.getSession();if($||!R.session)return this._returnResult({data:null,error:$});l=R.session.access_token}const{header:c,payload:f,signature:m,raw:{header:y,payload:v}}=Ju(l);i?.allowExpired||Zw(f.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!_){const{error:R}=await this.getUser(l);if(R)throw R;return{data:{claims:f,header:c,signature:m},error:null}}const S=Fw(c.alg),T=await crypto.subtle.importKey("jwk",_,S,!0,["verify"]);if(!await crypto.subtle.verify(S,T,m,qw(`${y}.${v}`)))throw new Xh("Invalid JWT signature");return{data:{claims:f,header:c,signature:m},error:null}}catch(l){if(je(l))return this._returnResult({data:null,error:l});throw l}}}xo.nextInstanceID={};const C1=xo,N1="2.95.3";let ho="";typeof Deno<"u"?ho="deno":typeof document<"u"?ho="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ho="react-native":ho="node";const D1={"X-Client-Info":`supabase-js-${ho}/${N1}`},M1={headers:D1},U1={schema:"public"},z1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L1={};function So(r){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},So(r)}function B1(r,n){if(So(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(So(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function q1(r){var n=B1(r,"string");return So(n)=="symbol"?n:n+""}function H1(r,n,i){return(n=q1(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Zy(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Ct(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Zy(Object(i),!0).forEach(function(l){H1(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Zy(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const $1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),P1=()=>Headers,K1=(r,n,i)=>{const l=$1(i),c=P1();return async(f,m)=>{var y;const v=(y=await n())!==null&&y!==void 0?y:r;let _=new c(m?.headers);return _.has("apikey")||_.set("apikey",r),_.has("Authorization")||_.set("Authorization",`Bearer ${v}`),l(f,Ct(Ct({},m),{},{headers:_}))}};function G1(r){return r.endsWith("/")?r:r+"/"}function Y1(r,n){var i,l;const{db:c,auth:f,realtime:m,global:y}=r,{db:v,auth:_,realtime:S,global:T}=n,A={db:Ct(Ct({},v),c),auth:Ct(Ct({},_),f),realtime:Ct(Ct({},S),m),storage:{},global:Ct(Ct(Ct({},T),y),{},{headers:Ct(Ct({},(i=T?.headers)!==null&&i!==void 0?i:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?A.accessToken=r.accessToken:delete A.accessToken,A}function V1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(G1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var I1=class extends C1{constructor(r){super(r)}},X1=class{constructor(r,n,i){var l,c;this.supabaseUrl=r,this.supabaseKey=n;const f=V1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:U1,realtime:L1,auth:Ct(Ct({},z1),{},{storageKey:m}),global:M1},v=Y1(i??{},y);if(this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(S,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=v.auth)!==null&&_!==void 0?_:{},this.headers,v.global.fetch)}this.fetch=K1(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new N_(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch,timeout:v.db.timeout,urlLengthLimit:v.db.urlLengthLimit}),this.storage=new Tw(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new E_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:f,flowType:m,lock:y,debug:v,throwOnError:_},S,T){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I1({url:this.authUrl.href,headers:Ct(Ct({},A),S),storageKey:f,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,flowType:m,lock:y,debug:v,throwOnError:_,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Q_(this.realtimeUrl.href,Ct(Ct({},r),{},{params:Ct(Ct({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Q1=(r,n,i)=>new X1(r,n,i);function J1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}J1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W1="https://uzkgrywvntdvfznbzydv.supabase.co",Z1="sb_publishable_WSUDdU7NLCftdEhrKiFPqQ_9JrD0djr",Wt=Q1(W1,Z1);var sc={exports:{}},F1=sc.exports,Fy;function ex(){return Fy||(Fy=1,(function(r,n){((i,l)=>{r.exports=l()})(F1,function(){var i=function(o,d){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(p,g){p.__proto__=g}:function(p,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(p[x]=g[x])}))(o,d)},l=function(){return(l=Object.assign||function(o){for(var d,p=1,g=arguments.length;p<g;p++)for(var x in d=arguments[p])Object.prototype.hasOwnProperty.call(d,x)&&(o[x]=d[x]);return o}).apply(this,arguments)};function c(o,d,p){for(var g,x=0,E=d.length;x<E;x++)!g&&x in d||((g=g||Array.prototype.slice.call(d,0,x))[x]=d[x]);return o.concat(g||Array.prototype.slice.call(d))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:A0,m=Object.keys,y=Array.isArray;function v(o,d){return typeof d=="object"&&m(d).forEach(function(p){o[p]=d[p]}),o}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var _=Object.getPrototypeOf,S={}.hasOwnProperty;function T(o,d){return S.call(o,d)}function A(o,d){typeof d=="function"&&(d=d(_(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(d).forEach(function(p){$(o,p,d[p])})}var R=Object.defineProperty;function $(o,d,p,g){R(o,d,v(p&&T(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},g))}function J(o){return{from:function(d){return o.prototype=Object.create(d.prototype),$(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var F=Object.getOwnPropertyDescriptor,le=[].slice;function ae(o,d,p){return le.call(o,d,p)}function re(o,d){return d(o)}function _e(o){if(!o)throw new Error("Assertion Failed")}function Ue(o){f.setImmediate?setImmediate(o):setTimeout(o,0)}function Oe(o,d){if(typeof d=="string"&&T(o,d))return o[d];if(!d)return o;if(typeof d!="string"){for(var p=[],g=0,x=d.length;g<x;++g){var E=Oe(o,d[g]);p.push(E)}return p}var O,j=d.indexOf(".");return j===-1||(O=o[d.substr(0,j)])==null?void 0:Oe(O,d.substr(j+1))}function pe(o,d,p){if(o&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof d!="string"&&"length"in d){_e(typeof p!="string"&&"length"in p);for(var g=0,x=d.length;g<x;++g)pe(o,d[g],p[g])}else{var E,O,j=d.indexOf(".");j!==-1?(E=d.substr(0,j),(j=d.substr(j+1))===""?p===void 0?y(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=p:pe(O=(O=o[E])&&T(o,E)?O:o[E]={},j,p)):p===void 0?y(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=p}}function nt(o){var d,p={};for(d in o)T(o,d)&&(p[d]=o[d]);return p}var ut=[].concat;function pn(o){return ut.apply([],o)}var ie="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(pn([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(d){return d+o+"Array"})}))).filter(function(o){return f[o]}),jn=new Set(ie.map(function(o){return f[o]})),Lt=null;function yn(o){return Lt=new WeakMap,o=(function d(p){if(!p||typeof p!="object")return p;var g=Lt.get(p);if(g)return g;if(y(p)){g=[],Lt.set(p,g);for(var x=0,E=p.length;x<E;++x)g.push(d(p[x]))}else if(jn.has(p.constructor))g=p;else{var O,j=_(p);for(O in g=j===Object.prototype?{}:Object.create(j),Lt.set(p,g),p)T(p,O)&&(g[O]=d(p[O]))}return g})(o),Lt=null,o}var ta={}.toString;function gn(o){return ta.call(o).slice(8,-1)}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof ee=="symbol"?function(o){var d;return o!=null&&(d=o[ee])&&d.apply(o)}:function(){return null};function Ae(o,d){d=o.indexOf(d),0<=d&&o.splice(d,1)}var Ze={};function Ve(o){var d,p,g,x;if(arguments.length===1){if(y(o))return o.slice();if(this===Ze&&typeof o=="string")return[o];if(x=ge(o))for(p=[];!(g=x.next()).done;)p.push(g.value);else{if(o==null)return[o];if(typeof(d=o.length)!="number")return[o];for(p=new Array(d);d--;)p[d]=o[d]}}else for(d=arguments.length,p=new Array(d);d--;)p[d]=arguments[d];return p}var H=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ie=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],un=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ie),ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Se(o,d){this.name=o,this.message=d}function Le(o,d){return o+". Errors: "+Object.keys(d).map(function(p){return d[p].toString()}).filter(function(p,g,x){return x.indexOf(p)===g}).join(`
`)}function He(o,d,p,g){this.failures=d,this.failedKeys=g,this.successCount=p,this.message=Le(o,d)}function Ie(o,d){this.name="BulkError",this.failures=Object.keys(d).map(function(p){return d[p]}),this.failuresByPos=d,this.message=Le(o,this.failures)}J(Se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),J(He).from(Se),J(Ie).from(Se);var Gt=un.reduce(function(o,d){return o[d]=d+"Error",o},{}),jt=Se,ke=un.reduce(function(o,d){var p=d+"Error";function g(x,E){this.name=p,x?typeof x=="string"?(this.message="".concat(x).concat(E?`
 `+E:""),this.inner=E||null):typeof x=="object"&&(this.message="".concat(x.name," ").concat(x.message),this.inner=x):(this.message=ve[d]||p,this.inner=null)}return J(g).from(jt),o[d]=g,o},{}),ti=(ke.Syntax=SyntaxError,ke.Type=TypeError,ke.Range=RangeError,ie.reduce(function(o,d){return o[d+"Error"]=ke[d],o},{}));ie=un.reduce(function(o,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(o[d+"Error"]=ke[d]),o},{});function at(){}function mr(o){return o}function Ca(o,d){return o==null||o===mr?d:function(p){return d(o(p))}}function na(o,d){return function(){o.apply(this,arguments),d.apply(this,arguments)}}function rl(o,d){return o===at?d:function(){var p=o.apply(this,arguments),g=(p!==void 0&&(arguments[0]=p),this.onsuccess),x=this.onerror,E=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return g&&(this.onsuccess=this.onsuccess?na(g,this.onsuccess):g),x&&(this.onerror=this.onerror?na(x,this.onerror):x),E!==void 0?E:p}}function Sc(o,d){return o===at?d:function(){o.apply(this,arguments);var p=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?na(p,this.onsuccess):p),g&&(this.onerror=this.onerror?na(g,this.onerror):g)}}function jo(o,d){return o===at?d:function(x){var g=o.apply(this,arguments),x=(v(x,g),this.onsuccess),E=this.onerror,O=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return x&&(this.onsuccess=this.onsuccess?na(x,this.onsuccess):x),E&&(this.onerror=this.onerror?na(E,this.onerror):E),g===void 0?O===void 0?void 0:O:v(g,O)}}function il(o,d){return o===at?d:function(){return d.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ni(o,d){return o===at?d:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var g=this,x=arguments.length,E=new Array(x);x--;)E[x]=arguments[x];return p.then(function(){return d.apply(g,E)})}return d.apply(this,arguments)}}ie.ModifyError=He,ie.DexieError=Se,ie.BulkError=Ie;var wn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ao(o){wn=o}var ai={},on=100,ri=typeof Promise>"u"?[]:(un=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[ri=crypto.subtle.digest("SHA-512",new Uint8Array([0])),_(ri),un]:[un,_(un),un]),un=ri[0],Ya=ri[1],Ya=Ya&&Ya.then,ma=un&&un.constructor,pr=!!ri[2],ii=function(o,d){si.push([o,d]),Vi&&(queueMicrotask(Ro),Vi=!1)},Yi=!0,Vi=!0,Na=[],pa=[],Zt=mr,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:at,pgp:!1,env:{},finalize:at},be=Ft,si=[],Da=0,Ii=[];function me(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=be;if(typeof o!="function"){if(o!==ai)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&aa(this,this._value)}else this._state=null,this._value=null,++d.ref,(function p(g,x){try{x(function(E){if(g._state===null){if(E===g)throw new TypeError("A promise cannot be resolved with itself.");var O=g._lib&&ya();E&&typeof E.then=="function"?p(g,function(j,D){E instanceof me?E._then(j,D):E.then(j,D)}):(g._state=!0,g._value=E,oi(g)),O&&$n()}},aa.bind(null,g))}catch(E){aa(g,E)}})(this,o)}var yr={get:function(){var o=be,d=fi;function p(g,x){var E=this,O=!o.global&&(o!==be||d!==fi),j=O&&!vn(),D=new me(function(K,M){Ma(E,new li(Xi(g,o,O,j),Xi(x,o,O,j),K,M,o))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return p.prototype=ai,p},set:function(o){$(this,"then",o&&o.prototype===ai?yr:{get:function(){return o},set:yr.set})}};function li(o,d,p,g,x){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof d=="function"?d:null,this.resolve=p,this.reject=g,this.psd=x}function aa(o,d){var p,g;pa.push(d),o._state===null&&(p=o._lib&&ya(),d=Zt(d),o._state=!1,o._value=d,g=o,Na.some(function(x){return x._value===g._value})||Na.push(g),oi(o),p)&&$n()}function oi(o){var d=o._listeners;o._listeners=[];for(var p=0,g=d.length;p<g;++p)Ma(o,d[p]);var x=o._PSD;--x.ref||x.finalize(),Da===0&&(++Da,ii(function(){--Da==0&&sl()},[]))}function Ma(o,d){if(o._state===null)o._listeners.push(d);else{var p=o._state?d.onFulfilled:d.onRejected;if(p===null)return(o._state?d.resolve:d.reject)(o._value);++d.psd.ref,++Da,ii(Ec,[p,o,d])}}function Ec(o,d,p){try{var g,x=d._value;!d._state&&pa.length&&(pa=[]),g=wn&&d._consoleTask?d._consoleTask.run(function(){return o(x)}):o(x),d._state||pa.indexOf(x)!==-1||(E=>{for(var O=Na.length;O;)if(Na[--O]._value===E._value)return Na.splice(O,1)})(d),p.resolve(g)}catch(E){p.reject(E)}finally{--Da==0&&sl(),--p.psd.ref||p.psd.finalize()}}function Ro(){An(Ft,function(){ya()&&$n()})}function ya(){var o=Yi;return Vi=Yi=!1,o}function $n(){var o,d,p;do for(;0<si.length;)for(o=si,si=[],p=o.length,d=0;d<p;++d){var g=o[d];g[0].apply(null,g[1])}while(0<si.length);Vi=Yi=!0}function sl(){for(var o=Na,d=(Na=[],o.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)}),Ii.slice(0)),p=d.length;p;)d[--p]()}function ui(o){return new me(ai,!1,o)}function vt(o,d){var p=be;return function(){var g=ya(),x=be;try{return va(p,!0),o.apply(this,arguments)}catch(E){d&&d(E)}finally{va(x,!1),g&&$n()}}}A(me.prototype,{then:yr,_then:function(o,d){Ma(this,new li(null,null,o,d,be))},catch:function(o){var d,p;return arguments.length===1?this.then(null,o):(d=o,p=arguments[1],typeof d=="function"?this.then(null,function(g){return(g instanceof d?p:ui)(g)}):this.then(null,function(g){return(g&&g.name===d?p:ui)(g)}))},finally:function(o){return this.then(function(d){return me.resolve(o()).then(function(){return d})},function(d){return me.resolve(o()).then(function(){return ui(d)})})},timeout:function(o,d){var p=this;return o<1/0?new me(function(g,x){var E=setTimeout(function(){return x(new ke.Timeout(d))},o);p.then(g,x).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(me.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=ol(),A(me,{all:function(){var o=Ve.apply(null,arguments).map(vr);return new me(function(d,p){o.length===0&&d([]);var g=o.length;o.forEach(function(x,E){return me.resolve(x).then(function(O){o[E]=O,--g||d(o)},p)})})},resolve:function(o){return o instanceof me?o:o&&typeof o.then=="function"?new me(function(d,p){o.then(d,p)}):new me(ai,!0,o)},reject:ui,race:function(){var o=Ve.apply(null,arguments).map(vr);return new me(function(d,p){o.map(function(g){return me.resolve(g).then(d,p)})})},PSD:{get:function(){return be},set:function(o){return be=o}},totalEchoes:{get:function(){return fi}},newPSD:_t,usePSD:An,scheduler:{get:function(){return ii},set:function(o){ii=o}},rejectionMapper:{get:function(){return Zt},set:function(o){Zt=o}},follow:function(o,d){return new me(function(p,g){return _t(function(x,E){var O=be;O.unhandleds=[],O.onunhandled=E,O.finalize=na(function(){var j,D=this;j=function(){D.unhandleds.length===0?x():E(D.unhandleds[0])},Ii.push(function K(){j(),Ii.splice(Ii.indexOf(K),1)}),++Da,ii(function(){--Da==0&&sl()},[])},O.finalize),o()},d,p,g)})}}),ma&&(ma.allSettled&&$(me,"allSettled",function(){var o=Ve.apply(null,arguments).map(vr);return new me(function(d){o.length===0&&d([]);var p=o.length,g=new Array(p);o.forEach(function(x,E){return me.resolve(x).then(function(O){return g[E]={status:"fulfilled",value:O}},function(O){return g[E]={status:"rejected",reason:O}}).then(function(){return--p||d(g)})})})}),ma.any&&typeof AggregateError<"u"&&$(me,"any",function(){var o=Ve.apply(null,arguments).map(vr);return new me(function(d,p){o.length===0&&p(new AggregateError([]));var g=o.length,x=new Array(g);o.forEach(function(E,O){return me.resolve(E).then(function(j){return d(j)},function(j){x[O]=j,--g||p(new AggregateError(x))})})})}),ma.withResolvers)&&(me.withResolvers=ma.withResolvers);var Nt={awaits:0,echoes:0,id:0},ll=0,gr=[],ci=0,fi=0,ga=0;function _t(o,O,p,g){var x=be,E=Object.create(x),O=(E.parent=x,E.ref=0,E.global=!1,E.id=++ga,Ft.env,E.env=pr?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},O&&v(E,O),++x.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},An(E,o,p,g));return E.ref===0&&E.finalize(),O}function Dt(){return Nt.id||(Nt.id=++ll),++Nt.awaits,Nt.echoes+=on,Nt.id}function vn(){return!!Nt.awaits&&(--Nt.awaits==0&&(Nt.id=0),Nt.echoes=Nt.awaits*on,!0)}function vr(o){return Nt.echoes&&o&&o.constructor===ma?(Dt(),o.then(function(d){return vn(),d},function(d){return vn(),dt(d)})):o}function Tc(){var o=gr[gr.length-1];gr.pop(),va(o,!1)}function va(o,d){var p,g,x=be;(d?!Nt.echoes||ci++&&o===be:!ci||--ci&&o===be)||queueMicrotask(d?(function(E){++fi,Nt.echoes&&--Nt.echoes!=0||(Nt.echoes=Nt.awaits=Nt.id=0),gr.push(be),va(E,!0)}).bind(null,o):Tc),o!==be&&(be=o,x===Ft&&(Ft.env=ol()),pr)&&(p=Ft.env.Promise,g=o.env,x.global||o.global)&&(Object.defineProperty(f,"Promise",g.PromiseProp),p.all=g.all,p.race=g.race,p.resolve=g.resolve,p.reject=g.reject,g.allSettled&&(p.allSettled=g.allSettled),g.any)&&(p.any=g.any)}function ol(){var o=f.Promise;return pr?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function An(o,d,p,g,x){var E=be;try{return va(o,!0),d(p,g,x)}finally{va(E,!1)}}function Xi(o,d,p,g){return typeof o!="function"?o:function(){var x=be;p&&Dt(),va(d,!0);try{return o.apply(this,arguments)}finally{va(x,!1),g&&queueMicrotask(vn)}}}function ba(o){Promise===ma&&Nt.echoes===0?ci===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ya).indexOf("[native code]")===-1&&(Dt=vn=at);var dt=me.reject,Rn="",cn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Mt="String expected.",Ua=[],hi="__dbnames",ra="readonly",_a="readwrite";function za(o,d){return o?d?function(){return o.apply(this,arguments)&&d.apply(this,arguments)}:o:d}var ul={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function di(o){return typeof o!="string"||/\./.test(o)?function(d){return d}:function(d){return d[o]===void 0&&o in d&&delete(d=yn(d))[o],d}}function Co(){throw ke.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ge(o,d){try{var p=mi(o),g=mi(d);if(p!==g)return p==="Array"?1:g==="Array"?-1:p==="binary"?1:g==="binary"?-1:p==="string"?1:g==="string"?-1:p==="Date"?1:g!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return d<o?1:o<d?-1:0;case"binary":for(var x=Pn(o),E=Pn(d),O=x.length,j=E.length,D=O<j?O:j,K=0;K<D;++K)if(x[K]!==E[K])return x[K]<E[K]?-1:1;return O===j?0:O<j?-1:1;case"Array":for(var M=o,N=d,L=M.length,q=N.length,U=L<q?L:q,z=0;z<U;++z){var V=Ge(M[z],N[z]);if(V!==0)return V}return L===q?0:L<q?-1:1}}catch{}return NaN}function mi(o){var d=typeof o;return d=="object"&&(ArrayBuffer.isView(o)||(d=gn(o))==="ArrayBuffer")?"binary":d}function Pn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function en(o,d,p){var g=o.schema.yProps;return g?(d&&0<p.numFailures&&(d=d.filter(function(x,E){return!p.failures[E]})),Promise.all(g.map(function(x){return x=x.updatesTable,d?o.db.table(x).where("k").anyOf(d).delete():o.db.table(x).clear()})).then(function(){return p})):p}No.prototype.execute=function(o){var d=this["@@propmod"];if(d.add!==void 0){var p=d.add;if(y(p))return c(c([],y(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(d.remove!==void 0){var g=d.remove;if(y(g))return y(o)?o.filter(function(x){return!g.includes(x)}).sort():[];if(typeof g=="number")return Number(o)-g;if(typeof g=="bigint")try{return BigInt(o)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return p=(p=d.replacePrefix)==null?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?d.replacePrefix[1]+o.substring(p.length):o};var br=No;function No(o){this["@@propmod"]=o}function Qi(o,d){for(var p=m(d),g=p.length,x=!1,E=0;E<g;++E){var O=p[E],j=d[O],D=Oe(o,O);j instanceof br?(pe(o,O,j.execute(D)),x=!0):D!==j&&(pe(o,O,j),x=!0)}return x}st.prototype._trans=function(o,d,p){var g=this._tx||be.trans,x=this.name,E=wn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function O(K,M,N){if(N.schema[x])return d(N.idbtrans,N);throw new ke.NotFound("Table "+x+" not part of transaction")}var j=ya();try{var D=g&&g.db._novip===this.db._novip?g===be.trans?g._promise(o,O,p):_t(function(){return g._promise(o,O,p)},{trans:g,transless:be.transless||be}):(function K(M,N,L,q){if(M.idbdb&&(M._state.openComplete||be.letThrough||M._vip)){var U=M._createTransaction(N,L,M._dbSchema);try{U.create(),M._state.PR1398_maxLoop=3}catch(z){return z.name===Gt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return K(M,N,L,q)})):dt(z)}return U._promise(N,function(z,V){return _t(function(){return be.trans=U,q(z,V,U)})}).then(function(z){if(N==="readwrite")try{U.idbtrans.commit()}catch{}return N==="readonly"?z:U._completion.then(function(){return z})})}if(M._state.openComplete)return dt(new ke.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return dt(new ke.DatabaseClosed);M.open().catch(at)}return M._state.dbReadyPromise.then(function(){return K(M,N,L,q)})})(this.db,o,[this.name],O);return E&&(D._consoleTask=E,D=D.catch(function(K){return console.trace(K),dt(K)})),D}finally{j&&$n()}},st.prototype.get=function(o,d){var p=this;return o&&o.constructor===Object?this.where(o).first(d):o==null?dt(new ke.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return p.core.get({trans:g,key:o}).then(function(x){return p.hook.reading.fire(x)})}).then(d)},st.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(y(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var d=m(o);if(d.length===1)return this.where(d[0]).equals(o[d[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(j){if(j.compound&&d.every(function(K){return 0<=j.keyPath.indexOf(K)})){for(var D=0;D<d.length;++D)if(d.indexOf(j.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(j,D){return j.keyPath.length-D.keyPath.length})[0];if(p&&this.db._maxKey!==Rn)return O=p.keyPath.slice(0,d.length),this.where(O).equals(O.map(function(j){return o[j]}));!p&&wn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var g=this.schema.idxByName;function x(j,D){return Ge(j,D)===0}var O=d.reduce(function(M,D){var K=M[0],M=M[1],N=g[D],L=o[D];return[K||N,K||!N?za(M,N&&N.multi?function(q){return q=Oe(q,D),y(q)&&q.some(function(U){return x(L,U)})}:function(q){return x(L,Oe(q,D))}):M]},[null,null]),E=O[0],O=O[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(O):p?this.filter(O):this.where(d).equals("")},st.prototype.filter=function(o){return this.toCollection().and(o)},st.prototype.count=function(o){return this.toCollection().count(o)},st.prototype.offset=function(o){return this.toCollection().offset(o)},st.prototype.limit=function(o){return this.toCollection().limit(o)},st.prototype.each=function(o){return this.toCollection().each(o)},st.prototype.toArray=function(o){return this.toCollection().toArray(o)},st.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},st.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,y(o)?"[".concat(o.join("+"),"]"):o))},st.prototype.reverse=function(){return this.toCollection().reverse()},st.prototype.mapToClass=function(o){for(var d=this.db,p=this.name,g=((this.schema.mappedClass=o).prototype instanceof Co&&(o=(O=>{var j=M,D=O;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function K(){this.constructor=j}function M(){return O!==null&&O.apply(this,arguments)||this}return i(j,D),j.prototype=D===null?Object.create(D):(K.prototype=D.prototype,new K),Object.defineProperty(M.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),M.prototype.table=function(){return p},M})(o)),new Set),x=o.prototype;x;x=_(x))Object.getOwnPropertyNames(x).forEach(function(O){return g.add(O)});function E(O){if(!O)return O;var j,D=Object.create(o.prototype);for(j in O)if(!g.has(j))try{D[j]=O[j]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=E,this.hook("reading",E),o},st.prototype.defineClass=function(){return this.mapToClass(function(o){v(this,o)})},st.prototype.add=function(o,d){var p=this,g=this.schema.primKey,x=g.auto,E=g.keyPath,O=o;return E&&x&&(O=di(E)(o)),this._trans("readwrite",function(j){return p.core.mutate({trans:j,type:"add",keys:d!=null?[d]:null,values:[O]})}).then(function(j){return j.numFailures?me.reject(j.failures[0]):j.lastResult}).then(function(j){if(E)try{pe(o,E,j)}catch{}return j})},st.prototype.upsert=function(o,d){var p=this,g=this.schema.primKey.keyPath;return this._trans("readwrite",function(x){return p.core.get({trans:x,key:o}).then(function(E){var O=E??{};return Qi(O,d),g&&pe(O,g,o),p.core.mutate({trans:x,type:"put",values:[O],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[d]}}).then(function(j){return j.numFailures?me.reject(j.failures[0]):!!E})})})},st.prototype.update=function(o,d){return typeof o!="object"||y(o)?this.where(":id").equals(o).modify(d):(o=Oe(o,this.schema.primKey.keyPath))===void 0?dt(new ke.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(d)},st.prototype.put=function(o,d){var p=this,g=this.schema.primKey,x=g.auto,E=g.keyPath,O=o;return E&&x&&(O=di(E)(o)),this._trans("readwrite",function(j){return p.core.mutate({trans:j,type:"put",values:[O],keys:d!=null?[d]:null})}).then(function(j){return j.numFailures?me.reject(j.failures[0]):j.lastResult}).then(function(j){if(E)try{pe(o,E,j)}catch{}return j})},st.prototype.delete=function(o){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"delete",keys:[o]}).then(function(g){return en(d,[o],g)}).then(function(g){return g.numFailures?me.reject(g.failures[0]):void 0})})},st.prototype.clear=function(){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"deleteRange",range:ul}).then(function(p){return en(o,null,p)})}).then(function(d){return d.numFailures?me.reject(d.failures[0]):void 0})},st.prototype.bulkGet=function(o){var d=this;return this._trans("readonly",function(p){return d.core.getMany({keys:o,trans:p}).then(function(g){return g.map(function(x){return d.hook.reading.fire(x)})})})},st.prototype.bulkAdd=function(o,d,p){var g=this,x=Array.isArray(d)?d:void 0,E=(p=p||(x?void 0:d))?p.allKeys:void 0;return this._trans("readwrite",function(O){var j=g.schema.primKey,K=j.auto,j=j.keyPath;if(j&&x)throw new ke.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(x&&x.length!==o.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,K=j&&K?o.map(di(j)):o;return g.core.mutate({trans:O,type:"add",keys:x,values:K,wantResults:E}).then(function(M){var N=M.numFailures,L=M.failures;if(N===0)return E?M.results:M.lastResult;throw new Ie("".concat(g.name,".bulkAdd(): ").concat(N," of ").concat(D," operations failed"),L)})})},st.prototype.bulkPut=function(o,d,p){var g=this,x=Array.isArray(d)?d:void 0,E=(p=p||(x?void 0:d))?p.allKeys:void 0;return this._trans("readwrite",function(O){var j=g.schema.primKey,K=j.auto,j=j.keyPath;if(j&&x)throw new ke.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(x&&x.length!==o.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,K=j&&K?o.map(di(j)):o;return g.core.mutate({trans:O,type:"put",keys:x,values:K,wantResults:E}).then(function(M){var N=M.numFailures,L=M.failures;if(N===0)return E?M.results:M.lastResult;throw new Ie("".concat(g.name,".bulkPut(): ").concat(N," of ").concat(D," operations failed"),L)})})},st.prototype.bulkUpdate=function(o){var d=this,p=this.core,g=o.map(function(O){return O.key}),x=o.map(function(O){return O.changes}),E=[];return this._trans("readwrite",function(O){return p.getMany({trans:O,keys:g,cache:"clone"}).then(function(j){var D=[],K=[],M=(o.forEach(function(N,L){var q=N.key,U=N.changes,z=j[L];if(z){for(var V=0,Q=Object.keys(U);V<Q.length;V++){var G=Q[V],te=U[G];if(G===d.schema.primKey.keyPath){if(Ge(te,q)!==0)throw new ke.Constraint("Cannot update primary key in bulkUpdate()")}else pe(z,G,te)}E.push(L),D.push(q),K.push(z)}}),D.length);return p.mutate({trans:O,type:"put",keys:D,values:K,updates:{keys:g,changeSpecs:x}}).then(function(N){var L=N.numFailures,q=N.failures;if(L===0)return M;for(var U=0,z=Object.keys(q);U<z.length;U++){var V,Q=z[U],G=E[Number(Q)];G!=null&&(V=q[Q],delete q[Q],q[G]=V)}throw new Ie("".concat(d.name,".bulkUpdate(): ").concat(L," of ").concat(M," operations failed"),q)})})})},st.prototype.bulkDelete=function(o){var d=this,p=o.length;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:o}).then(function(x){return en(d,o,x)})}).then(function(g){var x=g.numFailures,E=g.failures;if(x===0)return g.lastResult;throw new Ie("".concat(d.name,".bulkDelete(): ").concat(x," of ").concat(p," operations failed"),E)})};var cl=st;function st(){}function pi(o){function d(O,j){if(j){for(var D=arguments.length,K=new Array(D-1);--D;)K[D-1]=arguments[D];return p[O].subscribe.apply(null,K),o}if(typeof O=="string")return p[O]}var p={};d.addEventType=E;for(var g=1,x=arguments.length;g<x;++g)E(arguments[g]);return d;function E(O,j,D){var K,M;if(typeof O!="object")return j=j||il,M={subscribers:[],fire:D=D||at,subscribe:function(N){M.subscribers.indexOf(N)===-1&&(M.subscribers.push(N),M.fire=j(M.fire,N))},unsubscribe:function(N){M.subscribers=M.subscribers.filter(function(L){return L!==N}),M.fire=M.subscribers.reduce(j,D)}},p[O]=d[O]=M;m(K=O).forEach(function(N){var L=K[N];if(y(L))E(N,K[N][0],K[N][1]);else{if(L!=="asap")throw new ke.InvalidArgument("Invalid event config");var q=E(N,mr,function(){for(var U=arguments.length,z=new Array(U);U--;)z[U]=arguments[U];q.subscribers.forEach(function(V){Ue(function(){V.apply(null,z)})})})}})}}function It(o,d){return J(d).from({prototype:o}),d}function wa(o,d){return!(o.filter||o.algorithm||o.or)&&(d?o.justLimit:!o.replayFilter)}function Ji(o,d){o.filter=za(o.filter,d)}function yi(o,d,p){var g=o.replayFilter;o.replayFilter=g?function(){return za(g(),d())}:d,o.justLimit=p&&!g}function ia(o,d){if(o.isPrimKey)return d.primaryKey;var p=d.getIndexByKeyPath(o.index);if(p)return p;throw new ke.Schema("KeyPath "+o.index+" on object store "+d.name+" is not indexed")}function fl(o,d,p){var g=ia(o,d.schema);return d.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:g,range:o.range}})}function gi(o,d,p,g){var x,E,O=o.replayFilter?za(o.filter,o.replayFilter()):o.filter;return o.or?(x={},E=function(j,D,K){var M,N;O&&!O(D,K,function(L){return D.stop(L)},function(L){return D.fail(L)})||((N=""+(M=D.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(M)),T(x,N))||(x[N]=!0,d(j,D,K))},Promise.all([o.or._iterate(E,p),La(fl(o,g,p),o.algorithm,E,!o.keysOnly&&o.valueMapper)])):La(fl(o,g,p),za(o.algorithm,O),d,!o.keysOnly&&o.valueMapper)}function La(o,d,p,g){var x=vt(g?function(E,O,j){return p(g(E),O,j)}:p);return o.then(function(E){if(E)return E.start(function(){var O=function(){return E.continue()};d&&!d(E,function(j){return O=j},function(j){E.stop(j),O=at},function(j){E.fail(j),O=at})||x(E.value,E,function(j){return O=j}),O()})})}Fe.prototype._read=function(o,d){var p=this._ctx;return p.error?p.table._trans(null,dt.bind(null,p.error)):p.table._trans("readonly",o).then(d)},Fe.prototype._write=function(o){var d=this._ctx;return d.error?d.table._trans(null,dt.bind(null,d.error)):d.table._trans("readwrite",o,"locked")},Fe.prototype._addAlgorithm=function(o){var d=this._ctx;d.algorithm=za(d.algorithm,o)},Fe.prototype._iterate=function(o,d){return gi(this._ctx,o,d,this._ctx.table.core)},Fe.prototype.clone=function(o){var d=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&v(p,o),d._ctx=p,d},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(o){var d=this._ctx;return this._read(function(p){return gi(d,o,p,d.table.core)})},Fe.prototype.count=function(o){var d=this;return this._read(function(p){var g,x=d._ctx,E=x.table.core;return wa(x,!0)?E.count({trans:p,query:{index:ia(x,E.schema),range:x.range}}).then(function(O){return Math.min(O,x.limit)}):(g=0,gi(x,function(){return++g,!1},p,E).then(function(){return g}))}).then(o)},Fe.prototype.sortBy=function(o,d){var p=o.split(".").reverse(),g=p[0],x=p.length-1;function E(D,K){return K?E(D[p[K]],K-1):D[g]}var O=this._ctx.dir==="next"?1:-1;function j(D,K){return Ge(E(D,x),E(K,x))*O}return this.toArray(function(D){return D.sort(j)}).then(d)},Fe.prototype.toArray=function(o){var d=this;return this._read(function(p){var g,x,E,O=d._ctx;return O.dir==="next"&&wa(O,!0)&&0<O.limit?(g=O.valueMapper,x=ia(O,O.table.core.schema),O.table.core.query({trans:p,limit:O.limit,values:!0,query:{index:x,range:O.range}}).then(function(j){return j=j.result,g?j.map(g):j})):(E=[],gi(O,function(j){return E.push(j)},p,O.table.core).then(function(){return E}))},o)},Fe.prototype.offset=function(o){var d=this._ctx;return o<=0||(d.offset+=o,wa(d)?yi(d,function(){var p=o;return function(g,x){return p===0||(p===1?--p:x(function(){g.advance(p),p=0}),!1)}}):yi(d,function(){var p=o;return function(){return--p<0}})),this},Fe.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),yi(this._ctx,function(){var d=o;return function(p,g,x){return--d<=0&&g(x),0<=d}},!0),this},Fe.prototype.until=function(o,d){return Ji(this._ctx,function(p,g,x){return!o(p.value)||(g(x),d)}),this},Fe.prototype.first=function(o){return this.limit(1).toArray(function(d){return d[0]}).then(o)},Fe.prototype.last=function(o){return this.reverse().first(o)},Fe.prototype.filter=function(o){var d;return Ji(this._ctx,function(p){return o(p.value)}),(d=this._ctx).isMatch=za(d.isMatch,o),this},Fe.prototype.and=function(o){return this.filter(o)},Fe.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(p,g){o(g.key,g)})},Fe.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Fe.prototype.eachPrimaryKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(p,g){o(g.primaryKey,g)})},Fe.prototype.keys=function(o){var d=this._ctx,p=(d.keysOnly=!d.isMatch,[]);return this.each(function(g,x){p.push(x.key)}).then(function(){return p}).then(o)},Fe.prototype.primaryKeys=function(o){var d=this._ctx;if(d.dir==="next"&&wa(d,!0)&&0<d.limit)return this._read(function(g){var x=ia(d,d.table.core.schema);return d.table.core.query({trans:g,values:!1,limit:d.limit,query:{index:x,range:d.range}})}).then(function(g){return g.result}).then(o);d.keysOnly=!d.isMatch;var p=[];return this.each(function(g,x){p.push(x.primaryKey)}).then(function(){return p}).then(o)},Fe.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Fe.prototype.firstKey=function(o){return this.limit(1).keys(function(d){return d[0]}).then(o)},Fe.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Fe.prototype.distinct=function(){var o,d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];return d&&d.multi&&(o={},Ji(this._ctx,function(g){var g=g.primaryKey.toString(),x=T(o,g);return o[g]=!0,!x})),this},Fe.prototype.modify=function(o){var d=this,p=this._ctx;return this._write(function(g){function x(z,V){var Q=V.failures;L+=z-V.numFailures;for(var G=0,te=m(Q);G<te.length;G++){var ue=te[G];N.push(Q[ue])}}var E=typeof o=="function"?o:function(z){return Qi(z,o)},O=p.table.core,M=O.schema.primaryKey,j=M.outbound,D=M.extractKey,K=200,M=d.db._options.modifyChunkSize,N=(M&&(K=typeof M=="object"?M[O.name]||M["*"]||200:M),[]),L=0,q=[],U=o===hl;return d.clone().primaryKeys().then(function(z){function V(G){var te=Math.min(K,z.length-G),ue=z.slice(G,G+te);return(U?Promise.resolve([]):O.getMany({trans:g,keys:ue,cache:"immutable"})).then(function(he){var de=[],ce=[],we=j?[]:null,ye=U?ue:[];if(!U)for(var fe=0;fe<te;++fe){var xe=he[fe],ze={value:yn(xe),primKey:z[G+fe]};E.call(ze,ze.value,ze)!==!1&&(ze.value==null?ye.push(z[G+fe]):j||Ge(D(xe),D(ze.value))===0?(ce.push(ze.value),j&&we.push(z[G+fe])):(ye.push(z[G+fe]),de.push(ze.value)))}return Promise.resolve(0<de.length&&O.mutate({trans:g,type:"add",values:de}).then(function(Ye){for(var Re in Ye.failures)ye.splice(parseInt(Re),1);x(de.length,Ye)})).then(function(){return(0<ce.length||Q&&typeof o=="object")&&O.mutate({trans:g,type:"put",keys:we,values:ce,criteria:Q,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<G}).then(function(Ye){return x(ce.length,Ye)})}).then(function(){return(0<ye.length||Q&&U)&&O.mutate({trans:g,type:"delete",keys:ye,criteria:Q,isAdditionalChunk:0<G}).then(function(Ye){return en(p.table,ye,Ye)}).then(function(Ye){return x(ye.length,Ye)})}).then(function(){return z.length>G+te&&V(G+K)})})}var Q=wa(p)&&p.limit===1/0&&(typeof o!="function"||U)&&{index:p.index,range:p.range};return V(0).then(function(){if(0<N.length)throw new He("Error modifying one or more objects",N,L,q);return z.length})})})},Fe.prototype.delete=function(){var o=this._ctx,d=o.range;return!wa(o)||o.table.schema.yProps||!o.isPrimKey&&d.type!==3?this.modify(hl):this._write(function(p){var g=o.table.core.schema.primaryKey,x=d;return o.table.core.count({trans:p,query:{index:g,range:x}}).then(function(E){return o.table.core.mutate({trans:p,type:"deleteRange",range:x}).then(function(D){var j=D.failures,D=D.numFailures;if(D)throw new He("Could not delete some values",Object.keys(j).map(function(K){return j[K]}),E-D);return E-D})})})};var kc=Fe;function Fe(){}var hl=function(o,d){return d.value=null};function dl(o,d){return o<d?-1:o===d?0:1}function Oc(o,d){return d<o?-1:o===d?0:1}function bn(o,d,p){return o=o instanceof Ba?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(d),o}function sa(o){return new o.Collection(o,function(){return Wi("")}).limit(0)}function xn(q,d,p,g){var x,E,O,j,D,K,M,N=p.length;if(!p.every(function(z){return typeof z=="string"}))return bn(q,Mt);function L(z){x=z==="next"?function(Q){return Q.toUpperCase()}:function(Q){return Q.toLowerCase()},E=z==="next"?function(Q){return Q.toLowerCase()}:function(Q){return Q.toUpperCase()},O=z==="next"?dl:Oc;var V=p.map(function(Q){return{lower:E(Q),upper:x(Q)}}).sort(function(Q,G){return O(Q.lower,G.lower)});j=V.map(function(Q){return Q.upper}),D=V.map(function(Q){return Q.lower}),M=(K=z)==="next"?"":g}L("next");var q=new q.Collection(q,function(){return Kn(j[0],D[N-1]+g)}),U=(q._ondirectionchange=function(z){L(z)},0);return q._addAlgorithm(function(z,V,Q){var G=z.key;if(typeof G=="string"){var te=E(G);if(d(te,D,U))return!0;for(var ue=null,he=U;he<N;++he){var de=((ce,we,ye,fe,xe,ze)=>{for(var Ye=Math.min(ce.length,fe.length),Re=-1,Be=0;Be<Ye;++Be){var mt=we[Be];if(mt!==fe[Be])return xe(ce[Be],ye[Be])<0?ce.substr(0,Be)+ye[Be]+ye.substr(Be+1):xe(ce[Be],fe[Be])<0?ce.substr(0,Be)+fe[Be]+ye.substr(Be+1):0<=Re?ce.substr(0,Re)+we[Re]+ye.substr(Re+1):null;xe(ce[Be],mt)<0&&(Re=Be)}return Ye<fe.length&&ze==="next"?ce+ye.substr(ce.length):Ye<ce.length&&ze==="prev"?ce.substr(0,ye.length):Re<0?null:ce.substr(0,Re)+fe[Re]+ye.substr(Re+1)})(G,te,j[he],D[he],O,K);de===null&&ue===null?U=he+1:(ue===null||0<O(ue,de))&&(ue=de)}V(ue!==null?function(){z.continue(ue+M)}:Q)}return!1}),q}function Kn(o,d,p,g){return{type:2,lower:o,upper:d,lowerOpen:p,upperOpen:g}}function Wi(o){return{type:1,lower:o,upper:o}}Object.defineProperty(xt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),xt.prototype.between=function(o,d,p,g){p=p!==!1,g=g===!0;try{return 0<this._cmp(o,d)||this._cmp(o,d)===0&&(p||g)&&(!p||!g)?sa(this):new this.Collection(this,function(){return Kn(o,d,!p,!g)})}catch{return bn(this,cn)}},xt.prototype.equals=function(o){return o==null?bn(this,cn):new this.Collection(this,function(){return Wi(o)})},xt.prototype.above=function(o){return o==null?bn(this,cn):new this.Collection(this,function(){return Kn(o,void 0,!0)})},xt.prototype.aboveOrEqual=function(o){return o==null?bn(this,cn):new this.Collection(this,function(){return Kn(o,void 0,!1)})},xt.prototype.below=function(o){return o==null?bn(this,cn):new this.Collection(this,function(){return Kn(void 0,o,!1,!0)})},xt.prototype.belowOrEqual=function(o){return o==null?bn(this,cn):new this.Collection(this,function(){return Kn(void 0,o)})},xt.prototype.startsWith=function(o){return typeof o!="string"?bn(this,Mt):this.between(o,o+Rn,!0,!0)},xt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):xn(this,function(d,p){return d.indexOf(p[0])===0},[o],Rn)},xt.prototype.equalsIgnoreCase=function(o){return xn(this,function(d,p){return d===p[0]},[o],"")},xt.prototype.anyOfIgnoreCase=function(){var o=Ve.apply(Ze,arguments);return o.length===0?sa(this):xn(this,function(d,p){return p.indexOf(d)!==-1},o,"")},xt.prototype.startsWithAnyOfIgnoreCase=function(){var o=Ve.apply(Ze,arguments);return o.length===0?sa(this):xn(this,function(d,p){return p.some(function(g){return d.indexOf(g)===0})},o,Rn)},xt.prototype.anyOf=function(){var o,d,p=this,g=Ve.apply(Ze,arguments),x=this._cmp;try{g.sort(x)}catch{return bn(this,cn)}return g.length===0?sa(this):((o=new this.Collection(this,function(){return Kn(g[0],g[g.length-1])}))._ondirectionchange=function(E){x=E==="next"?p._ascending:p._descending,g.sort(x)},d=0,o._addAlgorithm(function(E,O,j){for(var D=E.key;0<x(D,g[d]);)if(++d===g.length)return O(j),!1;return x(D,g[d])===0||(O(function(){E.continue(g[d])}),!1)}),o)},xt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},xt.prototype.noneOf=function(){var o=Ve.apply(Ze,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return bn(this,cn)}var d=o.reduce(function(p,g){return p?p.concat([[p[p.length-1][1],g]]):[[-1/0,g]]},null);return d.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},xt.prototype.inAnyRange=function(o,Q){var p=this,g=this._cmp,x=this._ascending,E=this._descending,O=this._min,j=this._max;if(o.length===0)return sa(this);if(!o.every(function(G){return G[0]!==void 0&&G[1]!==void 0&&x(G[0],G[1])<=0}))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ke.InvalidArgument);var D=!Q||Q.includeLowers!==!1,K=Q&&Q.includeUppers===!0,M,N=x;function L(G,te){return N(G[0],te[0])}try{(M=o.reduce(function(G,te){for(var ue=0,he=G.length;ue<he;++ue){var de=G[ue];if(g(te[0],de[1])<0&&0<g(te[1],de[0])){de[0]=O(de[0],te[0]),de[1]=j(de[1],te[1]);break}}return ue===he&&G.push(te),G},[])).sort(L)}catch{return bn(this,cn)}var q=0,U=K?function(G){return 0<x(G,M[q][1])}:function(G){return 0<=x(G,M[q][1])},z=D?function(G){return 0<E(G,M[q][0])}:function(G){return 0<=E(G,M[q][0])},V=U,Q=new this.Collection(this,function(){return Kn(M[0][0],M[M.length-1][1],!D,!K)});return Q._ondirectionchange=function(G){N=G==="next"?(V=U,x):(V=z,E),M.sort(L)},Q._addAlgorithm(function(G,te,ue){for(var he,de=G.key;V(de);)if(++q===M.length)return te(ue),!1;return!U(he=de)&&!z(he)||(p._cmp(de,M[q][1])===0||p._cmp(de,M[q][0])===0||te(function(){N===x?G.continue(M[q][0]):G.continue(M[q][1])}),!1)}),Q},xt.prototype.startsWithAnyOf=function(){var o=Ve.apply(Ze,arguments);return o.every(function(d){return typeof d=="string"})?o.length===0?sa(this):this.inAnyRange(o.map(function(d){return[d,d+Rn]})):bn(this,"startsWithAnyOf() only works with strings")};var Ba=xt;function xt(){}function Cn(o){return vt(function(d){return qa(d),o(d.target.error),!1})}function qa(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var _r="storagemutated",Ha="x-storagemutated-1",Xt=pi(null,_r),ml=(fn.prototype._lock=function(){return _e(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},fn.prototype._unlock=function(){if(_e(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{An(o[1],o[0])}catch{}}return this},fn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},fn.prototype.create=function(o){var d=this;if(this.mode){var p=this.db.idbdb,g=this.db._state.dbOpenError;if(_e(!this.idbtrans),!o&&!p)switch(g&&g.name){case"DatabaseClosedError":throw new ke.DatabaseClosed(g);case"MissingAPIError":throw new ke.MissingAPI(g.message,g);default:throw new ke.OpenFailed(g)}if(!this.active)throw new ke.TransactionInactive;_e(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(x){qa(x),d._reject(o.error)}),o.onabort=vt(function(x){qa(x),d.active&&d._reject(new ke.Abort(o.error)),d.active=!1,d.on("abort").fire(x)}),o.oncomplete=vt(function(){d.active=!1,d._resolve(),"mutatedParts"in o&&Xt.storagemutated.fire(o.mutatedParts)})}return this},fn.prototype._promise=function(o,d,p){var g,x=this;return o==="readwrite"&&this.mode!=="readwrite"?dt(new ke.ReadOnly("Transaction is readonly")):this.active?this._locked()?new me(function(E,O){x._blockedFuncs.push([function(){x._promise(o,d,p).then(E,O)},be])}):p?_t(function(){var E=new me(function(O,j){x._lock();var D=d(O,j,x);D&&D.then&&D.then(O,j)});return E.finally(function(){return x._unlock()}),E._lib=!0,E}):((g=new me(function(E,O){var j=d(E,O,x);j&&j.then&&j.then(E,O)}))._lib=!0,g):dt(new ke.TransactionInactive)},fn.prototype._root=function(){return this.parent?this.parent._root():this},fn.prototype.waitFor=function(o){var d,p=this._root(),g=me.resolve(o),x=(p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return g}):(p._waitingFor=g,p._waitingQueue=[],d=p.idbtrans.objectStore(p.storeNames[0]),(function E(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(d.get(-1/0).onsuccess=E)})()),p._waitingFor);return new me(function(E,O){g.then(function(j){return p._waitingQueue.push(vt(E.bind(null,j)))},function(j){return p._waitingQueue.push(vt(O.bind(null,j)))}).finally(function(){p._waitingFor===x&&(p._waitingFor=null)})})},fn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ke.Abort))},fn.prototype.table=function(o){var d=this._memoizedTables||(this._memoizedTables={});if(T(d,o))return d[o];var p=this.schema[o];if(p)return(p=new this.db.Table(o,p,this)).core=this.db.core.table(o),d[o]=p;throw new ke.NotFound("Table "+o+" not part of transaction")},fn);function fn(){}function Gn(o,d,p,g,x,E,O,j){return{name:o,keyPath:d,unique:p,multi:g,auto:x,compound:E,src:(p&&!O?"&":"")+(g?"*":"")+(x?"++":"")+Zi(d),type:j}}function Zi(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function wr(o,d,p){return{name:o,primKey:d,indexes:p,mappedClass:null,idxByName:(g=function(x){return[x.name,x]},p.reduce(function(x,E,O){return E=g(E,O),E&&(x[E[0]]=E[1]),x},{}))};var g}var xr=function(o){try{return o.only([[]]),xr=function(){return[[]]},[[]]}catch{return xr=function(){return Rn},Rn}};function Sr(o){return o==null?function(){}:typeof o=="string"?(d=o).split(".").length===1?function(p){return p[d]}:function(p){return Oe(p,d)}:function(p){return Oe(p,o)};var d}function vi(o){return[].slice.call(o)}var Do=0;function Bt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function $a(o,d,D){function g(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var N=U.lower,L=U.upper,q=U.lowerOpen,U=U.upperOpen;return N===void 0?L===void 0?null:d.upperBound(L,!!U):L===void 0?d.lowerBound(N,!!q):d.bound(N,L,!!q,!!U)}function x(M){var N,L=M.name;return{name:L,schema:M,mutate:function(q){var U=q.trans,z=q.type,V=q.keys,Q=q.values,G=q.range;return new Promise(function(te,ue){te=vt(te);var he=U.objectStore(L),de=he.keyPath==null,ce=z==="put"||z==="add";if(!ce&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var we,ye=(V||Q||{length:1}).length;if(V&&Q&&V.length!==Q.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(ot){++Ye,qa(ot)}var xe=[],ze=[],Ye=0;if(z==="deleteRange"){if(G.type===4)return te({numFailures:Ye,failures:ze,results:[],lastResult:void 0});G.type===3?xe.push(we=he.clear()):xe.push(we=he.delete(g(G)))}else{var de=ce?de?[Q,V]:[Q,null]:[V,null],Re=de[0],Be=de[1];if(ce)for(var mt=0;mt<ye;++mt)xe.push(we=Be&&Be[mt]!==void 0?he[z](Re[mt],Be[mt]):he[z](Re[mt])),we.onerror=fe;else for(mt=0;mt<ye;++mt)xe.push(we=he[z](Re[mt])),we.onerror=fe}function dn(ot){ot=ot.target.result,xe.forEach(function(Ta,Ar){return Ta.error!=null&&(ze[Ar]=Ta.error)}),te({numFailures:Ye,failures:ze,results:z==="delete"?V:xe.map(function(Ta){return Ta.result}),lastResult:ot})}we.onerror=function(ot){fe(ot),dn(ot)},we.onsuccess=dn})},getMany:function(q){var U=q.trans,z=q.keys;return new Promise(function(V,Q){V=vt(V);for(var G,te=U.objectStore(L),ue=z.length,he=new Array(ue),de=0,ce=0,we=function(xe){xe=xe.target,he[xe._pos]=xe.result,++ce===de&&V(he)},ye=Cn(Q),fe=0;fe<ue;++fe)z[fe]!=null&&((G=te.get(z[fe]))._pos=fe,G.onsuccess=we,G.onerror=ye,++de);de===0&&V(he)})},get:function(q){var U=q.trans,z=q.key;return new Promise(function(V,Q){V=vt(V);var G=U.objectStore(L).get(z);G.onsuccess=function(te){return V(te.target.result)},G.onerror=Cn(Q)})},query:(N=j,function(q){return new Promise(function(U,z){U=vt(U);var V,Q,G,ce=q.trans,te=q.values,ue=q.limit,de=q.query,he=ue===1/0?void 0:ue,we=de.index,de=de.range,ce=ce.objectStore(L),ce=we.isPrimaryKey?ce:ce.index(we.name),we=g(de);if(ue===0)return U({result:[]});N?((de=te?ce.getAll(we,he):ce.getAllKeys(we,he)).onsuccess=function(ye){return U({result:ye.target.result})},de.onerror=Cn(z)):(V=0,Q=!te&&"openKeyCursor"in ce?ce.openKeyCursor(we):ce.openCursor(we),G=[],Q.onsuccess=function(ye){var fe=Q.result;return!fe||(G.push(te?fe.value:fe.primaryKey),++V===ue)?U({result:G}):void fe.continue()},Q.onerror=Cn(z))})}),openCursor:function(q){var U=q.trans,z=q.values,V=q.query,Q=q.reverse,G=q.unique;return new Promise(function(te,ue){te=vt(te);var ce=V.index,he=V.range,de=U.objectStore(L),de=ce.isPrimaryKey?de:de.index(ce.name),ce=Q?G?"prevunique":"prev":G?"nextunique":"next",we=!z&&"openKeyCursor"in de?de.openKeyCursor(g(he),ce):de.openCursor(g(he),ce);we.onerror=Cn(ue),we.onsuccess=vt(function(ye){var fe,xe,ze,Ye,Re=we.result;Re?(Re.___id=++Do,Re.done=!1,fe=Re.continue.bind(Re),xe=(xe=Re.continuePrimaryKey)&&xe.bind(Re),ze=Re.advance.bind(Re),Ye=function(){throw new Error("Cursor not stopped")},Re.trans=U,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=vt(ue),Re.next=function(){var Be=this,mt=1;return this.start(function(){return mt--?Be.continue():Be.stop()}).then(function(){return Be})},Re.start=function(Be){function mt(){if(we.result)try{Be()}catch(ot){Re.fail(ot)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var dn=new Promise(function(ot,Ta){ot=vt(ot),we.onerror=Cn(Ta),Re.fail=Ta,Re.stop=function(Ar){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=Ye,ot(Ar)}});return we.onsuccess=vt(function(ot){we.onsuccess=mt,mt()}),Re.continue=fe,Re.continuePrimaryKey=xe,Re.advance=ze,mt(),dn},te(Re)):te(null)},ue)})},count:function(q){var U=q.query,z=q.trans,V=U.index,Q=U.range;return new Promise(function(G,te){var ue=z.objectStore(L),ue=V.isPrimaryKey?ue:ue.index(V.name),he=g(Q),he=he?ue.count(he):ue.count();he.onsuccess=vt(function(de){return G(de.target.result)}),he.onerror=Cn(te)})}}}E=D,O=vi((D=o).objectStoreNames);var E,D={schema:{name:D.name,tables:O.map(function(M){return E.objectStore(M)}).map(function(M){var N=M.keyPath,L=M.autoIncrement,U=y(N),q={},U={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:N==null,compound:U,keyPath:N,autoIncrement:L,unique:!0,extractKey:Sr(N)},indexes:vi(M.indexNames).map(function(z){return M.index(z)}).map(function(G){var te=G.name,V=G.unique,Q=G.multiEntry,G=G.keyPath,te={name:te,compound:y(G),keyPath:G,unique:V,multiEntry:Q,extractKey:Sr(G)};return q[Bt(G)]=te}),getIndexByKeyPath:function(z){return q[Bt(z)]}};return q[":id"]=U.primaryKey,N!=null&&(q[Bt(N)]=U.primaryKey),U})},hasGetAll:0<O.length&&"getAll"in E.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},O=D.schema,j=D.hasGetAll,D=O.tables.map(x),K={};return D.forEach(function(M){return K[M.name]=M}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(M){if(K[M])return K[M];throw new Error("Table '".concat(M,"' not found"))},MIN_KEY:-1/0,MAX_KEY:xr(d),schema:O}}function Fi(o,d,p,g){return p=p.IDBKeyRange,d=$a(d,p,g),{dbcore:o.dbcore.reduce(function(x,E){return E=E.create,l(l({},x),E(x))},d)}}function xa(o,d){var p=d.db,p=Fi(o._middlewares,p,o._deps,d);o.core=p.dbcore,o.tables.forEach(function(g){var x=g.name;o.core.schema.tables.some(function(E){return E.name===x})&&(g.core=o.core.table(x),o[x]instanceof o.Table)&&(o[x].core=g.core)})}function es(o,d,p,g){p.forEach(function(x){var E=g[x];d.forEach(function(O){var j=(function D(K,M){return F(K,M)||(K=_(K))&&D(K,M)})(O,x);(!j||"value"in j&&j.value===void 0)&&(O===o.Transaction.prototype||O instanceof o.Transaction?$(O,x,{get:function(){return this.table(x)},set:function(D){R(this,x,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):O[x]=new o.Table(x,E))})})}function bi(o,d){d.forEach(function(p){for(var g in p)p[g]instanceof o.Table&&delete p[g]})}function pl(o,d){return o._cfg.version-d._cfg.version}function _i(o,d,p,g){var x=o._dbSchema,E=(p.objectStoreNames.contains("$meta")&&!x.$meta&&(x.$meta=wr("$meta",Uo("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,x)),O=(E.create(p),E._completion.catch(g),E._reject.bind(E)),j=be.transless||be;_t(function(){if(be.trans=E,be.transless=j,d!==0)return xa(o,p),K=d,((D=E).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(M){return M??K}):me.resolve(K)).then(function(V){var N=o,L=V,q=E,U=p,z=[],V=N._versions,Q=N._dbSchema=Er(0,N.idbdb,U);return(V=V.filter(function(G){return G._cfg.version>=L})).length===0?me.resolve():(V.forEach(function(G){z.push(function(){var te,ue,he,de=Q,ce=G._cfg.dbschema,we=(rs(N,de,U),rs(N,ce,U),Q=N._dbSchema=ce,ns(de,ce)),ye=(we.add.forEach(function(fe){yl(U,fe[0],fe[1].primKey,fe[1].indexes)}),we.change.forEach(function(fe){if(fe.recreate)throw new ke.Upgrade("Not yet support for changing primary key");var xe=U.objectStore(fe.name);fe.add.forEach(function(ze){return as(xe,ze)}),fe.change.forEach(function(ze){xe.deleteIndex(ze.name),as(xe,ze)}),fe.del.forEach(function(ze){return xe.deleteIndex(ze)})}),G._cfg.contentUpgrade);if(ye&&G._cfg.version>L)return xa(N,U),q._memoizedTables={},te=nt(ce),we.del.forEach(function(fe){te[fe]=de[fe]}),bi(N,[N.Transaction.prototype]),es(N,[N.Transaction.prototype],m(te),te),q.schema=te,(ue=H(ye))&&Dt(),ce=me.follow(function(){var fe;(he=ye(q))&&ue&&(fe=vn.bind(null,null),he.then(fe,fe))}),he&&typeof he.then=="function"?me.resolve(he):ce.then(function(){return he})}),z.push(function(te){var ue,he,de=G._cfg.dbschema;ue=de,he=te,[].slice.call(he.db.objectStoreNames).forEach(function(ce){return ue[ce]==null&&he.db.deleteObjectStore(ce)}),bi(N,[N.Transaction.prototype]),es(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),q.schema=N._dbSchema}),z.push(function(te){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===G._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(ue){return ue!=="$meta"})):te.objectStore("$meta").put(G._cfg.version,"version"))})}),(function G(){return z.length?me.resolve(z.shift()(q.idbtrans)).then(G):me.resolve()})().then(function(){Mo(Q,U)}))}).catch(O);var D,K;m(x).forEach(function(M){yl(p,M,x[M].primKey,x[M].indexes)}),xa(o,p),me.follow(function(){return o.on.populate.fire(E)}).catch(O)})}function ts(o,d){Mo(o._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var p=Er(0,o.idbdb,d);rs(o,o._dbSchema,d);for(var g=0,x=ns(p,o._dbSchema).change;g<x.length;g++){var E=(O=>{if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=d.objectStore(O.name);O.add.forEach(function(D){wn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(D.src)),as(j,D)})})(x[g]);if(typeof E=="object")return E.value}}function ns(o,d){var p,g={del:[],add:[],change:[]};for(p in o)d[p]||g.del.push(p);for(p in d){var x=o[p],E=d[p];if(x){var O={name:p,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(x.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||x.primKey.auto!==E.primKey.auto)O.recreate=!0,g.change.push(O);else{var j=x.idxByName,D=E.idxByName,K=void 0;for(K in j)D[K]||O.del.push(K);for(K in D){var M=j[K],N=D[K];M?M.src!==N.src&&O.change.push(N):O.add.push(N)}(0<O.del.length||0<O.add.length||0<O.change.length)&&g.change.push(O)}}else g.add.push([p,E])}return g}function yl(o,d,p,g){var x=o.db.createObjectStore(d,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});g.forEach(function(E){return as(x,E)})}function Mo(o,d){m(o).forEach(function(p){d.db.objectStoreNames.contains(p)||(wn&&console.debug("Dexie: Creating missing table",p),yl(d,p,o[p].primKey,o[p].indexes))})}function as(o,d){o.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Er(o,d,p){var g={};return ae(d.objectStoreNames,0).forEach(function(x){for(var E=p.objectStore(x),O=Gn(Zi(K=E.keyPath),K||"",!0,!1,!!E.autoIncrement,K&&typeof K!="string",!0),j=[],D=0;D<E.indexNames.length;++D){var M=E.index(E.indexNames[D]),K=M.keyPath,M=Gn(M.name,K,!!M.unique,!!M.multiEntry,!1,K&&typeof K!="string",!1);j.push(M)}g[x]=wr(x,O,j)}),g}function rs(o,d,p){for(var g=p.db.objectStoreNames,x=0;x<g.length;++x){var E=g[x],O=p.objectStore(E);o._hasGetAll="getAll"in O;for(var j=0;j<O.indexNames.length;++j){var D,K=O.indexNames[j],M=O.index(K).keyPath,M=typeof M=="string"?M:"["+ae(M).join("+")+"]";d[E]&&(D=d[E].idxByName[M])&&(D.name=K,delete d[E].idxByName[M],d[E].idxByName[K]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Uo(o){return o.split(",").map(function(d,p){var x=d.split(":"),g=(g=x[1])==null?void 0:g.trim(),x=(d=x[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(x)?x.match(/^\[(.*)\]$/)[1].split("+"):x;return Gn(x,E||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),y(E),p===0,g)})}Tr.prototype._createTableSchema=wr,Tr.prototype._parseIndexSyntax=Uo,Tr.prototype._parseStoresSpec=function(o,d){var p=this;m(o).forEach(function(g){if(o[g]!==null){var x=p._parseIndexSyntax(o[g]),E=x.shift();if(!E)throw new ke.Schema("Invalid schema for table "+g+": "+o[g]);if(E.unique=!0,E.multi)throw new ke.Schema("Primary key cannot be multiEntry*");x.forEach(function(O){if(O.auto)throw new ke.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new ke.Schema("Index must have a name and cannot be an empty string")}),E=p._createTableSchema(g,E,x),d[g]=E}})},Tr.prototype.stores=function(p){var d=this.db,p=(this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,p):p,d._versions),g={},x={};return p.forEach(function(E){v(g,E._cfg.storesSource),x=E._cfg.dbschema={},E._parseStoresSpec(g,x)}),d._dbSchema=x,bi(d,[d._allTables,d,d.Transaction.prototype]),es(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],m(x),x),d._storeNames=m(x),this},Tr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ni(this._cfg.contentUpgrade||at,o),this};var jc=Tr;function Tr(){}function gl(o,d){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new Yn(hi,{addons:[],indexedDB:o,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function is(o){return o&&typeof o.databases=="function"}function vl(o){return _t(function(){return be.letThrough=!0,o()})}function bl(o){return!("from"in o)}var Qt=function(o,d){var p;if(!this)return p=new Qt,o&&"d"in o&&v(p,o),p;v(this,arguments.length?{d:1,from:o,to:1<arguments.length?d:o}:{d:0})};function wi(o,d,p){var g=Ge(d,p);if(!isNaN(g)){if(0<g)throw RangeError();if(bl(o))return v(o,{from:d,to:p,d:1});var g=o.l,x=o.r;if(Ge(p,o.from)<0)return g?wi(g,d,p):o.l={from:d,to:p,d:1,l:null,r:null},Lo(o);if(0<Ge(d,o.to))return x?wi(x,d,p):o.r={from:d,to:p,d:1,l:null,r:null},Lo(o);Ge(d,o.from)<0&&(o.from=d,o.l=null,o.d=x?x.d+1:1),0<Ge(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),d=!o.r,g&&!o.l&&Pa(o,g),x&&d&&Pa(o,x)}}function Pa(o,d){bl(d)||(function p(g,x){var E=x.from,O=x.l,j=x.r;wi(g,E,x.to),O&&p(g,O),j&&p(g,j)})(o,d)}function zo(o,d){var p=ss(d),g=p.next();if(!g.done)for(var x=g.value,E=ss(o),O=E.next(x.from),j=O.value;!g.done&&!O.done;){if(Ge(j.from,x.to)<=0&&0<=Ge(j.to,x.from))return!0;Ge(x.from,j.from)<0?x=(g=p.next(j.from)).value:j=(O=E.next(x.from)).value}return!1}function ss(o){var d=bl(o)?null:{s:0,n:o};return{next:function(p){for(var g=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,g)for(;d.n.l&&Ge(p,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!g||Ge(p,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Lo(o){var d,p,g,x=(((x=o.r)==null?void 0:x.d)||0)-(((x=o.l)==null?void 0:x.d)||0),x=1<x?"r":x<-1?"l":"";x&&(d=x=="r"?"l":"r",p=l({},o),g=o[x],o.from=g.from,o.to=g.to,o[x]=g[x],p[x]=g[d],(o[d]=p).d=_l(p)),o.d=_l(o)}function _l(p){var d=p.r,p=p.l;return(d?p?Math.max(d.d,p.d):d.d:p?p.d:0)+1}function ls(o,d){return m(d).forEach(function(p){o[p]?Pa(o[p],d[p]):o[p]=(function g(x){var E,O,j={};for(E in x)T(x,E)&&(O=x[E],j[E]=!O||typeof O!="object"||jn.has(O.constructor)?O:g(O));return j})(d[p])}),o}function wl(o,d){return o.all||d.all||Object.keys(o).some(function(p){return d[p]&&zo(d[p],o[p])})}A(Qt.prototype,((un={add:function(o){return Pa(this,o),this},addKey:function(o){return wi(this,o,o),this},addKeys:function(o){var d=this;return o.forEach(function(p){return wi(d,p,p)}),this},hasKey:function(o){var d=ss(this).next(o).value;return d&&Ge(d.from,o)<=0&&0<=Ge(d.to,o)}})[ee]=function(){return ss(this)},un));var Ka={},xl={},Sl=!1;function os(o){ls(xl,o),Sl||(Sl=!0,setTimeout(function(){Sl=!1,El(xl,!(xl={}))},0))}function El(o,d){d===void 0&&(d=!1);var p=new Set;if(o.all)for(var g=0,x=Object.values(Ka);g<x.length;g++)Bo(j=x[g],o,p,d);else for(var E in o){var O,j,E=/^idb\:\/\/(.*)\/(.*)\//.exec(E);E&&(O=E[1],E=E[2],j=Ka["idb://".concat(O,"/").concat(E)])&&Bo(j,o,p,d)}p.forEach(function(D){return D()})}function Bo(o,d,p,g){for(var x=[],E=0,O=Object.entries(o.queries.query);E<O.length;E++){for(var j=O[E],D=j[0],K=[],M=0,N=j[1];M<N.length;M++){var L=N[M];wl(d,L.obsSet)?L.subscribers.forEach(function(V){return p.add(V)}):g&&K.push(L)}g&&x.push([D,K])}if(g)for(var q=0,U=x;q<U.length;q++){var z=U[q],D=z[0],K=z[1];o.queries.query[D]=K}}function Ac(o){var d=o._state,p=o._deps.indexedDB;if(d.isBeingOpened||o.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?dt(d.dbOpenError):o});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var g=d.openCanceller,x=Math.round(10*o.verno),E=!1;function O(){if(d.openCanceller!==g)throw new ke.DatabaseClosed("db.open() was cancelled")}function j(){return new me(function(L,q){if(O(),!p)throw new ke.MissingAPI;var U=o.name,z=d.autoSchema||!x?p.open(U):p.open(U,x);if(!z)throw new ke.MissingAPI;z.onerror=Cn(q),z.onblocked=vt(o._fireOnBlocked),z.onupgradeneeded=vt(function(V){var Q;M=z.transaction,d.autoSchema&&!o._options.allowEmptyDB?(z.onerror=qa,M.abort(),z.result.close(),(Q=p.deleteDatabase(U)).onsuccess=Q.onerror=vt(function(){q(new ke.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(M.onerror=Cn(q),Q=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,N=Q<1,o.idbdb=z.result,E&&ts(o,M),_i(o,Q/10,M,q))},q),z.onsuccess=vt(function(){M=null;var V,Q,G,te,ue,he,de=o.idbdb=z.result,ce=ae(de.objectStoreNames);if(0<ce.length)try{var we=de.transaction((ue=ce).length===1?ue[0]:ue,"readonly");if(d.autoSchema)he=de,te=we,(G=o).verno=he.version/10,te=G._dbSchema=Er(0,he,te),G._storeNames=ae(he.objectStoreNames,0),es(G,[G._allTables],m(te),te);else if(rs(o,o._dbSchema,we),Q=we,((Q=ns(Er(0,(V=o).idbdb,Q),V._dbSchema)).add.length||Q.change.some(function(ye){return ye.add.length||ye.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),x=de.version+1,E=!0,L(j());xa(o,we)}catch{}Ua.push(o),de.onversionchange=vt(function(ye){d.vcFired=!0,o.on("versionchange").fire(ye)}),de.onclose=vt(function(){o.close({disableAutoOpen:!1})}),N&&(ce=o._deps,ue=U,is(he=ce.indexedDB)||ue===hi||gl(he,ce.IDBKeyRange).put({name:ue}).catch(at)),L()},q)}).catch(function(L){switch(L?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<x)return x=0,j()}return me.reject(L)})}var D,K=d.dbReadyResolve,M=null,N=!1;return me.race([g,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function q(){return indexedDB.databases().finally(L)}D=setInterval(q,100),q()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(j)]).then(function(){return O(),d.onReadyBeingFired=[],me.resolve(vl(function(){return o.on.ready.fire(o.vip)})).then(function L(){var q;if(0<d.onReadyBeingFired.length)return q=d.onReadyBeingFired.reduce(ni,at),d.onReadyBeingFired=[],me.resolve(vl(function(){return q(o.vip)})).then(L)})}).finally(function(){d.openCanceller===g&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(L){d.dbOpenError=L;try{M&&M.abort()}catch{}return g===d.openCanceller&&o._close(),dt(L)}).finally(function(){d.openComplete=!0,K()}).then(function(){var L;return N&&(L={},o.tables.forEach(function(q){q.schema.indexes.forEach(function(U){U.name&&(L["idb://".concat(o.name,"/").concat(q.name,"/").concat(U.name)]=new Qt(-1/0,[[[]]]))}),L["idb://".concat(o.name,"/").concat(q.name,"/")]=L["idb://".concat(o.name,"/").concat(q.name,"/:dels")]=new Qt(-1/0,[[[]]])}),Xt(_r).fire(L),El(L,!0)),o})}function xi(o){function d(E){return o.next(E)}var p=x(d),g=x(function(E){return o.throw(E)});function x(E){return function(j){var j=E(j),D=j.value;return j.done?D:D&&typeof D.then=="function"?D.then(p,g):y(D)?Promise.all(D).then(p,g):p(D)}}return x(d)()}function Sa(o,d,p){for(var g=y(o)?o.slice():[o],x=0;x<p;++x)g.push(d);return g}var Rc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return l(l({},o),{table:function(g){var p=o.table(g),g=p.schema,x={},E=[];function O(L,q,U){var G=Bt(L),z=x[G]=x[G]||[],V=L==null?0:typeof L=="string"?1:L.length,Q=0<q,G=l(l({},U),{name:Q?"".concat(G,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:Q,keyTail:q,keyLength:V,extractKey:Sr(L),unique:!Q&&U.unique});return z.push(G),G.isPrimaryKey||E.push(G),1<V&&O(V===2?L[0]:L.slice(0,V-1),q+1,U),z.sort(function(te,ue){return te.keyTail-ue.keyTail}),G}var j=O(g.primaryKey.keyPath,0,g.primaryKey);x[":id"]=[j];for(var D=0,K=g.indexes;D<K.length;D++){var M=K[D];O(M.keyPath,0,M)}function N(L){var q,U=L.query.index;return U.isVirtual?l(l({},L),{query:{index:U.lowLevelIndex,range:(q=L.query.range,U=U.keyTail,{type:q.type===1?2:q.type,lower:Sa(q.lower,q.lowerOpen?o.MAX_KEY:o.MIN_KEY,U),lowerOpen:!0,upper:Sa(q.upper,q.upperOpen?o.MIN_KEY:o.MAX_KEY,U),upperOpen:!0})}}):L}return l(l({},p),{schema:l(l({},g),{primaryKey:j,indexes:E,getIndexByKeyPath:function(L){return(L=x[Bt(L)])&&L[0]}}),count:function(L){return p.count(N(L))},query:function(L){return p.query(N(L))},openCursor:function(L){var q=L.query.index,U=q.keyTail,z=q.keyLength;return q.isVirtual?p.openCursor(N(L)).then(function(Q){return Q&&V(Q)}):p.openCursor(L);function V(Q){return Object.create(Q,{continue:{value:function(G){G!=null?Q.continue(Sa(G,L.reverse?o.MAX_KEY:o.MIN_KEY,U)):L.unique?Q.continue(Q.key.slice(0,z).concat(L.reverse?o.MIN_KEY:o.MAX_KEY,U)):Q.continue()}},continuePrimaryKey:{value:function(G,te){Q.continuePrimaryKey(Sa(G,o.MAX_KEY,U),te)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var G=Q.key;return z===1?G[0]:G.slice(0,z)}},value:{get:function(){return Q.value}}})}}})}})}};function us(o,d,p,g){return p=p||{},g=g||"",m(o).forEach(function(x){var E,O,j;T(d,x)?(E=o[x],O=d[x],typeof E=="object"&&typeof O=="object"&&E&&O?(j=gn(E))!==gn(O)?p[g+x]=d[x]:j==="Object"?us(E,O,p,g+x+"."):E!==O&&(p[g+x]=d[x]):E!==O&&(p[g+x]=d[x])):p[g+x]=void 0}),m(d).forEach(function(x){T(o,x)||(p[g+x]=d[x])}),p}function cs(o,d){return d.type==="delete"?d.keys:d.keys||d.values.map(o.extractKey)}var qo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return l(l({},o),{table:function(d){var p=o.table(d),g=p.schema.primaryKey;return l(l({},p),{mutate:function(x){var E=be.trans,O=E.table(d).hook,j=O.deleting,D=O.creating,K=O.updating;switch(x.type){case"add":if(D.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"put":if(D.fire===at&&K.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"delete":if(j.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"deleteRange":if(j.fire===at)break;return E._promise("readwrite",function(){return(function N(L,q,U){return p.query({trans:L,values:!1,query:{index:g,range:q},limit:U}).then(function(z){var V=z.result;return M({type:"delete",keys:V,trans:L}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):V.length<U?{failures:[],numFailures:0,lastResult:void 0}:N(L,l(l({},q),{lower:V[V.length-1],lowerOpen:!0}),U)})})})(x.trans,x.range,1e4)},!0)}return p.mutate(x);function M(N){var L,q,U,z=be.trans,V=N.keys||cs(g,N);if(V)return(N=N.type==="add"||N.type==="put"?l(l({},N),{keys:V}):l({},N)).type!=="delete"&&(N.values=c([],N.values)),N.keys&&(N.keys=c([],N.keys)),L=p,U=V,((q=N).type==="add"?Promise.resolve([]):L.getMany({trans:q.trans,keys:U,cache:"immutable"})).then(function(Q){var G=V.map(function(te,ue){var he,de,ce,we=Q[ue],ye={onerror:null,onsuccess:null};return N.type==="delete"?j.fire.call(ye,te,we,z):N.type==="add"||we===void 0?(he=D.fire.call(ye,te,N.values[ue],z),te==null&&he!=null&&(N.keys[ue]=te=he,g.outbound||pe(N.values[ue],g.keyPath,te))):(he=us(we,N.values[ue]),(de=K.fire.call(ye,he,te,we,z))&&(ce=N.values[ue],Object.keys(de).forEach(function(fe){T(ce,fe)?ce[fe]=de[fe]:pe(ce,fe,de[fe])}))),ye});return p.mutate(N).then(function(te){for(var ue=te.failures,he=te.results,de=te.numFailures,te=te.lastResult,ce=0;ce<V.length;++ce){var we=(he||V)[ce],ye=G[ce];we==null?ye.onerror&&ye.onerror(ue[ce]):ye.onsuccess&&ye.onsuccess(N.type==="put"&&Q[ce]?N.values[ce]:we)}return{failures:ue,results:he,numFailures:de,lastResult:te}}).catch(function(te){return G.forEach(function(ue){return ue.onerror&&ue.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function Tl(o,d,p){try{if(!d||d.keys.length<o.length)return null;for(var g=[],x=0,E=0;x<d.keys.length&&E<o.length;++x)Ge(d.keys[x],o[E])===0&&(g.push(p?yn(d.values[x]):d.values[x]),++E);return g.length===o.length?g:null}catch{return null}}var Ho={stack:"dbcore",level:-1,create:function(o){return{table:function(d){var p=o.table(d);return l(l({},p),{getMany:function(g){var x;return g.cache?(x=Tl(g.keys,g.trans._cache,g.cache==="clone"))?me.resolve(x):p.getMany(g).then(function(E){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?yn(E):E},E}):p.getMany(g)},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),p.mutate(g)}})}}}};function Ga(o,d){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function $o(o,d){switch(o){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Cc={stack:"dbcore",level:0,name:"Observability",create:function(o){var d=o.schema.name,p=new Qt(o.MIN_KEY,o.MAX_KEY);return l(l({},o),{transaction:function(g,x,E){if(be.subscr&&x!=="readonly")throw new ke.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return o.transaction(g,x,E)},table:function(g){function x(V){var z,V=V.query;return[z=V.index,new Qt((z=(V=V.range).lower)!=null?z:o.MIN_KEY,(z=V.upper)!=null?z:o.MAX_KEY)]}var E=o.table(g),O=E.schema,j=O.primaryKey,D=O.indexes,K=j.extractKey,M=j.outbound,N=j.autoIncrement&&D.filter(function(U){return U.compound&&U.keyPath.includes(j.keyPath)}),L=l(l({},E),{mutate:function(U){function z(xe){return xe="idb://".concat(d,"/").concat(g,"/").concat(xe),ue[xe]||(ue[xe]=new Qt)}var V,Q,G,te=U.trans,ue=U.mutatedParts||(U.mutatedParts={}),he=z(""),de=z(":dels"),ce=U.type,ye=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[cs(j,U).filter(function(xe){return xe}),U.values]:[],we=ye[0],ye=ye[1],fe=U.trans._cache;return y(we)?(he.addKeys(we),(ce=ce==="delete"||we.length===ye.length?Tl(we,fe):null)||de.addKeys(we),(ce||ye)&&(V=z,Q=ce,G=ye,O.indexes.forEach(function(xe){var ze=V(xe.name||"");function Ye(Be){return Be!=null?xe.extractKey(Be):null}function Re(Be){xe.multiEntry&&y(Be)?Be.forEach(function(mt){return ze.addKey(mt)}):ze.addKey(Be)}(Q||G).forEach(function(Be,ot){var dn=Q&&Ye(Q[ot]),ot=G&&Ye(G[ot]);Ge(dn,ot)!==0&&(dn!=null&&Re(dn),ot!=null)&&Re(ot)})}))):we?(ye={from:(fe=we.lower)!=null?fe:o.MIN_KEY,to:(ce=we.upper)!=null?ce:o.MAX_KEY},de.add(ye),he.add(ye)):(he.add(p),de.add(p),O.indexes.forEach(function(xe){return z(xe.name).add(p)})),E.mutate(U).then(function(xe){return!we||U.type!=="add"&&U.type!=="put"||(he.addKeys(xe.results),N&&N.forEach(function(ze){for(var Ye=U.values.map(function(dn){return ze.extractKey(dn)}),Re=ze.keyPath.findIndex(function(dn){return dn===j.keyPath}),Be=0,mt=xe.results.length;Be<mt;++Be)Ye[Be][Re]=xe.results[Be];z(ze.name).addKeys(Ye)})),te.mutatedParts=ls(te.mutatedParts||{},ue),xe})}}),q={get:function(U){return[j,new Qt(U.key)]},getMany:function(U){return[j,new Qt().addKeys(U.keys)]},count:x,query:x,openCursor:x};return m(q).forEach(function(U){L[U]=function(z){var V=be.subscr,Q=!!V,G=Ga(be,E)&&$o(U,z)?z.obsSet={}:V;if(Q){var te,V=function(ye){return ye="idb://".concat(d,"/").concat(g,"/").concat(ye),G[ye]||(G[ye]=new Qt)},ue=V(""),he=V(":dels"),Q=q[U](z),de=Q[0],Q=Q[1];if((U==="query"&&de.isPrimaryKey&&!z.values?he:V(de.name||"")).add(Q),!de.isPrimaryKey){if(U!=="count")return te=U==="query"&&M&&z.values&&E.query(l(l({},z),{values:!1})),E[U].apply(this,arguments).then(function(ye){if(U==="query"){if(M&&z.values)return te.then(function(Ye){return Ye=Ye.result,ue.addKeys(Ye),ye});var fe=z.values?ye.result.map(K):ye.result;(z.values?ue:he).addKeys(fe)}else{var xe,ze;if(U==="openCursor")return ze=z.values,(xe=ye)&&Object.create(xe,{key:{get:function(){return he.addKey(xe.primaryKey),xe.key}},primaryKey:{get:function(){var Ye=xe.primaryKey;return he.addKey(Ye),Ye}},value:{get:function(){return ze&&ue.addKey(xe.primaryKey),xe.value}}})}return ye});he.add(p)}}return E[U].apply(this,arguments)}}),L}})}};function Po(o,d,p){var g;return p.numFailures===0?d:d.type==="deleteRange"||(g=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1,p.numFailures===g)?null:(g=l({},d),y(g.keys)&&(g.keys=g.keys.filter(function(x,E){return!(E in p.failures)})),"values"in g&&y(g.values)&&(g.values=g.values.filter(function(x,E){return!(E in p.failures)})),g)}function fs(o,d){return p=o,((g=d).lower===void 0||(g.lowerOpen?0<Ge(p,g.lower):0<=Ge(p,g.lower)))&&(p=o,(g=d).upper===void 0||(g.upperOpen?Ge(p,g.upper)<0:Ge(p,g.upper)<=0));var p,g}function kl(o,d,p,g,x,E){var O,j,D,K,M,N;return!p||p.length===0||(O=d.query.index,j=O.multiEntry,D=d.query.range,K=g.schema.primaryKey.extractKey,M=O.extractKey,N=(O.lowLevelIndex||O).extractKey,(g=p.reduce(function(L,q){var U=L,z=[];if(q.type==="add"||q.type==="put")for(var V=new Qt,Q=q.values.length-1;0<=Q;--Q){var G,te=q.values[Q],ue=K(te);!V.hasKey(ue)&&(G=M(te),j&&y(G)?G.some(function(ye){return fs(ye,D)}):fs(G,D))&&(V.addKey(ue),z.push(te))}switch(q.type){case"add":var he=new Qt().addKeys(d.values?L.map(function(fe){return K(fe)}):L),U=L.concat(d.values?z.filter(function(fe){return fe=K(fe),!he.hasKey(fe)&&(he.addKey(fe),!0)}):z.map(function(fe){return K(fe)}).filter(function(fe){return!he.hasKey(fe)&&(he.addKey(fe),!0)}));break;case"put":var de=new Qt().addKeys(q.values.map(function(fe){return K(fe)}));U=L.filter(function(fe){return!de.hasKey(d.values?K(fe):fe)}).concat(d.values?z:z.map(function(fe){return K(fe)}));break;case"delete":var ce=new Qt().addKeys(q.keys);U=L.filter(function(fe){return!ce.hasKey(d.values?K(fe):fe)});break;case"deleteRange":var we=q.range;U=L.filter(function(fe){return!fs(K(fe),we)})}return U},o))===o)?o:(g.sort(function(L,q){return Ge(N(L),N(q))||Ge(K(L),K(q))}),d.limit&&d.limit<1/0&&(g.length>d.limit?g.length=d.limit:o.length===d.limit&&g.length<d.limit&&(x.dirty=!0)),E?Object.freeze(g):g)}function kr(o,d){return Ge(o.lower,d.lower)===0&&Ge(o.upper,d.upper)===0&&!!o.lowerOpen==!!d.lowerOpen&&!!o.upperOpen==!!d.upperOpen}function Si(o,d){return((p,g,x,E)=>{if(p===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((p=Ge(p,g))===0){if(x&&E)return 0;if(x)return 1;if(E)return-1}return p})(o.lower,d.lower,o.lowerOpen,d.lowerOpen)<=0&&0<=((p,g,x,E)=>{if(p===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((p=Ge(p,g))===0){if(x&&E)return 0;if(x)return-1;if(E)return 1}return p})(o.upper,d.upper,o.upperOpen,d.upperOpen)}function Nc(o,d,p,g){o.subscribers.add(p),g.addEventListener("abort",function(){var x,E;o.subscribers.delete(p),o.subscribers.size===0&&(x=o,E=d,setTimeout(function(){x.subscribers.size===0&&Ae(E,x)},3e3))})}var hs={stack:"dbcore",level:0,name:"Cache",create:function(o){var d=o.schema.name;return l(l({},o),{transaction:function(p,g,x){var E,O,j=o.transaction(p,g,x);return g==="readwrite"&&(x=(E=new AbortController).signal,j.addEventListener("abort",(O=function(D){return function(){if(E.abort(),g==="readwrite"){for(var K=new Set,M=0,N=p;M<N.length;M++){var L=N[M],q=Ka["idb://".concat(d,"/").concat(L)];if(q){var U=o.table(L),z=q.optimisticOps.filter(function(xe){return xe.trans===j});if(j._explicit&&D&&j.mutatedParts)for(var V=0,Q=Object.values(q.queries.query);V<Q.length;V++)for(var G=0,te=(de=Q[V]).slice();G<te.length;G++)wl((ce=te[G]).obsSet,j.mutatedParts)&&(Ae(de,ce),ce.subscribers.forEach(function(xe){return K.add(xe)}));else if(0<z.length){q.optimisticOps=q.optimisticOps.filter(function(xe){return xe.trans!==j});for(var ue=0,he=Object.values(q.queries.query);ue<he.length;ue++)for(var de,ce,we,ye=0,fe=(de=he[ue]).slice();ye<fe.length;ye++)(ce=fe[ye]).res!=null&&j.mutatedParts&&(D&&!ce.dirty?(we=Object.isFrozen(ce.res),we=kl(ce.res,ce.req,z,U,ce,we),ce.dirty?(Ae(de,ce),ce.subscribers.forEach(function(xe){return K.add(xe)})):we!==ce.res&&(ce.res=we,ce.promise=me.resolve({result:we}))):(ce.dirty&&Ae(de,ce),ce.subscribers.forEach(function(xe){return K.add(xe)})))}}}K.forEach(function(xe){return xe()})}}})(!1),{signal:x}),j.addEventListener("error",O(!1),{signal:x}),j.addEventListener("complete",O(!0),{signal:x})),j},table:function(p){var g=o.table(p),x=g.schema.primaryKey;return l(l({},g),{mutate:function(E){var O,j=be.trans;return!x.outbound&&j.db._options.cache!=="disabled"&&!j.explicit&&j.idbtrans.mode==="readwrite"&&(O=Ka["idb://".concat(d,"/").concat(p)])?(j=g.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||cs(x,E).some(function(D){return D==null}))?(O.optimisticOps.push(E),E.mutatedParts&&os(E.mutatedParts),j.then(function(D){0<D.numFailures&&(Ae(O.optimisticOps,E),(D=Po(0,E,D))&&O.optimisticOps.push(D),E.mutatedParts)&&os(E.mutatedParts)}),j.catch(function(){Ae(O.optimisticOps,E),E.mutatedParts&&os(E.mutatedParts)})):j.then(function(D){var K=Po(0,l(l({},E),{values:E.values.map(function(M,N){var L;return D.failures[N]?M:(pe(L=(L=x.keyPath)!=null&&L.includes(".")?yn(M):l({},M),x.keyPath,D.results[N]),L)})}),D);O.optimisticOps.push(K),queueMicrotask(function(){return E.mutatedParts&&os(E.mutatedParts)})}),j):g.mutate(E)},query:function(E){var O,j,D,K,M,N,L;return Ga(be,g)&&$o("query",E)?(O=((D=be.trans)==null?void 0:D.db._options.cache)==="immutable",j=(D=be).requery,D=D.signal,N=((q,U,z,V)=>{var Q=Ka["idb://".concat(q,"/").concat(U)];if(!Q)return[];if(!(q=Q.queries[z]))return[null,!1,Q,null];var G=q[(V.query?V.query.index.name:null)||""];if(!G)return[null,!1,Q,null];switch(z){case"query":var te=G.find(function(ue){return ue.req.limit===V.limit&&ue.req.values===V.values&&kr(ue.req.query.range,V.query.range)});return te?[te,!0,Q,G]:[G.find(function(ue){return("limit"in ue.req?ue.req.limit:1/0)>=V.limit&&(!V.values||ue.req.values)&&Si(ue.req.query.range,V.query.range)}),!1,Q,G];case"count":return te=G.find(function(ue){return kr(ue.req.query.range,V.query.range)}),[te,!!te,Q,G]}})(d,p,"query",E),L=N[0],K=N[2],M=N[3],L&&N[1]?L.obsSet=E.obsSet:(N=g.query(E).then(function(q){var U=q.result;if(L&&(L.res=U),O){for(var z=0,V=U.length;z<V;++z)Object.freeze(U[z]);Object.freeze(U)}else q.result=yn(U);return q}).catch(function(q){return M&&L&&Ae(M,L),Promise.reject(q)}),L={obsSet:E.obsSet,promise:N,subscribers:new Set,type:"query",req:E,dirty:!1},M?M.push(L):(M=[L],(K=K||(Ka["idb://".concat(d,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=M)),Nc(L,M,j,D),L.promise.then(function(q){return{result:kl(q.result,E,K?.optimisticOps,g,L,O)}})):g.query(E)}})}})}};function Ei(o,d){return new Proxy(o,{get:function(p,g,x){return g==="db"?d:Reflect.get(p,g,x)}})}St.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ke.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new ke.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var d=this._versions,p=d.filter(function(g){return g._cfg.version===o})[0];return p||(p=new this.Version(o),d.push(p),d.sort(pl),p.stores({}),this._state.autoSchema=!1),p},St.prototype._whenReady=function(o){var d=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?o():new me(function(p,g){if(d._state.openComplete)return g(new ke.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void g(new ke.DatabaseClosed);d.open().catch(at)}d._state.dbReadyPromise.then(p,g)}).then(o)},St.prototype.use=function(x){var d=x.stack,p=x.create,g=x.level,x=x.name,E=(x&&this.unuse({stack:d,name:x}),this._middlewares[d]||(this._middlewares[d]=[]));return E.push({stack:d,create:p,level:g??10,name:x}),E.sort(function(O,j){return O.level-j.level}),this},St.prototype.unuse=function(o){var d=o.stack,p=o.name,g=o.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(x){return g?x.create!==g:!!p&&x.name!==p})),this},St.prototype.open=function(){var o=this;return An(Ft,function(){return Ac(o)})},St.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,d=Ua.indexOf(this);if(0<=d&&Ua.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new me(function(p){o.dbReadyResolve=p}),o.openCanceller=new me(function(p,g){o.cancelOpen=g}))},St.prototype.close=function(d){var d=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,p=this._state;d?(p.isBeingOpened&&p.cancelOpen(new ke.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new ke.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},St.prototype.delete=function(o){var d=this,p=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),g=this._state;return new me(function(x,E){function O(){d.close(o);var j=d._deps.indexedDB.deleteDatabase(d.name);j.onsuccess=vt(function(){var D,K,M;D=d._deps,K=d.name,is(M=D.indexedDB)||K===hi||gl(M,D.IDBKeyRange).delete(K).catch(at),x()}),j.onerror=Cn(E),j.onblocked=d._fireOnBlocked}if(p)throw new ke.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(O):O()})},St.prototype.backendDB=function(){return this.idbdb},St.prototype.isOpen=function(){return this.idbdb!==null},St.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},St.prototype.hasFailed=function(){return this._state.dbOpenError!==null},St.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(St.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(d){return o._allTables[d]})},enumerable:!1,configurable:!0}),St.prototype.transaction=function(){var o=(function(d,p,g){var x=arguments.length;if(x<2)throw new ke.InvalidArgument("Too few arguments");for(var E=new Array(x-1);--x;)E[x-1]=arguments[x];return g=E.pop(),[d,pn(E),g]}).apply(this,arguments);return this._transaction.apply(this,o)},St.prototype._transaction=function(o,d,p){var g,x,E=this,O=be.trans,j=(O&&O.db===this&&o.indexOf("!")===-1||(O=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(x=d.map(function(K){if(K=K instanceof E.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),o=="r"||o===ra)g=ra;else{if(o!="rw"&&o!=_a)throw new ke.InvalidArgument("Invalid transaction mode: "+o);g=_a}if(O){if(O.mode===ra&&g===_a){if(!j)throw new ke.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");O=null}O&&x.forEach(function(K){if(O&&O.storeNames.indexOf(K)===-1){if(!j)throw new ke.SubTransaction("Table "+K+" not included in parent transaction.");O=null}}),j&&O&&!O.active&&(O=null)}}catch(K){return O?O._promise(null,function(M,N){N(K)}):dt(K)}var D=(function K(M,N,L,q,U){return me.resolve().then(function(){var G=be.transless||be,z=M._createTransaction(N,L,M._dbSchema,q),G=(z.explicit=!0,{trans:z,transless:G});if(q)z.idbtrans=q.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(te){return te.name===Gt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return K(M,N,L,null,U)})):dt(te)}var V,Q=H(U),G=(Q&&Dt(),me.follow(function(){var te;(V=U.call(z,z))&&(Q?(te=vn.bind(null,null),V.then(te,te)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=xi(V)))},G));return(V&&typeof V.then=="function"?me.resolve(V).then(function(te){return z.active?te:dt(new ke.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):G.then(function(){return V})).then(function(te){return q&&z._resolve(),z._completion.then(function(){return te})}).catch(function(te){return z._reject(te),dt(te)})})}).bind(null,this,g,x,O,p);return O?O._promise(g,D,"lock"):be.trans?An(be.transless,function(){return E._whenReady(D)}):this._whenReady(D)},St.prototype.table=function(o){if(T(this._allTables,o))return this._allTables[o];throw new ke.InvalidTable("Table ".concat(o," does not exist"))};var Yn=St;function St(o,d){var p,g,x,E,O,j=this,D=(this._middlewares={},this.verno=0,St.dependencies),D=(this._options=d=l({addons:St.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},d.addons),K=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen}),M=(K.dbReadyPromise=new me(function(N){K.dbReadyResolve=N}),K.openCanceller=new me(function(N,L){K.cancelOpen=L}),this._state=K,this.name=o,this.on=pi(this,"populate","blocked","versionchange","close",{ready:[ni,at]}),this.once=function(N,L){var q=function(){for(var U=[],z=0;z<arguments.length;z++)U[z]=arguments[z];j.on(N).unsubscribe(q),L.apply(j,U)};return j.on(N,q)},this.on.ready.subscribe=re(this.on.ready.subscribe,function(N){return function(L,q){St.vip(function(){var U,z=j._state;z.openComplete?(z.dbOpenError||me.resolve().then(L),q&&N(L)):z.onReadyBeingFired?(z.onReadyBeingFired.push(L),q&&N(L)):(N(L),U=j,q||N(function V(){U.on.ready.unsubscribe(L),U.on.ready.unsubscribe(V)}))})}}),this.Collection=(p=this,It(kc.prototype,function(V,z){this.db=p;var q=ul,U=null;if(z)try{q=z()}catch(G){U=G}var z=V._ctx,V=z.table,Q=V.hook.reading.fire;this._ctx={table:V,index:z.index,isPrimKey:!z.index||V.schema.primKey.keyPath&&z.index===V.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:z.or,valueMapper:Q!==mr?Q:null}})),this.Table=(g=this,It(cl.prototype,function(N,L,q){this.db=g,this._tx=q,this.name=N,this.schema=L,this.hook=g._allTables[N]?g._allTables[N].hook:pi(null,{creating:[rl,at],reading:[Ca,mr],updating:[jo,at],deleting:[Sc,at]})})),this.Transaction=(x=this,It(ml.prototype,function(N,L,q,U,z){var V=this;N!=="readonly"&&L.forEach(function(Q){Q=(Q=q[Q])==null?void 0:Q.yProps,Q&&(L=L.concat(Q.map(function(G){return G.updatesTable})))}),this.db=x,this.mode=N,this.storeNames=L,this.schema=q,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=pi(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(Q,G){V._resolve=Q,V._reject=G}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(Q){var G=V.active;return V.active=!1,V.on.error.fire(Q),V.parent?V.parent._reject(Q):G&&V.idbtrans&&V.idbtrans.abort(),dt(Q)})})),this.Version=(E=this,It(jc.prototype,function(N){this.db=E,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(O=this,It(Ba.prototype,function(N,L,q){if(this.db=O,this._ctx={table:N,index:L===":id"?null:L,or:q},this._cmp=this._ascending=Ge,this._descending=function(U,z){return Ge(z,U)},this._max=function(U,z){return 0<Ge(U,z)?U:z},this._min=function(U,z){return Ge(U,z)<0?U:z},this._IDBKeyRange=O._deps.IDBKeyRange,!this._IDBKeyRange)throw new ke.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=xr(d.IDBKeyRange),this._createTransaction=function(N,L,q,U){return new j.Transaction(N,L,q,j._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(N){j.on("blocked").fire(N),Ua.filter(function(L){return L.name===j.name&&L!==j&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(N)})},this.use(Ho),this.use(hs),this.use(Cc),this.use(Rc),this.use(qo),new Proxy(this,{get:function(N,L,q){var U;return L==="_vip"||(L==="table"?function(z){return Ei(j.table(z),M)}:(U=Reflect.get(N,L,q))instanceof cl?Ei(U,M):L==="tables"?U.map(function(z){return Ei(z,M)}):L==="_createTransaction"?function(){return Ei(U.apply(this,arguments),M)}:U)}}));this.vip=M,D.forEach(function(N){return N(j)})}var Or,Ya=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ko=(ds.prototype.subscribe=function(o,d,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:d,complete:p})},ds.prototype[Ya]=function(){return this},ds);function ds(o){this._subscribe=o}try{Or={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Or={indexedDB:null,IDBKeyRange:null}}function Go(o){var d,p=!1,g=new Ko(function(x){var E=H(o),O,j=!1,D={},K={},M={get closed(){return j},unsubscribe:function(){j||(j=!0,O&&O.abort(),N&&Xt.storagemutated.unsubscribe(q))}},N=(x.start&&x.start(M),!1),L=function(){return ba(U)},q=function(z){ls(D,z),wl(K,D)&&L()},U=function(){var z,V,Q;!j&&Or.indexedDB&&(D={},z={},O&&O.abort(),O=new AbortController,Q=(G=>{var te=ya();try{E&&Dt();var ue=_t(o,G);return ue=E?ue.finally(vn):ue}finally{te&&$n()}})(V={subscr:z,signal:O.signal,requery:L,querier:o,trans:null}),Promise.resolve(Q).then(function(G){p=!0,d=G,j||V.signal.aborted||(D={},(te=>{for(var ue in te)if(T(te,ue))return;return 1})(K=z)||N||(Xt(_r,q),N=!0),ba(function(){return!j&&x.next&&x.next(G)}))},function(G){p=!1,["DatabaseClosedError","AbortError"].includes(G?.name)||j||ba(function(){j||x.error&&x.error(G)})}))};return setTimeout(L,0),M});return g.hasValue=function(){return p},g.getValue=function(){return d},g}var Va=Yn;function Ol(o){var d=Ea;try{Ea=!0,Xt.storagemutated.fire(o),El(o,!0)}finally{Ea=d}}A(Va,l(l({},ie),{delete:function(o){return new Va(o,{addons:[]}).delete()},exists:function(o){return new Va(o,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return d=Va.dependencies,p=d.indexedDB,d=d.IDBKeyRange,(is(p)?Promise.resolve(p.databases()).then(function(g){return g.map(function(x){return x.name}).filter(function(x){return x!==hi})}):gl(p,d).toCollection().primaryKeys()).then(o)}catch{return dt(new ke.MissingAPI)}var d,p},defineClass:function(){return function(o){v(this,o)}},ignoreTransaction:function(o){return be.trans?An(be.transless,o):o()},vip:vl,async:function(o){return function(){try{var d=xi(o.apply(this,arguments));return d&&typeof d.then=="function"?d:me.resolve(d)}catch(p){return dt(p)}}},spawn:function(o,d,p){try{var g=xi(o.apply(p,d||[]));return g&&typeof g.then=="function"?g:me.resolve(g)}catch(x){return dt(x)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(o,d){return o=me.resolve(typeof o=="function"?Va.ignoreTransaction(o):o).timeout(d||6e4),be.trans?be.trans.waitFor(o):o},Promise:me,debug:{get:function(){return wn},set:function(o){Ao(o)}},derive:J,extend:v,props:A,override:re,Events:pi,on:Xt,liveQuery:Go,extendObservabilitySet:ls,getByKeyPath:Oe,setByKeyPath:pe,delByKeyPath:function(o,d){typeof d=="string"?pe(o,d,void 0):"length"in d&&[].map.call(d,function(p){pe(o,p,void 0)})},shallowClone:nt,deepClone:yn,getObjectDiff:us,cmp:Ge,asap:Ue,minKey:-1/0,addons:[],connections:Ua,errnames:Gt,dependencies:Or,cache:Ka,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,d,p){return o+d/Math.pow(10,2*p)})})),Va.maxKey=xr(Va.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xt(_r,function(o){Ea||(o=new CustomEvent(Ha,{detail:o}),Ea=!0,dispatchEvent(o),Ea=!1)}),addEventListener(Ha,function(o){o=o.detail,Ea||Ol(o)}));var jr,Ea=!1,hn=function(){};return typeof BroadcastChannel<"u"&&((hn=function(){(jr=new BroadcastChannel(Ha)).onmessage=function(o){return o.data&&Ol(o.data)}})(),typeof jr.unref=="function"&&jr.unref(),Xt(_r,function(o){Ea||jr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Yn.disableBfCache&&o.persisted){wn&&console.debug("Dexie: handling persisted pagehide"),jr?.close();for(var d=0,p=Ua;d<p.length;d++)p[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Yn.disableBfCache&&o.persisted&&(wn&&console.debug("Dexie: handling persisted pageshow"),hn(),Ol({all:new Qt(-1/0,[[]])}))})),me.rejectionMapper=function(o,d){return!o||o instanceof Se||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ti[o.name]?o:(d=new ti[o.name](d||o.message,o),"stack"in o&&$(d,"stack",{get:function(){return this.inner.stack}}),d)},Ao(wn),l(Yn,Object.freeze({__proto__:null,Dexie:Yn,Entity:Co,PropModification:br,RangeSet:Qt,add:function(o){return new br({add:o})},cmp:Ge,default:Yn,liveQuery:Go,mergeRanges:Pa,rangesOverlap:zo,remove:function(o){return new br({remove:o})},replacePrefix:function(o,d){return new br({replacePrefix:[o,d]})}}),{default:Yn}),Yn})})(sc)),sc.exports}var tx=ex();const Qh=Wh(tx),eg=Symbol.for("Dexie"),fc=globalThis[eg]||(globalThis[eg]=Qh);if(Qh.semVer!==fc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Qh.semVer} and ${fc.semVer}`);const{liveQuery:y2,mergeRanges:g2,rangesOverlap:v2,RangeSet:b2,cmp:_2,Entity:w2,PropModification:x2,replacePrefix:S2,add:E2,remove:T2,DexieYProvider:k2}=fc;class nx extends fc{athlete_summary;app_settings;athlete_levels_lookup;personal_records;muscles;equipment;exercises;exercise_muscles;exercise_equipment;routines;routine_exercises;workouts;workout_logs;constructor(){super("FitnexDB"),this.version(1).stores({athlete_summary:"user_id",app_settings:"id",athlete_levels_lookup:"id, level_name",personal_records:"[user_id+exercise_id]",muscles:"id, name, parent",equipment:"id, name",exercises:"id, name",exercise_muscles:"[exercise_id+muscle_id], muscle_id",exercise_equipment:"[exercise_id+equipment_id], equipment_id",routines:"id, name",routine_exercises:"[routine_id+exercise_id], exercise_id",workouts:"id, user_id, start_time, is_synced",workout_logs:"id, workout_id, exercise_id,is_synced, [workout_id+exercise_id+set_number]"})}}const tt=new nx,ax={async syncSummary(r){const{data:n,error:i}=await Wt.from("v_user_dashboard").select("*").eq("user_id",r).maybeSingle();if(i)throw i;return n?(await tt.athlete_summary.put(n),n):null}},Wg=Y.createContext(void 0),rx=({children:r})=>{const[n,i]=Y.useState(null),[l,c]=Y.useState(null),[f,m]=Y.useState(!0),[y,v]=Y.useState(null),_=async(A,R=!1)=>{v(null);try{if(!R){const J=await tt.athlete_summary.get(A);if(J){c(J),m(!1);return}}const $=await ax.syncSummary(A);c($)}catch($){console.error("Fitnex Auth Error:",$),v($.message||"Failed to sync athlete data")}finally{m(!1)}};Y.useEffect(()=>{const{data:{subscription:A}}=Wt.auth.onAuthStateChange(async(R,$)=>{$?.user?(i($.user.id),await _($.user.id)):(i(null),c(null),m(!1))});return()=>A.unsubscribe()},[]);const S=async()=>{n&&(m(!0),await _(n,!0))},T=async()=>{try{const A=await tt.workout_logs.where("is_synced").equals(0).count();return A>0?{success:!1,message:`Wait! ${A} sets are not synced.`}:(await Wt.auth.signOut(),await tt.delete(),window.location.href="/fitnex/login",{success:!0})}catch(A){return{success:!1,message:A.message}}};return w.jsx(Wg.Provider,{value:{user_id:n,athlete:l,loading:f,error:y,signOut:T,refreshAthlete:S},children:r})},dr=()=>{const r=Y.useContext(Wg);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},Js=({label:r,...n})=>w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1 ml-1",children:r}),w.jsx("input",{...n,className:"w-full h-12 bg-slate-900 border border-slate-800 rounded-xl px-4 focus:outline-none focus:ring-2 focus:ring-brand transition-all"})]}),tg="/fitnex/logo.webp",ix=()=>{const r=tl(),[n,i]=Y.useState(""),[l,c]=Y.useState(""),[f,m]=Y.useState(!1),[y,v]=Y.useState(null),_=async S=>{S.preventDefault(),m(!0),v(null);const{error:T}=await Wt.auth.signInWithPassword({email:n,password:l});T?(v(T.message),m(!1)):r("/dashboard",{replace:!0})};return w.jsx("div",{className:"safe-ios-top h-screen w-full bg-black overflow-hidden animate-login",children:w.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row",children:[w.jsx("div",{className:"hidden lg:flex w-1/2 items-center justify-center bg-gradient-to-br from-brand to-brand/70",children:w.jsxs("div",{className:"flex flex-col items-center text-black space-y-3",children:[w.jsx("img",{src:tg,className:"w-[300px]"}),w.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"TRACK-FIT"}),w.jsx("p",{className:"tracking-[0.35em] font-bold opacity-70",children:"PRO EDITION"})]})}),w.jsxs("div",{className:"flex lg:hidden h-full flex-col items-center justify-center px-6",children:[w.jsx("img",{src:tg,className:"w-56 mb-6"}),w.jsxs("div",{className:"w-full max-w-sm",children:[w.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),w.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx("div",{className:"h-px flex-1 bg-white/10"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),w.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),w.jsxs("form",{onSubmit:_,className:"space-y-4",children:[w.jsx(Js,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),w.jsx(Js,{label:"Password",type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"",required:!0}),y&&w.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),w.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})]}),w.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center px-6",children:w.jsxs("div",{className:"w-full max-w-sm",children:[w.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),w.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx("div",{className:"h-px flex-1 bg-white/10"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),w.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),w.jsxs("form",{onSubmit:_,className:"space-y-4",children:[w.jsx(Js,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),w.jsx(Js,{label:"Password",type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"",required:!0}),y&&w.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),w.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})})]})})},sx={async updateLevel(r){return await Wt.from("athlete_level").upsert(r)}},Jh={async getLatestMetrics(){try{const{data:r,error:n}=await Wt.from("v_latest_body_metrics").select("*").maybeSingle();if(n)throw console.error("Error fetching latest body metrics:",n.message),n;return r??null}catch(r){throw console.error("Unexpected error in getLatestMetrics:",r),r}},async updateMetrics(r){try{const{error:n}=await Wt.from("body_metrics").upsert(r);if(n)throw console.error("Error updating body metrics:",n.message),n;return!0}catch(n){throw console.error("Unexpected error in updateMetrics:",n),n}}},lx={async updateProfile(r){return await Wt.from("user_profile").upsert(r)}},ox=()=>{const{refreshAthlete:r}=dr();return{saveOnboarding:async(i,l,c)=>{try{const m=(await Promise.all([lx.updateProfile(i),Jh.updateMetrics(l),sx.updateLevel(c)])).find(y=>y.error)?.error;if(m)throw new Error(m.message);return await r(),{success:!0}}catch(f){return console.error("Onboarding Service Error:",f),{success:!1,error:f.message}}}}};const Zg=(...r)=>r.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim();const ux=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const cx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase());const ng=r=>{const n=cx(r);return n.charAt(0).toUpperCase()+n.slice(1)};var fx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hx=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const dx=Y.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:m,...y},v)=>Y.createElement("svg",{ref:v,...fx,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:Zg("lucide",c),...!f&&!hx(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,S])=>Y.createElement(_,S)),...Array.isArray(f)?f:[f]]));const Pe=(r,n)=>{const i=Y.forwardRef(({className:l,...c},f)=>Y.createElement(dx,{ref:f,iconNode:n,className:Zg(`lucide-${ux(ng(r))}`,`lucide-${r}`,l),...c}));return i.displayName=ng(r),i};const mx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],px=Pe("activity",mx);const yx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gx=Pe("arrow-left",yx);const vx=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fg=Pe("award",vx);const bx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_x=Pe("calendar",bx);const wx=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],xx=Pe("chart-no-axes-column",wx);const Sx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ex=Pe("check",Sx);const Tx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kx=Pe("chevron-left",Tx);const Ox=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],od=Pe("chevron-right",Ox);const jx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ax=Pe("circle-check",jx);const Rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Cx=Pe("circle-user",Rx);const Nx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Dx=Pe("clipboard-list",Nx);const Mx=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ud=Pe("dumbbell",Mx);const Ux=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zx=Pe("flame",Ux);const Lx=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],Bx=Pe("git-compare",Lx);const qx=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hx=Pe("hash",qx);const $x=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Px=Pe("heart",$x);const Kx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Gx=Pe("house",Kx);const Yx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vx=Pe("loader-circle",Yx);const Ix=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xx=Pe("lock",Ix);const Qx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ev=Pe("log-out",Qx);const Jx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Wx=Pe("moon",Jx);const Zx=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Fx=Pe("paintbrush",Zx);const eS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],tS=Pe("palette",eS);const nS=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],aS=Pe("percent",nS);const rS=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],iS=Pe("pipette",rS);const sS=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ag=Pe("refresh-ccw",sS);const lS=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],tv=Pe("ruler",lS);const oS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uS=Pe("save",oS);const cS=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],nv=Pe("scale",cS);const fS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hS=Pe("settings",fS);const dS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cd=Pe("sparkles",dS);const mS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],av=Pe("star",mS);const pS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yS=Pe("sun",pS);const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rv=Pe("target",gS);const vS=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],bS=Pe("timer",vS);const _S=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wS=Pe("trending-up",_S);const xS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],al=Pe("trophy",xS);const SS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_c=Pe("user",SS);const ES=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TS=Pe("users",ES);const kS=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],OS=Pe("wind",kS);const jS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AS=Pe("x",jS);const RS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wc=Pe("zap",RS),CS=({value:r,onChange:n})=>{const i=[{id:"male",label:"Male",icon:w.jsx(_c,{size:32})},{id:"female",label:"Female",icon:w.jsx(Cx,{size:32})},{id:"other",label:"Other",icon:w.jsx(TS,{size:32})}];return w.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:i.map(l=>w.jsxs("button",{type:"button",onClick:()=>n(l.id),className:`flex items-center gap-6 p-6 rounded-3xl border-2 transition-all active:scale-95 ${r===l.id?"border-brand bg-brand/10 text-brand":"border-slate-800 bg-slate-900/50 text-slate-500"}`,children:[w.jsx("div",{className:`p-4 rounded-2xl ${r===l.id?"bg-brand text-white shadow-lg shadow-brand/30":"bg-slate-800"}`,children:l.icon}),w.jsx("span",{className:"text-xl font-bold uppercase tracking-tight",children:l.label})]},l.id))})},Mh=({min:r,max:n,value:i,onChange:l,unit:c})=>{const f=Y.useRef(null),m=20,y=()=>{if(!f.current)return;const{scrollLeft:v}=f.current,_=Math.round(v/m),S=r+_;S!==i&&S>=r&&S<=n&&l(S)};return Y.useEffect(()=>{f.current&&(f.current.scrollLeft=(i-r)*m)},[]),w.jsxs("div",{className:"flex flex-col items-center w-full py-6 select-none overflow-hidden",children:[w.jsxs("div",{className:"text-7xl font-black mb-4 flex items-baseline gap-2 tabular-nums",children:[i," ",w.jsx("span",{className:"text-2xl text-brand font-bold uppercase",children:c})]}),w.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center",children:[w.jsx("div",{className:"absolute inset-0 flex justify-center pointer-events-none z-20",children:w.jsx("div",{className:"w-1.5 h-24 bg-brand rounded-full shadow-[0_0_20px_rgba(14,165,233,0.8)]"})}),w.jsxs("div",{ref:f,onScroll:y,className:"w-full flex overflow-x-auto snap-x snap-mandatory no-scrollbar",children:[w.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginLeft:`-${m/2}px`}}),Array.from({length:n-r+1},(v,_)=>r+_).map(v=>w.jsxs("div",{className:"flex flex-col items-center justify-end flex-shrink-0 snap-center z-10",style:{width:`${m}px`},children:[w.jsx("div",{className:`w-1 rounded-full mb-3 transition-all duration-150 ${v===i?"bg-brand h-20 opacity-100 scale-x-150":v%5===0?"h-10 bg-slate-500 opacity-60":"h-6 bg-slate-800 opacity-40"}`}),v%5===0&&w.jsx("span",{className:`text-[10px] font-black transition-colors ${v===i?"text-brand":"text-slate-600"}`,children:v})]},v)),w.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginRight:`-${m/2}px`}})]})]})]})},NS=({value:r,onChange:n})=>{const[i,l]=Y.useState([]);Y.useEffect(()=>{(async()=>{const{data:m}=await Wt.from("athlete_levels_lookup").select("*").eq("status",!0).order("display_order",{ascending:!0});m&&l(m)})()},[]);const c=f=>{const m=Math.floor(f/2);if(m===0)return"Beginner";if(m<30)return`${m} Day${m>1?"s":""} Experience`;const y=Math.floor(m/30.44);if(y<12)return`${y} Month${y>1?"s":""} Experience`;const v=Math.floor(y/12),_=y%12;return _===0?`${v} Year${v>1?"s":""} Experience`:`${v}y ${_}m Experience`};return w.jsxs("div",{className:"relative w-full h-[380px]",children:[w.jsx("div",{className:"h-full overflow-y-auto pr-2 space-y-4 no-scrollbar pb-10",children:i.map(f=>w.jsxs("button",{onClick:()=>n(f.level_name,f.min_points),className:`w-full flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-95 text-left ${r===f.level_name?"border-brand bg-brand/10 shadow-lg":"border-slate-800 bg-slate-900/40"}`,children:[w.jsx("div",{className:`p-3 rounded-2xl ${r===f.level_name?"bg-brand text-white":"bg-slate-800 text-slate-500"}`,children:f.multiplier>1.8?w.jsx(al,{size:24}):f.multiplier>1.2?w.jsx(av,{size:24}):w.jsx(wc,{size:24})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("span",{className:`text-lg font-black block uppercase tracking-tight ${r===f.level_name?"text-white":"text-slate-300"}`,children:f.level_name}),w.jsx("span",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-wider",children:c(f.min_points)})]})]},f.id))}),w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black to-transparent pointer-events-none"})]})},DS=()=>{const{user_id:r,refreshProfile:n}=dr(),{saveOnboarding:i}=ox(),[l,c]=Y.useState(1),[f,m]=Y.useState(!1),[y,v]=Y.useState({name:"",gender:"male",birthdate:"",height:175,current_weight:80,target_weight:75,target_workout_days:4,selected_level:"Novice",initial_points:0}),_=Y.useMemo(()=>{const R=y.height/100,$=parseFloat((y.current_weight/(R*R)).toFixed(1));return $<18.5?{val:$,label:"Underweight",color:"text-yellow-500"}:$<25?{val:$,label:"Healthy",color:"text-brand"}:$<30?{val:$,label:"Overweight",color:"text-orange-500"}:{val:$,label:"Obese",color:"text-red-500"}},[y.height,y.current_weight]),S=y.current_weight-y.target_weight,T=Y.useMemo(()=>S>0?`That's a ${S}kg loss plan!`:S<0?`Targeting a ${Math.abs(S)}kg gain!`:"Staying steady and strong!",[S]),A=async()=>{if(r){m(!0);try{await i({user_id:r,name:y.name,gender:y.gender,birthdate:y.birthdate,target_weight:y.target_weight,target_days_per_week:y.target_workout_days,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},y.current_weight,y.height,y.selected_level,y.initial_points),await n()}catch(R){console.error("Onboarding Error:",R)}finally{m(!1)}}};return w.jsxs("div",{className:"flex flex-col h-screen bg-transparent text-white pt-safe overflow-hidden",children:[w.jsx("div",{className:"flex-none h-1 w-full bg-slate-900/30",children:w.jsx("div",{className:"h-full bg-brand transition-all duration-700 shadow-[0_0_15px_#0ea5e9]",style:{width:`${l/6*100}%`}})}),w.jsx("div",{className:"flex-1 overflow-y-auto touch-pan-y no-scrollbar px-8 pt-8",children:w.jsxs("div",{className:"min-h-full flex flex-col",children:[l===1&&w.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[w.jsxs("header",{className:"space-y-1",children:[w.jsxs("h1",{className:"text-4xl font-black uppercase leading-tight italic tracking-tighter",children:["First, ",w.jsx("br",{})," the ",w.jsx("span",{className:"text-brand",children:"Basics"})]}),w.jsx("p",{className:"text-slate-400 font-medium italic",children:"What should we call you?"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsx(Js,{label:"FULL NAME",value:y.name,onChange:R=>v({...y,name:R.target.value}),placeholder:"John Doe"}),w.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Gender"}),w.jsx(CS,{value:y.gender,onChange:R=>v({...y,gender:R})}),w.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Birthday"}),w.jsx(Js,{label:"BIRTH DATE",type:"date",value:y.birthdate,onChange:R=>v({...y,birthdate:R.target.value})})]})]}),l===2&&w.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[w.jsx(cd,{className:"mx-auto mb-4 text-brand animate-pulse",size:32}),w.jsxs("h1",{className:"text-3xl font-black uppercase italic tracking-tight",children:["Nice to meet you, ",w.jsx("br",{}),w.jsxs("span",{className:"text-brand",children:[y.name.split(" ")[0]||"Athlete","!"]})]}),w.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"How tall are you?"}),w.jsx(Mh,{min:100,max:250,value:y.height,unit:"cm",onChange:R=>v({...y,height:R})})]}),l===3&&w.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[w.jsx("h1",{className:"text-3xl font-black uppercase italic text-white tracking-tight",children:"Current Weight"}),w.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"Your starting point today"}),w.jsx(Mh,{min:30,max:200,value:y.current_weight,unit:"kg",onChange:R=>v({...y,current_weight:R})}),w.jsxs("div",{className:"mt-8 bg-slate-900/40 border border-slate-800 p-6 rounded-[2rem] flex justify-between items-center backdrop-blur-md",children:[w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest",children:"BMI Index"}),w.jsx("p",{className:`text-lg font-black italic ${_.color}`,children:_.label})]}),w.jsx("div",{className:"text-5xl font-black italic tabular-nums text-white",children:_.val})]})]}),l===4&&w.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[w.jsx(rv,{className:"mx-auto mb-4 text-brand",size:40}),w.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Target Weight"}),w.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"What is your dream goal?"}),w.jsx(Mh,{min:30,max:200,value:y.target_weight,unit:"kg",onChange:R=>v({...y,target_weight:R})}),w.jsx("div",{className:"mt-8 py-3 px-8 bg-brand/10 border border-brand/20 rounded-full inline-block mx-auto animate-in zoom-in duration-500",children:w.jsx("span",{className:"text-brand font-black uppercase tracking-tighter text-xs italic",children:T})})]}),l===5&&w.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[w.jsx("h1",{className:"text-4xl font-black uppercase mb-4 leading-tight italic",children:"Commitment"}),w.jsx("p",{className:"text-slate-400 font-medium mb-12 italic",children:"How many days a week will you train?"}),w.jsx("div",{className:"flex justify-between items-center bg-slate-900/40 p-6 rounded-[2.5rem] border border-slate-800",children:[1,2,3,4,5,6,7].map(R=>w.jsx("button",{onClick:()=>v({...y,target_workout_days:R}),className:`w-10 h-10 rounded-full font-black transition-all ${y.target_workout_days===R?"bg-brand text-white scale-125 shadow-lg shadow-brand/40":"text-slate-600"}`,children:R},R))})]}),l===6&&w.jsxs("div",{className:"flex-1 flex flex-col justify-center py-6",children:[w.jsxs("header",{className:"text-center mb-8",children:[w.jsx(al,{className:"mx-auto mb-2 text-brand",size:32}),w.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Experience"}),w.jsx("p",{className:"text-slate-400 font-medium italic",children:"Where should we start you off?"})]}),w.jsx(NS,{value:y.selected_level,onChange:(R,$)=>v({...y,selected_level:R,initial_points:$})})]}),w.jsx("div",{className:"h-6 flex-none"})]})}),w.jsxs("footer",{className:"flex-none px-8 pt-2 pb-10 flex gap-3 bg-transparent mt-auto",children:[l>1&&w.jsx("button",{onClick:()=>c(R=>R-1),className:"h-14 w-14 bg-slate-900/80 rounded-2xl border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:w.jsx(kx,{size:24})}),w.jsx("button",{onClick:l===6?A:()=>c(R=>R+1),disabled:f||l===1&&!y.name,className:"h-14 flex-1 bg-brand text-white rounded-2xl font-black uppercase tracking-widest italic shadow-lg shadow-brand/20 active:scale-[0.98] transition-all disabled:opacity-30",children:f?w.jsx(Vx,{className:"animate-spin"}):w.jsxs("div",{className:"flex items-center justify-center gap-2",children:[w.jsx("span",{children:l===6?"Finish":"Continue"}),l<6&&w.jsx(od,{size:18,strokeWidth:3})]})})]})]})},iv=Y.createContext(void 0),MS=({children:r})=>{const[n,i]=Y.useState(!1),l=()=>i(!0),c=()=>i(!1);return w.jsx(iv.Provider,{value:{isSidebarOpen:n,openSidebar:l,closeSidebar:c},children:r})},sv=()=>{const r=Y.useContext(iv);if(!r)throw new Error("useUI must be used within UIProvider");return r},US=()=>{const{athlete:r}=dr(),{openSidebar:n}=sv(),i=()=>{const c=new Date().getHours();return c<12?"Good morning,":c<17?"Good afternoon,":"Good evening,"},l=r?.name?r.name.split(" ")[0].charAt(0).toUpperCase()+r.name.split(" ")[0].slice(1).toLowerCase():"Athlete";return w.jsxs("header",{className:"pt-4 pb-4 space-y-6 ios-no-top",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"space-y-0.5",children:[w.jsxs("p",{className:"flex items-center gap-1.5 text-brand font-black italic text-[11px] uppercase tracking-widest",children:[w.jsx(cd,{size:12,strokeWidth:3}),i()]}),w.jsxs("h1",{className:"text-2xl font-black text-white tracking-tight",children:[l,"!"]})]}),w.jsx("button",{className:"w-12 h-12 rounded-2xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:w.jsx(_x,{size:22})})]}),w.jsxs("button",{onClick:n,className:"w-full bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-5 rounded-[2.5rem] text-left transition-all active:scale-[0.98]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-brand/10 rounded-xl",children:w.jsx(al,{size:20,className:"text-brand"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Athlete Rank"}),w.jsx("p",{className:"text-lg font-black text-white uppercase italic",children:r?.current_level||"Novice"})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Points"}),w.jsx("p",{className:"text-lg font-black text-brand italic",children:r?.level_points||0})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-tighter",children:[w.jsx("span",{className:"text-slate-400",children:"Progress to next rank"}),w.jsxs("span",{className:"text-brand",children:[r?.level_completion_percent||0,"%"]})]}),w.jsx("div",{className:"h-2 w-full bg-black rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-brand transition-all duration-1000 shadow-[0_0_12px_var(--brand-primary)]",style:{width:`${r?.level_completion_percent||0}%`}})})]})]})]})},lv=6048e5,zS=864e5,rg=Symbol.for("constructDateFrom");function fr(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&rg in r?r[rg](n):r instanceof Date?new r.constructor(n):new Date(n)}function ea(r,n){return fr(n||r,r)}function LS(r,n,i){const l=ea(r,i?.in);return isNaN(n)?fr(r,NaN):(n&&l.setDate(l.getDate()+n),l)}let BS={};function xc(){return BS}function Gi(r,n){const i=xc(),l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=ea(r,n?.in),f=c.getDay(),m=(f<l?7:0)+f-l;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function hc(r,n){return Gi(r,{...n,weekStartsOn:1})}function ov(r,n){const i=ea(r,n?.in),l=i.getFullYear(),c=fr(i,0);c.setFullYear(l+1,0,4),c.setHours(0,0,0,0);const f=hc(c),m=fr(i,0);m.setFullYear(l,0,4),m.setHours(0,0,0,0);const y=hc(m);return i.getTime()>=f.getTime()?l+1:i.getTime()>=y.getTime()?l:l-1}function ig(r){const n=ea(r),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+r-+i}function uv(r,...n){const i=fr.bind(null,n.find(l=>typeof l=="object"));return n.map(i)}function dc(r,n){const i=ea(r,n?.in);return i.setHours(0,0,0,0),i}function qS(r,n,i){const[l,c]=uv(i?.in,r,n),f=dc(l),m=dc(c),y=+f-ig(f),v=+m-ig(m);return Math.round((y-v)/zS)}function HS(r,n){const i=ov(r,n),l=fr(r,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),hc(l)}function sg(r,n,i){const[l,c]=uv(i?.in,r,n);return+dc(l)==+dc(c)}function $S(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function PS(r){return!(!$S(r)&&typeof r!="number"||isNaN(+ea(r)))}function KS(r,n){const i=ea(r,n?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const GS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YS=(r,n,i)=>{let l;const c=GS[r];return typeof c=="string"?l=c:n===1?l=c.one:l=c.other.replace("{{count}}",n.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+l:l+" ago":l};function Uh(r){return(n={})=>{const i=n.width?String(n.width):r.defaultWidth;return r.formats[i]||r.formats[r.defaultWidth]}}const VS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QS={date:Uh({formats:VS,defaultWidth:"full"}),time:Uh({formats:IS,defaultWidth:"full"}),dateTime:Uh({formats:XS,defaultWidth:"full"})},JS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WS=(r,n,i,l)=>JS[r];function co(r){return(n,i)=>{const l=i?.context?String(i.context):"standalone";let c;if(l==="formatting"&&r.formattingValues){const m=r.defaultFormattingWidth||r.defaultWidth,y=i?.width?String(i.width):m;c=r.formattingValues[y]||r.formattingValues[m]}else{const m=r.defaultWidth,y=i?.width?String(i.width):r.defaultWidth;c=r.values[y]||r.values[m]}const f=r.argumentCallback?r.argumentCallback(n):n;return c[f]}}const ZS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rE=(r,n)=>{const i=Number(r),l=i%100;if(l>20||l<10)switch(l%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},iE={ordinalNumber:rE,era:co({values:ZS,defaultWidth:"wide"}),quarter:co({values:FS,defaultWidth:"wide",argumentCallback:r=>r-1}),month:co({values:eE,defaultWidth:"wide"}),day:co({values:tE,defaultWidth:"wide"}),dayPeriod:co({values:nE,defaultWidth:"wide",formattingValues:aE,defaultFormattingWidth:"wide"})};function fo(r){return(n,i={})=>{const l=i.width,c=l&&r.matchPatterns[l]||r.matchPatterns[r.defaultMatchWidth],f=n.match(c);if(!f)return null;const m=f[0],y=l&&r.parsePatterns[l]||r.parsePatterns[r.defaultParseWidth],v=Array.isArray(y)?lE(y,T=>T.test(m)):sE(y,T=>T.test(m));let _;_=r.valueCallback?r.valueCallback(v):v,_=i.valueCallback?i.valueCallback(_):_;const S=n.slice(m.length);return{value:_,rest:S}}}function sE(r,n){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&n(r[i]))return i}function lE(r,n){for(let i=0;i<r.length;i++)if(n(r[i]))return i}function oE(r){return(n,i={})=>{const l=n.match(r.matchPattern);if(!l)return null;const c=l[0],f=n.match(r.parsePattern);if(!f)return null;let m=r.valueCallback?r.valueCallback(f[0]):f[0];m=i.valueCallback?i.valueCallback(m):m;const y=n.slice(c.length);return{value:m,rest:y}}}const uE=/^(\d+)(th|st|nd|rd)?/i,cE=/\d+/i,fE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hE={any:[/^b/i,/^(a|c)/i]},dE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mE={any:[/1/i,/2/i,/3/i,/4/i]},pE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_E={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wE={ordinalNumber:oE({matchPattern:uE,parsePattern:cE,valueCallback:r=>parseInt(r,10)}),era:fo({matchPatterns:fE,defaultMatchWidth:"wide",parsePatterns:hE,defaultParseWidth:"any"}),quarter:fo({matchPatterns:dE,defaultMatchWidth:"wide",parsePatterns:mE,defaultParseWidth:"any",valueCallback:r=>r+1}),month:fo({matchPatterns:pE,defaultMatchWidth:"wide",parsePatterns:yE,defaultParseWidth:"any"}),day:fo({matchPatterns:gE,defaultMatchWidth:"wide",parsePatterns:vE,defaultParseWidth:"any"}),dayPeriod:fo({matchPatterns:bE,defaultMatchWidth:"any",parsePatterns:_E,defaultParseWidth:"any"})},xE={code:"en-US",formatDistance:YS,formatLong:QS,formatRelative:WS,localize:iE,match:wE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SE(r,n){const i=ea(r,n?.in);return qS(i,KS(i))+1}function EE(r,n){const i=ea(r,n?.in),l=+hc(i)-+HS(i);return Math.round(l/lv)+1}function cv(r,n){const i=ea(r,n?.in),l=i.getFullYear(),c=xc(),f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,m=fr(n?.in||r,0);m.setFullYear(l+1,0,f),m.setHours(0,0,0,0);const y=Gi(m,n),v=fr(n?.in||r,0);v.setFullYear(l,0,f),v.setHours(0,0,0,0);const _=Gi(v,n);return+i>=+y?l+1:+i>=+_?l:l-1}function TE(r,n){const i=xc(),l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=cv(r,n),f=fr(n?.in||r,0);return f.setFullYear(c,0,l),f.setHours(0,0,0,0),Gi(f,n)}function kE(r,n){const i=ea(r,n?.in),l=+Gi(i,n)-+TE(i,n);return Math.round(l/lv)+1}function ht(r,n){const i=r<0?"-":"",l=Math.abs(r).toString().padStart(n,"0");return i+l}const Zr={y(r,n){const i=r.getFullYear(),l=i>0?i:1-i;return ht(n==="yy"?l%100:l,n.length)},M(r,n){const i=r.getMonth();return n==="M"?String(i+1):ht(i+1,2)},d(r,n){return ht(r.getDate(),n.length)},a(r,n){const i=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(r,n){return ht(r.getHours()%12||12,n.length)},H(r,n){return ht(r.getHours(),n.length)},m(r,n){return ht(r.getMinutes(),n.length)},s(r,n){return ht(r.getSeconds(),n.length)},S(r,n){const i=n.length,l=r.getMilliseconds(),c=Math.trunc(l*Math.pow(10,i-3));return ht(c,n.length)}},Ys={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lg={G:function(r,n,i){const l=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(l,{width:"abbreviated"});case"GGGGG":return i.era(l,{width:"narrow"});default:return i.era(l,{width:"wide"})}},y:function(r,n,i){if(n==="yo"){const l=r.getFullYear(),c=l>0?l:1-l;return i.ordinalNumber(c,{unit:"year"})}return Zr.y(r,n)},Y:function(r,n,i,l){const c=cv(r,l),f=c>0?c:1-c;if(n==="YY"){const m=f%100;return ht(m,2)}return n==="Yo"?i.ordinalNumber(f,{unit:"year"}):ht(f,n.length)},R:function(r,n){const i=ov(r);return ht(i,n.length)},u:function(r,n){const i=r.getFullYear();return ht(i,n.length)},Q:function(r,n,i){const l=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(l);case"QQ":return ht(l,2);case"Qo":return i.ordinalNumber(l,{unit:"quarter"});case"QQQ":return i.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(l,{width:"narrow",context:"formatting"});default:return i.quarter(l,{width:"wide",context:"formatting"})}},q:function(r,n,i){const l=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(l);case"qq":return ht(l,2);case"qo":return i.ordinalNumber(l,{unit:"quarter"});case"qqq":return i.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(l,{width:"narrow",context:"standalone"});default:return i.quarter(l,{width:"wide",context:"standalone"})}},M:function(r,n,i){const l=r.getMonth();switch(n){case"M":case"MM":return Zr.M(r,n);case"Mo":return i.ordinalNumber(l+1,{unit:"month"});case"MMM":return i.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(l,{width:"narrow",context:"formatting"});default:return i.month(l,{width:"wide",context:"formatting"})}},L:function(r,n,i){const l=r.getMonth();switch(n){case"L":return String(l+1);case"LL":return ht(l+1,2);case"Lo":return i.ordinalNumber(l+1,{unit:"month"});case"LLL":return i.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(l,{width:"narrow",context:"standalone"});default:return i.month(l,{width:"wide",context:"standalone"})}},w:function(r,n,i,l){const c=kE(r,l);return n==="wo"?i.ordinalNumber(c,{unit:"week"}):ht(c,n.length)},I:function(r,n,i){const l=EE(r);return n==="Io"?i.ordinalNumber(l,{unit:"week"}):ht(l,n.length)},d:function(r,n,i){return n==="do"?i.ordinalNumber(r.getDate(),{unit:"date"}):Zr.d(r,n)},D:function(r,n,i){const l=SE(r);return n==="Do"?i.ordinalNumber(l,{unit:"dayOfYear"}):ht(l,n.length)},E:function(r,n,i){const l=r.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(l,{width:"short",context:"formatting"});default:return i.day(l,{width:"wide",context:"formatting"})}},e:function(r,n,i,l){const c=r.getDay(),f=(c-l.weekStartsOn+8)%7||7;switch(n){case"e":return String(f);case"ee":return ht(f,2);case"eo":return i.ordinalNumber(f,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(r,n,i,l){const c=r.getDay(),f=(c-l.weekStartsOn+8)%7||7;switch(n){case"c":return String(f);case"cc":return ht(f,n.length);case"co":return i.ordinalNumber(f,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(r,n,i){const l=r.getDay(),c=l===0?7:l;switch(n){case"i":return String(c);case"ii":return ht(c,n.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(l,{width:"short",context:"formatting"});default:return i.day(l,{width:"wide",context:"formatting"})}},a:function(r,n,i){const c=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(r,n,i){const l=r.getHours();let c;switch(l===12?c=Ys.noon:l===0?c=Ys.midnight:c=l/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(r,n,i){const l=r.getHours();let c;switch(l>=17?c=Ys.evening:l>=12?c=Ys.afternoon:l>=4?c=Ys.morning:c=Ys.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(r,n,i){if(n==="ho"){let l=r.getHours()%12;return l===0&&(l=12),i.ordinalNumber(l,{unit:"hour"})}return Zr.h(r,n)},H:function(r,n,i){return n==="Ho"?i.ordinalNumber(r.getHours(),{unit:"hour"}):Zr.H(r,n)},K:function(r,n,i){const l=r.getHours()%12;return n==="Ko"?i.ordinalNumber(l,{unit:"hour"}):ht(l,n.length)},k:function(r,n,i){let l=r.getHours();return l===0&&(l=24),n==="ko"?i.ordinalNumber(l,{unit:"hour"}):ht(l,n.length)},m:function(r,n,i){return n==="mo"?i.ordinalNumber(r.getMinutes(),{unit:"minute"}):Zr.m(r,n)},s:function(r,n,i){return n==="so"?i.ordinalNumber(r.getSeconds(),{unit:"second"}):Zr.s(r,n)},S:function(r,n){return Zr.S(r,n)},X:function(r,n,i){const l=r.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return ug(l);case"XXXX":case"XX":return Hi(l);default:return Hi(l,":")}},x:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"x":return ug(l);case"xxxx":case"xx":return Hi(l);default:return Hi(l,":")}},O:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+og(l,":");default:return"GMT"+Hi(l,":")}},z:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+og(l,":");default:return"GMT"+Hi(l,":")}},t:function(r,n,i){const l=Math.trunc(+r/1e3);return ht(l,n.length)},T:function(r,n,i){return ht(+r,n.length)}};function og(r,n=""){const i=r>0?"-":"+",l=Math.abs(r),c=Math.trunc(l/60),f=l%60;return f===0?i+String(c):i+String(c)+n+ht(f,2)}function ug(r,n){return r%60===0?(r>0?"-":"+")+ht(Math.abs(r)/60,2):Hi(r,n)}function Hi(r,n=""){const i=r>0?"-":"+",l=Math.abs(r),c=ht(Math.trunc(l/60),2),f=ht(l%60,2);return i+c+n+f}const cg=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},fv=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},OE=(r,n)=>{const i=r.match(/(P+)(p+)?/)||[],l=i[1],c=i[2];if(!c)return cg(r,n);let f;switch(l){case"P":f=n.dateTime({width:"short"});break;case"PP":f=n.dateTime({width:"medium"});break;case"PPP":f=n.dateTime({width:"long"});break;default:f=n.dateTime({width:"full"});break}return f.replace("{{date}}",cg(l,n)).replace("{{time}}",fv(c,n))},jE={p:fv,P:OE},AE=/^D+$/,RE=/^Y+$/,CE=["D","DD","YY","YYYY"];function NE(r){return AE.test(r)}function DE(r){return RE.test(r)}function ME(r,n,i){const l=UE(r,n,i);if(console.warn(l),CE.includes(r))throw new RangeError(l)}function UE(r,n,i){const l=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${l} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BE=/^'([^]*?)'?$/,qE=/''/g,HE=/[a-zA-Z]/;function Wu(r,n,i){const l=xc(),c=l.locale??xE,f=l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=l.weekStartsOn??l.locale?.options?.weekStartsOn??0,y=ea(r,i?.in);if(!PS(y))throw new RangeError("Invalid time value");let v=n.match(LE).map(S=>{const T=S[0];if(T==="p"||T==="P"){const A=jE[T];return A(S,c.formatLong)}return S}).join("").match(zE).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const T=S[0];if(T==="'")return{isToken:!1,value:$E(S)};if(lg[T])return{isToken:!0,value:S};if(T.match(HE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:S}});c.localize.preprocessor&&(v=c.localize.preprocessor(y,v));const _={firstWeekContainsDate:f,weekStartsOn:m,locale:c};return v.map(S=>{if(!S.isToken)return S.value;const T=S.value;(DE(T)||NE(T))&&ME(T,n,String(r));const A=lg[T[0]];return A(y,T,c.localize,_)}).join("")}function $E(r){const n=r.match(BE);return n?n[1].replace(qE,"'"):r}const PE=()=>{const r=new Date,n=[new Date().toISOString()],i=Y.useMemo(()=>{const l=Gi(r,{weekStartsOn:1});return Array.from({length:7}).map((c,f)=>LS(l,f))},[]);return w.jsx("section",{className:"mt-2",children:w.jsxs("div",{className:"bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-6 rounded-[2.5rem]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Weekly Activity"}),w.jsx("div",{className:"px-3 py-1 bg-black/40 rounded-full border border-slate-800",children:w.jsxs("span",{className:"text-[10px] font-black uppercase text-brand italic",children:[Wu(i[0],"MMM d"),"  ",Wu(i[6],"MMM d")]})})]}),w.jsx("div",{className:"flex justify-between items-center",children:i.map(l=>{const c=sg(l,r),f=n.some(m=>sg(new Date(m),l));return w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter ${c?"text-brand":"text-slate-600"}`,children:Wu(l,"EEE")}),w.jsxs("div",{className:"relative",children:[f?w.jsx("div",{className:"bg-brand rounded-full p-1 shadow-[0_0_15px_rgba(14,165,233,0.3)] animate-in zoom-in",children:w.jsx(Ax,{size:20,className:"text-white"})}):w.jsx("div",{className:`w-9 h-9 rounded-2xl border-2 flex items-center justify-center transition-all ${c?"border-brand bg-brand/5 shadow-[0_0_10px_rgba(14,165,233,0.15)]":"border-slate-800 bg-black/40"}`,children:w.jsx("span",{className:`text-[11px] font-black ${c?"text-white":"text-slate-700"}`,children:Wu(l,"d")})}),c&&!f&&w.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-brand rounded-full shadow-[0_0_5px_#0ea5e9] animate-pulse"})]})]},l.toString())})})]})})},KE=[{id:"strength",name:"Strength",icon:ud,color:"bg-orange-500",bg:"from-orange-500/20"},{id:"hiit",name:"HIIT",icon:wc,color:"bg-yellow-500",bg:"from-yellow-500/20"},{id:"cardio",name:"Cardio",icon:Px,color:"bg-red-500",bg:"from-red-500/20"},{id:"endurance",name:"Endurance",icon:bS,color:"bg-blue-500",bg:"from-blue-500/20"},{id:"mobility",name:"Mobility",icon:OS,color:"bg-emerald-500",bg:"from-emerald-500/20"}],GE=()=>w.jsxs("section",{className:"mt-8 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-end",children:[w.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Training Focus"}),w.jsx("button",{className:"text-[10px] font-black uppercase text-brand",children:"Explore All"})]}),w.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:KE.map(r=>w.jsxs("button",{className:"flex-shrink-0 group relative w-32 h-40 bg-gradient-to-br to-slate-950 border border-slate-800 rounded-[2rem] overflow-hidden transition-all active:scale-95",children:[w.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${r.bg} to-transparent opacity-40 group-hover:opacity-60 transition-opacity`}),w.jsxs("div",{className:"relative h-full flex flex-col items-center justify-between py-6",children:[w.jsx("div",{className:`w-12 h-12 rounded-2xl ${r.color} flex items-center justify-center shadow-lg`,children:w.jsx(r.icon,{size:24,className:"text-black"})}),w.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white group-hover:text-brand transition-colors",children:r.name})]})]},r.id))})]}),YE=()=>w.jsxs("div",{className:"px-6 space-y-4 pb-6",children:[w.jsx(US,{}),w.jsx(PE,{}),w.jsx(GE,{}),w.jsxs("section",{className:"mt-6 space-y-4",children:[w.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Recommended Today"}),w.jsxs("div",{className:"group relative w-full h-44 border border-slate-800 rounded-[2.5rem] overflow-hidden transition-all active:scale-[0.98]",children:[w.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-30 group-hover:scale-110 transition-transform duration-700"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"}),w.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("span",{className:"text-[10px] font-black uppercase text-brand tracking-widest",children:"Advanced  45 Min"}),w.jsx("h4",{className:"text-xl font-black uppercase italic leading-none",children:"Full Body Power"})]}),w.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-black",children:w.jsx(wc,{size:20,fill:"currentColor"})})]})]})]})]}),VE=()=>{const r=tl(),n=Ra(),i=[{icon:Gx,label:"Home",path:"/dashboard"},{icon:ud,label:"Workouts",path:"/workouts"},{icon:Dx,label:"Logs",path:"/logs"},{icon:xx,label:"Stats",path:"/stats"},{icon:_c,label:"Profile",path:"/profile"}],l=Y.useMemo(()=>i.findIndex(c=>c.path===n.pathname),[n.pathname]);return w.jsx("nav",{className:"pointer-events-none w-full h-full flex items-end justify-center pb-2",children:w.jsxs("div",{className:"pointer-events-auto relative w-[90%] max-w-sm bg-slate-900/80 backdrop-blur-sm border border-white/5 rounded-full shadow-md px-3 py-2",children:[w.jsx("div",{className:"absolute top-2 left-3 h-10 w-[calc((100%-24px)/5)] bg-brand rounded-full transition-transform duration-300 ease-out",style:{transform:`translateX(${l*100}%)`}}),w.jsx("div",{className:"relative flex items-center justify-between",children:i.map(c=>{const f=n.pathname===c.path;return w.jsxs("button",{onClick:()=>r(c.path),className:"flex flex-col items-center justify-center flex-1 active:scale-95 transition",children:[w.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${f?"text-white":"text-slate-400"}`,children:w.jsx(c.icon,{size:20,strokeWidth:2})}),w.jsx("span",{className:`text-[10px] font-extrabold uppercase tracking-wide mt-1 ${f?"text-brand":"text-slate-500"}`,children:c.label})]},c.path)})})]})})},fg=({isOpen:r,onClose:n,isStatic:i=!1})=>{const{profile:l,signOut:c}=dr(),f=i?"w-full h-full bg-slate-950 border-r border-slate-900":`fixed top-0 left-0 bottom-0 w-80 bg-slate-950 z-[70] border-r border-slate-900 transition-transform duration-300 ease-out ${r?"translate-x-0":"-translate-x-full"}`;return w.jsxs(w.Fragment,{children:[!i&&w.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),w.jsx("aside",{className:f,children:w.jsxs("div",{className:"flex flex-col h-full p-8",children:[!i&&w.jsx("button",{onClick:n,className:"self-end p-2 text-slate-500 mb-4 active:scale-90 transition-transform",children:w.jsx(AS,{size:24})}),i&&w.jsx("div",{className:"mb-10 px-4",children:w.jsxs("h2",{className:"text-xl font-black italic tracking-tighter text-white",children:["TRACK",w.jsx("span",{className:"text-brand",children:"FIT"})]})}),w.jsxs("div",{className:"flex items-center gap-4 mb-10 px-2",children:[w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-brand/10 border border-brand/20 flex items-center justify-center text-brand font-black text-xl italic",children:l?.name?.[0].toUpperCase()}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-black text-white text-md truncate w-32",children:l?.name}),w.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Athlete Profile"})]})]}),w.jsxs("nav",{className:"flex-1 space-y-1",children:[w.jsx(Zu,{icon:_c,label:"My Profile"}),w.jsx(Zu,{icon:al,label:"Rank Progress"}),w.jsx(Zu,{icon:tv,label:"Body Metrics"}),w.jsx(Zu,{icon:hS,label:"Settings"})]}),w.jsxs("button",{onClick:c,className:"flex items-center gap-3 p-4 w-full rounded-2xl bg-red-500/5 text-red-500 font-bold border border-red-500/10 active:scale-95 transition-all mt-auto",children:[w.jsx(ev,{size:18}),w.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})]})},Zu=({icon:r,label:n})=>w.jsxs("button",{className:"w-full flex items-center justify-between p-4 rounded-2xl hover:bg-slate-900 transition-colors group",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx(r,{size:18,className:"text-slate-500 group-hover:text-brand transition-colors"}),w.jsx("span",{className:"text-sm font-bold text-slate-400 group-hover:text-white transition-colors",children:n})]}),w.jsx(od,{size:14,className:"text-slate-800"})]}),hg=80,IE=()=>{const{isSidebarOpen:r,closeSidebar:n}=sv(),i=Ra(),l=Y.useRef(null);return Y.useLayoutEffect(()=>{l.current&&(l.current.scrollTop=0),window.scrollTo(0,0)},[i.pathname]),w.jsxs("div",{className:"relative h-full text-white overflow-hidden",children:[w.jsxs("div",{className:"flex h-full",children:[w.jsx("div",{className:"hidden lg:block w-72 h-full border-r border-slate-900",children:w.jsx(fg,{isOpen:!0,onClose:()=>{},isStatic:!0})}),w.jsx("div",{className:"lg:hidden",children:w.jsx(fg,{isOpen:r,onClose:n})}),w.jsx("main",{ref:l,className:"flex-1 overflow-y-auto samsung-scroll safe-ios-top",style:{paddingBottom:hg+8},children:w.jsx(Ag,{})})]}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",style:{height:hg},children:w.jsx(VE,{})})]})},XE=()=>w.jsx(MS,{children:w.jsx(IE,{})}),QE=()=>w.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-bg-main",children:w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("div",{className:"text-brand-primary animate-pulse font-black italic text-4xl tracking-tighter",children:"FITNEX"}),w.jsx("div",{className:"h-1 w-12 bg-surface overflow-hidden rounded-full",children:w.jsx("div",{className:"h-full bg-brand-primary animate-progress-loading"})})]})}),JE=()=>{const{user_id:r}=dr(),[n,i]=Y.useState(!1);return Y.useEffect(()=>{(async()=>{if(r)try{const c=Gi(new Date,{weekStartsOn:1}).toISOString(),[f,m,y,v,_,S,T,A,R]=await Promise.all([Wt.from("muscles").select("*"),Wt.from("equipment").select("*"),Wt.from("exercises").select("*"),Wt.from("exercise_muscles").select("*"),Wt.from("exercise_equipment").select("*"),Wt.from("routines").select("*"),Wt.from("routine_exercises").select("*"),Wt.from("athlete_levels_lookup").select("*").order("display_order"),Wt.from("workouts").select("*").eq("user_id",r).gte("start_time",c)]);await tt.transaction("rw",[tt.muscles,tt.equipment,tt.exercises,tt.exercise_muscles,tt.exercise_equipment,tt.routines,tt.routine_exercises,tt.athlete_levels_lookup,tt.workouts],async()=>{f.data&&await tt.muscles.bulkPut(f.data),m.data&&await tt.equipment.bulkPut(m.data),y.data&&await tt.exercises.bulkPut(y.data),v.data&&await tt.exercise_muscles.bulkPut(v.data),_.data&&await tt.exercise_equipment.bulkPut(_.data),S.data&&await tt.routines.bulkPut(S.data),T.data&&await tt.routine_exercises.bulkPut(T.data),A.data&&await tt.athlete_levels_lookup.bulkPut(A.data),R.data&&await tt.workouts.bulkPut(R.data)}),i(!0)}catch(c){console.error("Sync Error:",c),i(!0)}})()},[r]),n?w.jsx(Ag,{}):w.jsx(QE,{})},WE=()=>{const{athlete:r,signOut:n}=dr(),i=tl();return r?w.jsxs("div",{className:"page-container no-scrollbar px-6 pb-28",children:[w.jsx("header",{className:"flex justify-end pt-6 pb-2",children:w.jsx("button",{onClick:()=>n(),className:"p-3 bg-red-500/10 border border-red-500/15 rounded-2xl text-red-500 active:scale-90 transition-all",children:w.jsx(ev,{size:18})})}),w.jsxs("section",{className:"flex flex-col items-center mb-10",children:[w.jsxs("div",{className:"relative mb-6",children:[w.jsx("div",{className:"absolute inset-0 bg-brand/10 blur-2xl rounded-full"}),w.jsx("div",{className:"relative w-28 h-28 rounded-full bg-gradient-to-tr from-brand via-orange-500 to-yellow-500 p-[3px]",children:w.jsx("div",{className:"w-full h-full rounded-full bg-black border-[4px] border-black flex items-center justify-center overflow-hidden",children:w.jsx("span",{className:"text-4xl font-black text-white italic tracking-tighter",children:r.name?.charAt(0)})})})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase italic text-white leading-none",children:r.name}),w.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[w.jsx("span",{className:"h-[1px] w-6 bg-slate-800"}),w.jsxs("p",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-brand italic",children:["Level  ",r.current_level]}),w.jsx("span",{className:"h-[1px] w-6 bg-slate-800"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2.5 mb-8",children:[w.jsx(Fu,{label:"BMI",value:r.bmi||"0.0",icon:w.jsx(wc,{size:12})}),w.jsx(Fu,{label:"Body Fat",value:`${r.body_fat_percent||"0"}%`,icon:w.jsx(aS,{size:12})}),w.jsx(Fu,{label:"Lost",value:`${r.weight_lost||"0"}kg`,icon:w.jsx(zx,{size:12})}),w.jsx(Fu,{label:"Goal",value:r.target_weight?`${r.target_weight}kg`:"",icon:w.jsx(rv,{size:12})})]}),w.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[w.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 whitespace-nowrap",children:"Account Settings"}),w.jsx("div",{className:"h-[1px] w-full bg-slate-900"})]}),w.jsxs("nav",{className:"space-y-3",children:[w.jsx(ec,{label:"User Profile",sub:"Personal Identity & Goals",icon:w.jsx(_c,{size:18}),onClick:()=>i("/profile/details")}),w.jsx(ec,{label:"Measurements",sub:"Vitals & Metrics Tracking",icon:w.jsx(nv,{size:18}),onClick:()=>i("/profile/metrics")}),w.jsx(ec,{label:"Level Details",sub:"Rank Progress & Milestone",icon:w.jsx(al,{size:18}),onClick:()=>i("/profile/level")}),w.jsx(ec,{label:"Themes & Appearance",sub:"Brand Color & Styles",icon:w.jsx(tS,{size:18}),onClick:()=>i("/profile/theme")})]})]}):null},Fu=({label:r,value:n,icon:i})=>w.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/40 p-3 rounded-[1.2rem] flex items-center gap-3",children:[w.jsx("div",{className:"w-7 h-7 rounded-lg bg-black border border-slate-800 flex items-center justify-center text-brand",children:i}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-black italic text-white leading-none",children:n}),w.jsx("p",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-tight mt-0.5",children:r})]})]}),ec=({label:r,sub:n,icon:i,onClick:l})=>w.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between p-4 bg-slate-900/20 border border-slate-800/40 rounded-[1.8rem] active:bg-brand/5 active:border-brand/20 transition-all group",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-2xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-500 group-active:text-brand transition-colors",children:i}),w.jsxs("div",{className:"text-left",children:[w.jsx("p",{className:"text-[11px] font-black uppercase italic tracking-wider text-slate-200",children:r}),w.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-tighter",children:n})]})]}),w.jsx(od,{size:16,className:"text-slate-700 group-active:text-brand"})]}),Eo=({title:r,children:n})=>{const i=tl();return w.jsxs("div",{className:"relative",children:[w.jsx("header",{className:"sticky top-0 z-40 bg-black/90 backdrop-blur-md border-b border-slate-900 safe-ios-top",children:w.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[w.jsx("button",{onClick:()=>i(-1),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-slate-900 border border-slate-800 active:scale-90 transition-all",children:w.jsx(gx,{size:20})}),w.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-sm font-black uppercase tracking-widest",children:r}),w.jsx("div",{className:"w-10"})]})}),w.jsx("div",{className:"px-6 py-6 space-y-6",children:n})]})},ZE=()=>w.jsx(Eo,{title:"Profile Details",children:w.jsx("div",{className:"space-y-4",children:[...Array(50)].map((r,n)=>w.jsxs("div",{className:"h-20 rounded-xl bg-white/5 flex items-center px-4",children:["Details ",n+1]},n))})}),tc={weight:"",height:"",belly:"",waist:"",hips:"",chest:"",shoulder:"",neck:"",right_bicep:"",left_bicep:"",right_forearm:"",left_forearm:"",right_calf:"",left_calf:"",right_thigh:"",left_thigh:""},FE=()=>{const{user_id:r,refreshAthlete:n}=dr(),[i,l]=Y.useState(!0),[c,f]=Y.useState(!1),[m,y]=Y.useState(tc);Y.useEffect(()=>{(async()=>{try{const T=await Jh.getLatestMetrics();if(T){const A={...tc};Object.keys(tc).forEach(R=>{const $=T[R];A[R]=$!=null?$.toString():""}),y(A)}}catch(T){console.error("Fetch Error:",T)}finally{l(!1)}})()},[]);const v=(S,T)=>{(T===""||/^[0-9]*\.?[0-9]*$/.test(T))&&y(A=>({...A,[S]:T}))},_=async()=>{if(!r)return;f(!0);const S={user_id:r,logdate:new Date().toISOString().split("T")[0],weight:parseFloat(m.weight)||0,height:parseFloat(m.height)||0};Object.keys(tc).forEach(T=>{if(T==="weight"||T==="height")return;const A=m[T];S[T]=A===""?null:parseFloat(A)});try{await Jh.updateMetrics(S),await n()}catch(T){console.error("Save Error:",T)}finally{f(!1)}};return i?w.jsx(Eo,{title:"Measurements",children:w.jsx("div",{className:"flex h-60 items-center justify-center",children:w.jsx(ag,{className:"animate-spin text-brand",size:28})})}):w.jsx(Eo,{title:"Measurements",children:w.jsxs("div",{className:"space-y-10 pb-32 px-1",children:[w.jsxs("section",{children:[w.jsx(zh,{icon:w.jsx(px,{size:16}),title:"Core Vitals"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx(dg,{label:"Weight",value:m.weight,unit:"kg",icon:w.jsx(nv,{size:16}),onChange:S=>v("weight",S)}),w.jsx(dg,{label:"Height",value:m.height,unit:"cm",icon:w.jsx(tv,{size:16}),onChange:S=>v("height",S)})]})]}),w.jsxs("section",{children:[w.jsx(zh,{icon:w.jsx(ud,{size:16}),title:"Torso Dimensions"}),w.jsx("div",{className:"grid grid-cols-3 gap-3",children:["neck","shoulder","chest","belly","waist","hips"].map(S=>w.jsx(e2,{label:S,value:m[S],onChange:T=>v(S,T)},S))})]}),w.jsxs("section",{children:[w.jsx(zh,{icon:w.jsx(Bx,{size:16}),title:"Limb Symmetry"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx(nc,{label:"Bicep",leftKey:"left_bicep",rightKey:"right_bicep",metrics:m,onUpdate:(S,T)=>v(S,T)}),w.jsx(nc,{label:"Forearm",leftKey:"left_forearm",rightKey:"right_forearm",metrics:m,onUpdate:(S,T)=>v(S,T)}),w.jsx(nc,{label:"Thigh",leftKey:"left_thigh",rightKey:"right_thigh",metrics:m,onUpdate:(S,T)=>v(S,T)}),w.jsx(nc,{label:"Calf",leftKey:"left_calf",rightKey:"right_calf",metrics:m,onUpdate:(S,T)=>v(S,T)})]})]}),w.jsx("div",{className:"pt-6",children:w.jsxs("button",{disabled:c,onClick:_,className:"w-full py-6 bg-brand text-black text-lg font-black uppercase italic tracking-[0.15em] rounded-[2rem] flex items-center justify-center gap-3 active:scale-[0.96] transition-all disabled:opacity-50",children:[c?w.jsx(ag,{size:22,className:"animate-spin"}):w.jsx(uS,{size:22}),c?"Syncing Athlete...":"Update Athlete Data"]})})]})})},zh=({icon:r,title:n})=>w.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 font-black uppercase tracking-[0.25em] text-[12px] text-slate-500",children:[w.jsx("div",{className:"text-brand",children:r}),n]}),dg=({label:r,value:n,unit:i,icon:l,onChange:c})=>w.jsxs("div",{className:"bg-slate-900/30 border border-slate-800/40 p-5 rounded-[2rem]",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3 text-brand",children:[l,w.jsx("span",{className:"text-[10px] font-black text-slate-600 tracking-tighter",children:i})]}),w.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:f=>c(f.target.value),className:"bg-transparent border-none outline-none text-2xl font-black italic text-white w-full",placeholder:"0.0"}),w.jsx("p",{className:"text-[11px] font-bold text-slate-500 uppercase mt-1.5",children:r})]}),e2=({label:r,value:n,onChange:i})=>w.jsxs("div",{className:"bg-slate-900/10 border border-slate-800/30 p-4 rounded-[1.5rem] text-center",children:[w.jsx("p",{className:"text-[9px] font-black text-slate-600 uppercase mb-2",children:r}),w.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:l=>i(l.target.value),className:"bg-transparent border-none outline-none text-base font-black italic text-white w-full text-center",placeholder:""})]}),nc=({label:r,leftKey:n,rightKey:i,metrics:l,onUpdate:c})=>w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-20 text-[11px] font-black uppercase text-slate-500 italic",children:r}),w.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[w.jsx("input",{type:"text",inputMode:"decimal",value:l[n],onChange:f=>c(n,f.target.value),className:"w-full bg-slate-900/20 border border-slate-800/50 p-4 rounded-2xl text-sm font-black italic text-white text-center",placeholder:"Left"}),w.jsx("input",{type:"text",inputMode:"decimal",value:l[i],onChange:f=>c(i,f.target.value),className:"w-full bg-slate-900/20 border border-slate-800/50 p-4 rounded-2xl text-sm font-black italic text-white text-center",placeholder:"Right"})]})]}),t2=()=>{const{athlete:r}=dr();return r?w.jsx(Eo,{title:"Level Details",children:w.jsxs("div",{className:"space-y-8 pb-10",children:[w.jsxs("section",{className:"text-center pt-4",children:[w.jsxs("div",{className:"relative inline-block mb-6",children:[w.jsx("div",{className:"absolute inset-0 bg-brand/20 blur-3xl rounded-full"}),w.jsxs("div",{className:"relative w-32 h-32 rounded-[2.5rem] bg-slate-900 border border-slate-800 flex items-center justify-center",children:[w.jsx(al,{size:48,className:"text-brand",fill:"currentColor",fillOpacity:.1}),w.jsx("div",{className:"absolute -top-2 -right-2 bg-brand text-black w-10 h-10 rounded-xl flex items-center justify-center font-black italic border-4 border-black",children:r.current_level?.charAt(0)})]})]}),w.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white",children:r.current_level}),w.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-slate-500 mt-2",children:"Current Athlete Status"})]}),w.jsxs("section",{className:"bg-slate-900/30 border border-slate-800/40 p-6 rounded-[2.5rem]",children:[w.jsxs("div",{className:"flex justify-between items-end mb-6",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1",children:"Total Points"}),w.jsx("p",{className:"text-3xl font-black italic text-white",children:r.level_points})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-brand mb-1",children:"Next Rank"}),w.jsxs("p",{className:"text-xl font-black italic text-slate-300",children:[r.level_end," PTS"]})]})]}),w.jsx("div",{className:"h-3 w-full bg-black rounded-full overflow-hidden border border-slate-800",children:w.jsx("div",{className:"h-full bg-brand rounded-full transition-all duration-1000 shadow-[0_0_15px_var(--brand-primary)]",style:{width:`${r.level_completion_percent}%`}})}),w.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(av,{size:12,className:"text-brand"}),w.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tight",children:[r.points_remaining," PTS Remaining"]})]}),w.jsxs("span",{className:"text-[10px] font-black text-white italic uppercase",children:[r.level_completion_percent,"% Complete"]})]})]}),w.jsxs("section",{children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[w.jsx(wS,{size:14,className:"text-brand"}),w.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Rank Roadmap"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(ac,{level:"Starter",points:"0 - 100",isReached:!0,isCurrent:r.current_level==="Starter"}),w.jsx(ac,{level:"Novice",points:"101 - 500",isReached:r.level_points>100,isCurrent:r.current_level==="Novice"}),w.jsx(ac,{level:"Warrior",points:"501 - 2000",isReached:r.level_points>500,isCurrent:r.current_level==="Warrior"}),w.jsx(ac,{level:"Elite",points:"2001+",isReached:r.level_points>2e3,isCurrent:r.current_level==="Elite"})]})]}),r.projected_next_level_date&&w.jsxs("div",{className:"bg-brand/5 border border-brand/20 p-5 rounded-3xl flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 rounded-2xl bg-brand/20 flex items-center justify-center text-brand",children:w.jsx(Fg,{size:20})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-brand",children:"Estimated Rank Up"}),w.jsxs("p",{className:"text-sm font-bold text-white uppercase italic",children:["Around"," ",new Date(r.projected_next_level_date).toLocaleDateString("en-US",{month:"long",day:"numeric"})]})]})]})]})}):null},ac=({level:r,points:n,isReached:i,isCurrent:l})=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${l?"bg-brand/10 border-brand shadow-[0_0_20px_rgba(255,127,80,0.1)]":i?"bg-slate-900/40 border-slate-800 opacity-60":"bg-black border-slate-900 opacity-30"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i?"text-brand":"text-slate-600"}`,children:i?w.jsx(Fg,{size:18}):w.jsx(Xx,{size:18})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-black uppercase italic tracking-wide text-white",children:r}),w.jsxs("p",{className:"text-[9px] font-bold text-slate-500 uppercase",children:[n," PTS"]})]})]}),l&&w.jsx("span",{className:"bg-brand text-black text-[8px] font-black uppercase px-2 py-1 rounded-md",children:"Current"})]}),n2=[{name:"Fitnex Orange",hex:"#ff7f50"},{name:"Electric Blue",hex:"#3b82f6"},{name:"Cyber Green",hex:"#22c55e"},{name:"Neon Purple",hex:"#a855f7"},{name:"Crimson Red",hex:"#ef4444"},{name:"Solar Yellow",hex:"#eab308"}],a2=()=>{const[r,n]=Y.useState(()=>document.documentElement.classList.contains("light-theme")?"light":"dark"),[i,l]=Y.useState(()=>localStorage.getItem("fitnex-color")||"#ff7f50"),[c,f]=Y.useState(i),m=()=>{const y=document.documentElement;localStorage.setItem("fitnex-theme",r),localStorage.setItem("fitnex-color",i),r==="light"?y.classList.add("light-theme"):y.classList.remove("light-theme"),y.style.setProperty("--brand-primary",i,"important")};return Y.useEffect(()=>{f(i)},[i]),w.jsx(Eo,{title:"Appearance",children:w.jsxs("div",{className:"space-y-10 pb-10",children:[w.jsxs("section",{children:[w.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2",children:[w.jsx(cd,{size:14,className:"text-brand"}),w.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Visual Mode"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx(mg,{active:r==="dark",onClick:()=>n("dark"),label:"Dark",icon:w.jsx(Wx,{size:18}),desc:"OLED Saver"}),w.jsx(mg,{active:r==="light",onClick:()=>n("light"),label:"Light",icon:w.jsx(yS,{size:18}),desc:"High Contrast"})]})]}),w.jsxs("section",{children:[w.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2",children:[w.jsx(Fx,{size:14,className:"text-brand"}),w.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Brand Accent"})]}),w.jsx("div",{className:"p-6 rounded-[2.5rem] mb-4 border",style:{backgroundColor:"var(--bg-surface)",borderColor:"var(--border-color)"},children:w.jsx("div",{className:"grid grid-cols-3 gap-y-6 gap-x-4",children:n2.map(y=>w.jsx("button",{onClick:()=>l(y.hex),className:"flex flex-col items-center gap-2",children:w.jsx("div",{className:"w-12 h-12 rounded-2xl transition-all duration-300 flex items-center justify-center border-2",style:{backgroundColor:y.hex,borderColor:i.toLowerCase()===y.hex.toLowerCase()?"white":"transparent"},children:i.toLowerCase()===y.hex.toLowerCase()&&w.jsx(Ex,{size:20,className:"text-white",strokeWidth:4})})},y.hex))})}),w.jsxs("div",{className:"grid grid-cols-12 gap-3 mt-4",children:[w.jsxs("div",{className:"col-span-8 relative",children:[w.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:w.jsx(Hx,{size:14})}),w.jsx("input",{type:"text",value:c.replace("#",""),onChange:y=>{const v=`#${y.target.value}`;f(v),/^#[0-9A-F]{6}$/i.test(v)&&l(v)},className:"w-full border rounded-2xl py-4 pl-10 pr-4 text-xs font-black uppercase tracking-widest outline-none transition-all",style:{backgroundColor:"var(--bg-surface)",borderColor:"var(--border-color)",color:"var(--text-main)"}})]}),w.jsxs("div",{className:"col-span-4 relative",children:[w.jsx("input",{type:"color",value:i,onChange:y=>l(y.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),w.jsx("div",{className:"w-full h-full border rounded-2xl flex items-center justify-center text-slate-400",style:{backgroundColor:"var(--bg-surface)",borderColor:"var(--border-color)"},children:w.jsx(iS,{size:18})})]})]})]}),w.jsx("div",{className:"pt-4",children:w.jsx("button",{onClick:m,className:"w-full py-5 bg-brand text-black font-black uppercase italic tracking-widest rounded-[2rem] shadow-lg shadow-brand/20 active:scale-[0.95] transition-all",children:"Apply Changes"})})]})})},mg=({active:r,onClick:n,label:i,icon:l,desc:c})=>w.jsxs("button",{onClick:n,className:"p-5 rounded-[2rem] border transition-all text-left",style:{backgroundColor:r?"color-mix(in srgb, var(--brand-primary), transparent 90%)":"var(--bg-surface)",borderColor:r?"var(--brand-primary)":"var(--border-color)",color:r?"var(--brand-primary)":"var(--text-muted)"},children:[w.jsx("div",{className:"mb-3",children:l}),w.jsx("p",{className:"text-xs font-black uppercase italic tracking-widest leading-none mb-1",children:i}),w.jsx("p",{className:"text-[8px] font-bold uppercase opacity-50",children:c})]}),r2=()=>{const{user_id:r,athlete:n,loading:i}=dr();return i?null:w.jsxs($b,{children:[!r&&w.jsx(Fn,{path:"*",element:w.jsx(ix,{})}),r&&!n&&w.jsx(Fn,{path:"*",element:w.jsx(DS,{})}),r&&n&&w.jsxs(Fn,{element:w.jsx(JE,{}),children:[w.jsxs(Fn,{element:w.jsx(XE,{}),children:[w.jsx(Fn,{path:"/dashboard",element:w.jsx(YE,{})}),w.jsx(Fn,{path:"/profile",element:w.jsx(WE,{})})]}),w.jsx(Fn,{path:"/profile/details",element:w.jsx(ZE,{})}),w.jsx(Fn,{path:"/profile/metrics",element:w.jsx(FE,{})}),w.jsx(Fn,{path:"/profile/level",element:w.jsx(t2,{})}),w.jsx(Fn,{path:"/profile/theme",element:w.jsx(a2,{})}),w.jsx(Fn,{path:"*",element:w.jsx(qb,{to:"/dashboard",replace:!0})})]})]})};function i2(){function r(){Y.useEffect(()=>{let n=0,i=0;const l=f=>{n=f.touches[0].clientX,i=f.touches[0].clientY},c=f=>{const m=Math.abs(f.touches[0].clientX-n),y=Math.abs(f.touches[0].clientY-i);m>y&&m>10&&f.preventDefault()};return document.addEventListener("touchstart",l,{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),()=>{document.removeEventListener("touchstart",l),document.removeEventListener("touchmove",c)}},[])}return r(),w.jsx("div",{className:"app-root",children:w.jsx(r2,{})})}const s2="modulepreload",l2=function(r){return"/fitnex/"+r},pg={},o2=function(n,i,l){let c=Promise.resolve();if(i&&i.length>0){let _=function(S){return Promise.all(S.map(T=>Promise.resolve(T).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var m=_;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),v=y?.nonce||y?.getAttribute("nonce");c=_(i.map(S=>{if(S=l2(S),S in pg)return;pg[S]=!0;const T=S.endsWith(".css"),A=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${A}`))return;const R=document.createElement("link");if(R.rel=T?"stylesheet":s2,T||(R.as="script"),R.crossOrigin="",R.href=S,v&&R.setAttribute("nonce",v),document.head.appendChild(R),T)return new Promise(($,J)=>{R.addEventListener("load",$),R.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${S}`)))})}))}function f(y){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=y,window.dispatchEvent(v),!v.defaultPrevented)throw y}return c.then(y=>{for(const v of y||[])v.status==="rejected"&&f(v.reason);return n().catch(f)})};function u2(r={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:l,onRegistered:c,onRegisteredSW:f,onRegisterError:m}=r;let y,v;const _=async(T=!0)=>{await v};async function S(){if("serviceWorker"in navigator){if(y=await o2(async()=>{const{Workbox:T}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:T}},[]).then(({Workbox:T})=>new T("/fitnex/sw.js",{scope:"/fitnex/",type:"classic"})).catch(T=>{m?.(T)}),!y)return;y.addEventListener("activated",T=>{(T.isUpdate||T.isExternal)&&window.location.reload()}),y.addEventListener("installed",T=>{T.isUpdate||l?.()}),y.register({immediate:n}).then(T=>{f?f("/fitnex/sw.js",T):c?.(T)}).catch(T=>{m?.(T)})}}return v=S(),_}const c2=Y.createContext(void 0),f2=({children:r})=>{const[n,i]=Y.useState("dark"),[l,c]=Y.useState("#ff7f50");Y.useEffect(()=>{(async()=>{const S=await tt.app_settings.get("global");S?(f(S.theme),m(S.brandColor),i(S.theme),c(S.brandColor)):(f("dark"),m("#ff7f50"))})()},[]);const f=_=>{const S=window.document.documentElement;_==="light"?S.classList.add("light-theme"):S.classList.remove("light-theme")},m=_=>{document.documentElement.style.setProperty("--brand-primary",_)},y=async _=>{i(_),f(_),await tt.app_settings.put({id:"global",theme:_,brandColor:l,unitSystem:"metric"})},v=async _=>{c(_),m(_),await tt.app_settings.put({id:"global",theme:n,brandColor:_,unitSystem:"metric"})};return w.jsx(c2.Provider,{value:{theme:n,brandColor:l,setTheme:y,setBrandColor:v},children:r})},h2=Y.createContext(void 0),d2=({children:r})=>{const[n,i]=Y.useState(null),[l,c]=Y.useState([]);Y.useEffect(()=>{(async()=>{const S=await tt.workouts.where("finish_time").equals("").first();if(S){const T=await tt.workout_logs.where("workout_id").equals(S.id).toArray();i(S),c(T)}})()},[]);const f=async(_,S)=>{const T={..._,is_synced:0},A=S.map(R=>({...R,is_synced:0}));await tt.workouts.put(T),A.length>0&&await tt.workout_logs.bulkPut(A),i(T),c(A)},m=async _=>{const S={..._,is_synced:0};await tt.workout_logs.put(S),c(T=>T.map(A=>A.id===_.id?S:A))},y=async _=>{if(!n)return;const S={...n,notes:_,finish_time:new Date().toISOString(),updated_at:new Date().toISOString()};await tt.workouts.put(S),i(null),c([])},v=async()=>{n&&(await tt.workout_logs.where("workout_id").equals(n.id).delete(),await tt.workouts.delete(n.id),i(null),c([]))};return w.jsx(h2.Provider,{value:{activeWorkout:n,activeLogs:l,isOngoing:!!n,startWorkout:f,updateLog:m,finishWorkout:y,discardWorkout:v},children:r})};function fd(){const r=window.visualViewport?.height||window.innerHeight;document.documentElement.style.setProperty("--app-height",`${r}px`)}fd();window.visualViewport?.addEventListener("resize",fd);window.addEventListener("orientationchange",fd);const m2=u2({immediate:!0,onNeedRefresh(){m2(!0)},onOfflineReady(){console.log("App ready offline")}});"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()});$0.createRoot(document.getElementById("root")).render(w.jsx(D0.StrictMode,{children:w.jsx(f_,{basename:"/fitnex",children:w.jsx(rx,{children:w.jsx(f2,{children:w.jsx(d2,{children:w.jsx(i2,{})})})})})}));
