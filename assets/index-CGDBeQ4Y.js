(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var Ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jd={exports:{}},lo={};var Ey;function Xb(){if(Ey)return lo;Ey=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:m,ref:u!==void 0?u:null,props:f}}return lo.Fragment=n,lo.jsx=i,lo.jsxs=i,lo}var jy;function Qb(){return jy||(jy=1,jd.exports=Xb()),jd.exports}var v=Qb(),kd={exports:{}},$e={};var ky;function Jb(){if(ky)return $e;ky=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),A=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=A&&H[A]||H["@@iterator"],typeof H=="function"?H:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function le(H,ie,ge){this.props=H,this.context=ie,this.refs=F,this.updater=ge||P}le.prototype.isReactComponent={},le.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},le.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function ae(){}ae.prototype=le.prototype;function re(H,ie,ge){this.props=H,this.context=ie,this.refs=F,this.updater=ge||P}var _e=re.prototype=new ae;_e.constructor=re,J(_e,le.prototype),_e.isPureReactComponent=!0;var ze=Array.isArray;function Te(){}var pe={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function ut(H,ie,ge){var Se=ge.ref;return{$$typeof:r,type:H,key:ie,ref:Se!==void 0?Se:null,props:ge}}function yn(H,ie){return ut(H.type,ie,H.props)}function An(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function Bt(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ge){return ie[ge]})}var vn=/\/+/g;function na(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?Bt(""+H.key):ie.toString(36)}function gn(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Te,Te):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,ie,ge,Se,qe){var Pe=typeof H;(Pe==="undefined"||Pe==="boolean")&&(H=null);var Xe=!1;if(H===null)Xe=!0;else switch(Pe){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(H.$$typeof){case r:case n:Xe=!0;break;case S:return Xe=H._init,ee(Xe(H._payload),ie,ge,Se,qe)}}if(Xe)return qe=qe(H),Xe=Se===""?"."+na(H,0):Se,ze(qe)?(ge="",Xe!=null&&(ge=Xe.replace(vn,"$&/")+"/"),ee(qe,ie,ge,"",function(ke){return ke})):qe!=null&&(An(qe)&&(qe=yn(qe,ge+(qe.key==null||H&&H.key===qe.key?"":(""+qe.key).replace(vn,"$&/")+"/")+Xe)),ie.push(qe)),1;Xe=0;var Yt=Se===""?".":Se+":";if(ze(H))for(var Ot=0;Ot<H.length;Ot++)Se=H[Ot],Pe=Yt+na(Se,Ot),Xe+=ee(Se,ie,ge,Pe,qe);else if(Ot=N(H),typeof Ot=="function")for(H=Ot.call(H),Ot=0;!(Se=H.next()).done;)Se=Se.value,Pe=Yt+na(Se,Ot++),Xe+=ee(Se,ie,ge,Pe,qe);else if(Pe==="object"){if(typeof H.then=="function")return ee(gn(H),ie,ge,Se,qe);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function ve(H,ie,ge){if(H==null)return H;var Se=[],qe=0;return ee(H,Se,"","",function(Pe){return ie.call(ge,Pe,qe++)}),Se}function Ae(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ge){(H._status===0||H._status===-1)&&(H._status=1,H._result=ge)},function(ge){(H._status===0||H._status===-1)&&(H._status=2,H._result=ge)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var Fe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ie={map:ve,forEach:function(H,ie,ge){ve(H,function(){ie.apply(this,arguments)},ge)},count:function(H){var ie=0;return ve(H,function(){ie++}),ie},toArray:function(H){return ve(H,function(ie){return ie})||[]},only:function(H){if(!An(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return $e.Activity=j,$e.Children=Ie,$e.Component=le,$e.Fragment=i,$e.Profiler=u,$e.PureComponent=re,$e.StrictMode=s,$e.Suspense=b,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,$e.__COMPILER_RUNTIME={__proto__:null,c:function(H){return pe.H.useMemoCache(H)}},$e.cache=function(H){return function(){return H.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(H,ie,ge){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Se=J({},H.props),qe=H.key;if(ie!=null)for(Pe in ie.key!==void 0&&(qe=""+ie.key),ie)!nt.call(ie,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ie.ref===void 0||(Se[Pe]=ie[Pe]);var Pe=arguments.length-2;if(Pe===1)Se.children=ge;else if(1<Pe){for(var Xe=Array(Pe),Yt=0;Yt<Pe;Yt++)Xe[Yt]=arguments[Yt+2];Se.children=Xe}return ut(H.type,qe,Se)},$e.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:f,_context:H},H},$e.createElement=function(H,ie,ge){var Se,qe={},Pe=null;if(ie!=null)for(Se in ie.key!==void 0&&(Pe=""+ie.key),ie)nt.call(ie,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(qe[Se]=ie[Se]);var Xe=arguments.length-2;if(Xe===1)qe.children=ge;else if(1<Xe){for(var Yt=Array(Xe),Ot=0;Ot<Xe;Ot++)Yt[Ot]=arguments[Ot+2];qe.children=Yt}if(H&&H.defaultProps)for(Se in Xe=H.defaultProps,Xe)qe[Se]===void 0&&(qe[Se]=Xe[Se]);return ut(H,Pe,qe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:y,render:H}},$e.isValidElement=An,$e.lazy=function(H){return{$$typeof:S,_payload:{_status:-1,_result:H},_init:Ae}},$e.memo=function(H,ie){return{$$typeof:w,type:H,compare:ie===void 0?null:ie}},$e.startTransition=function(H){var ie=pe.T,ge={};pe.T=ge;try{var Se=H(),qe=pe.S;qe!==null&&qe(ge,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(Te,Fe)}catch(Pe){Fe(Pe)}finally{ie!==null&&ge.types!==null&&(ie.types=ge.types),pe.T=ie}},$e.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},$e.use=function(H){return pe.H.use(H)},$e.useActionState=function(H,ie,ge){return pe.H.useActionState(H,ie,ge)},$e.useCallback=function(H,ie){return pe.H.useCallback(H,ie)},$e.useContext=function(H){return pe.H.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H,ie){return pe.H.useDeferredValue(H,ie)},$e.useEffect=function(H,ie){return pe.H.useEffect(H,ie)},$e.useEffectEvent=function(H){return pe.H.useEffectEvent(H)},$e.useId=function(){return pe.H.useId()},$e.useImperativeHandle=function(H,ie,ge){return pe.H.useImperativeHandle(H,ie,ge)},$e.useInsertionEffect=function(H,ie){return pe.H.useInsertionEffect(H,ie)},$e.useLayoutEffect=function(H,ie){return pe.H.useLayoutEffect(H,ie)},$e.useMemo=function(H,ie){return pe.H.useMemo(H,ie)},$e.useOptimistic=function(H,ie){return pe.H.useOptimistic(H,ie)},$e.useReducer=function(H,ie,ge){return pe.H.useReducer(H,ie,ge)},$e.useRef=function(H){return pe.H.useRef(H)},$e.useState=function(H){return pe.H.useState(H)},$e.useSyncExternalStore=function(H,ie,ge){return pe.H.useSyncExternalStore(H,ie,ge)},$e.useTransition=function(){return pe.H.useTransition()},$e.version="19.2.4",$e}var Ty;function lh(){return Ty||(Ty=1,kd.exports=Jb()),kd.exports}var $=lh();const Wb=sh($);var Td={exports:{}},oo={},Od={exports:{}},Ad={};var Oy;function Zb(){return Oy||(Oy=1,(function(r){function n(ee,ve){var Ae=ee.length;ee.push(ve);e:for(;0<Ae;){var Fe=Ae-1>>>1,Ie=ee[Fe];if(0<u(Ie,ve))ee[Fe]=ve,ee[Ae]=Ie,Ae=Fe;else break e}}function i(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ve=ee[0],Ae=ee.pop();if(Ae!==ve){ee[0]=Ae;e:for(var Fe=0,Ie=ee.length,H=Ie>>>1;Fe<H;){var ie=2*(Fe+1)-1,ge=ee[ie],Se=ie+1,qe=ee[Se];if(0>u(ge,Ae))Se<Ie&&0>u(qe,ge)?(ee[Fe]=qe,ee[Se]=Ae,Fe=Se):(ee[Fe]=ge,ee[ie]=Ae,Fe=ie);else if(Se<Ie&&0>u(qe,Ae))ee[Fe]=qe,ee[Se]=Ae,Fe=Se;else break e}}return ve}function u(ee,ve){var Ae=ee.sortIndex-ve.sortIndex;return Ae!==0?Ae:ee.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var b=[],w=[],S=1,j=null,A=3,N=!1,P=!1,J=!1,F=!1,le=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(ee){for(var ve=i(w);ve!==null;){if(ve.callback===null)s(w);else if(ve.startTime<=ee)s(w),ve.sortIndex=ve.expirationTime,n(b,ve);else break;ve=i(w)}}function ze(ee){if(J=!1,_e(ee),!P)if(i(b)!==null)P=!0,Te||(Te=!0,Bt());else{var ve=i(w);ve!==null&&gn(ze,ve.startTime-ee)}}var Te=!1,pe=-1,nt=5,ut=-1;function yn(){return F?!0:!(r.unstable_now()-ut<nt)}function An(){if(F=!1,Te){var ee=r.unstable_now();ut=ee;var ve=!0;try{e:{P=!1,J&&(J=!1,ae(pe),pe=-1),N=!0;var Ae=A;try{t:{for(_e(ee),j=i(b);j!==null&&!(j.expirationTime>ee&&yn());){var Fe=j.callback;if(typeof Fe=="function"){j.callback=null,A=j.priorityLevel;var Ie=Fe(j.expirationTime<=ee);if(ee=r.unstable_now(),typeof Ie=="function"){j.callback=Ie,_e(ee),ve=!0;break t}j===i(b)&&s(b),_e(ee)}else s(b);j=i(b)}if(j!==null)ve=!0;else{var H=i(w);H!==null&&gn(ze,H.startTime-ee),ve=!1}}break e}finally{j=null,A=Ae,N=!1}ve=void 0}}finally{ve?Bt():Te=!1}}}var Bt;if(typeof re=="function")Bt=function(){re(An)};else if(typeof MessageChannel<"u"){var vn=new MessageChannel,na=vn.port2;vn.port1.onmessage=An,Bt=function(){na.postMessage(null)}}else Bt=function(){le(An,0)};function gn(ee,ve){pe=le(function(){ee(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var Ae=A;A=ve;try{return ee()}finally{A=Ae}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(ee,ve){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ae=A;A=ee;try{return ve()}finally{A=Ae}},r.unstable_scheduleCallback=function(ee,ve,Ae){var Fe=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Fe+Ae:Fe):Ae=Fe,ee){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=Ae+Ie,ee={id:S++,callback:ve,priorityLevel:ee,startTime:Ae,expirationTime:Ie,sortIndex:-1},Ae>Fe?(ee.sortIndex=Ae,n(w,ee),i(b)===null&&ee===i(w)&&(J?(ae(pe),pe=-1):J=!0,gn(ze,Ae-Fe))):(ee.sortIndex=Ie,n(b,ee),P||N||(P=!0,Te||(Te=!0,Bt()))),ee},r.unstable_shouldYield=yn,r.unstable_wrapCallback=function(ee){var ve=A;return function(){var Ae=A;A=ve;try{return ee.apply(this,arguments)}finally{A=Ae}}}})(Ad)),Ad}var Ay;function Fb(){return Ay||(Ay=1,Od.exports=Zb()),Od.exports}var Nd={exports:{}},pn={};var Ny;function e0(){if(Ny)return pn;Ny=1;var r=lh();function n(b){var w="https://react.dev/errors/"+b;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)w+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+b+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(b,w,S){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:j==null?null:""+j,children:b,containerInfo:w,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,w){if(b==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(b,w){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(n(299));return f(b,w,null,S)},pn.flushSync=function(b){var w=m.T,S=s.p;try{if(m.T=null,s.p=2,b)return b()}finally{m.T=w,s.p=S,s.d.f()}},pn.preconnect=function(b,w){typeof b=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,s.d.C(b,w))},pn.prefetchDNS=function(b){typeof b=="string"&&s.d.D(b)},pn.preinit=function(b,w){if(typeof b=="string"&&w&&typeof w.as=="string"){var S=w.as,j=y(S,w.crossOrigin),A=typeof w.integrity=="string"?w.integrity:void 0,N=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;S==="style"?s.d.S(b,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:j,integrity:A,fetchPriority:N}):S==="script"&&s.d.X(b,{crossOrigin:j,integrity:A,fetchPriority:N,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},pn.preinitModule=function(b,w){if(typeof b=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var S=y(w.as,w.crossOrigin);s.d.M(b,{crossOrigin:S,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&s.d.M(b)},pn.preload=function(b,w){if(typeof b=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var S=w.as,j=y(S,w.crossOrigin);s.d.L(b,S,{crossOrigin:j,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},pn.preloadModule=function(b,w){if(typeof b=="string")if(w){var S=y(w.as,w.crossOrigin);s.d.m(b,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:S,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else s.d.m(b)},pn.requestFormReset=function(b){s.d.r(b)},pn.unstable_batchedUpdates=function(b,w){return b(w)},pn.useFormState=function(b,w,S){return m.H.useFormState(b,w,S)},pn.useFormStatus=function(){return m.H.useHostTransitionStatus()},pn.version="19.2.4",pn}var Ry;function t0(){if(Ry)return Nd.exports;Ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Nd.exports=e0(),Nd.exports}var Cy;function n0(){if(Cy)return oo;Cy=1;var r=Fb(),n=lh(),i=t0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(s(188))}function w(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,l=t;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return b(c),e;if(d===l)return b(c),t;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=d;else{for(var _=!1,k=c.child;k;){if(k===a){_=!0,a=c,l=d;break}if(k===l){_=!0,l=c,a=d;break}k=k.sibling}if(!_){for(k=d.child;k;){if(k===a){_=!0,a=d,l=c;break}if(k===l){_=!0,l=d,a=c;break}k=k.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),ut=Symbol.for("react.activity"),yn=Symbol.for("react.memo_cache_sentinel"),An=Symbol.iterator;function Bt(e){return e===null||typeof e!="object"?null:(e=An&&e[An]||e["@@iterator"],typeof e=="function"?e:null)}var vn=Symbol.for("react.client.reference");function na(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case le:return"Profiler";case F:return"StrictMode";case ze:return"Suspense";case Te:return"SuspenseList";case ut:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case re:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:na(e.type)||"Memo";case nt:t=e._payload,e=e._init;try{return na(e(t))}catch{}}return null}var gn=Array.isArray,ee=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Fe=[],Ie=-1;function H(e){return{current:e}}function ie(e){0>Ie||(e.current=Fe[Ie],Fe[Ie]=null,Ie--)}function ge(e,t){Ie++,Fe[Ie]=e.current,e.current=t}var Se=H(null),qe=H(null),Pe=H(null),Xe=H(null);function Yt(e,t){switch(ge(Pe,t),ge(qe,e),ge(Se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ip(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ip(t),e=Xp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(Se),ge(Se,e)}function Ot(){ie(Se),ie(qe),ie(Pe)}function ke(e){e.memoizedState!==null&&ge(Xe,e);var t=Se.current,a=Xp(t,e.type);t!==a&&(ge(qe,e),ge(Se,a))}function ni(e){qe.current===e&&(ie(Se),ie(qe)),Xe.current===e&&(ie(Xe),ao._currentValue=Ae)}var at,pr;function Da(e){if(at===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);at=t&&t[1]||"",pr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+e+pr}var aa=!1;function il(e,t){if(!e||aa)return"";aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var W=Z}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(Z){W=Z}e.call(oe.prototype)}}else{try{throw Error()}catch(Z){W=Z}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],k=d[1];if(_&&k){var R=_.split(`
`),X=k.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===X.length)for(l=R.length-1,c=X.length-1;1<=l&&0<=c&&R[l]!==X[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==X[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==X[c]){var ne=`
`+R[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=c);break}}}finally{aa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Da(a):""}function Nc(e,t){switch(e.tag){case 26:case 27:case 5:return Da(e.type);case 16:return Da("Lazy");case 13:return e.child!==t&&t!==null?Da("Suspense Fallback"):Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return il(e.type,!1);case 11:return il(e.type.render,!1);case 1:return il(e.type,!0);case 31:return Da("Activity");default:return""}}function Co(e){try{var t="",a=null;do t+=Nc(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var sl=Object.prototype.hasOwnProperty,ai=r.unstable_scheduleCallback,xn=r.unstable_cancelCallback,Do=r.unstable_shouldYield,ri=r.unstable_requestPaint,un=r.unstable_now,ii=r.unstable_getCurrentPriorityLevel,cn=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,si=r.unstable_LowPriority,Ii=r.unstable_IdlePriority,Xi=r.log,Ma=r.unstable_setDisableYieldValue,pa=null,Zt=null;function Ft(e){if(typeof Xi=="function"&&Ma(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pa,e)}catch{}}var be=Math.clz32?Math.clz32:Qi,li=Math.log,Ua=Math.LN2;function Qi(e){return e>>>=0,e===0?32:31-(li(e)/Ua|0)|0}var me=256,vr=262144,oi=4194304;function ra(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var k=l&134217727;return k!==0?(l=k&~d,l!==0?c=ra(l):(_&=k,_!==0?c=ra(_):a||(a=k&~e,a!==0&&(c=ra(a))))):(k=l&~d,k!==0?c=ra(k):_!==0?c=ra(_):a||(a=l&~e,a!==0&&(c=ra(a)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:c}function za(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Rc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var e=oi;return oi<<=1,(oi&62914560)===0&&(oi=4194304),e}function ya(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ll(e,t,a,l,c,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var k=e.entanglements,R=e.expirationTimes,X=e.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-be(a),oe=1<<ne;k[ne]=0,R[ne]=-1;var W=X[ne];if(W!==null)for(X[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}a&=~oe}l!==0&&ci(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~t))}function ci(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-be(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function gt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-be(a),c=1<<l;c&t|e[l]&t&&(e[l]|=t),a&=~c}}function Ct(e,t){var a=t&-t;return a=(a&42)!==0?1:ol(a),(a&(e.suspendedLanes|t))!==0?0:a}function ol(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fi(){var e=ve.p;return e!==0?e:(e=window.event,e===void 0?32:vy(e.type))}function di(e,t){var a=ve.p;try{return ve.p=e,t()}finally{ve.p=a}}var va=Math.random().toString(36).slice(2),_t="__reactFiber$"+va,Dt="__reactProps$"+va,bn="__reactContainer$"+va,br="__reactEvents$"+va,Cc="__reactListeners$"+va,ga="__reactHandles$"+va,ul="__reactResources$"+va,Nn="__reactMarker$"+va;function Ji(e){delete e[_t],delete e[Dt],delete e[br],delete e[Cc],delete e[ga]}function ba(e){var t=e[_t];if(t)return t;for(var a=e.parentNode;a;){if(t=a[bn]||a[_t]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ty(e);e!==null;){if(a=e[_t])return a;e=ty(e)}return t}e=a,a=e.parentNode}return null}function ht(e){if(e=e[_t]||e[bn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function fn(e){var t=e[ul];return t||(t=e[ul]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mt(e){e[Nn]=!0}var La=new Set,hi={};function ia(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(hi[e]=t,e=0;e<t.length;e++)La.add(t[e])}var Ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},mi={};function Uo(e){return sl.call(mi,e)?!0:sl.call(cl,e)?!1:Ba.test(e)?mi[e]=!0:(cl[e]=!0,!1)}function Ye(e,t,a){if(Uo(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function pi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Kn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _r(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zo(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){if(!e._valueTracker){var t=_r(e)?"checked":"value";e._valueTracker=zo(e,t,""+e[t])}}function fl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=_r(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function st(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function Xt(e){return e.replace(yi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wa(e,t,a,l,c,d,_,k){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?vi(e,_,en(t)):a!=null?vi(e,_,en(a)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+en(k):e.removeAttribute("name")}function Zi(e,t,a,l,c,d,_,k){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Wi(e);return}a=a!=null?""+en(a):"",t=t!=null?""+en(t):a,k||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=k?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Wi(e)}function vi(e,t,a){t==="number"&&st(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function sa(e,t,a,l){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function dl(e,t,a){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+en(a):""}function gi(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(s(92));if(gn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=en(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Wi(e)}function qa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function et(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Dc.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hl(e,t,a){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&a[c]!==l&&et(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&et(e,d,t[d])}function ml(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return _n.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sn(){}var Gn=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,xt=null;function Cn(e){var t=ht(e);if(t&&(e=t.stateNode)){var a=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var c=l[Dt]||null;if(!c)throw Error(s(90));wa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&fl(l)}break e;case"textarea":dl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&sa(e,!!a.multiple,t,!1)}}}var $a=!1;function wr(e,t,a){if($a)return e(t,a);$a=!0;try{var l=e(t);return l}finally{if($a=!1,(Ha!==null||xt!==null)&&(ju(),Ha&&(t=Ha,e=xt,xt=Ha=null,Cn(t),e)))for(t=0;t<e.length;t++)Cn(e[t])}}function Pa(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=!1;if(Qt)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){pl=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{pl=!1}var Yn=null,es=null,xr=null;function Sr(){if(xr)return xr;var e,t=es,a=t.length,l,c="value"in Yn?Yn.value:Yn.textContent,d=c.length;for(e=0;e<a&&t[e]===c[e];e++);var _=a-e;for(l=1;l<=_&&t[a-l]===c[d-l];l++);return xr=c.slice(e,1<l?1-l:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bi(){return!0}function Lo(){return!1}function qt(e){function t(a,l,c,d,_){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(d):d[k]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:Lo,this.isPropagationStopped=Lo,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=qt(Ka),xa=j({},Ka,{view:0,detail:0}),ns=qt(xa),_i,yl,wi,as=j({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(_i=e.screenX-wi.screenX,yl=e.screenY-wi.screenY):yl=_i=0,wi=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),rs=qt(as),vl=j({},as,{dataTransfer:0}),Bo=qt(vl),is=j({},xa,{relatedTarget:0}),jr=qt(is),ss=j({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=qt(ss),Uc=j({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kr=qt(Uc),gl=j({},Ka,{data:0}),ls=qt(gl),bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jt[e])?!!t[e]:!1}function Ga(){return xi}var Ho=j({},xa,{key:function(e){if(e.key){var t=bl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_l[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),os=qt(Ho),$o=j({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=qt($o),us=j({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),xl=qt(us),Ya=j({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sl=qt(Ya),El=j({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cs=qt(El),jl=j({},Ka,{newState:0,oldState:0}),Po=qt(jl),zc=[9,13,27,32],Si=Qt&&"CompositionEvent"in window,Sa=null;Qt&&"documentMode"in document&&(Sa=document.documentMode);var Lc=Qt&&"TextEvent"in window&&!Sa,fs=Qt&&(!Si||Sa&&8<Sa&&11>=Sa),ds=" ",Ko=!1;function kl(e,t){switch(e){case"keyup":return zc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Go(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function Yo(e,t){switch(e){case"compositionend":return Go(t);case"keypress":return t.which!==32?null:(Ko=!0,ds);case"textInput":return e=t.data,e===ds&&Ko?null:e;default:return null}}function Bc(e,t){if(Va)return e==="compositionend"||!Si&&kl(e,t)?(e=Sr(),xr=es=Yn=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fs&&t.locale!=="ko"?null:t.data;default:return null}}var Vo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vo[e.type]:t==="textarea"}function Tl(e,t,a,l){Ha?xt?xt.push(l):xt=[l]:Ha=l,t=Cu(t,"onChange"),0<t.length&&(a=new ts("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Tr=null,Ei=null;function qc(e){$p(e,0)}function ms(e){var t=Rn(e);if(fl(t))return e}function ji(e,t){if(e==="change")return t}var Vn=!1;if(Qt){var St;if(Qt){var Or="oninput"in document;if(!Or){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Or=typeof Ia.oninput=="function"}St=Or}else St=!1;Vn=St&&(!document.documentMode||9<document.documentMode)}function Io(){Tr&&(Tr.detachEvent("onpropertychange",ps),Ei=Tr=null)}function ps(e){if(e.propertyName==="value"&&ms(Ei)){var t=[];Tl(t,Ei,e,Fi(e)),wr(qc,t)}}function Xo(e,t,a){e==="focusin"?(Io(),Tr=t,Ei=a,Tr.attachEvent("onpropertychange",ps)):e==="focusout"&&Io()}function Xa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(Ei)}function Ol(e,t){if(e==="click")return ms(t)}function Ar(e,t){if(e==="input"||e==="change")return ms(t)}function Ea(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:Ea;function o(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!sl.call(t,c)||!hn(e[c],t[c]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var a=h(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=h(a)}}function g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=st(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=st(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Qt&&"documentMode"in document&&11>=document.documentMode,O=null,D=null,G=null,M=!1;function C(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;M||O==null||O!==st(l)||(l=O,"selectionStart"in l&&E(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),G&&o(G,l)||(G=l,l=Cu(D,"onSelect"),0<l.length&&(t=new ts("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=O)))}function L(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var q={animationend:L("Animation","AnimationEnd"),animationiteration:L("Animation","AnimationIteration"),animationstart:L("Animation","AnimationStart"),transitionrun:L("Transition","TransitionRun"),transitionstart:L("Transition","TransitionStart"),transitioncancel:L("Transition","TransitionCancel"),transitionend:L("Transition","TransitionEnd")},U={},z={};Qt&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function V(e){if(U[e])return U[e];if(!q[e])return e;var t=q[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in z)return U[e]=t[a];return e}var Q=V("animationend"),Y=V("animationiteration"),te=V("animationstart"),ue=V("transitionrun"),de=V("transitionstart"),he=V("transitioncancel"),ce=V("transitionend"),we=new Map,ye="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ye.push("scrollEnd");function fe(e,t){we.set(e,t),ia(t,[e])}var xe=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Le=[],Ve=0,Ne=0;function He(){for(var e=Ve,t=Ne=Ve=0;t<e;){var a=Le[t];Le[t++]=null;var l=Le[t];Le[t++]=null;var c=Le[t];Le[t++]=null;var d=Le[t];if(Le[t++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}d!==0&&ja(a,c,d)}}function mt(e,t,a,l){Le[Ve++]=e,Le[Ve++]=t,Le[Ve++]=a,Le[Ve++]=l,Ne|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mn(e,t,a,l){return mt(e,t,a,l),Nr(e)}function ot(e,t){return mt(e,null,null,t),Nr(e)}function ja(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-be(a),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=a|536870912),d):null}function Nr(e){if(50<Jl)throw Jl=0,Qf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ys={};function Ng(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,a,l){return new Ng(e,t,a,l)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qa(e,t){var a=e.alternate;return a===null?(a=Dn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Sh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qo(e,t,a,l,c,d){var _=0;if(l=e,typeof e=="function")Hc(e)&&(_=1);else if(typeof e=="string")_=Ub(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ut:return e=Dn(31,a,t,c),e.elementType=ut,e.lanes=d,e;case J:return ki(a.children,c,d,t);case F:_=8,c|=24;break;case le:return e=Dn(12,a,t,c|2),e.elementType=le,e.lanes=d,e;case ze:return e=Dn(13,a,t,c),e.elementType=ze,e.lanes=d,e;case Te:return e=Dn(19,a,t,c),e.elementType=Te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:_=10;break e;case ae:_=9;break e;case _e:_=11;break e;case pe:_=14;break e;case nt:_=16,l=null;break e}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Dn(_,a,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function ki(e,t,a,l){return e=Dn(7,e,l,t),e.lanes=a,e}function $c(e,t,a){return e=Dn(6,e,null,t),e.lanes=a,e}function Eh(e){var t=Dn(18,null,null,0);return t.stateNode=e,t}function Pc(e,t,a){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jh=new WeakMap;function In(e,t){if(typeof e=="object"&&e!==null){var a=jh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Co(t)},jh.set(e,t),t)}return{value:e,source:t,stack:Co(t)}}var vs=[],gs=0,Jo=null,Al=0,Xn=[],Qn=0,Rr=null,ka=1,Ta="";function Ja(e,t){vs[gs++]=Al,vs[gs++]=Jo,Jo=e,Al=t}function kh(e,t,a){Xn[Qn++]=ka,Xn[Qn++]=Ta,Xn[Qn++]=Rr,Rr=e;var l=ka;e=Ta;var c=32-be(l)-1;l&=~(1<<c),a+=1;var d=32-be(t)+c;if(30<d){var _=c-c%5;d=(l&(1<<_)-1).toString(32),l>>=_,c-=_,ka=1<<32-be(t)+c|a<<c|l,Ta=d+e}else ka=1<<d|a<<c|l,Ta=e}function Kc(e){e.return!==null&&(Ja(e,1),kh(e,1,0))}function Gc(e){for(;e===Jo;)Jo=vs[--gs],vs[gs]=null,Al=vs[--gs],vs[gs]=null;for(;e===Rr;)Rr=Xn[--Qn],Xn[Qn]=null,Ta=Xn[--Qn],Xn[Qn]=null,ka=Xn[--Qn],Xn[Qn]=null}function Th(e,t){Xn[Qn++]=ka,Xn[Qn++]=Ta,Xn[Qn++]=Rr,ka=t.id,Ta=t.overflow,Rr=e}var tn=null,Et=null,tt=!1,Cr=null,Jn=!1,Yc=Error(s(519));function Dr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(In(t,e)),Yc}function Oh(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[_t]=e,t[Dt]=l,a){case"dialog":Je("cancel",t),Je("close",t);break;case"iframe":case"object":case"embed":Je("load",t);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Je(Zl[a],t);break;case"source":Je("error",t);break;case"img":case"image":case"link":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"input":Je("invalid",t),Zi(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",t);break;case"textarea":Je("invalid",t),gi(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Yp(t.textContent,a)?(l.popover!=null&&(Je("beforetoggle",t),Je("toggle",t)),l.onScroll!=null&&Je("scroll",t),l.onScrollEnd!=null&&Je("scrollend",t),l.onClick!=null&&(t.onclick=Sn),t=!0):t=!1,t||Dr(e,!0)}function Ah(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function bs(e){if(e!==tn)return!1;if(!tt)return Ah(e),tt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cd(e.type,e.memoizedProps)),a=!a),a&&Et&&Dr(e),Ah(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Et=ey(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Et=ey(e)}else t===27?(t=Et,Ir(e.type)?(e=pd,pd=null,Et=e):Et=t):Et=tn?Zn(e.stateNode.nextSibling):null;return!0}function Ti(){Et=tn=null,tt=!1}function Vc(){var e=Cr;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Cr=null),e}function Nl(e){Cr===null?Cr=[e]:Cr.push(e)}var Ic=H(null),Oi=null,Wa=null;function Mr(e,t,a){ge(Ic,t._currentValue),t._currentValue=a}function Za(e){e._currentValue=Ic.current,ie(Ic)}function Xc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Qc(e,t,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var _=c.child;d=d.firstContext;e:for(;d!==null;){var k=d;d=c;for(var R=0;R<t.length;R++)if(k.context===t[R]){d.lanes|=a,k=d.alternate,k!==null&&(k.lanes|=a),Xc(d.return,a,e),l||(_=null);break e}d=k.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Xc(_,a,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function _s(e,t,a,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var k=c.type;hn(c.pendingProps.value,_.value)||(e!==null?e.push(k):e=[k])}}else if(c===Xe.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ao):e=[ao])}c=c.return}e!==null&&Qc(t,e,a,l),t.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Oi=e,Wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Nh(Oi,e)}function Zo(e,t){return Oi===null&&Ai(e),Nh(e,t)}function Nh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wa===null){if(e===null)throw Error(s(308));Wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wa=Wa.next=t;return a}var Rg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Cg=r.unstable_scheduleCallback,Dg=r.unstable_NormalPriority,Ht={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new Rg,data:new Map,refCount:0}}function Rl(e){e.refCount--,e.refCount===0&&Cg(Dg,function(){e.controller.abort()})}var Cl=null,Wc=0,ws=0,xs=null;function Mg(e,t){if(Cl===null){var a=Cl=[];Wc=0,ws=td(),xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wc++,t.then(Rh,Rh),t}function Rh(){if(--Wc===0&&Cl!==null){xs!==null&&(xs.status="fulfilled");var e=Cl;Cl=null,ws=0,xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ug(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Ch=ee.S;ee.S=function(e,t){pp=un(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mg(e,t),Ch!==null&&Ch(e,t)};var Ni=H(null);function Zc(){var e=Ni.current;return e!==null?e:bt.pooledCache}function Fo(e,t){t===null?ge(Ni,Ni.current):ge(Ni,t.pool)}function Dh(){var e=Zc();return e===null?null:{parent:Ht._currentValue,pool:e}}var Ss=Error(s(460)),Fc=Error(s(474)),eu=Error(s(542)),tu={then:function(){}};function Mh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Sn,Sn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then(Sn,Sn);else{if(e=bt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw Ci=t,Ss}}function Ri(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ci=a,Ss):a}}var Ci=null;function zh(){if(Ci===null)throw Error(s(459));var e=Ci;return Ci=null,e}function Lh(e){if(e===Ss||e===eu)throw Error(s(483))}var Es=null,Dl=0;function nu(e){var t=Dl;return Dl+=1,Es===null&&(Es=[]),Uh(Es,e,t)}function Ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function au(e,t){throw t.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bh(e){function t(K,B){if(e){var I=K.deletions;I===null?(K.deletions=[B],K.flags|=16):I.push(B)}}function a(K,B){if(!e)return null;for(;B!==null;)t(K,B),B=B.sibling;return null}function l(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function c(K,B){return K=Qa(K,B),K.index=0,K.sibling=null,K}function d(K,B,I){return K.index=I,e?(I=K.alternate,I!==null?(I=I.index,I<B?(K.flags|=67108866,B):I):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function _(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function k(K,B,I,se){return B===null||B.tag!==6?(B=$c(I,K.mode,se),B.return=K,B):(B=c(B,I),B.return=K,B)}function R(K,B,I,se){var Re=I.type;return Re===J?ne(K,B,I.props.children,se,I.key):B!==null&&(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===nt&&Ri(Re)===B.type)?(B=c(B,I.props),Ml(B,I),B.return=K,B):(B=Qo(I.type,I.key,I.props,null,K.mode,se),Ml(B,I),B.return=K,B)}function X(K,B,I,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==I.containerInfo||B.stateNode.implementation!==I.implementation?(B=Pc(I,K.mode,se),B.return=K,B):(B=c(B,I.children||[]),B.return=K,B)}function ne(K,B,I,se,Re){return B===null||B.tag!==7?(B=ki(I,K.mode,se,Re),B.return=K,B):(B=c(B,I),B.return=K,B)}function oe(K,B,I){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=$c(""+B,K.mode,I),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return I=Qo(B.type,B.key,B.props,null,K.mode,I),Ml(I,B),I.return=K,I;case P:return B=Pc(B,K.mode,I),B.return=K,B;case nt:return B=Ri(B),oe(K,B,I)}if(gn(B)||Bt(B))return B=ki(B,K.mode,I,null),B.return=K,B;if(typeof B.then=="function")return oe(K,nu(B),I);if(B.$$typeof===re)return oe(K,Zo(K,B),I);au(K,B)}return null}function W(K,B,I,se){var Re=B!==null?B.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return Re!==null?null:k(K,B,""+I,se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return I.key===Re?R(K,B,I,se):null;case P:return I.key===Re?X(K,B,I,se):null;case nt:return I=Ri(I),W(K,B,I,se)}if(gn(I)||Bt(I))return Re!==null?null:ne(K,B,I,se,null);if(typeof I.then=="function")return W(K,B,nu(I),se);if(I.$$typeof===re)return W(K,B,Zo(K,I),se);au(K,I)}return null}function Z(K,B,I,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(I)||null,k(B,K,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case N:return K=K.get(se.key===null?I:se.key)||null,R(B,K,se,Re);case P:return K=K.get(se.key===null?I:se.key)||null,X(B,K,se,Re);case nt:return se=Ri(se),Z(K,B,I,se,Re)}if(gn(se)||Bt(se))return K=K.get(I)||null,ne(B,K,se,Re,null);if(typeof se.then=="function")return Z(K,B,I,nu(se),Re);if(se.$$typeof===re)return Z(K,B,I,Zo(B,se),Re);au(B,se)}return null}function Ee(K,B,I,se){for(var Re=null,rt=null,je=B,Ge=B=0,Ze=null;je!==null&&Ge<I.length;Ge++){je.index>Ge?(Ze=je,je=null):Ze=je.sibling;var it=W(K,je,I[Ge],se);if(it===null){je===null&&(je=Ze);break}e&&je&&it.alternate===null&&t(K,je),B=d(it,B,Ge),rt===null?Re=it:rt.sibling=it,rt=it,je=Ze}if(Ge===I.length)return a(K,je),tt&&Ja(K,Ge),Re;if(je===null){for(;Ge<I.length;Ge++)je=oe(K,I[Ge],se),je!==null&&(B=d(je,B,Ge),rt===null?Re=je:rt.sibling=je,rt=je);return tt&&Ja(K,Ge),Re}for(je=l(je);Ge<I.length;Ge++)Ze=Z(je,K,Ge,I[Ge],se),Ze!==null&&(e&&Ze.alternate!==null&&je.delete(Ze.key===null?Ge:Ze.key),B=d(Ze,B,Ge),rt===null?Re=Ze:rt.sibling=Ze,rt=Ze);return e&&je.forEach(function(Zr){return t(K,Zr)}),tt&&Ja(K,Ge),Re}function Ce(K,B,I,se){if(I==null)throw Error(s(151));for(var Re=null,rt=null,je=B,Ge=B=0,Ze=null,it=I.next();je!==null&&!it.done;Ge++,it=I.next()){je.index>Ge?(Ze=je,je=null):Ze=je.sibling;var Zr=W(K,je,it.value,se);if(Zr===null){je===null&&(je=Ze);break}e&&je&&Zr.alternate===null&&t(K,je),B=d(Zr,B,Ge),rt===null?Re=Zr:rt.sibling=Zr,rt=Zr,je=Ze}if(it.done)return a(K,je),tt&&Ja(K,Ge),Re;if(je===null){for(;!it.done;Ge++,it=I.next())it=oe(K,it.value,se),it!==null&&(B=d(it,B,Ge),rt===null?Re=it:rt.sibling=it,rt=it);return tt&&Ja(K,Ge),Re}for(je=l(je);!it.done;Ge++,it=I.next())it=Z(je,K,Ge,it.value,se),it!==null&&(e&&it.alternate!==null&&je.delete(it.key===null?Ge:it.key),B=d(it,B,Ge),rt===null?Re=it:rt.sibling=it,rt=it);return e&&je.forEach(function(Vb){return t(K,Vb)}),tt&&Ja(K,Ge),Re}function vt(K,B,I,se){if(typeof I=="object"&&I!==null&&I.type===J&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case N:e:{for(var Re=I.key;B!==null;){if(B.key===Re){if(Re=I.type,Re===J){if(B.tag===7){a(K,B.sibling),se=c(B,I.props.children),se.return=K,K=se;break e}}else if(B.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===nt&&Ri(Re)===B.type){a(K,B.sibling),se=c(B,I.props),Ml(se,I),se.return=K,K=se;break e}a(K,B);break}else t(K,B);B=B.sibling}I.type===J?(se=ki(I.props.children,K.mode,se,I.key),se.return=K,K=se):(se=Qo(I.type,I.key,I.props,null,K.mode,se),Ml(se,I),se.return=K,K=se)}return _(K);case P:e:{for(Re=I.key;B!==null;){if(B.key===Re)if(B.tag===4&&B.stateNode.containerInfo===I.containerInfo&&B.stateNode.implementation===I.implementation){a(K,B.sibling),se=c(B,I.children||[]),se.return=K,K=se;break e}else{a(K,B);break}else t(K,B);B=B.sibling}se=Pc(I,K.mode,se),se.return=K,K=se}return _(K);case nt:return I=Ri(I),vt(K,B,I,se)}if(gn(I))return Ee(K,B,I,se);if(Bt(I)){if(Re=Bt(I),typeof Re!="function")throw Error(s(150));return I=Re.call(I),Ce(K,B,I,se)}if(typeof I.then=="function")return vt(K,B,nu(I),se);if(I.$$typeof===re)return vt(K,B,Zo(K,I),se);au(K,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,B!==null&&B.tag===6?(a(K,B.sibling),se=c(B,I),se.return=K,K=se):(a(K,B),se=$c(I,K.mode,se),se.return=K,K=se),_(K)):a(K,B)}return function(K,B,I,se){try{Dl=0;var Re=vt(K,B,I,se);return Es=null,Re}catch(je){if(je===Ss||je===eu)throw je;var rt=Dn(29,je,null,K.mode);return rt.lanes=se,rt.return=K,rt}}}var Di=Bh(!0),qh=Bh(!1),Ur=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Nr(e),ja(e,null,a),t}return mt(e,l,t,a),Nr(e)}function Ul(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gt(e,a)}}function nf(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?c=d=t:d=d.next=t}else c=d=t;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var af=!1;function zl(){if(af){var e=xs;if(e!==null)throw e}}function Ll(e,t,a,l){af=!1;var c=e.updateQueue;Ur=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var R=k,X=R.next;R.next=null,_===null?d=X:_.next=X,_=R;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==_&&(k===null?ne.firstBaseUpdate=X:k.next=X,ne.lastBaseUpdate=R))}if(d!==null){var oe=c.baseState;_=0,ne=X=R=null,k=d;do{var W=k.lane&-536870913,Z=W!==k.lane;if(Z?(We&W)===W:(l&W)===W){W!==0&&W===ws&&(af=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=e,Ce=k;W=t;var vt=a;switch(Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){oe=Ee.call(vt,oe,W);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,W=typeof Ee=="function"?Ee.call(vt,oe,W):Ee,W==null)break e;oe=j({},oe,W);break e;case 2:Ur=!0}}W=k.callback,W!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=c.callbacks,Z===null?c.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(X=ne=Z,R=oe):ne=ne.next=Z,_|=W;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,c.lastBaseUpdate=Z,c.shared.pending=null}}while(!0);ne===null&&(R=oe),c.baseState=R,c.firstBaseUpdate=X,c.lastBaseUpdate=ne,d===null&&(c.shared.lanes=0),Pr|=_,e.lanes=_,e.memoizedState=oe}}function Hh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function $h(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hh(a[e],t)}var js=H(null),ru=H(0);function Ph(e,t){e=lr,ge(ru,e),ge(js,t),lr=e|t.baseLanes}function rf(){ge(ru,lr),ge(js,js.current)}function sf(){lr=ru.current,ie(js),ie(ru)}var Mn=H(null),Wn=null;function Br(e){var t=e.alternate;ge(Ut,Ut.current&1),ge(Mn,e),Wn===null&&(t===null||js.current!==null||t.memoizedState!==null)&&(Wn=e)}function lf(e){ge(Ut,Ut.current),ge(Mn,e),Wn===null&&(Wn=e)}function Kh(e){e.tag===22?(ge(Ut,Ut.current),ge(Mn,e),Wn===null&&(Wn=e)):qr()}function qr(){ge(Ut,Ut.current),ge(Mn,Mn.current)}function Un(e){ie(Mn),Wn===e&&(Wn=null),ie(Ut)}var Ut=H(0);function iu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hd(a)||md(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=0,Ke=null,pt=null,$t=null,su=!1,ks=!1,Mi=!1,lu=0,Bl=0,Ts=null,zg=0;function At(){throw Error(s(321))}function of(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!hn(e[a],t[a]))return!1;return!0}function uf(e,t,a,l,c,d){return Fa=d,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ee.H=e===null||e.memoizedState===null?km:Ef,Mi=!1,d=a(l,c),Mi=!1,ks&&(d=Yh(t,a,l,c)),Gh(e),d}function Gh(e){ee.H=$l;var t=pt!==null&&pt.next!==null;if(Fa=0,$t=pt=Ke=null,su=!1,Bl=0,Ts=null,t)throw Error(s(300));e===null||Pt||(e=e.dependencies,e!==null&&Wo(e)&&(Pt=!0))}function Yh(e,t,a,l){Ke=e;var c=0;do{if(ks&&(Ts=null),Bl=0,ks=!1,25<=c)throw Error(s(301));if(c+=1,$t=pt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=Tm,d=t(a,l)}while(ks);return d}function Lg(){var e=ee.H,t=e.useState()[0];return t=typeof t.then=="function"?ql(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(Ke.flags|=1024),t}function cf(){var e=lu!==0;return lu=0,e}function ff(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function df(e){if(su){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}su=!1}Fa=0,$t=pt=Ke=null,ks=!1,Bl=lu=0,Ts=null}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ke.memoizedState=$t=e:$t=$t.next=e,$t}function zt(){if(pt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=$t===null?Ke.memoizedState:$t.next;if(t!==null)$t=t,pt=e;else{if(e===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},$t===null?Ke.memoizedState=$t=e:$t=$t.next=e}return $t}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var t=Bl;return Bl+=1,Ts===null&&(Ts=[]),e=Uh(Ts,e,t),t=Ke,($t===null?t.memoizedState:$t.next)===null&&(t=t.alternate,ee.H=t===null||t.memoizedState===null?km:Ef),e}function uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===re)return nn(e)}throw Error(s(438,String(e)))}function hf(e){var t=null,a=Ke.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ou(),Ke.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=yn;return t.index++,a}function er(e,t){return typeof t=="function"?t(e):t}function cu(e){var t=zt();return mf(t,pt,e)}function mf(e,t,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var k=_=null,R=null,X=t,ne=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(We&oe)===oe:(Fa&oe)===oe){var W=X.revertLane;if(W===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===ws&&(ne=!0);else if((Fa&W)===W){X=X.next,W===ws&&(ne=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(k=R=oe,_=d):R=R.next=oe,Ke.lanes|=W,Pr|=W;oe=X.action,Mi&&a(d,oe),d=X.hasEagerState?X.eagerState:a(d,oe)}else W={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(k=R=W,_=d):R=R.next=W,Ke.lanes|=oe,Pr|=oe;X=X.next}while(X!==null&&X!==t);if(R===null?_=d:R.next=k,!hn(d,e.memoizedState)&&(Pt=!0,ne&&(a=xs,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=R,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var t=zt(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,d=t.memoizedState;if(c!==null){a.pending=null;var _=c=c.next;do d=e(d,_.action),_=_.next;while(_!==c);hn(d,t.memoizedState)||(Pt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function Vh(e,t,a){var l=Ke,c=zt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=t();var _=!hn((pt||c).memoizedState,a);if(_&&(c.memoizedState=a,Pt=!0),c=c.queue,gf(Qh.bind(null,l,c,e),[e]),c.getSnapshot!==t||_||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Os(9,{destroy:void 0},Xh.bind(null,l,c,a,t),null),bt===null)throw Error(s(349));d||(Fa&127)!==0||Ih(l,t,a)}return a}function Ih(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ke.updateQueue,t===null?(t=ou(),Ke.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Xh(e,t,a,l){t.value=a,t.getSnapshot=l,Jh(t)&&Wh(e)}function Qh(e,t,a){return a(function(){Jh(t)&&Wh(e)})}function Jh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!hn(e,a)}catch{return!0}}function Wh(e){var t=ot(e,2);t!==null&&On(t,e,2)}function yf(e){var t=wn();if(typeof e=="function"){var a=e;if(e=a(),Mi){Ft(!0);try{a()}finally{Ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t}function Zh(e,t,a,l){return e.baseState=a,mf(e,pt,typeof l=="function"?l:er)}function Bg(e,t,a,l,c){if(hu(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,Fh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Fh(e,t){var a=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=ee.T,_={};ee.T=_;try{var k=a(c,l),R=ee.S;R!==null&&R(_,k),em(e,t,k)}catch(X){vf(e,t,X)}finally{d!==null&&_.types!==null&&(d.types=_.types),ee.T=d}}else try{d=a(c,l),em(e,t,d)}catch(X){vf(e,t,X)}}function em(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){tm(e,t,l)},function(l){return vf(e,t,l)}):tm(e,t,a)}function tm(e,t,a){t.status="fulfilled",t.value=a,nm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Fh(e,a)))}function vf(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,nm(t),t=t.next;while(t!==l)}e.action=null}function nm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function am(e,t){return t}function rm(e,t){if(tt){var a=bt.formState;if(a!==null){e:{var l=Ke;if(tt){if(Et){t:{for(var c=Et,d=Jn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Zn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Et=Zn(c.nextSibling),l=c.data==="F!";break e}}Dr(l)}l=!1}l&&(t=a[0])}}return a=wn(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:am,lastRenderedState:t},a.queue=l,a=Sm.bind(null,Ke,l),l.dispatch=a,l=yf(!1),d=Sf.bind(null,Ke,!1,l.queue),l=wn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,a=Bg.bind(null,Ke,c,d,a),c.dispatch=a,l.memoizedState=e,[t,a,!1]}function im(e){var t=zt();return sm(t,pt,e)}function sm(e,t,a){if(t=mf(e,t,am)[0],e=cu(er)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ql(t)}catch(_){throw _===Ss?eu:_}else l=t;t=zt();var c=t.queue,d=c.dispatch;return a!==t.memoizedState&&(Ke.flags|=2048,Os(9,{destroy:void 0},qg.bind(null,c,a),null)),[l,d,e]}function qg(e,t){e.action=t}function lm(e){var t=zt(),a=pt;if(a!==null)return sm(t,a,e);zt(),t=t.memoizedState,a=zt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Os(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ke.updateQueue,t===null&&(t=ou(),Ke.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function om(){return zt().memoizedState}function fu(e,t,a,l){var c=wn();Ke.flags|=e,c.memoizedState=Os(1|t,{destroy:void 0},a,l===void 0?null:l)}function du(e,t,a,l){var c=zt();l=l===void 0?null:l;var d=c.memoizedState.inst;pt!==null&&l!==null&&of(l,pt.memoizedState.deps)?c.memoizedState=Os(t,d,a,l):(Ke.flags|=e,c.memoizedState=Os(1|t,d,a,l))}function um(e,t){fu(8390656,8,e,t)}function gf(e,t){du(2048,8,e,t)}function Hg(e){Ke.flags|=4;var t=Ke.updateQueue;if(t===null)t=ou(),Ke.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function cm(e){var t=zt().memoizedState;return Hg({ref:t,nextImpl:e}),function(){if((lt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return du(4,2,e,t)}function dm(e,t){return du(4,4,e,t)}function hm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,a){a=a!=null?a.concat([e]):null,du(4,4,hm.bind(null,t,e),a)}function bf(){}function pm(e,t){var a=zt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&of(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function ym(e,t){var a=zt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&of(t,l[1]))return l[0];if(l=e(),Mi){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,t],l}function _f(e,t,a){return a===void 0||(Fa&1073741824)!==0&&(We&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=vp(),Ke.lanes|=e,Pr|=e,a)}function vm(e,t,a,l){return hn(a,t)?a:js.current!==null?(e=_f(e,a,l),hn(e,t)||(Pt=!0),e):(Fa&42)===0||(Fa&1073741824)!==0&&(We&261930)===0?(Pt=!0,e.memoizedState=a):(e=vp(),Ke.lanes|=e,Pr|=e,t)}function gm(e,t,a,l,c){var d=ve.p;ve.p=d!==0&&8>d?d:8;var _=ee.T,k={};ee.T=k,Sf(e,!1,t,a);try{var R=c(),X=ee.S;if(X!==null&&X(k,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ne=Ug(R,l);Hl(e,t,ne,Bn(e))}else Hl(e,t,l,Bn(e))}catch(oe){Hl(e,t,{then:function(){},status:"rejected",reason:oe},Bn())}finally{ve.p=d,_!==null&&k.types!==null&&(_.types=k.types),ee.T=_}}function $g(){}function wf(e,t,a,l){if(e.tag!==5)throw Error(s(476));var c=bm(e).queue;gm(e,c,t,Ae,a===null?$g:function(){return _m(e),a(l)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:Ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _m(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Hl(e,t.next.queue,{},Bn())}function xf(){return nn(ao)}function wm(){return zt().memoizedState}function xm(){return zt().memoizedState}function Pg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bn();e=zr(a);var l=Lr(t,e,a);l!==null&&(On(l,t,a),Ul(l,t,a)),t={cache:Jc()},e.payload=t;return}t=t.return}}function Kg(e,t,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(e)?Em(t,a):(a=mn(e,t,a,l),a!==null&&(On(a,e,l),jm(a,t,l)))}function Sm(e,t,a){var l=Bn();Hl(e,t,a,l)}function Hl(e,t,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(e))Em(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var _=t.lastRenderedState,k=d(_,a);if(c.hasEagerState=!0,c.eagerState=k,hn(k,_))return mt(e,t,c,0),bt===null&&He(),!1}catch{}if(a=mn(e,t,c,l),a!==null)return On(a,e,l),jm(a,t,l),!0}return!1}function Sf(e,t,a,l){if(l={lane:2,revertLane:td(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hu(e)){if(t)throw Error(s(479))}else t=mn(e,a,l,2),t!==null&&On(t,e,2)}function hu(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Em(e,t){ks=su=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function jm(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gt(e,a)}}var $l={readContext:nn,use:uu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};$l.useEffectEvent=At;var km={readContext:nn,use:uu,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:um,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,fu(4194308,4,hm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return fu(4194308,4,e,t)},useInsertionEffect:function(e,t){fu(4,2,e,t)},useMemo:function(e,t){var a=wn();t=t===void 0?null:t;var l=e();if(Mi){Ft(!0);try{e()}finally{Ft(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=wn();if(a!==void 0){var c=a(t);if(Mi){Ft(!0);try{a(t)}finally{Ft(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Kg.bind(null,Ke,e),[l.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:function(e){e=yf(e);var t=e.queue,a=Sm.bind(null,Ke,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(e,t){var a=wn();return _f(a,e,t)},useTransition:function(){var e=yf(!1);return e=gm.bind(null,Ke,e.queue,!0,!1),wn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ke,c=wn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),bt===null)throw Error(s(349));(We&127)!==0||Ih(l,t,a)}c.memoizedState=a;var d={value:a,getSnapshot:t};return c.queue=d,um(Qh.bind(null,l,d,e),[e]),l.flags|=2048,Os(9,{destroy:void 0},Xh.bind(null,l,d,a,t),null),a},useId:function(){var e=wn(),t=bt.identifierPrefix;if(tt){var a=Ta,l=ka;a=(l&~(1<<32-be(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=lu++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=zg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xf,useFormState:rm,useActionState:rm,useOptimistic:function(e){var t=wn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Sf.bind(null,Ke,!0,a),a.dispatch=t,[e,t]},useMemoCache:hf,useCacheRefresh:function(){return wn().memoizedState=Pg.bind(null,Ke)},useEffectEvent:function(e){var t=wn(),a={impl:e};return t.memoizedState=a,function(){if((lt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ef={readContext:nn,use:uu,useCallback:pm,useContext:nn,useEffect:gf,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:ym,useReducer:cu,useRef:om,useState:function(){return cu(er)},useDebugValue:bf,useDeferredValue:function(e,t){var a=zt();return vm(a,pt.memoizedState,e,t)},useTransition:function(){var e=cu(er)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Vh,useId:wm,useHostTransitionStatus:xf,useFormState:im,useActionState:im,useOptimistic:function(e,t){var a=zt();return Zh(a,pt,e,t)},useMemoCache:hf,useCacheRefresh:xm};Ef.useEffectEvent=cm;var Tm={readContext:nn,use:uu,useCallback:pm,useContext:nn,useEffect:gf,useImperativeHandle:mm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:ym,useReducer:pf,useRef:om,useState:function(){return pf(er)},useDebugValue:bf,useDeferredValue:function(e,t){var a=zt();return pt===null?_f(a,e,t):vm(a,pt.memoizedState,e,t)},useTransition:function(){var e=pf(er)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Vh,useId:wm,useHostTransitionStatus:xf,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var a=zt();return pt!==null?Zh(a,pt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:xm};Tm.useEffectEvent=cm;function jf(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Bn(),c=zr(l);c.payload=t,a!=null&&(c.callback=a),t=Lr(e,c,l),t!==null&&(On(t,e,l),Ul(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Bn(),c=zr(l);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Lr(e,c,l),t!==null&&(On(t,e,l),Ul(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bn(),l=zr(a);l.tag=2,t!=null&&(l.callback=t),t=Lr(e,l,a),t!==null&&(On(t,e,a),Ul(t,e,a))}};function Om(e,t,a,l,c,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):t.prototype&&t.prototype.isPureReactComponent?!o(a,l)||!o(c,d):!0}function Am(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&kf.enqueueReplaceState(t,t.state,null)}function Ui(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Nm(e){xe(e)}function Rm(e){console.error(e)}function Cm(e){xe(e)}function mu(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Dm(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tf(e,t,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(e,t)},a}function Mm(e){return e=zr(e),e.tag=3,e}function Um(e,t,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Dm(t,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Dm(t,a,l),typeof c!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})})}function Gg(e,t,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&_s(t,a,c,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?ku():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Zf(e,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Zf(e,l,c)),!1}throw Error(s(435,a.tag))}return Zf(e,l,c),ku(),!1}if(tt)return t=Mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Yc&&(e=Error(s(422),{cause:l}),Nl(In(e,a)))):(l!==Yc&&(t=Error(s(423),{cause:l}),Nl(In(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=In(l,a),c=Tf(e.stateNode,l,c),nf(e,c),Nt!==4&&(Nt=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Ql===null?Ql=[d]:Ql.push(d),Nt!==4&&(Nt=2),t===null)return!0;l=In(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Tf(a.stateNode,l,e),nf(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Mm(c),Um(c,e,a,l),nf(a,c),!1}a=a.return}while(a!==null);return!1}var Of=Error(s(461)),Pt=!1;function an(e,t,a,l){t.child=e===null?qh(t,null,a,l):Di(t,e.child,a,l)}function zm(e,t,a,l,c){a=a.render;var d=t.ref;if("ref"in l){var _={};for(var k in l)k!=="ref"&&(_[k]=l[k])}else _=l;return Ai(t),l=uf(e,t,a,_,d,c),k=cf(),e!==null&&!Pt?(ff(e,t,c),tr(e,t,c)):(tt&&k&&Kc(t),t.flags|=1,an(e,t,l,c),t.child)}function Lm(e,t,a,l,c){if(e===null){var d=a.type;return typeof d=="function"&&!Hc(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Bm(e,t,d,l,c)):(e=Qo(a.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!zf(e,c)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(_,l)&&e.ref===t.ref)return tr(e,t,c)}return t.flags|=1,e=Qa(d,l),e.ref=t.ref,e.return=t,t.child=e}function Bm(e,t,a,l,c){if(e!==null){var d=e.memoizedProps;if(o(d,l)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=l=d,zf(e,c))(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,tr(e,t,c)}return Af(e,t,a,l,c)}function qm(e,t,a,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return Hm(e,t,d,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(t,d!==null?d.cachePool:null),d!==null?Ph(t,d):rf(),Kh(t);else return l=t.lanes=536870912,Hm(e,t,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Fo(t,d.cachePool),Ph(t,d),qr(),t.memoizedState=null):(e!==null&&Fo(t,null),rf(),qr());return an(e,t,c,a),t.child}function Pl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hm(e,t,a,l,c){var d=Zc();return d=d===null?null:{parent:Ht._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&Fo(t,null),rf(),Kh(t),e!==null&&_s(e,t,l,!0),t.childLanes=c,null}function pu(e,t){return t=vu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $m(e,t,a){return Di(t,e.child,null,a),e=pu(t,t.pendingProps),e.flags|=2,Un(t),t.memoizedState=null,e}function Yg(e,t,a){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(tt){if(l.mode==="hidden")return e=pu(t,l),t.lanes=536870912,Pl(null,e);if(lf(t),(e=Et)?(e=Fp(e,Jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:ka,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},a=Eh(e),a.return=t,t.child=a,tn=t,Et=null)):e=null,e===null)throw Dr(t);return t.lanes=536870912,null}return pu(t,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(lf(t),c)if(t.flags&256)t.flags&=-257,t=$m(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Pt||_s(e,t,a,!1),c=(a&e.childLanes)!==0,Pt||c){if(l=bt,l!==null&&(_=Ct(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ot(e,_),On(l,e,_),Of;ku(),t=$m(e,t,a)}else e=d.treeContext,Et=Zn(_.nextSibling),tn=t,tt=!0,Cr=null,Jn=!1,e!==null&&Th(t,e),t=pu(t,l),t.flags|=4096;return t}return e=Qa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Af(e,t,a,l,c){return Ai(t),a=uf(e,t,a,l,void 0,c),l=cf(),e!==null&&!Pt?(ff(e,t,c),tr(e,t,c)):(tt&&l&&Kc(t),t.flags|=1,an(e,t,a,c),t.child)}function Pm(e,t,a,l,c,d){return Ai(t),t.updateQueue=null,a=Yh(t,l,a,c),Gh(e),l=cf(),e!==null&&!Pt?(ff(e,t,d),tr(e,t,d)):(tt&&l&&Kc(t),t.flags|=1,an(e,t,a,d),t.child)}function Km(e,t,a,l,c){if(Ai(t),t.stateNode===null){var d=ys,_=a.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},ef(t),_=a.contextType,d.context=typeof _=="object"&&_!==null?nn(_):ys,d.state=t.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(t,a,_,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kf.enqueueReplaceState(d,d.state,null),Ll(t,l,d,c),zl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var k=t.memoizedProps,R=Ui(a,k);d.props=R;var X=d.context,ne=a.contextType;_=ys,typeof ne=="object"&&ne!==null&&(_=nn(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",k=t.pendingProps!==k,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(k||X!==_)&&Am(t,d,l,_),Ur=!1;var W=t.memoizedState;d.state=W,Ll(t,l,d,c),zl(),X=t.memoizedState,k||W!==X||Ur?(typeof oe=="function"&&(jf(t,a,oe,l),X=t.memoizedState),(R=Ur||Om(t,a,R,l,W,X,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=X),d.props=l,d.state=X,d.context=_,l=R):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,tf(e,t),_=t.memoizedProps,ne=Ui(a,_),d.props=ne,oe=t.pendingProps,W=d.context,X=a.contextType,R=ys,typeof X=="object"&&X!==null&&(R=nn(X)),k=a.getDerivedStateFromProps,(X=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==oe||W!==R)&&Am(t,d,l,R),Ur=!1,W=t.memoizedState,d.state=W,Ll(t,l,d,c),zl();var Z=t.memoizedState;_!==oe||W!==Z||Ur||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof k=="function"&&(jf(t,a,k,l),Z=t.memoizedState),(ne=Ur||Om(t,a,ne,l,W,Z,R)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,R)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Z),d.props=l,d.state=Z,d.context=R,l=ne):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,yu(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Di(t,e.child,null,c),t.child=Di(t,null,a,c)):an(e,t,a,c),t.memoizedState=d.state,e=t.child):e=tr(e,t,c),e}function Gm(e,t,a,l){return Ti(),t.flags|=256,an(e,t,a,l),t.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Dh()}}function Cf(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ln),e}function Ym(e,t,a){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(tt){if(c?Br(t):qr(),(e=Et)?(e=Fp(e,Jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:ka,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},a=Eh(e),a.return=t,t.child=a,tn=t,Et=null)):e=null,e===null)throw Dr(t);return md(e)?t.lanes=32:t.lanes=536870912,null}var k=l.children;return l=l.fallback,c?(qr(),c=t.mode,k=vu({mode:"hidden",children:k},c),l=ki(l,c,a,null),k.return=t,l.return=t,k.sibling=l,t.child=k,l=t.child,l.memoizedState=Rf(a),l.childLanes=Cf(e,_,a),t.memoizedState=Nf,Pl(null,l)):(Br(t),Df(t,k))}var R=e.memoizedState;if(R!==null&&(k=R.dehydrated,k!==null)){if(d)t.flags&256?(Br(t),t.flags&=-257,t=Mf(e,t,a)):t.memoizedState!==null?(qr(),t.child=e.child,t.flags|=128,t=null):(qr(),k=l.fallback,c=t.mode,l=vu({mode:"visible",children:l.children},c),k=ki(k,c,a,null),k.flags|=2,l.return=t,k.return=t,l.sibling=k,t.child=l,Di(t,e.child,null,a),l=t.child,l.memoizedState=Rf(a),l.childLanes=Cf(e,_,a),t.memoizedState=Nf,t=Pl(null,l));else if(Br(t),md(k)){if(_=k.nextSibling&&k.nextSibling.dataset,_)var X=_.dgst;_=X,l=Error(s(419)),l.stack="",l.digest=_,Nl({value:l,source:null,stack:null}),t=Mf(e,t,a)}else if(Pt||_s(e,t,a,!1),_=(a&e.childLanes)!==0,Pt||_){if(_=bt,_!==null&&(l=Ct(_,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,ot(e,l),On(_,e,l),Of;hd(k)||ku(),t=Mf(e,t,a)}else hd(k)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Et=Zn(k.nextSibling),tn=t,tt=!0,Cr=null,Jn=!1,e!==null&&Th(t,e),t=Df(t,l.children),t.flags|=4096);return t}return c?(qr(),k=l.fallback,c=t.mode,R=e.child,X=R.sibling,l=Qa(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,X!==null?k=Qa(X,k):(k=ki(k,c,a,null),k.flags|=2),k.return=t,l.return=t,l.sibling=k,t.child=l,Pl(null,l),l=t.child,k=e.child.memoizedState,k===null?k=Rf(a):(c=k.cachePool,c!==null?(R=Ht._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Dh(),k={baseLanes:k.baseLanes|a,cachePool:c}),l.memoizedState=k,l.childLanes=Cf(e,_,a),t.memoizedState=Nf,Pl(e.child,l)):(Br(t),a=e.child,e=a.sibling,a=Qa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=a,t.memoizedState=null,a)}function Df(e,t){return t=vu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vu(e,t){return e=Dn(22,e,null,t),e.lanes=0,e}function Mf(e,t,a){return Di(t,e.child,null,a),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Xc(e.return,t,a)}function Uf(e,t,a,l,c,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:d}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=c,_.treeForkCount=d)}function Im(e,t,a){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var _=Ut.current,k=(_&2)!==0;if(k?(_=_&1|2,t.flags|=128):_&=1,ge(Ut,_),an(e,t,l,a),l=tt?Al:0,!k&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,a,t);else if(e.tag===19)Vm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&iu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Uf(t,!1,c,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&iu(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Uf(t,!0,a,null,d,l);break;case"together":Uf(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function tr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(_s(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=Qa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Qa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function Vg(e,t,a){switch(t.tag){case 3:Yt(t,t.stateNode.containerInfo),Mr(t,Ht,e.memoizedState.cache),Ti();break;case 27:case 5:ke(t);break;case 4:Yt(t,t.stateNode.containerInfo);break;case 10:Mr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lf(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ym(e,t,a):(Br(t),e=tr(e,t,a),e!==null?e.sibling:null);Br(t);break;case 19:var c=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(_s(e,t,a,!1),l=(a&t.childLanes)!==0),c){if(l)return Im(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ge(Ut,Ut.current),l)break;return null;case 22:return t.lanes=0,qm(e,t,a,t.pendingProps);case 24:Mr(t,Ht,e.memoizedState.cache)}return tr(e,t,a)}function Xm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!zf(e,a)&&(t.flags&128)===0)return Pt=!1,Vg(e,t,a);Pt=(e.flags&131072)!==0}else Pt=!1,tt&&(t.flags&1048576)!==0&&kh(t,Al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ri(t.elementType),t.type=e,typeof e=="function")Hc(e)?(l=Ui(e,l),t.tag=1,t=Km(null,t,e,l,a)):(t.tag=0,t=Af(null,t,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===_e){t.tag=11,t=zm(null,t,e,l,a);break e}else if(c===pe){t.tag=14,t=Lm(null,t,e,l,a);break e}}throw t=na(e)||e,Error(s(306,t,""))}}return t;case 0:return Af(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,c=Ui(l,t.pendingProps),Km(e,t,l,c,a);case 3:e:{if(Yt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,tf(e,t),Ll(t,l,null,a);var _=t.memoizedState;if(l=_.cache,Mr(t,Ht,l),l!==d.cache&&Qc(t,[Ht],a,!0),zl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Gm(e,t,l,a);break e}else if(l!==c){c=In(Error(s(424)),t),Nl(c),t=Gm(e,t,l,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Et=Zn(e.firstChild),tn=t,tt=!0,Cr=null,Jn=!0,a=qh(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ti(),l===c){t=tr(e,t,a);break e}an(e,t,l,a)}t=t.child}return t;case 26:return yu(e,t),e===null?(a=iy(t.type,null,t.pendingProps,null))?t.memoizedState=a:tt||(a=t.type,e=t.pendingProps,l=Du(Pe.current).createElement(a),l[_t]=t,l[Dt]=e,rn(l,a,e),Mt(l),t.stateNode=l):t.memoizedState=iy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&tt&&(l=t.stateNode=ny(t.type,t.pendingProps,Pe.current),tn=t,Jn=!0,c=Et,Ir(t.type)?(pd=c,Et=Zn(l.firstChild)):Et=c),an(e,t,t.pendingProps.children,a),yu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&tt&&((c=l=Et)&&(l=xb(l,t.type,t.pendingProps,Jn),l!==null?(t.stateNode=l,tn=t,Et=Zn(l.firstChild),Jn=!1,c=!0):c=!1),c||Dr(t)),ke(t),c=t.type,d=t.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,cd(c,d)?l=null:_!==null&&cd(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=uf(e,t,Lg,null,null,a),ao._currentValue=c),yu(e,t),an(e,t,l,a),t.child;case 6:return e===null&&tt&&((e=a=Et)&&(a=Sb(a,t.pendingProps,Jn),a!==null?(t.stateNode=a,tn=t,Et=null,e=!0):e=!1),e||Dr(t)),null;case 13:return Ym(e,t,a);case 4:return Yt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Di(t,null,l,a):an(e,t,l,a),t.child;case 11:return zm(e,t,t.type,t.pendingProps,a);case 7:return an(e,t,t.pendingProps,a),t.child;case 8:return an(e,t,t.pendingProps.children,a),t.child;case 12:return an(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Mr(t,t.type,l.value),an(e,t,l.children,a),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ai(t),c=nn(c),l=l(c),t.flags|=1,an(e,t,l,a),t.child;case 14:return Lm(e,t,t.type,t.pendingProps,a);case 15:return Bm(e,t,t.type,t.pendingProps,a);case 19:return Im(e,t,a);case 31:return Yg(e,t,a);case 22:return qm(e,t,a,t.pendingProps);case 24:return Ai(t),l=nn(Ht),e===null?(c=Zc(),c===null&&(c=bt,d=Jc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),t.memoizedState={parent:l,cache:c},ef(t),Mr(t,Ht,c)):((e.lanes&a)!==0&&(tf(e,t),Ll(t,null,null,a),zl()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Mr(t,Ht,l)):(l=d.cache,Mr(t,Ht,l),l!==c.cache&&Qc(t,[Ht],a,!0))),an(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function nr(e){e.flags|=4}function Lf(e,t,a,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(wp())e.flags|=8192;else throw Ci=tu,Fc}else e.flags&=-16777217}function Qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cy(t))if(wp())e.flags|=8192;else throw Ci=tu,Fc}function gu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mo():536870912,e.lanes|=t,Cs|=t)}function Kl(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ig(e,t,a){var l=t.pendingProps;switch(Gc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return jt(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Za(Ht),Ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bs(t)?nr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vc())),jt(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(nr(t),d!==null?(jt(t),Qm(t,d)):(jt(t),Lf(t,c,null,l,a))):d?d!==e.memoizedState?(nr(t),jt(t),Qm(t,d)):(jt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&nr(t),jt(t),Lf(t,c,e,l,a)),null;case 27:if(ni(t),a=Pe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&nr(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return jt(t),null}e=Se.current,bs(t)?Oh(t):(e=ny(c,l,a),t.stateNode=e,nr(t))}return jt(t),null;case 5:if(ni(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&nr(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return jt(t),null}if(d=Se.current,bs(t))Oh(t);else{var _=Du(Pe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(c,{is:l.is}):_.createElement(c)}}d[_t]=t,d[Dt]=l;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=d;e:switch(rn(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(t)}}return jt(t),Lf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&nr(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=Pe.current,bs(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[_t]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Yp(e.nodeValue,a)),e||Dr(t,!0)}else e=Du(e).createTextNode(l),e[_t]=t,t.stateNode=e}return jt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=bs(t),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_t]=t}else Ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;jt(t),e=!1}else a=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Un(t),t):(Un(t),null);if((t.flags&128)!==0)throw Error(s(558))}return jt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=bs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[_t]=t}else Ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;jt(t),c=!1}else c=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Un(t),t):(Un(t),null)}return Un(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),gu(t,t.updateQueue),jt(t),null);case 4:return Ot(),e===null&&id(t.stateNode.containerInfo),jt(t),null;case 10:return Za(t.type),jt(t),null;case 19:if(ie(Ut),l=t.memoizedState,l===null)return jt(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)Kl(l,!1);else{if(Nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=iu(e),d!==null){for(t.flags|=128,Kl(l,!1),e=d.updateQueue,t.updateQueue=e,gu(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Sh(a,e),a=a.sibling;return ge(Ut,Ut.current&1|2),tt&&Ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&un()>Su&&(t.flags|=128,c=!0,Kl(l,!1),t.lanes=4194304)}else{if(!c)if(e=iu(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,gu(t,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!tt)return jt(t),null}else 2*un()-l.renderingStartTime>Su&&a!==536870912&&(t.flags|=128,c=!0,Kl(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=un(),e.sibling=null,a=Ut.current,ge(Ut,c?a&1|2:a&1),tt&&Ja(t,l.treeForkCount),e):(jt(t),null);case 22:case 23:return Un(t),sf(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),a=t.updateQueue,a!==null&&gu(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&ie(Ni),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Za(Ht),jt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Xg(e,t){switch(Gc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(Ht),Ot(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ni(t),null;case 31:if(t.memoizedState!==null){if(Un(t),t.alternate===null)throw Error(s(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Un(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(Ut),null;case 4:return Ot(),null;case 10:return Za(t.type),null;case 22:case 23:return Un(t),sf(),e!==null&&ie(Ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(Ht),null;case 25:return null;default:return null}}function Jm(e,t){switch(Gc(t),t.tag){case 3:Za(Ht),Ot();break;case 26:case 27:case 5:ni(t);break;case 4:Ot();break;case 31:t.memoizedState!==null&&Un(t);break;case 13:Un(t);break;case 19:ie(Ut);break;case 10:Za(t.type);break;case 22:case 23:Un(t),sf(),e!==null&&ie(Ni);break;case 24:Za(Ht)}}function Gl(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==c)}}catch(k){ft(t,t.return,k)}}function Hr(e,t,a){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var _=l.inst,k=_.destroy;if(k!==void 0){_.destroy=void 0,c=t;var R=a,X=k;try{X()}catch(ne){ft(c,R,ne)}}}l=l.next}while(l!==d)}}catch(ne){ft(t,t.return,ne)}}function Wm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{$h(t,a)}catch(l){ft(e,e.return,l)}}}function Zm(e,t,a){a.props=Ui(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ft(e,t,l)}}function Yl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){ft(e,t,c)}}function Oa(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ft(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ft(e,t,c)}else a.current=null}function Fm(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ft(e,e.return,c)}}function Bf(e,t,a){try{var l=e.stateNode;yb(l,e.type,a,t),l[Dt]=t}catch(c){ft(e,e.return,c)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Sn));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Hf(e,t,a),e=e.sibling;e!==null;)Hf(e,t,a),e=e.sibling}function bu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bu(e,t,a),e=e.sibling;e!==null;)bu(e,t,a),e=e.sibling}function tp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);rn(t,l,a),t[_t]=e,t[Dt]=a}catch(d){ft(e,e.return,d)}}var ar=!1,Kt=!1,$f=!1,np=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Qg(e,t){if(e=e.containerInfo,od=Hu,e=x(e),E(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,k=-1,R=-1,X=0,ne=0,oe=e,W=null;t:for(;;){for(var Z;oe!==a||c!==0&&oe.nodeType!==3||(k=_+c),oe!==d||l!==0&&oe.nodeType!==3||(R=_+l),oe.nodeType===3&&(_+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)W=oe,oe=Z;for(;;){if(oe===e)break t;if(W===a&&++X===c&&(k=_),W===d&&++ne===l&&(R=_),(Z=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=Z}a=k===-1||R===-1?null:{start:k,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ud={focusedElem:e,selectionRange:a},Hu=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ui(a.type,c);e=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){ft(a,a.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function ap(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(e,a),l&4&&Gl(5,a);break;case 1:if(ir(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(_){ft(a,a.return,_)}else{var c=Ui(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(a,a.return,_)}}l&64&&Wm(a),l&512&&Yl(a,a.return);break;case 3:if(ir(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$h(e,t)}catch(_){ft(a,a.return,_)}}break;case 27:t===null&&l&4&&tp(a);case 26:case 5:ir(e,a),t===null&&l&4&&Fm(a),l&512&&Yl(a,a.return);break;case 12:ir(e,a);break;case 31:ir(e,a),l&4&&sp(e,a);break;case 13:ir(e,a),l&4&&lp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rb.bind(null,a),Eb(e,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){t=t!==null&&t.memoizedState!==null||Kt,c=ar;var d=Kt;ar=l,(Kt=t)&&!d?sr(e,a,(a.subtreeFlags&8772)!==0):ir(e,a),ar=c,Kt=d}break;case 30:break;default:ir(e,a)}}function rp(e){var t=e.alternate;t!==null&&(e.alternate=null,rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ji(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,En=!1;function rr(e,t,a){for(a=a.child;a!==null;)ip(e,t,a),a=a.sibling}function ip(e,t,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:Kt||Oa(a,t),rr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Kt||Oa(a,t);var l=kt,c=En;Ir(a.type)&&(kt=a.stateNode,En=!1),rr(e,t,a),eo(a.stateNode),kt=l,En=c;break;case 5:Kt||Oa(a,t);case 6:if(l=kt,c=En,kt=null,rr(e,t,a),kt=l,En=c,kt!==null)if(En)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(a.stateNode)}catch(d){ft(a,t,d)}else try{kt.removeChild(a.stateNode)}catch(d){ft(a,t,d)}break;case 18:kt!==null&&(En?(e=kt,Wp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hs(e)):Wp(kt,a.stateNode));break;case 4:l=kt,c=En,kt=a.stateNode.containerInfo,En=!0,rr(e,t,a),kt=l,En=c;break;case 0:case 11:case 14:case 15:Hr(2,a,t),Kt||Hr(4,a,t),rr(e,t,a);break;case 1:Kt||(Oa(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zm(a,t,l)),rr(e,t,a);break;case 21:rr(e,t,a);break;case 22:Kt=(l=Kt)||a.memoizedState!==null,rr(e,t,a),Kt=l;break;default:rr(e,t,a)}}function sp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hs(e)}catch(a){ft(t,t.return,a)}}}function lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hs(e)}catch(a){ft(t,t.return,a)}}function Jg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new np),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new np),t;default:throw Error(s(435,e.tag))}}function _u(e,t){var a=Jg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var c=ib.bind(null,e,l);l.then(c,c)}})}function jn(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=e,_=t,k=_;e:for(;k!==null;){switch(k.tag){case 27:if(Ir(k.type)){kt=k.stateNode,En=!1;break e}break;case 5:kt=k.stateNode,En=!1;break e;case 3:case 4:kt=k.stateNode.containerInfo,En=!0;break e}k=k.return}if(kt===null)throw Error(s(160));ip(d,_,c),kt=null,En=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)op(t,e),t=t.sibling}var oa=null;function op(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(t,e),kn(e),l&4&&(Hr(3,e,e.return),Gl(3,e),Hr(5,e,e.return));break;case 1:jn(t,e),kn(e),l&512&&(Kt||a===null||Oa(a,a.return)),l&64&&ar&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=oa;if(jn(t,e),kn(e),l&512&&(Kt||a===null||Oa(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Nn]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),rn(d,l,a),d[_t]=e,Mt(d),l=d;break e;case"link":var _=oy("link","href",c).get(l+(a.href||""));if(_){for(var k=0;k<_.length;k++)if(d=_[k],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(k,1);break t}}d=c.createElement(l),rn(d,l,a),c.head.appendChild(d);break;case"meta":if(_=oy("meta","content",c).get(l+(a.content||""))){for(k=0;k<_.length;k++)if(d=_[k],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(k,1);break t}}d=c.createElement(l),rn(d,l,a),c.head.appendChild(d);break;default:throw Error(s(468,l))}d[_t]=e,Mt(d),l=d}e.stateNode=l}else uy(c,e.type,e.stateNode);else e.stateNode=ly(c,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?uy(c,e.type,e.stateNode):ly(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,a.memoizedProps)}break;case 27:jn(t,e),kn(e),l&512&&(Kt||a===null||Oa(a,a.return)),a!==null&&l&4&&Bf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jn(t,e),kn(e),l&512&&(Kt||a===null||Oa(a,a.return)),e.flags&32){c=e.stateNode;try{qa(c,"")}catch(Ee){ft(e,e.return,Ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Bf(e,c,a!==null?a.memoizedProps:c)),l&1024&&($f=!0);break;case 6:if(jn(t,e),kn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Ee){ft(e,e.return,Ee)}}break;case 3:if(zu=null,c=oa,oa=Mu(t.containerInfo),jn(t,e),oa=c,kn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch(Ee){ft(e,e.return,Ee)}$f&&($f=!1,up(e));break;case 4:l=oa,oa=Mu(e.stateNode.containerInfo),jn(t,e),kn(e),oa=l;break;case 12:jn(t,e),kn(e);break;case 31:jn(t,e),kn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_u(e,l)));break;case 13:jn(t,e),kn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xu=un()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_u(e,l)));break;case 22:c=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,X=ar,ne=Kt;if(ar=X||c,Kt=ne||R,jn(t,e),Kt=ne,ar=X,kn(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||R||ar||Kt||zi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(d=R.stateNode,c)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{k=R.stateNode;var oe=R.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;k.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ee){ft(R,R.return,Ee)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(Ee){ft(R,R.return,Ee)}}}else if(t.tag===18){if(a===null){R=t;try{var Z=R.stateNode;c?Zp(Z,!0):Zp(R.stateNode,!1)}catch(Ee){ft(R,R.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_u(e,a))));break;case 19:jn(t,e),kn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,_u(e,l)));break;case 30:break;case 21:break;default:jn(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ep(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,d=qf(e);bu(e,d,c);break;case 5:var _=a.stateNode;a.flags&32&&(qa(_,""),a.flags&=-33);var k=qf(e);bu(e,k,_);break;case 3:case 4:var R=a.stateNode.containerInfo,X=qf(e);Hf(e,X,R);break;default:throw Error(s(161))}}catch(ne){ft(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;up(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ir(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ap(e,t.alternate,t),t=t.sibling}function zi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hr(4,t,t.return),zi(t);break;case 1:Oa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Zm(t,t.return,a),zi(t);break;case 27:eo(t.stateNode);case 26:case 5:Oa(t,t.return),zi(t);break;case 22:t.memoizedState===null&&zi(t);break;case 30:zi(t);break;default:zi(t)}e=e.sibling}}function sr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,_=d.flags;switch(d.tag){case 0:case 11:case 15:sr(c,d,a),Gl(4,d);break;case 1:if(sr(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(X){ft(l,l.return,X)}if(l=d,c=l.updateQueue,c!==null){var k=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Hh(R[c],k)}catch(X){ft(l,l.return,X)}}a&&_&64&&Wm(d),Yl(d,d.return);break;case 27:tp(d);case 26:case 5:sr(c,d,a),a&&l===null&&_&4&&Fm(d),Yl(d,d.return);break;case 12:sr(c,d,a);break;case 31:sr(c,d,a),a&&_&4&&sp(c,d);break;case 13:sr(c,d,a),a&&_&4&&lp(c,d);break;case 22:d.memoizedState===null&&sr(c,d,a),Yl(d,d.return);break;case 30:break;default:sr(c,d,a)}t=t.sibling}}function Pf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Rl(a))}function Kf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e))}function ua(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(e,t,a,l),t=t.sibling}function cp(e,t,a,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:ua(e,t,a,l),c&2048&&Gl(9,t);break;case 1:ua(e,t,a,l);break;case 3:ua(e,t,a,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rl(e)));break;case 12:if(c&2048){ua(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,_=d.id,k=d.onPostCommit;typeof k=="function"&&k(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ft(t,t.return,R)}}else ua(e,t,a,l);break;case 31:ua(e,t,a,l);break;case 13:ua(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,_=t.alternate,t.memoizedState!==null?d._visibility&2?ua(e,t,a,l):Vl(e,t):d._visibility&2?ua(e,t,a,l):(d._visibility|=2,As(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Pf(_,t);break;case 24:ua(e,t,a,l),c&2048&&Kf(t.alternate,t);break;default:ua(e,t,a,l)}}function As(e,t,a,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,_=t,k=a,R=l,X=_.flags;switch(_.tag){case 0:case 11:case 15:As(d,_,k,R,c),Gl(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?As(d,_,k,R,c):Vl(d,_):(ne._visibility|=2,As(d,_,k,R,c)),c&&X&2048&&Pf(_.alternate,_);break;case 24:As(d,_,k,R,c),c&&X&2048&&Kf(_.alternate,_);break;default:As(d,_,k,R,c)}t=t.sibling}}function Vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,c=l.flags;switch(l.tag){case 22:Vl(a,l),c&2048&&Pf(l.alternate,l);break;case 24:Vl(a,l),c&2048&&Kf(l.alternate,l);break;default:Vl(a,l)}t=t.sibling}}var Il=8192;function Ns(e,t,a){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)fp(e,t,a),e=e.sibling}function fp(e,t,a){switch(e.tag){case 26:Ns(e,t,a),e.flags&Il&&e.memoizedState!==null&&zb(a,oa,e.memoizedState,e.memoizedProps);break;case 5:Ns(e,t,a);break;case 3:case 4:var l=oa;oa=Mu(e.stateNode.containerInfo),Ns(e,t,a),oa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,Ns(e,t,a),Il=l):Ns(e,t,a));break;default:Ns(e,t,a)}}function dp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Wt=l,mp(l,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 0:case 11:case 15:Xl(e),e.flags&2048&&Hr(9,e,e.return);break;case 3:Xl(e);break;case 12:Xl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wu(e)):Xl(e);break;default:Xl(e)}}function wu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Wt=l,mp(l,e)}dp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hr(8,t,t.return),wu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,wu(t));break;default:wu(t)}e=e.sibling}}function mp(e,t){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Wt=l;else e:for(a=e;Wt!==null;){l=Wt;var c=l.sibling,d=l.return;if(rp(l),l===a){Wt=null;break e}if(c!==null){c.return=d,Wt=c;break e}Wt=d}}}var Wg={getCacheForType:function(e){var t=nn(Ht),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return nn(Ht).controller.signal}},Zg=typeof WeakMap=="function"?WeakMap:Map,lt=0,bt=null,Qe=null,We=0,ct=0,zn=null,$r=!1,Rs=!1,Gf=!1,lr=0,Nt=0,Pr=0,Li=0,Yf=0,Ln=0,Cs=0,Ql=null,Tn=null,Vf=!1,xu=0,pp=0,Su=1/0,Eu=null,Kr=null,Vt=0,Gr=null,Ds=null,or=0,If=0,Xf=null,yp=null,Jl=0,Qf=null;function Bn(){return(lt&2)!==0&&We!==0?We&-We:ee.T!==null?td():fi()}function vp(){if(Ln===0)if((We&536870912)===0||tt){var e=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Ln=e}else Ln=536870912;return e=Mn.current,e!==null&&(e.flags|=32),Ln}function On(e,t,a){(e===bt&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),Yr(e,We,Ln,!1)),Pn(e,a),((lt&2)===0||e!==bt)&&(e===bt&&((lt&2)===0&&(Li|=a),Nt===4&&Yr(e,We,Ln,!1)),Aa(e))}function gp(e,t,a){if((lt&6)!==0)throw Error(s(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||za(e,t),c=l?tb(e,t):Wf(e,t,!0),d=l;do{if(c===0){Rs&&!l&&Yr(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Fg(a)){c=Wf(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var k=e;c=Ql;var R=k.current.memoizedState.isDehydrated;if(R&&(Ms(k,_).flags|=256),_=Wf(k,_,!1),_!==2){if(Gf&&!R){k.errorRecoveryDisabledLanes|=d,Li|=d,c=4;break e}d=Tn,Tn=c,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}c=_}if(d=!1,c!==2)continue}}if(c===1){Ms(e,0),Yr(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Yr(l,t,Ln,!$r);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=xu+300-un(),10<c)){if(Yr(l,t,Ln,!$r),ui(l,0,!0)!==0)break e;or=t,l.timeoutHandle=Qp(bp.bind(null,l,a,Tn,Eu,Vf,t,Ln,Li,Cs,$r,d,"Throttled",-0,0),c);break e}bp(l,a,Tn,Eu,Vf,t,Ln,Li,Cs,$r,d,null,-0,0)}}break}while(!0);Aa(e)}function bp(e,t,a,l,c,d,_,k,R,X,ne,oe,W,Z){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},fp(t,d,oe);var Ee=(d&62914560)===d?xu-un():(d&4194048)===d?pp-un():0;if(Ee=Lb(oe,Ee),Ee!==null){or=d,e.cancelPendingCommit=Ee(Tp.bind(null,e,t,d,a,l,c,_,k,R,ne,oe,null,W,Z)),Yr(e,d,_,!X);return}}Tp(e,t,d,a,l,c,_,k,R)}function Fg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!hn(d(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t,a,l){t&=~Yf,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-be(c),_=1<<d;l[d]=-1,c&=~_}a!==0&&ci(e,a,t)}function ju(){return(lt&6)===0?(Wl(0),!1):!0}function Jf(){if(Qe!==null){if(ct===0)var e=Qe.return;else e=Qe,Wa=Oi=null,df(e),Es=null,Dl=0,e=Qe;for(;e!==null;)Jm(e.alternate,e),e=e.return;Qe=null}}function Ms(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),or=0,Jf(),bt=e,Qe=a=Qa(e.current,null),We=t,ct=0,zn=null,$r=!1,Rs=za(e,t),Gf=!1,Cs=Ln=Yf=Li=Pr=Nt=0,Tn=Ql=null,Vf=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-be(l),d=1<<c;t|=e[c],l&=~d}return lr=t,He(),a}function _p(e,t){Ke=null,ee.H=$l,t===Ss||t===eu?(t=zh(),ct=3):t===Fc?(t=zh(),ct=4):ct=t===Of?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zn=t,Qe===null&&(Nt=1,mu(e,In(t,e.current)))}function wp(){var e=Mn.current;return e===null?!0:(We&4194048)===We?Wn===null:(We&62914560)===We||(We&536870912)!==0?e===Wn:!1}function xp(){var e=ee.H;return ee.H=$l,e===null?$l:e}function Sp(){var e=ee.A;return ee.A=Wg,e}function ku(){Nt=4,$r||(We&4194048)!==We&&Mn.current!==null||(Rs=!0),(Pr&134217727)===0&&(Li&134217727)===0||bt===null||Yr(bt,We,Ln,!1)}function Wf(e,t,a){var l=lt;lt|=2;var c=xp(),d=Sp();(bt!==e||We!==t)&&(Eu=null,Ms(e,t)),t=!1;var _=Nt;e:do try{if(ct!==0&&Qe!==null){var k=Qe,R=zn;switch(ct){case 8:Jf(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(t=!0);var X=ct;if(ct=0,zn=null,Us(e,k,R,X),a&&Rs){_=0;break e}break;default:X=ct,ct=0,zn=null,Us(e,k,R,X)}}eb(),_=Nt;break}catch(ne){_p(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Wa=Oi=null,lt=l,ee.H=c,ee.A=d,Qe===null&&(bt=null,We=0,He()),_}function eb(){for(;Qe!==null;)Ep(Qe)}function tb(e,t){var a=lt;lt|=2;var l=xp(),c=Sp();bt!==e||We!==t?(Eu=null,Su=un()+500,Ms(e,t)):Rs=za(e,t);e:do try{if(ct!==0&&Qe!==null){t=Qe;var d=zn;t:switch(ct){case 1:ct=0,zn=null,Us(e,t,d,1);break;case 2:case 9:if(Mh(d)){ct=0,zn=null,jp(t);break}t=function(){ct!==2&&ct!==9||bt!==e||(ct=7),Aa(e)},d.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Mh(d)?(ct=0,zn=null,jp(t)):(ct=0,zn=null,Us(e,t,d,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var k=Qe;if(_?cy(_):k.stateNode.complete){ct=0,zn=null;var R=k.sibling;if(R!==null)Qe=R;else{var X=k.return;X!==null?(Qe=X,Tu(X)):Qe=null}break t}}ct=0,zn=null,Us(e,t,d,5);break;case 6:ct=0,zn=null,Us(e,t,d,6);break;case 8:Jf(),Nt=6;break e;default:throw Error(s(462))}}nb();break}catch(ne){_p(e,ne)}while(!0);return Wa=Oi=null,ee.H=l,ee.A=c,lt=a,Qe!==null?0:(bt=null,We=0,He(),Nt)}function nb(){for(;Qe!==null&&!Do();)Ep(Qe)}function Ep(e){var t=Xm(e.alternate,e,lr);e.memoizedProps=e.pendingProps,t===null?Tu(e):Qe=t}function jp(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Pm(a,t,t.pendingProps,t.type,void 0,We);break;case 11:t=Pm(a,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:df(t);default:Jm(a,t),t=Qe=Sh(t,lr),t=Xm(a,t,lr)}e.memoizedProps=e.pendingProps,t===null?Tu(e):Qe=t}function Us(e,t,a,l){Wa=Oi=null,df(t),Es=null,Dl=0;var c=t.return;try{if(Gg(e,c,t,a,We)){Nt=1,mu(e,In(a,e.current)),Qe=null;return}}catch(d){if(c!==null)throw Qe=c,d;Nt=1,mu(e,In(a,e.current)),Qe=null;return}t.flags&32768?(tt||l===1?e=!0:Rs||(We&536870912)!==0?e=!1:($r=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kp(t,e)):Tu(t)}function Tu(e){var t=e;do{if((t.flags&32768)!==0){kp(t,$r);return}e=t.return;var a=Ig(t.alternate,t,lr);if(a!==null){Qe=a;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Nt===0&&(Nt=5)}function kp(e,t){do{var a=Xg(e.alternate,e);if(a!==null){a.flags&=32767,Qe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=a}while(e!==null);Nt=6,Qe=null}function Tp(e,t,a,l,c,d,_,k,R){e.cancelPendingCommit=null;do Ou();while(Vt!==0);if((lt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=Ne,ll(e,a,d,_,k,R),e===bt&&(Qe=bt=null,We=0),Ds=t,Gr=e,or=a,If=d,Xf=c,yp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sb(yr,function(){return Cp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,c=ve.p,ve.p=2,_=lt,lt|=4;try{Qg(e,t,a)}finally{lt=_,ve.p=c,ee.T=l}}Vt=1,Op(),Ap(),Np()}}function Op(){if(Vt===1){Vt=0;var e=Gr,t=Ds,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=ve.p;ve.p=2;var c=lt;lt|=4;try{op(t,e);var d=ud,_=x(e.containerInfo),k=d.focusedElem,R=d.selectionRange;if(_!==k&&k&&k.ownerDocument&&g(k.ownerDocument.documentElement,k)){if(R!==null&&E(k)){var X=R.start,ne=R.end;if(ne===void 0&&(ne=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ne,k.value.length);else{var oe=k.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Ee=k.textContent.length,Ce=Math.min(R.start,Ee),vt=R.end===void 0?Ce:Math.min(R.end,Ee);!Z.extend&&Ce>vt&&(_=vt,vt=Ce,Ce=_);var K=p(k,Ce),B=p(k,vt);if(K&&B&&(Z.rangeCount!==1||Z.anchorNode!==K.node||Z.anchorOffset!==K.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var I=oe.createRange();I.setStart(K.node,K.offset),Z.removeAllRanges(),Ce>vt?(Z.addRange(I),Z.extend(B.node,B.offset)):(I.setEnd(B.node,B.offset),Z.addRange(I))}}}}for(oe=[],Z=k;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<oe.length;k++){var se=oe[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Hu=!!od,ud=od=null}finally{lt=c,ve.p=l,ee.T=a}}e.current=t,Vt=2}}function Ap(){if(Vt===2){Vt=0;var e=Gr,t=Ds,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=ve.p;ve.p=2;var c=lt;lt|=4;try{ap(e,t.alternate,t)}finally{lt=c,ve.p=l,ee.T=a}}Vt=3}}function Np(){if(Vt===4||Vt===3){Vt=0,ri();var e=Gr,t=Ds,a=or,l=yp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Vt=5:(Vt=0,Ds=Gr=null,Rp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Kr=null),gr(a),t=t.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pa,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=ee.T,c=ve.p,ve.p=2,ee.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var k=l[_];d(k.value,{componentStack:k.stack})}}finally{ee.T=t,ve.p=c}}(or&3)!==0&&Ou(),Aa(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Qf?Jl++:(Jl=0,Qf=e):Jl=0,Wl(0)}}function Rp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rl(t)))}function Ou(){return Op(),Ap(),Np(),Cp()}function Cp(){if(Vt!==5)return!1;var e=Gr,t=If;If=0;var a=gr(or),l=ee.T,c=ve.p;try{ve.p=32>a?32:a,ee.T=null,a=Xf,Xf=null;var d=Gr,_=or;if(Vt=0,Ds=Gr=null,or=0,(lt&6)!==0)throw Error(s(331));var k=lt;if(lt|=4,hp(d.current),cp(d,d.current,_,a),lt=k,Wl(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pa,d)}catch{}return!0}finally{ve.p=c,ee.T=l,Rp(e,t)}}function Dp(e,t,a){t=In(a,t),t=Tf(e.stateNode,t,2),e=Lr(e,t,2),e!==null&&(Pn(e,2),Aa(e))}function ft(e,t,a){if(e.tag===3)Dp(e,e,a);else for(;t!==null;){if(t.tag===3){Dp(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){e=In(a,e),a=Mm(2),l=Lr(t,a,2),l!==null&&(Um(a,l,t,e),Pn(l,2),Aa(l));break}}t=t.return}}function Zf(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Zg;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(a)||(Gf=!0,c.add(a),e=ab.bind(null,e,t,a),t.then(e,e))}function ab(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,bt===e&&(We&a)===a&&(Nt===4||Nt===3&&(We&62914560)===We&&300>un()-xu?(lt&2)===0&&Ms(e,0):Yf|=a,Cs===We&&(Cs=0)),Aa(e)}function Mp(e,t){t===0&&(t=Mo()),e=ot(e,t),e!==null&&(Pn(e,t),Aa(e))}function rb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Mp(e,a)}function ib(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Mp(e,a)}function sb(e,t){return ai(e,t)}var Au=null,zs=null,Ff=!1,Nu=!1,ed=!1,Vr=0;function Aa(e){e!==zs&&e.next===null&&(zs===null?Au=zs=e:zs=zs.next=e),Nu=!0,Ff||(Ff=!0,ob())}function Wl(e,t){if(!ed&&Nu){ed=!0;do for(var a=!1,l=Au;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var _=l.suspendedLanes,k=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=c&~(_&~k),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Bp(l,d))}else d=We,d=ui(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||za(l,d)||(a=!0,Bp(l,d));l=l.next}while(a);ed=!1}}function lb(){Up()}function Up(){Nu=Ff=!1;var e=0;Vr!==0&&gb()&&(e=Vr);for(var t=un(),a=null,l=Au;l!==null;){var c=l.next,d=zp(l,t);d===0?(l.next=null,a===null?Au=c:a.next=c,c===null&&(zs=a)):(a=l,(e!==0||(d&3)!==0)&&(Nu=!0)),l=c}Vt!==0&&Vt!==5||Wl(e),Vr!==0&&(Vr=0)}function zp(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-be(d),k=1<<_,R=c[_];R===-1?((k&a)===0||(k&l)!==0)&&(c[_]=Rc(k,t)):R<=t&&(e.expiredLanes|=k),d&=~k}if(t=bt,a=We,a=ui(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||za(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&xn(l),gr(a)){case 2:case 8:a=ma;break;case 32:a=yr;break;case 268435456:a=Ii;break;default:a=yr}return l=Lp.bind(null,e),a=ai(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&xn(l),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ou()&&e.callbackNode!==a)return null;var l=We;return l=ui(e,e===bt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gp(e,l,t),zp(e,un()),e.callbackNode!=null&&e.callbackNode===a?Lp.bind(null,e):null)}function Bp(e,t){if(Ou())return null;gp(e,t,!0)}function ob(){_b(function(){(lt&6)!==0?ai(cn,lb):Up()})}function td(){if(Vr===0){var e=ws;e===0&&(e=me,me<<=1,(me&261888)===0&&(me=256)),Vr=e}return Vr}function qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function Hp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ub(e,t,a,l,c){if(t==="submit"&&a&&a.stateNode===c){var d=qp((c[Dt]||null).action),_=l.submitter;_&&(t=(t=_[Dt]||null)?qp(t.formAction):_.getAttribute("formAction"),t!==null&&(d=t,_=null));var k=new ts("action","action",null,l,c);e.push({event:k,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vr!==0){var R=_?Hp(c,_):new FormData(c);wf(a,{pending:!0,data:R,method:c.method,action:d},null,R)}}else typeof d=="function"&&(k.preventDefault(),R=_?Hp(c,_):new FormData(c),wf(a,{pending:!0,data:R,method:c.method,action:d},d,R))},currentTarget:c}]})}}for(var nd=0;nd<ye.length;nd++){var ad=ye[nd],cb=ad.toLowerCase(),fb=ad[0].toUpperCase()+ad.slice(1);fe(cb,"on"+fb)}fe(Q,"onAnimationEnd"),fe(Y,"onAnimationIteration"),fe(te,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(ue,"onTransitionRun"),fe(de,"onTransitionStart"),fe(he,"onTransitionCancel"),fe(ce,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function $p(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var _=l.length-1;0<=_;_--){var k=l[_],R=k.instance,X=k.currentTarget;if(k=k.listener,R!==d&&c.isPropagationStopped())break e;d=k,c.currentTarget=X;try{d(c)}catch(ne){xe(ne)}c.currentTarget=null,d=R}else for(_=0;_<l.length;_++){if(k=l[_],R=k.instance,X=k.currentTarget,k=k.listener,R!==d&&c.isPropagationStopped())break e;d=k,c.currentTarget=X;try{d(c)}catch(ne){xe(ne)}c.currentTarget=null,d=R}}}}function Je(e,t){var a=t[br];a===void 0&&(a=t[br]=new Set);var l=e+"__bubble";a.has(l)||(Pp(t,e,2,!1),a.add(l))}function rd(e,t,a){var l=0;t&&(l|=4),Pp(a,e,l,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[Ru]){e[Ru]=!0,La.forEach(function(a){a!=="selectionchange"&&(db.has(a)||rd(a,!1,e),rd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ru]||(t[Ru]=!0,rd("selectionchange",!1,t))}}function Pp(e,t,a,l){switch(vy(t)){case 2:var c=Hb;break;case 8:c=$b;break;default:c=_d}a=c.bind(null,t,a,e),c=void 0,!pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function sd(e,t,a,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var k=l.stateNode.containerInfo;if(k===c)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;k!==null;){if(_=ba(k),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=d=_;continue e}k=k.parentNode}}l=l.return}wr(function(){var X=d,ne=Fi(a),oe=[];e:{var W=we.get(e);if(W!==void 0){var Z=ts,Ee=e;switch(e){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":Z=os;break;case"focusin":Ee="focus",Z=jr;break;case"focusout":Ee="blur",Z=jr;break;case"beforeblur":case"afterblur":Z=jr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=xl;break;case Q:case Y:case te:Z=qo;break;case ce:Z=Sl;break;case"scroll":case"scrollend":Z=ns;break;case"wheel":Z=cs;break;case"copy":case"cut":case"paste":Z=kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=wl;break;case"toggle":case"beforetoggle":Z=Po}var Ce=(t&4)!==0,vt=!Ce&&(e==="scroll"||e==="scrollend"),K=Ce?W!==null?W+"Capture":null:W;Ce=[];for(var B=X,I;B!==null;){var se=B;if(I=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||I===null||K===null||(se=Pa(B,K),se!=null&&Ce.push(Fl(B,se,I))),vt)break;B=B.return}0<Ce.length&&(W=new Z(W,Ee,null,a,ne),oe.push({event:W,listeners:Ce}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",W&&a!==Gn&&(Ee=a.relatedTarget||a.fromElement)&&(ba(Ee)||Ee[bn]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Ee=a.relatedTarget||a.toElement,Z=X,Ee=Ee?ba(Ee):null,Ee!==null&&(vt=f(Ee),Ce=Ee.tag,Ee!==vt||Ce!==5&&Ce!==27&&Ce!==6)&&(Ee=null)):(Z=null,Ee=X),Z!==Ee)){if(Ce=rs,se="onMouseLeave",K="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=wl,se="onPointerLeave",K="onPointerEnter",B="pointer"),vt=Z==null?W:Rn(Z),I=Ee==null?W:Rn(Ee),W=new Ce(se,B+"leave",Z,a,ne),W.target=vt,W.relatedTarget=I,se=null,ba(ne)===X&&(Ce=new Ce(K,B+"enter",Ee,a,ne),Ce.target=I,Ce.relatedTarget=vt,se=Ce),vt=se,Z&&Ee)t:{for(Ce=hb,K=Z,B=Ee,I=0,se=K;se;se=Ce(se))I++;se=0;for(var Re=B;Re;Re=Ce(Re))se++;for(;0<I-se;)K=Ce(K),I--;for(;0<se-I;)B=Ce(B),se--;for(;I--;){if(K===B||B!==null&&K===B.alternate){Ce=K;break t}K=Ce(K),B=Ce(B)}Ce=null}else Ce=null;Z!==null&&Kp(oe,W,Z,Ce,!1),Ee!==null&&vt!==null&&Kp(oe,vt,Ee,Ce,!0)}}e:{if(W=X?Rn(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var rt=ji;else if(hs(W))if(Vn)rt=Ar;else{rt=Xa;var je=Xo}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&ml(X.elementType)&&(rt=ji):rt=Ol;if(rt&&(rt=rt(e,X))){Tl(oe,rt,a,ne);break e}je&&je(e,W,X),e==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&vi(W,"number",W.value)}switch(je=X?Rn(X):window,e){case"focusin":(hs(je)||je.contentEditable==="true")&&(O=je,D=X,G=null);break;case"focusout":G=D=O=null;break;case"mousedown":M=!0;break;case"contextmenu":case"mouseup":case"dragend":M=!1,C(oe,a,ne);break;case"selectionchange":if(T)break;case"keydown":case"keyup":C(oe,a,ne)}var Ge;if(Si)e:{switch(e){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Va?kl(e,a)&&(Ze="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ze="onCompositionStart");Ze&&(fs&&a.locale!=="ko"&&(Va||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Va&&(Ge=Sr()):(Yn=ne,es="value"in Yn?Yn.value:Yn.textContent,Va=!0)),je=Cu(X,Ze),0<je.length&&(Ze=new ls(Ze,e,null,a,ne),oe.push({event:Ze,listeners:je}),Ge?Ze.data=Ge:(Ge=Go(a),Ge!==null&&(Ze.data=Ge)))),(Ge=Lc?Yo(e,a):Bc(e,a))&&(Ze=Cu(X,"onBeforeInput"),0<Ze.length&&(je=new ls("onBeforeInput","beforeinput",null,a,ne),oe.push({event:je,listeners:Ze}),je.data=Ge)),ub(oe,e,X,a,ne)}$p(oe,t)})}function Fl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Cu(e,t){for(var a=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Pa(e,a),c!=null&&l.unshift(Fl(e,c,d)),c=Pa(e,t),c!=null&&l.push(Fl(e,c,d))),e.tag===3)return l;e=e.return}return[]}function hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,t,a,l,c){for(var d=t._reactName,_=[];a!==null&&a!==l;){var k=a,R=k.alternate,X=k.stateNode;if(k=k.tag,R!==null&&R===l)break;k!==5&&k!==26&&k!==27||X===null||(R=X,c?(X=Pa(a,d),X!=null&&_.unshift(Fl(a,X,R))):c||(X=Pa(a,d),X!=null&&_.push(Fl(a,X,R)))),a=a.return}_.length!==0&&e.push({event:t,listeners:_})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function Gp(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(pb,"")}function Yp(e,t){return t=Gp(t),Gp(e)===t}function yt(e,t,a,l,c,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||qa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&qa(e,""+l);break;case"className":pi(e,"class",l);break;case"tabIndex":pi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(e,a,l);break;case"style":hl(e,l,d);break;case"data":if(t!=="object"){pi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&yt(e,t,"name",c.name,c,null),yt(e,t,"formEncType",c.formEncType,c,null),yt(e,t,"formMethod",c.formMethod,c,null),yt(e,t,"formTarget",c.formTarget,c,null)):(yt(e,t,"encType",c.encType,c,null),yt(e,t,"method",c.method,c,null),yt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=la(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Sn);break;case"onScroll":l!=null&&Je("scroll",e);break;case"onScrollEnd":l!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Je("beforetoggle",e),Je("toggle",e),Ye(e,"popover",l);break;case"xlinkActuate":Kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ye(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mc.get(a)||a,Ye(e,a,l))}}function ld(e,t,a,l,c,d){switch(a){case"style":hl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?qa(e,l):(typeof l=="number"||typeof l=="bigint")&&qa(e,""+l);break;case"onScroll":l!=null&&Je("scroll",e);break;case"onScrollEnd":l!=null&&Je("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),d=e[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ye(e,a,l)}}}function rn(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:yt(e,t,d,_,a,null)}}c&&yt(e,t,"srcSet",a.srcSet,a,null),l&&yt(e,t,"src",a.src,a,null);return;case"input":Je("invalid",e);var k=d=_=c=null,R=null,X=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":c=ne;break;case"type":_=ne;break;case"checked":R=ne;break;case"defaultChecked":X=ne;break;case"value":d=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,t));break;default:yt(e,t,l,ne,a,null)}}Zi(e,d,k,R,X,_,c,!1);return;case"select":Je("invalid",e),l=_=d=null;for(c in a)if(a.hasOwnProperty(c)&&(k=a[c],k!=null))switch(c){case"value":d=k;break;case"defaultValue":_=k;break;case"multiple":l=k;default:yt(e,t,c,k,a,null)}t=d,a=_,e.multiple=!!l,t!=null?sa(e,!!l,t,!1):a!=null&&sa(e,!!l,a,!0);return;case"textarea":Je("invalid",e),d=c=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(k=a[_],k!=null))switch(_){case"value":l=k;break;case"defaultValue":c=k;break;case"children":d=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:yt(e,t,_,k,a,null)}gi(e,l,c,d);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":yt(e,t,R,l,a,null));return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Je(Zl[l],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(l=a[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:yt(e,t,X,l,a,null)}return;default:if(ml(t)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&ld(e,t,ne,l,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!=null&&yt(e,t,k,l,a,null))}function yb(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,_=null,k=null,R=null,X=null,ne=null;for(Z in a){var oe=a[Z];if(a.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":R=oe;default:l.hasOwnProperty(Z)||yt(e,t,Z,null,l,oe)}}for(var W in l){var Z=l[W];if(oe=a[W],l.hasOwnProperty(W)&&(Z!=null||oe!=null))switch(W){case"type":d=Z;break;case"name":c=Z;break;case"checked":X=Z;break;case"defaultChecked":ne=Z;break;case"value":_=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,t));break;default:Z!==oe&&yt(e,t,W,Z,l,oe)}}wa(e,_,k,R,X,ne,d,c);return;case"select":Z=_=k=W=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Z=R;default:l.hasOwnProperty(d)||yt(e,t,d,null,l,R)}for(c in l)if(d=l[c],R=a[c],l.hasOwnProperty(c)&&(d!=null||R!=null))switch(c){case"value":W=d;break;case"defaultValue":k=d;break;case"multiple":_=d;default:d!==R&&yt(e,t,c,d,l,R)}t=k,a=_,l=Z,W!=null?sa(e,!!a,W,!1):!!l!=!!a&&(t!=null?sa(e,!!a,t,!0):sa(e,!!a,a?[]:"",!1));return;case"textarea":Z=W=null;for(k in a)if(c=a[k],a.hasOwnProperty(k)&&c!=null&&!l.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:yt(e,t,k,null,l,c)}for(_ in l)if(c=l[_],d=a[_],l.hasOwnProperty(_)&&(c!=null||d!=null))switch(_){case"value":W=c;break;case"defaultValue":Z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&yt(e,t,_,c,l,d)}dl(e,W,Z);return;case"option":for(var Ee in a)W=a[Ee],a.hasOwnProperty(Ee)&&W!=null&&!l.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:yt(e,t,Ee,null,l,W));for(R in l)W=l[R],Z=a[R],l.hasOwnProperty(R)&&W!==Z&&(W!=null||Z!=null)&&(R==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":yt(e,t,R,W,l,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)W=a[Ce],a.hasOwnProperty(Ce)&&W!=null&&!l.hasOwnProperty(Ce)&&yt(e,t,Ce,null,l,W);for(X in l)if(W=l[X],Z=a[X],l.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,t));break;default:yt(e,t,X,W,l,Z)}return;default:if(ml(t)){for(var vt in a)W=a[vt],a.hasOwnProperty(vt)&&W!==void 0&&!l.hasOwnProperty(vt)&&ld(e,t,vt,void 0,l,W);for(ne in l)W=l[ne],Z=a[ne],!l.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||ld(e,t,ne,W,l,Z);return}}for(var K in a)W=a[K],a.hasOwnProperty(K)&&W!=null&&!l.hasOwnProperty(K)&&yt(e,t,K,null,l,W);for(oe in l)W=l[oe],Z=a[oe],!l.hasOwnProperty(oe)||W===Z||W==null&&Z==null||yt(e,t,oe,W,l,Z)}function Vp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],d=c.transferSize,_=c.initiatorType,k=c.duration;if(d&&k&&Vp(_)){for(_=0,k=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],X=R.startTime;if(X>k)break;var ne=R.transferSize,oe=R.initiatorType;ne&&Vp(oe)&&(R=R.responseEnd,_+=ne*(R<k?1:(k-X)/(R-X)))}if(--l,t+=8*(d+_)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ud=null;function Du(e){return e.nodeType===9?e:e.ownerDocument}function Ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function gb(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(e){return Jp.resolve(null).then(e).catch(wb)}:Qp;function wb(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function Wp(e,t){var a=t,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),Hs(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")eo(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,eo(a);for(var d=a.firstChild;d;){var _=d.nextSibling,k=d.nodeName;d[Nn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&eo(e.ownerDocument.body);a=c}while(a);Hs(t)}function Zp(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function dd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),Ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xb(e,t,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Nn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function Sb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function Fp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pd=null;function ey(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Zn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function ty(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ny(e,t,a){switch(t=Du(a),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function eo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ji(e)}var Fn=new Map,ay=new Set;function Mu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=ve.d;ve.d={f:jb,r:kb,D:Tb,C:Ob,L:Ab,m:Nb,X:Cb,S:Rb,M:Db};function jb(){var e=ur.f(),t=ju();return e||t}function kb(e){var t=ht(e);t!==null&&t.tag===5&&t.type==="form"?_m(t):ur.r(e)}var Ls=typeof document>"u"?null:document;function ry(e,t,a){var l=Ls;if(l&&typeof t=="string"&&t){var c=Xt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ay.has(c)||(ay.add(c),e={rel:e,crossOrigin:a,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),rn(t,"link",e),Mt(t),l.head.appendChild(t)))}}function Tb(e){ur.D(e),ry("dns-prefetch",e,null)}function Ob(e,t){ur.C(e,t),ry("preconnect",e,t)}function Ab(e,t,a){ur.L(e,t,a);var l=Ls;if(l&&e&&t){var c='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Xt(a.imageSizes)+'"]')):c+='[href="'+Xt(e)+'"]';var d=c;switch(t){case"style":d=Bs(e);break;case"script":d=qs(e)}Fn.has(d)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Fn.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(to(d))||t==="script"&&l.querySelector(no(d))||(t=l.createElement("link"),rn(t,"link",e),Mt(t),l.head.appendChild(t)))}}function Nb(e,t){ur.m(e,t);var a=Ls;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qs(e)}if(!Fn.has(d)&&(e=j({rel:"modulepreload",href:e},t),Fn.set(d,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(d)))return}l=a.createElement("link"),rn(l,"link",e),Mt(l),a.head.appendChild(l)}}}function Rb(e,t,a){ur.S(e,t,a);var l=Ls;if(l&&e){var c=fn(l).hoistableStyles,d=Bs(e);t=t||"default";var _=c.get(d);if(!_){var k={loading:0,preload:null};if(_=l.querySelector(to(d)))k.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Fn.get(d))&&yd(e,a);var R=_=l.createElement("link");Mt(R),rn(R,"link",e),R._p=new Promise(function(X,ne){R.onload=X,R.onerror=ne}),R.addEventListener("load",function(){k.loading|=1}),R.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Uu(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:k},c.set(d,_)}}}function Cb(e,t){ur.X(e,t);var a=Ls;if(a&&e){var l=fn(a).hoistableScripts,c=qs(e),d=l.get(c);d||(d=a.querySelector(no(c)),d||(e=j({src:e,async:!0},t),(t=Fn.get(c))&&vd(e,t),d=a.createElement("script"),Mt(d),rn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Db(e,t){ur.M(e,t);var a=Ls;if(a&&e){var l=fn(a).hoistableScripts,c=qs(e),d=l.get(c);d||(d=a.querySelector(no(c)),d||(e=j({src:e,async:!0,type:"module"},t),(t=Fn.get(c))&&vd(e,t),d=a.createElement("script"),Mt(d),rn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function iy(e,t,a,l){var c=(c=Pe.current)?Mu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Bs(a.href),a=fn(c).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Bs(a.href);var d=fn(c).hoistableStyles,_=d.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=c.querySelector(to(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(e,a),d||Mb(c,e,a,_.state))),t&&l===null)throw Error(s(528,""));return _}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qs(a),a=fn(c).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Bs(e){return'href="'+Xt(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function sy(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function Mb(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),rn(t,"link",a),Mt(t),e.head.appendChild(t))}function qs(e){return'[src="'+Xt(e)+'"]'}function no(e){return"script[async]"+e}function ly(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(l)return t.instance=l,Mt(l),l;var c=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Mt(l),rn(l,"style",c),Uu(l,a.precedence,e),t.instance=l;case"stylesheet":c=Bs(a.href);var d=e.querySelector(to(c));if(d)return t.state.loading|=4,t.instance=d,Mt(d),d;l=sy(a),(c=Fn.get(c))&&yd(l,c),d=(e.ownerDocument||e).createElement("link"),Mt(d);var _=d;return _._p=new Promise(function(k,R){_.onload=k,_.onerror=R}),rn(d,"link",l),t.state.loading|=4,Uu(d,a.precedence,e),t.instance=d;case"script":return d=qs(a.src),(c=e.querySelector(no(d)))?(t.instance=c,Mt(c),c):(l=a,(c=Fn.get(d))&&(l=j({},a),vd(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Mt(c),rn(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Uu(l,a.precedence,e));return t.instance}function Uu(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,_=0;_<l.length;_++){var k=l[_];if(k.dataset.precedence===t)d=k;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zu=null;function oy(e,t,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Nn]||d[_t]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(t)||"";_=e+_;var k=l.get(_);k?k.push(d):l.set(_,[d])}}return l}function uy(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ub(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zb(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Bs(l.href),d=t.querySelector(to(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Lu.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,Mt(d);return}d=t.ownerDocument||t,l=sy(l),(c=Fn.get(c))&&yd(l,c),d=d.createElement("link"),Mt(d);var _=d;_._p=new Promise(function(k,R){_.onload=k,_.onerror=R}),rn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Lu.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var gd=0;function Lb(e,t){return e.stylesheets&&e.count===0&&qu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&gd===0&&(gd=62500*vb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>gd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bu=null;function qu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bu=new Map,t.forEach(Bb,e),Bu=null,Lu.call(e))}function Bb(e,t){if(!(t.state.loading&4)){var a=Bu.get(e);if(a)var l=a.get(null);else{a=new Map,Bu.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var _=c[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}c=t.instance,_=c.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,c),a.set(_,c),this.count++,l=Lu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ao={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function qb(e,t,a,l,c,d,_,k,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function fy(e,t,a,l,c,d,_,k,R,X,ne,oe){return e=new qb(e,t,a,_,R,X,ne,oe,k),t=1,d===!0&&(t|=24),d=Dn(3,null,null,t),e.current=d,d.stateNode=e,t=Jc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},ef(d),e}function dy(e){return e?(e=ys,e):ys}function hy(e,t,a,l,c,d){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=zr(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(e,l,t),a!==null&&(On(a,e,t),Ul(a,e,t))}function my(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function bd(e,t){my(e,t),(e=e.alternate)&&my(e,t)}function py(e){if(e.tag===13||e.tag===31){var t=ot(e,67108864);t!==null&&On(t,e,67108864),bd(e,67108864)}}function yy(e){if(e.tag===13||e.tag===31){var t=Bn();t=ol(t);var a=ot(e,t);a!==null&&On(a,e,t),bd(e,t)}}var Hu=!0;function Hb(e,t,a,l){var c=ee.T;ee.T=null;var d=ve.p;try{ve.p=2,_d(e,t,a,l)}finally{ve.p=d,ee.T=c}}function $b(e,t,a,l){var c=ee.T;ee.T=null;var d=ve.p;try{ve.p=8,_d(e,t,a,l)}finally{ve.p=d,ee.T=c}}function _d(e,t,a,l){if(Hu){var c=wd(l);if(c===null)sd(e,t,l,$u,a),gy(e,l);else if(Kb(c,e,t,a,l))l.stopPropagation();else if(gy(e,l),t&4&&-1<Pb.indexOf(e)){for(;c!==null;){var d=ht(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ra(d.pendingLanes);if(_!==0){var k=d;for(k.pendingLanes|=2,k.entangledLanes|=2;_;){var R=1<<31-be(_);k.entanglements[1]|=R,_&=~R}Aa(d),(lt&6)===0&&(Su=un()+500,Wl(0))}}break;case 31:case 13:k=ot(d,2),k!==null&&On(k,d,2),ju(),bd(d,2)}if(d=wd(l),d===null&&sd(e,t,l,$u,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else sd(e,t,l,null,a)}}function wd(e){return e=Fi(e),xd(e)}var $u=null;function xd(e){if($u=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $u=e,null}function vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case cn:return 2;case ma:return 8;case yr:case si:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Sd=!1,Xr=null,Qr=null,Jr=null,ro=new Map,io=new Map,Wr=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(e,t){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function so(e,t,a,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ht(t),t!==null&&py(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kb(e,t,a,l,c){switch(t){case"focusin":return Xr=so(Xr,e,t,a,l,c),!0;case"dragenter":return Qr=so(Qr,e,t,a,l,c),!0;case"mouseover":return Jr=so(Jr,e,t,a,l,c),!0;case"pointerover":var d=c.pointerId;return ro.set(d,so(ro.get(d)||null,e,t,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,io.set(d,so(io.get(d)||null,e,t,a,l,c)),!0}return!1}function by(e){var t=ba(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,di(e.priority,function(){yy(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,di(e.priority,function(){yy(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=wd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Gn=l,a.target.dispatchEvent(l),Gn=null}else return t=ht(a),t!==null&&py(t),e.blockedOn=a,!1;t.shift()}return!0}function _y(e,t,a){Pu(e)&&a.delete(t)}function Gb(){Sd=!1,Xr!==null&&Pu(Xr)&&(Xr=null),Qr!==null&&Pu(Qr)&&(Qr=null),Jr!==null&&Pu(Jr)&&(Jr=null),ro.forEach(_y),io.forEach(_y)}function Ku(e,t){e.blockedOn===t&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gb)))}var Gu=null;function wy(e){Gu!==e&&(Gu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(xd(l||a)===null)continue;break}var d=ht(a);d!==null&&(e.splice(t,3),t-=3,wf(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Hs(e){function t(R){return Ku(R,e)}Xr!==null&&Ku(Xr,e),Qr!==null&&Ku(Qr,e),Jr!==null&&Ku(Jr,e),ro.forEach(t),io.forEach(t);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)by(a),a.blockedOn===null&&Wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],_=c[Dt]||null;if(typeof d=="function")_||wy(a);else if(_){var k=null;if(d&&d.hasAttribute("formAction")){if(c=d,_=d[Dt]||null)k=_.formAction;else if(xd(c)!==null)continue}else k=_.action;typeof k=="function"?a[l+1]=k:(a.splice(l,3),l-=3),wy(a)}}}function xy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return c=_})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Ed(e){this._internalRoot=e}Yu.prototype.render=Ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var a=t.current,l=Bn();hy(a,l,e,t,null,null)},Yu.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hy(e.current,2,null,e,null,null),ju(),t[bn]=null}};function Yu(e){this._internalRoot=e}Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=fi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wr.length&&t!==0&&t<Wr[a].priority;a++);Wr.splice(a,0,e),a===0&&by(e)}};var Sy=n.version;if(Sy!=="19.2.4")throw Error(s(527,Sy,"19.2.4"));ve.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=w(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Yb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{pa=Vu.inject(Yb),Zt=Vu}catch{}}return oo.createRoot=function(e,t){if(!u(e))throw Error(s(299));var a=!1,l="",c=Nm,d=Rm,_=Cm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=fy(e,1,!1,null,null,a,l,null,c,d,_,xy),e[bn]=t.current,id(e),new Ed(t)},oo.hydrateRoot=function(e,t,a){if(!u(e))throw Error(s(299));var l=!1,c="",d=Nm,_=Rm,k=Cm,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),t=fy(e,1,!0,t,a??null,l,c,R,d,_,k,xy),t.context=dy(null),a=t.current,l=Bn(),l=ol(l),c=zr(l),c.callback=null,Lr(a,c,l),a=l,t.current.lanes=a,Pn(t,a),Aa(t),e[bn]=t.current,id(e),new Yu(t)},oo.version="19.2.4",oo}var Dy;function a0(){if(Dy)return Td.exports;Dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Td.exports=n0(),Td.exports}var r0=a0();const i0=sh(r0);var My="popstate";function s0(r={}){function n(s,u){let{pathname:f,search:m,hash:y}=s.location;return Yd("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:go(u)}return o0(n,i,null,r)}function Tt(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function ha(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function l0(){return Math.random().toString(36).substring(2,10)}function Uy(r,n){return{usr:r.state,key:r.key,idx:n}}function Yd(r,n,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?el(n):n,state:i,key:n&&n.key||s||l0()}}function go({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function el(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(n.search=r.substring(s),r=r.substring(0,s)),r&&(n.pathname=r)}return n}function o0(r,n,i,s={}){let{window:u=document.defaultView,v5Compat:f=!1}=s,m=u.history,y="POP",b=null,w=S();w==null&&(w=0,m.replaceState({...m.state,idx:w},""));function S(){return(m.state||{idx:null}).idx}function j(){y="POP";let F=S(),le=F==null?null:F-w;w=F,b&&b({action:y,location:J.location,delta:le})}function A(F,le){y="PUSH";let ae=Yd(J.location,F,le);w=S()+1;let re=Uy(ae,w),_e=J.createHref(ae);try{m.pushState(re,"",_e)}catch(ze){if(ze instanceof DOMException&&ze.name==="DataCloneError")throw ze;u.location.assign(_e)}f&&b&&b({action:y,location:J.location,delta:1})}function N(F,le){y="REPLACE";let ae=Yd(J.location,F,le);w=S();let re=Uy(ae,w),_e=J.createHref(ae);m.replaceState(re,"",_e),f&&b&&b({action:y,location:J.location,delta:0})}function P(F){return u0(F)}let J={get action(){return y},get location(){return r(u,m)},listen(F){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(My,j),b=F,()=>{u.removeEventListener(My,j),b=null}},createHref(F){return n(u,F)},createURL:P,encodeLocation(F){let le=P(F);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:A,replace:N,go(F){return m.go(F)}};return J}function u0(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:go(r);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Ov(r,n,i="/"){return c0(r,n,i,!1)}function c0(r,n,i,s){let u=typeof n=="string"?el(n):n,f=dr(u.pathname||"/",i);if(f==null)return null;let m=Av(r);f0(m);let y=null;for(let b=0;y==null&&b<m.length;++b){let w=x0(f);y=_0(m[b],w,s)}return y}function Av(r,n=[],i=[],s="",u=!1){let f=(m,y,b=u,w)=>{let S={relativePath:w===void 0?m.path||"":w,caseSensitive:m.caseSensitive===!0,childrenIndex:y,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(s)&&b)return;Tt(S.relativePath.startsWith(s),`Absolute route path "${S.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(s.length)}let j=fr([s,S.relativePath]),A=i.concat(S);m.children&&m.children.length>0&&(Tt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Av(m.children,n,A,j,b)),!(m.path==null&&!m.index)&&n.push({path:j,score:g0(j,m.index),routesMeta:A})};return r.forEach((m,y)=>{if(m.path===""||!m.path?.includes("?"))f(m,y);else for(let b of Nv(m.path))f(m,y,!0,b)}),n}function Nv(r){let n=r.split("/");if(n.length===0)return[];let[i,...s]=n,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(s.length===0)return u?[f,""]:[f];let m=Nv(s.join("/")),y=[];return y.push(...m.map(b=>b===""?f:[f,b].join("/"))),u&&y.push(...m),y.map(b=>r.startsWith("/")&&b===""?"/":b)}function f0(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:b0(n.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var d0=/^:[\w-]+$/,h0=3,m0=2,p0=1,y0=10,v0=-2,zy=r=>r==="*";function g0(r,n){let i=r.split("/"),s=i.length;return i.some(zy)&&(s+=v0),n&&(s+=m0),i.filter(u=>!zy(u)).reduce((u,f)=>u+(d0.test(f)?h0:f===""?p0:y0),s)}function b0(r,n){return r.length===n.length&&r.slice(0,-1).every((s,u)=>s===n[u])?r[r.length-1]-n[n.length-1]:0}function _0(r,n,i=!1){let{routesMeta:s}=r,u={},f="/",m=[];for(let y=0;y<s.length;++y){let b=s[y],w=y===s.length-1,S=f==="/"?n:n.slice(f.length)||"/",j=mc({path:b.relativePath,caseSensitive:b.caseSensitive,end:w},S),A=b.route;if(!j&&w&&i&&!s[s.length-1].route.index&&(j=mc({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},S)),!j)return null;Object.assign(u,j.params),m.push({params:u,pathname:fr([f,j.pathname]),pathnameBase:k0(fr([f,j.pathnameBase])),route:A}),j.pathnameBase!=="/"&&(f=fr([f,j.pathnameBase]))}return m}function mc(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=w0(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let f=u[0],m=f.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:s.reduce((w,{paramName:S,isOptional:j},A)=>{if(S==="*"){let P=y[A]||"";m=f.slice(0,f.length-P.length).replace(/(.)\/+$/,"$1")}const N=y[A];return j&&!N?w[S]=void 0:w[S]=(N||"").replace(/%2F/g,"/"),w},{}),pathname:f,pathnameBase:m,pattern:r}}function w0(r,n=!1,i=!0){ha(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,b)=>(s.push({paramName:y,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),s]}function x0(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ha(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function dr(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function E0(r,n="/"){let{pathname:i,search:s="",hash:u=""}=typeof r=="string"?el(r):r,f;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?f=Ly(i.substring(1),"/"):f=Ly(i,n)):f=n,{pathname:f,search:T0(s),hash:O0(u)}}function Ly(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Rd(r,n,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j0(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function oh(r){let n=j0(r);return n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase)}function uh(r,n,i,s=!1){let u;typeof r=="string"?u=el(r):(u={...r},Tt(!u.pathname||!u.pathname.includes("?"),Rd("?","pathname","search",u)),Tt(!u.pathname||!u.pathname.includes("#"),Rd("#","pathname","hash",u)),Tt(!u.search||!u.search.includes("#"),Rd("#","search","hash",u)));let f=r===""||u.pathname==="",m=f?"/":u.pathname,y;if(m==null)y=i;else{let j=n.length-1;if(!s&&m.startsWith("..")){let A=m.split("/");for(;A[0]==="..";)A.shift(),j-=1;u.pathname=A.join("/")}y=j>=0?n[j]:"/"}let b=E0(u,y),w=m&&m!=="/"&&m.endsWith("/"),S=(f||m===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(w||S)&&(b.pathname+="/"),b}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),k0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),T0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,O0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,A0=class{constructor(r,n,i,s=!1){this.status=r,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function N0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function R0(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cv(r,n){let i=r;if(typeof i!="string"||!S0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,u=!1;if(Rv)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),y=dr(m.pathname,n);m.origin===f.origin&&y!=null?i=y+m.search+m.hash:u=!0}catch{ha(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dv=["POST","PUT","PATCH","DELETE"];new Set(Dv);var C0=["GET",...Dv];new Set(C0);var tl=$.createContext(null);tl.displayName="DataRouter";var wc=$.createContext(null);wc.displayName="DataRouterState";var D0=$.createContext(!1),Mv=$.createContext({isTransitioning:!1});Mv.displayName="ViewTransition";var M0=$.createContext(new Map);M0.displayName="Fetchers";var U0=$.createContext(null);U0.displayName="Await";var $n=$.createContext(null);$n.displayName="Navigation";var To=$.createContext(null);To.displayName="Location";var ea=$.createContext({outlet:null,matches:[],isDataRoute:!1});ea.displayName="Route";var ch=$.createContext(null);ch.displayName="RouteError";var Uv="REACT_ROUTER_ERROR",z0="REDIRECT",L0="ROUTE_ERROR_RESPONSE";function B0(r){if(r.startsWith(`${Uv}:${z0}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function q0(r){if(r.startsWith(`${Uv}:${L0}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new A0(n.status,n.statusText,n.data)}catch{}}function H0(r,{relative:n}={}){Tt(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=$.useContext($n),{hash:u,pathname:f,search:m}=Oo(r,{relative:n}),y=f;return i!=="/"&&(y=f==="/"?i:fr([i,f])),s.createHref({pathname:y,search:m,hash:u})}function nl(){return $.useContext(To)!=null}function Na(){return Tt(nl(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(To).location}var zv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lv(r){$.useContext($n).static||$.useLayoutEffect(r)}function Ra(){let{isDataRoute:r}=$.useContext(ea);return r?n_():$0()}function $0(){Tt(nl(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(tl),{basename:n,navigator:i}=$.useContext($n),{matches:s}=$.useContext(ea),{pathname:u}=Na(),f=JSON.stringify(oh(s)),m=$.useRef(!1);return Lv(()=>{m.current=!0}),$.useCallback((b,w={})=>{if(ha(m.current,zv),!m.current)return;if(typeof b=="number"){i.go(b);return}let S=uh(b,JSON.parse(f),u,w.relative==="path");r==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:fr([n,S.pathname])),(w.replace?i.replace:i.push)(S,w.state,w)},[n,i,f,u,r])}var P0=$.createContext(null);function K0(r){let n=$.useContext(ea).outlet;return $.useMemo(()=>n&&$.createElement(P0.Provider,{value:r},n),[n,r])}function G0(){let{matches:r}=$.useContext(ea),n=r[r.length-1];return n?n.params:{}}function Oo(r,{relative:n}={}){let{matches:i}=$.useContext(ea),{pathname:s}=Na(),u=JSON.stringify(oh(i));return $.useMemo(()=>uh(r,JSON.parse(u),s,n==="path"),[r,u,s,n])}function Y0(r,n){return Bv(r,n)}function Bv(r,n,i,s,u){Tt(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=$.useContext($n),{matches:m}=$.useContext(ea),y=m[m.length-1],b=y?y.params:{},w=y?y.pathname:"/",S=y?y.pathnameBase:"/",j=y&&y.route;{let ae=j&&j.path||"";Hv(w,!j||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let A=Na(),N;if(n){let ae=typeof n=="string"?el(n):n;Tt(S==="/"||ae.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),N=ae}else N=A;let P=N.pathname||"/",J=P;if(S!=="/"){let ae=S.replace(/^\//,"").split("/");J="/"+P.replace(/^\//,"").split("/").slice(ae.length).join("/")}let F=Ov(r,{pathname:J});ha(j||F!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ha(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=J0(F&&F.map(ae=>Object.assign({},ae,{params:Object.assign({},b,ae.params),pathname:fr([S,f.encodeLocation?f.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?S:fr([S,f.encodeLocation?f.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),m,i,s,u);return n&&le?$.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},le):le}function V0(){let r=t_(),n=N0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},f={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:f},"ErrorBoundary")," or"," ",$.createElement("code",{style:f},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},n),i?$.createElement("pre",{style:u},i):null,m)}var I0=$.createElement(V0,null),qv=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=q0(r.digest);i&&(r=i)}let n=r!==void 0?$.createElement(ea.Provider,{value:this.props.routeContext},$.createElement(ch.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?$.createElement(X0,{error:r},n):n}};qv.contextType=D0;var Cd=new WeakMap;function X0({children:r,error:n}){let{basename:i}=$.useContext($n);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=B0(n.digest);if(s){let u=Cd.get(n);if(u)throw u;let f=Cv(s.location,i);if(Rv&&!Cd.get(n))if(f.isExternal||s.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:s.replace}));throw Cd.set(n,m),m}return $.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return r}function Q0({routeContext:r,match:n,children:i}){let s=$.useContext(tl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(ea.Provider,{value:r},i)}function J0(r,n=[],i=null,s=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let f=r,m=i?.errors;if(m!=null){let S=f.findIndex(j=>j.route.id&&m?.[j.route.id]!==void 0);Tt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,S+1))}let y=!1,b=-1;if(i)for(let S=0;S<f.length;S++){let j=f[S];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(b=S),j.route.id){let{loaderData:A,errors:N}=i,P=j.route.loader&&!A.hasOwnProperty(j.route.id)&&(!N||N[j.route.id]===void 0);if(j.route.lazy||P){y=!0,b>=0?f=f.slice(0,b+1):f=[f[0]];break}}}let w=i&&s?(S,j)=>{s(S,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:R0(i.matches),errorInfo:j})}:void 0;return f.reduceRight((S,j,A)=>{let N,P=!1,J=null,F=null;i&&(N=m&&j.route.id?m[j.route.id]:void 0,J=j.route.errorElement||I0,y&&(b<0&&A===0?(Hv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,F=null):b===A&&(P=!0,F=j.route.hydrateFallbackElement||null)));let le=n.concat(f.slice(0,A+1)),ae=()=>{let re;return N?re=J:P?re=F:j.route.Component?re=$.createElement(j.route.Component,null):j.route.element?re=j.route.element:re=S,$.createElement(Q0,{match:j,routeContext:{outlet:S,matches:le,isDataRoute:i!=null},children:re})};return i&&(j.route.ErrorBoundary||j.route.errorElement||A===0)?$.createElement(qv,{location:i.location,revalidation:i.revalidation,component:J,error:N,children:ae(),routeContext:{outlet:null,matches:le,isDataRoute:!0},onError:w}):ae()},null)}function fh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(r){let n=$.useContext(tl);return Tt(n,fh(r)),n}function Z0(r){let n=$.useContext(wc);return Tt(n,fh(r)),n}function F0(r){let n=$.useContext(ea);return Tt(n,fh(r)),n}function dh(r){let n=F0(r),i=n.matches[n.matches.length-1];return Tt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function e_(){return dh("useRouteId")}function t_(){let r=$.useContext(ch),n=Z0("useRouteError"),i=dh("useRouteError");return r!==void 0?r:n.errors?.[i]}function n_(){let{router:r}=W0("useNavigate"),n=dh("useNavigate"),i=$.useRef(!1);return Lv(()=>{i.current=!0}),$.useCallback(async(u,f={})=>{ha(i.current,zv),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...f}))},[r,n])}var By={};function Hv(r,n,i){!n&&!By[r]&&(By[r]=!0,ha(!1,i))}$.memo(a_);function a_({routes:r,future:n,state:i,onError:s}){return Bv(r,void 0,i,s,n)}function Dd({to:r,replace:n,state:i,relative:s}){Tt(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=$.useContext($n);ha(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=$.useContext(ea),{pathname:m}=Na(),y=Ra(),b=uh(r,oh(f),m,s==="path"),w=JSON.stringify(b);return $.useEffect(()=>{y(JSON.parse(w),{replace:n,state:i,relative:s})},[y,w,s,n,i]),null}function $v(r){return K0(r.context)}function ln(r){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r_({basename:r="/",children:n=null,location:i,navigationType:s="POP",navigator:u,static:f=!1,unstable_useTransitions:m}){Tt(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),b=$.useMemo(()=>({basename:y,navigator:u,static:f,unstable_useTransitions:m,future:{}}),[y,u,f,m]);typeof i=="string"&&(i=el(i));let{pathname:w="/",search:S="",hash:j="",state:A=null,key:N="default"}=i,P=$.useMemo(()=>{let J=dr(w,y);return J==null?null:{location:{pathname:J,search:S,hash:j,state:A,key:N},navigationType:s}},[y,w,S,j,A,N,s]);return ha(P!=null,`<Router basename="${y}"> is not able to match the URL "${w}${S}${j}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:$.createElement($n.Provider,{value:b},$.createElement(To.Provider,{children:n,value:P}))}function i_({children:r,location:n}){return Y0(Vd(r),n)}function Vd(r,n=[]){let i=[];return $.Children.forEach(r,(s,u)=>{if(!$.isValidElement(s))return;let f=[...n,u];if(s.type===$.Fragment){i.push.apply(i,Vd(s.props.children,f));return}Tt(s.type===ln,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||f.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=Vd(s.props.children,f)),i.push(m)}),i}var fc="get",dc="application/x-www-form-urlencoded";function xc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function s_(r){return xc(r)&&r.tagName.toLowerCase()==="button"}function l_(r){return xc(r)&&r.tagName.toLowerCase()==="form"}function o_(r){return xc(r)&&r.tagName.toLowerCase()==="input"}function u_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function c_(r,n){return r.button===0&&(!n||n==="_self")&&!u_(r)}var Iu=null;function f_(){if(Iu===null)try{new FormData(document.createElement("form"),0),Iu=!1}catch{Iu=!0}return Iu}var d_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(r){return r!=null&&!d_.has(r)?(ha(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dc}"`),null):r}function h_(r,n){let i,s,u,f,m;if(l_(r)){let y=r.getAttribute("action");s=y?dr(y,n):null,i=r.getAttribute("method")||fc,u=Md(r.getAttribute("enctype"))||dc,f=new FormData(r)}else if(s_(r)||o_(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||y.getAttribute("action");if(s=b?dr(b,n):null,i=r.getAttribute("formmethod")||y.getAttribute("method")||fc,u=Md(r.getAttribute("formenctype"))||Md(y.getAttribute("enctype"))||dc,f=new FormData(y,r),!f_()){let{name:w,type:S,value:j}=r;if(S==="image"){let A=w?`${w}.`:"";f.append(`${A}x`,"0"),f.append(`${A}y`,"0")}else w&&f.append(w,j)}}else{if(xc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=fc,s=null,u=dc,m=r}return f&&u==="text/plain"&&(m=f,f=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hh(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function m_(r,n,i,s){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${s}`:u.pathname=`${u.pathname}.${s}`:u.pathname==="/"?u.pathname=`_root.${s}`:n&&dr(u.pathname,n)==="/"?u.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${s}`,u}async function p_(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function v_(r,n,i){let s=await Promise.all(r.map(async u=>{let f=n.routes[u.route.id];if(f){let m=await p_(f,i);return m.links?m.links():[]}return[]}));return w_(s.flat(1).filter(y_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function qy(r,n,i,s,u,f){let m=(b,w)=>i[w]?b.route.id!==i[w].route.id:!0,y=(b,w)=>i[w].pathname!==b.pathname||i[w].route.path?.endsWith("*")&&i[w].params["*"]!==b.params["*"];return f==="assets"?n.filter((b,w)=>m(b,w)||y(b,w)):f==="data"?n.filter((b,w)=>{let S=s.routes[b.route.id];if(!S||!S.hasLoader)return!1;if(m(b,w)||y(b,w))return!0;if(b.route.shouldRevalidate){let j=b.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function g_(r,n,{includeHydrateFallback:i}={}){return b_(r.map(s=>{let u=n.routes[s.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function b_(r){return[...new Set(r)]}function __(r){let n={},i=Object.keys(r).sort();for(let s of i)n[s]=r[s];return n}function w_(r,n){let i=new Set;return new Set(n),r.reduce((s,u)=>{let f=JSON.stringify(__(u));return i.has(f)||(i.add(f),s.push({key:f,link:u})),s},[])}function Pv(){let r=$.useContext(tl);return hh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function x_(){let r=$.useContext(wc);return hh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mh=$.createContext(void 0);mh.displayName="FrameworkContext";function Kv(){let r=$.useContext(mh);return hh(r,"You must render this element inside a <HydratedRouter> element"),r}function S_(r,n){let i=$.useContext(mh),[s,u]=$.useState(!1),[f,m]=$.useState(!1),{onFocus:y,onBlur:b,onMouseEnter:w,onMouseLeave:S,onTouchStart:j}=n,A=$.useRef(null);$.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let J=le=>{le.forEach(ae=>{m(ae.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),$.useEffect(()=>{if(s){let J=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(J)}}},[s]);let N=()=>{u(!0)},P=()=>{u(!1),m(!1)};return i?r!=="intent"?[f,A,{}]:[f,A,{onFocus:uo(y,N),onBlur:uo(b,P),onMouseEnter:uo(w,N),onMouseLeave:uo(S,P),onTouchStart:uo(j,N)}]:[!1,A,{}]}function uo(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function E_({page:r,...n}){let{router:i}=Pv(),s=$.useMemo(()=>Ov(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?$.createElement(k_,{page:r,matches:s,...n}):null}function j_(r){let{manifest:n,routeModules:i}=Kv(),[s,u]=$.useState([]);return $.useEffect(()=>{let f=!1;return v_(r,n,i).then(m=>{f||u(m)}),()=>{f=!0}},[r,n,i]),s}function k_({page:r,matches:n,...i}){let s=Na(),{future:u,manifest:f,routeModules:m}=Kv(),{basename:y}=Pv(),{loaderData:b,matches:w}=x_(),S=$.useMemo(()=>qy(r,n,w,f,s,"data"),[r,n,w,f,s]),j=$.useMemo(()=>qy(r,n,w,f,s,"assets"),[r,n,w,f,s]),A=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let J=new Set,F=!1;if(n.forEach(ae=>{let re=f.routes[ae.route.id];!re||!re.hasLoader||(!S.some(_e=>_e.route.id===ae.route.id)&&ae.route.id in b&&m[ae.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:J.add(ae.route.id))}),J.size===0)return[];let le=m_(r,y,u.unstable_trailingSlashAwareDataRequests,"data");return F&&J.size>0&&le.searchParams.set("_routes",n.filter(ae=>J.has(ae.route.id)).map(ae=>ae.route.id).join(",")),[le.pathname+le.search]},[y,u.unstable_trailingSlashAwareDataRequests,b,s,f,S,n,r,m]),N=$.useMemo(()=>g_(j,f),[j,f]),P=j_(j);return $.createElement($.Fragment,null,A.map(J=>$.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...i})),N.map(J=>$.createElement("link",{key:J,rel:"modulepreload",href:J,...i})),P.map(({key:J,link:F})=>$.createElement("link",{key:J,nonce:i.nonce,...F,crossOrigin:F.crossOrigin??i.crossOrigin})))}function T_(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var O_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O_&&(window.__reactRouterVersion="7.13.0")}catch{}function A_({basename:r,children:n,unstable_useTransitions:i,window:s}){let u=$.useRef();u.current==null&&(u.current=s0({window:s,v5Compat:!0}));let f=u.current,[m,y]=$.useState({action:f.action,location:f.location}),b=$.useCallback(w=>{i===!1?y(w):$.startTransition(()=>y(w))},[i]);return $.useLayoutEffect(()=>f.listen(b),[f,b]),$.createElement(r_,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yv=$.forwardRef(function({onClick:n,discover:i="render",prefetch:s="none",relative:u,reloadDocument:f,replace:m,state:y,target:b,to:w,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:A,...N},P){let{basename:J,unstable_useTransitions:F}=$.useContext($n),le=typeof w=="string"&&Gv.test(w),ae=Cv(w,J);w=ae.to;let re=H0(w,{relative:u}),[_e,ze,Te]=S_(s,N),pe=D_(w,{replace:m,state:y,target:b,preventScrollReset:S,relative:u,viewTransition:j,unstable_defaultShouldRevalidate:A,unstable_useTransitions:F});function nt(yn){n&&n(yn),yn.defaultPrevented||pe(yn)}let ut=$.createElement("a",{...N,...Te,href:ae.absoluteURL||re,onClick:ae.isExternal||f?n:nt,ref:T_(P,ze),target:b,"data-discover":!le&&i==="render"?"true":void 0});return _e&&!le?$.createElement($.Fragment,null,ut,$.createElement(E_,{page:re})):ut});Yv.displayName="Link";var N_=$.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:s="",end:u=!1,style:f,to:m,viewTransition:y,children:b,...w},S){let j=Oo(m,{relative:w.relative}),A=Na(),N=$.useContext(wc),{navigator:P,basename:J}=$.useContext($n),F=N!=null&&B_(j)&&y===!0,le=P.encodeLocation?P.encodeLocation(j).pathname:j.pathname,ae=A.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,le=le.toLowerCase()),re&&J&&(re=dr(re,J)||re);const _e=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let ze=ae===le||!u&&ae.startsWith(le)&&ae.charAt(_e)==="/",Te=re!=null&&(re===le||!u&&re.startsWith(le)&&re.charAt(le.length)==="/"),pe={isActive:ze,isPending:Te,isTransitioning:F},nt=ze?n:void 0,ut;typeof s=="function"?ut=s(pe):ut=[s,ze?"active":null,Te?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let yn=typeof f=="function"?f(pe):f;return $.createElement(Yv,{...w,"aria-current":nt,className:ut,ref:S,style:yn,to:m,viewTransition:y},typeof b=="function"?b(pe):b)});N_.displayName="NavLink";var R_=$.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:s,replace:u,state:f,method:m=fc,action:y,onSubmit:b,relative:w,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:A,...N},P)=>{let{unstable_useTransitions:J}=$.useContext($n),F=z_(),le=L_(y,{relative:w}),ae=m.toLowerCase()==="get"?"get":"post",re=typeof y=="string"&&Gv.test(y),_e=ze=>{if(b&&b(ze),ze.defaultPrevented)return;ze.preventDefault();let Te=ze.nativeEvent.submitter,pe=Te?.getAttribute("formmethod")||m,nt=()=>F(Te||ze.currentTarget,{fetcherKey:n,method:pe,navigate:i,replace:u,state:f,relative:w,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:A});J&&i!==!1?$.startTransition(()=>nt()):nt()};return $.createElement("form",{ref:P,method:ae,action:le,onSubmit:s?b:_e,...N,"data-discover":!re&&r==="render"?"true":void 0})});R_.displayName="Form";function C_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vv(r){let n=$.useContext(tl);return Tt(n,C_(r)),n}function D_(r,{target:n,replace:i,state:s,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:b}={}){let w=Ra(),S=Na(),j=Oo(r,{relative:f});return $.useCallback(A=>{if(c_(A,n)){A.preventDefault();let N=i!==void 0?i:go(S)===go(j),P=()=>w(r,{replace:N,state:s,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y});b?$.startTransition(()=>P()):P()}},[S,w,j,i,s,n,r,u,f,m,y,b])}var M_=0,U_=()=>`__${String(++M_)}__`;function z_(){let{router:r}=Vv("useSubmit"),{basename:n}=$.useContext($n),i=e_(),s=r.fetch,u=r.navigate;return $.useCallback(async(f,m={})=>{let{action:y,method:b,encType:w,formData:S,body:j}=h_(f,n);if(m.navigate===!1){let A=m.fetcherKey||U_();await s(A,i,m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||b,formEncType:m.encType||w,flushSync:m.flushSync})}else await u(m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||b,formEncType:m.encType||w,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[s,u,n,i])}function L_(r,{relative:n}={}){let{basename:i}=$.useContext($n),s=$.useContext(ea);Tt(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),f={...Oo(r||".",{relative:n})},m=Na();if(r==null){f.search=m.search;let y=new URLSearchParams(f.search),b=y.getAll("index");if(b.some(S=>S==="")){y.delete("index"),b.filter(j=>j).forEach(j=>y.append("index",j));let S=y.toString();f.search=S?`?${S}`:""}}return(!r||r===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:fr([i,f.pathname])),go(f)}function B_(r,{relative:n}={}){let i=$.useContext(Mv);Tt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vv("useViewTransitionState"),u=Oo(r,{relative:n});if(!i.isTransitioning)return!1;let f=dr(i.currentLocation.pathname,s)||i.currentLocation.pathname,m=dr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return mc(u.pathname,m)!=null||mc(u.pathname,f)!=null}function Sc(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(r);u<s.length;u++)n.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(r,s[u])&&(i[s[u]]=r[s[u]]);return i}function q_(r,n,i,s){function u(f){return f instanceof i?f:new i(function(m){m(f)})}return new(i||(i=Promise))(function(f,m){function y(S){try{w(s.next(S))}catch(j){m(j)}}function b(S){try{w(s.throw(S))}catch(j){m(j)}}function w(S){S.done?f(S.value):u(S.value).then(y,b)}w((s=s.apply(r,n||[])).next())})}const H_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class ph extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class $_ extends ph{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Hy extends ph{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class $y extends ph{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Id;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Id||(Id={}));class P_{constructor(n,{headers:i={},customFetch:s,region:u=Id.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=H_(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return q_(this,arguments,void 0,function*(i,s={}){var u;let f,m;try{const{headers:y,method:b,body:w,signal:S,timeout:j}=s;let A={},{region:N}=s;N||(N=this.region);const P=new URL(`${this.url}/${i}`);N&&N!=="any"&&(A["x-region"]=N,P.searchParams.set("forceFunctionRegion",N));let J;w&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&w instanceof Blob||w instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",J=w):typeof w=="string"?(A["Content-Type"]="text/plain",J=w):typeof FormData<"u"&&w instanceof FormData?J=w:(A["Content-Type"]="application/json",J=JSON.stringify(w)):w&&typeof w!="string"&&!(typeof Blob<"u"&&w instanceof Blob)&&!(w instanceof ArrayBuffer)&&!(typeof FormData<"u"&&w instanceof FormData)?J=JSON.stringify(w):J=w;let F=S;j&&(m=new AbortController,f=setTimeout(()=>m.abort(),j),S?(F=m.signal,S.addEventListener("abort",()=>m.abort())):F=m.signal);const le=yield this.fetch(P.toString(),{method:b||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),y),body:J,signal:F}).catch(ze=>{throw new $_(ze)}),ae=le.headers.get("x-relay-error");if(ae&&ae==="true")throw new Hy(le);if(!le.ok)throw new $y(le);let re=((u=le.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),_e;return re==="application/json"?_e=yield le.json():re==="application/octet-stream"||re==="application/pdf"?_e=yield le.blob():re==="text/event-stream"?_e=le:re==="multipart/form-data"?_e=yield le.formData():_e=yield le.text(),{data:_e,error:null,response:le}}catch(y){return{data:null,error:y,response:y instanceof $y||y instanceof Hy?y.context:void 0}}finally{f&&clearTimeout(f)}})}}var K_=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},G_=class{constructor(r){var n,i,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(s=r.urlLengthLimit)!==null&&s!==void 0?s:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let u=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let m=null,y=null,b=null,w=f.status,S=f.statusText;if(f.ok){var j,A;if(i.method!=="HEAD"){var N;const le=await f.text();le===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((N=i.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?y=le:y=JSON.parse(le))}const J=(j=i.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),F=(A=f.headers.get("content-range"))===null||A===void 0?void 0:A.split("/");J&&F&&F.length>1&&(b=parseInt(F[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,w=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var P;const J=await f.text();try{m=JSON.parse(J),Array.isArray(m)&&f.status===404&&(y=[],m=null,w=200,S="OK")}catch{f.status===404&&J===""?(w=204,S="No Content"):m={message:J}}if(m&&i.isMaybeSingle&&(!(m==null||(P=m.details)===null||P===void 0)&&P.includes("0 rows"))&&(m=null,w=200,S="OK"),m&&i.shouldThrowOnError)throw new K_(m)}return{error:m,data:y,count:b,status:w,statusText:S}});return this.shouldThrowOnError||(u=u.catch(f=>{var m;let y="",b="",w="";const S=f?.cause;if(S){var j,A,N,P;const le=(j=S?.message)!==null&&j!==void 0?j:"",ae=(A=S?.code)!==null&&A!==void 0?A:"";y=`${(N=f?.name)!==null&&N!==void 0?N:"FetchError"}: ${f?.message}`,y+=`

Caused by: ${(P=S?.name)!==null&&P!==void 0?P:"Error"}: ${le}`,ae&&(y+=` (${ae})`),S?.stack&&(y+=`
${S.stack}`)}else{var J;y=(J=f?.stack)!==null&&J!==void 0?J:""}const F=this.url.toString().length;return f?.name==="AbortError"||f?.code==="ABORT_ERR"?(w="",b="Request was aborted (timeout or manual cancellation)",F>this.urlLengthLimit&&(b+=`. Note: Your request URL is ${F} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(S?.name==="HeadersOverflowError"||S?.code==="UND_ERR_HEADERS_OVERFLOW")&&(w="",b="HTTP headers exceeded server limits (typically 16KB)",F>this.urlLengthLimit&&(b+=`. Your request URL is ${F} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:y,hint:b,code:w},data:null,count:null,status:0,statusText:""}})),u.then(r,n)}returns(){return this}overrideTypes(){return this}},Y_=class extends G_{select(r){let n=!1;const i=(r??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:u=s}={}){const f=u?`${u}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"offset":`${s}.offset`,f=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(f,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:u=!1,format:f="text"}={}){var m;const y=[r?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),b=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${b}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Py=new RegExp("[,()]");var Xs=class extends Y_{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&Py.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&Py.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${u}fts${f}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},V_=class{constructor(r,{headers:n={},schema:i,fetch:s,urlLengthLimit:u=8e3}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=s,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:s}=n??{},u=i?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(w=>/\s/.test(w)&&!f?"":(w==='"'&&(f=!f),w)).join(""),{url:y,headers:b}=this.cloneRequestState();return y.searchParams.set("select",m),s&&b.append("Prefer",`count=${s}`),new Xs({method:u,url:y,headers:b,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:i=!0}={}){var s;const u="POST",{url:f,headers:m}=this.cloneRequestState();if(n&&m.append("Prefer",`count=${n}`),i||m.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);f.searchParams.set("columns",b.join(","))}}return new Xs({method:u,url:f,headers:m,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:u=!0}={}){var f;const m="POST",{url:y,headers:b}=this.cloneRequestState();if(b.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&y.searchParams.set("on_conflict",n),s&&b.append("Prefer",`count=${s}`),u||b.append("Prefer","missing=default"),Array.isArray(r)){const w=r.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(w.length>0){const S=[...new Set(w)].map(j=>`"${j}"`);y.searchParams.set("columns",S.join(","))}}return new Xs({method:m,url:y,headers:b,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var i;const s="PATCH",{url:u,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new Xs({method:s,url:u,headers:f,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const i="DELETE",{url:s,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Xs({method:i,url:s,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function bo(r){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bo(r)}function I_(r,n){if(bo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(bo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function X_(r){var n=I_(r,"string");return bo(n)=="symbol"?n:n+""}function Q_(r,n,i){return(n=X_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Ky(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function Xu(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ky(Object(i),!0).forEach(function(s){Q_(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ky(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}var J_=class Iv{constructor(n,{headers:i={},schema:s,fetch:u,timeout:f,urlLengthLimit:m=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.urlLengthLimit=m;const y=u??globalThis.fetch;f!==void 0&&f>0?this.fetch=(b,w)=>{const S=new AbortController,j=setTimeout(()=>S.abort(),f),A=w?.signal;if(A){if(A.aborted)return clearTimeout(j),y(b,w);const N=()=>{clearTimeout(j),S.abort()};return A.addEventListener("abort",N,{once:!0}),y(b,Xu(Xu({},w),{},{signal:S.signal})).finally(()=>{clearTimeout(j),A.removeEventListener("abort",N)})}return y(b,Xu(Xu({},w),{},{signal:S.signal})).finally(()=>clearTimeout(j))}:this.fetch=y}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new V_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new Iv(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:s=!1,get:u=!1,count:f}={}){var m;let y;const b=new URL(`${this.url}/rpc/${n}`);let w;const S=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(S)),j=s&&Object.values(i).some(S);j?(y="POST",w=i):s||u?(y=s?"HEAD":"GET",Object.entries(i).filter(([N,P])=>P!==void 0).map(([N,P])=>[N,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([N,P])=>{b.searchParams.append(N,P)})):(y="POST",w=i);const A=new Headers(this.headers);return j?A.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&A.set("Prefer",`count=${f}`),new Xs({method:y,url:b,headers:A,schema:this.schemaName,body:w,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch,urlLengthLimit:this.urlLengthLimit})}};class W_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const u=s.node,f=parseInt(u.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Z_="2.95.3",F_=`realtime-js/${Z_}`,ew="1.0.0",Xv="2.0.0",Gy=Xv,Xd=1e4,tw=1e3,nw=100;var ei;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ei||(ei={}));var It;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(It||(It={}));var da;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(da||(da={}));var Qd;(function(r){r.websocket="websocket"})(Qd||(Qd={}));var Pi;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Pi||(Pi={}));class aw{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const u=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,s;const u=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,i,s){var u,f;const m=n.topic,y=(u=n.ref)!==null&&u!==void 0?u:"",b=(f=n.join_ref)!==null&&f!==void 0?f:"",w=n.payload.event,S=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},j=Object.keys(S).length===0?"":JSON.stringify(S);if(b.length>255)throw new Error(`joinRef length ${b.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`userEvent length ${w.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const A=this.USER_BROADCAST_PUSH_META_LENGTH+b.length+y.length+m.length+w.length+j.length,N=new ArrayBuffer(this.HEADER_LENGTH+A);let P=new DataView(N),J=0;P.setUint8(J++,this.KINDS.userBroadcastPush),P.setUint8(J++,b.length),P.setUint8(J++,y.length),P.setUint8(J++,m.length),P.setUint8(J++,w.length),P.setUint8(J++,j.length),P.setUint8(J++,i),Array.from(b,le=>P.setUint8(J++,le.charCodeAt(0))),Array.from(y,le=>P.setUint8(J++,le.charCodeAt(0))),Array.from(m,le=>P.setUint8(J++,le.charCodeAt(0))),Array.from(w,le=>P.setUint8(J++,le.charCodeAt(0))),Array.from(j,le=>P.setUint8(J++,le.charCodeAt(0)));var F=new Uint8Array(N.byteLength+s.byteLength);return F.set(new Uint8Array(N),0),F.set(new Uint8Array(s),N.byteLength),F.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[u,f,m,y,b]=s;return i({join_ref:u,ref:f,topic:m,event:y,payload:b})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),u=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,u)}_decodeUserBroadcast(n,i,s){const u=i.getUint8(1),f=i.getUint8(2),m=i.getUint8(3),y=i.getUint8(4);let b=this.HEADER_LENGTH+4;const w=s.decode(n.slice(b,b+u));b=b+u;const S=s.decode(n.slice(b,b+f));b=b+f;const j=s.decode(n.slice(b,b+m));b=b+m;const A=n.slice(b,n.byteLength),N=y===this.JSON_ENCODING?JSON.parse(s.decode(A)):A,P={type:this.BROADCAST_EVENT,event:S,payload:N};return m>0&&(P.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:w,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}let Qv=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var wt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(wt||(wt={}));const Yy=(r,n,i={})=>{var s;const u=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((f,m)=>(f[m]=rw(m,r,n,u),f),{}):{}},rw=(r,n,i,s)=>{const u=n.find(y=>y.name===r),f=u?.type,m=i[r];return f&&!s.includes(f)?Jv(f,m):Jd(m)},Jv=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return ow(n,i)}switch(r){case wt.bool:return iw(n);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return sw(n);case wt.json:case wt.jsonb:return lw(n);case wt.timestamp:return uw(n);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return Jd(n);default:return Jd(n)}},Jd=r=>r,iw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},sw=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},lw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},ow=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,s=r[i];if(r[0]==="{"&&s==="}"){let f;const m=r.slice(1,i);try{f=JSON.parse("["+m+"]")}catch{f=m?m.split(","):[]}return f.map(y=>Jv(n,y))}return r},uw=r=>typeof r=="string"?r.replace(" ","T"):r,Wv=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Ud{constructor(n,i,s={},u=Xd){this.channel=n,this.event=i,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Vy;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Vy||(Vy={}));class yo{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yo.syncState(this.state,u,f,m),this.pendingDiffs.forEach(b=>{this.state=yo.syncDiff(this.state,b,f,m)}),this.pendingDiffs=[],y()}),this.channel._on(s.diff,{},u=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=yo.syncDiff(this.state,u,f,m),y())}),this.onJoin((u,f,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:f,newPresences:m})}),this.onLeave((u,f,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:f,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,u){const f=this.cloneDeep(n),m=this.transformState(i),y={},b={};return this.map(f,(w,S)=>{m[w]||(b[w]=S)}),this.map(m,(w,S)=>{const j=f[w];if(j){const A=S.map(F=>F.presence_ref),N=j.map(F=>F.presence_ref),P=S.filter(F=>N.indexOf(F.presence_ref)<0),J=j.filter(F=>A.indexOf(F.presence_ref)<0);P.length>0&&(y[w]=P),J.length>0&&(b[w]=J)}else y[w]=S}),this.syncDiff(f,{joins:y,leaves:b},s,u)}static syncDiff(n,i,s,u){const{joins:f,leaves:m}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(f,(y,b)=>{var w;const S=(w=n[y])!==null&&w!==void 0?w:[];if(n[y]=this.cloneDeep(b),S.length>0){const j=n[y].map(N=>N.presence_ref),A=S.filter(N=>j.indexOf(N.presence_ref)<0);n[y].unshift(...A)}s(y,S,b)}),this.map(m,(y,b)=>{let w=n[y];if(!w)return;const S=b.map(j=>j.presence_ref);w=w.filter(j=>S.indexOf(j.presence_ref)<0),n[y]=w,u(y,w,b),w.length===0&&delete n[y]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const u=n[s];return"metas"in u?i[s]=u.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):i[s]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iy;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Iy||(Iy={}));var vo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(vo||(vo={}));var cr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(cr||(cr={}));class Ws{constructor(n,i={config:{}},s){var u,f;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ud(this,da.join,this.params,this.timeout),this.rejoinTimer=new Qv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new yo(this),this.broadcastEndpointURL=Wv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,u,f;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:m,presence:y,private:b}}=this.params,w=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(N=>N.filter))!==null&&u!==void 0?u:[],S=!!this.bindings[vo.PRESENCE]&&this.bindings[vo.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,j={},A={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:S}),postgres_changes:w,private:b};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(N=>n?.(cr.CHANNEL_ERROR,N)),this._onClose(()=>n?.(cr.CLOSED)),this.updateJoinPayload(Object.assign({config:A},j)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:N})=>{var P;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n?.(cr.SUBSCRIBED);return}else{const J=this.bindings.postgres_changes,F=(P=J?.length)!==null&&P!==void 0?P:0,le=[];for(let ae=0;ae<F;ae++){const re=J[ae],{filter:{event:_e,schema:ze,table:Te,filter:pe}}=re,nt=N&&N[ae];if(nt&&nt.event===_e&&Ws.isFilterValueEqual(nt.schema,ze)&&Ws.isFilterValueEqual(nt.table,Te)&&Ws.isFilterValueEqual(nt.filter,pe))le.push(Object.assign(Object.assign({},re),{id:nt.id}));else{this.unsubscribe(),this.state=It.errored,n?.(cr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=le,n&&n(cr.SUBSCRIBED);return}}).receive("error",N=>{this.state=It.errored,n?.(cr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n?.(cr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===It.joined&&n===vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(y.status===202)return{success:!0};let b=y.statusText;try{const w=await y.json();b=w.error||w.message||b}catch{}return Promise.reject(new Error(b))}async send(n,i={}){var s,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:m}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const b={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:m,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var m,y,b;const w=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((b=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||b===void 0)&&b.ack)&&f("ok"),w.receive("ok",()=>f("ok")),w.receive("error",()=>f("error")),w.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=It.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new Ud(this,da.leave,{},n),s.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const u=new AbortController,f=setTimeout(()=>u.abort(),s),m=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(f),m}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ud(this,n,i,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>nw){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var u,f;const m=n.toLocaleLowerCase(),{close:y,error:b,leave:w,join:S}=da;if(s&&[y,b,w,S].indexOf(m)>=0&&s!==this._joinRef())return;let A=this._onMessage(m,i,s);if(i&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(N=>{var P,J,F;return((P=N.filter)===null||P===void 0?void 0:P.event)==="*"||((F=(J=N.filter)===null||J===void 0?void 0:J.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===m}).map(N=>N.callback(A,s)):(f=this.bindings[m])===null||f===void 0||f.filter(N=>{var P,J,F,le,ae,re;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in N){const _e=N.id,ze=(P=N.filter)===null||P===void 0?void 0:P.event;return _e&&((J=i.ids)===null||J===void 0?void 0:J.includes(_e))&&(ze==="*"||ze?.toLocaleLowerCase()===((F=i.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const _e=(ae=(le=N?.filter)===null||le===void 0?void 0:le.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return _e==="*"||_e===((re=i?.event)===null||re===void 0?void 0:re.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===m}).map(N=>{if(typeof A=="object"&&"ids"in A){const P=A.data,{schema:J,table:F,commit_timestamp:le,type:ae,errors:re}=P;A=Object.assign(Object.assign({},{schema:J,table:F,commit_timestamp:le,eventType:ae,new:{},old:{},errors:re}),this._getPayloadRecords(P))}N.callback(A,s)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const u=n.toLocaleLowerCase(),f={type:u,filter:i,callback:s};return this.bindings[u]?this.bindings[u].push(f):this.bindings[u]=[f],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var f;return!(((f=u.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&Ws.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(da.close,{},n)}_onError(n){this._on(da.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Yy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Yy(n.columns,n.old_record)),i}}const zd=()=>{},Qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cw=[1e3,2e3,5e3,1e4],fw=1e4,dw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hw{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xd,this.transport=null,this.heartbeatIntervalMs=Qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zd,this.ref=0,this.reconnectTimer=null,this.vsn=Gy,this.logger=zd,this.conn=null,this.sendBuffer=[],this.serializer=new aw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...f)=>u(...f):(...f)=>fetch(...f),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Qd.websocket}`,this.httpEndpoint=Wv(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ei.connecting:return Pi.Connecting;case ei.open:return Pi.Open;case ei.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,u=this.getChannels().find(f=>f.topic===s);if(u)return u;{const f=new Ws(`realtime:${n}`,i,this);return this.channels.push(f),f}}push(n){const{topic:i,event:s,payload:u,ref:f}=n,m=()=>{this.encode(n,y=>{var b;(b=this.conn)===null||b===void 0||b.send(y)})};this.log("push",`${i} ${s} (${f})`,u),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(tw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const w=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",w)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:u,payload:f,ref:m}=i,y=m?`(${m})`:"",b=f.status||"";this.log("receive",`${b} ${s} ${u} ${y}`.trim(),f),this.channels.filter(w=>w._isMember(s)).forEach(w=>w._trigger(u,f,m)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ei.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ei.open||this.conn.readyState===ei.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(da.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${s}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([dw],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const f={access_token:i,version:F_};i&&u.updateJoinPayload(f),u.joinedOnce&&u._isJoined()&&u._push(da.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Qv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,u,f,m,y,b,w,S,j,A,N;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Xd,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Qu.HEARTBEAT_INTERVAL,this.worker=(f=n?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:zd,this.vsn=(b=n?.vsn)!==null&&b!==void 0?b:Gy,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(w=n?.reconnectAfterMs)!==null&&w!==void 0?w:(P=>cw[P-1]||fw),this.vsn){case ew:this.encode=(S=n?.encode)!==null&&S!==void 0?S:((P,J)=>J(JSON.stringify(P))),this.decode=(j=n?.decode)!==null&&j!==void 0?j:((P,J)=>J(JSON.parse(P)));break;case Xv:this.encode=(A=n?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(N=n?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var _o=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mw(r,n,i){const s=new URL(n,r);if(i)for(const[u,f]of Object.entries(i))f!==void 0&&s.searchParams.set(u,f);return s.toString()}async function pw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function yw(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:u,body:f,headers:m}){const y=mw(r.baseUrl,s,u),b=await pw(r.auth),w=await n(y,{method:i,headers:{...f?{"Content-Type":"application/json"}:{},...b,...m},body:f?JSON.stringify(f):void 0}),S=await w.text(),j=(w.headers.get("content-type")||"").includes("application/json"),A=j&&S?JSON.parse(S):S;if(!w.ok){const N=j?A:void 0,P=N?.error;throw new _o(P?.message??`Request failed with status ${w.status}`,{status:w.status,icebergType:P?.type,icebergCode:P?.code,details:N})}return{status:w.status,headers:w.headers,data:A}}}}function Ju(r){return r.join("")}var vw=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Ju(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ju(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ju(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ju(r.namespace)}`}),!0}catch(n){if(n instanceof _o&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof _o&&i.status===409)return;throw i}}};function $s(r){return r.join("")}var gw=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$s(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof _o&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof _o&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},bw=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=yw({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new vw(this.client,n),this.tableOps=new gw(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},Ec=class extends Error{constructor(r,n="storage",i,s){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function jc(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Wu=class extends Ec{constructor(r,n,i,s="storage"){super(r,s,n,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zv=class extends Ec{constructor(r,n,i="storage"){super(r,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const _w=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),ww=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Wd=r=>{if(Array.isArray(r))return r.map(i=>Wd(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,s])=>{const u=i.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[u]=Wd(s)}),n},xw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function wo(r){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wo(r)}function Sw(r,n){if(wo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(wo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Ew(r){var n=Sw(r,"string");return wo(n)=="symbol"?n:n+""}function jw(r,n,i){return(n=Ew(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Xy(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function Ue(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Xy(Object(i),!0).forEach(function(s){jw(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Xy(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const Qy=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},kw=async(r,n,i,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const u=r,f=u.status||500;if(typeof u.json=="function")u.json().then(m=>{const y=m?.statusCode||m?.code||f+"";n(new Wu(Qy(m),f,y,s))}).catch(()=>{if(s==="vectors"){const m=f+"";n(new Wu(u.statusText||`HTTP ${f} error`,f,m,s))}else{const m=f+"";n(new Wu(u.statusText||`HTTP ${f} error`,f,m,s))}});else{const m=f+"";n(new Wu(u.statusText||`HTTP ${f} error`,f,m,s))}}else n(new Zv(Qy(r),r,s))},Tw=(r,n,i,s)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!s?Ue(Ue({},u),i):(ww(s)?(u.headers=Ue({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(s)):u.body=s,n?.duplex&&(u.duplex=n.duplex),Ue(Ue({},u),i))};async function co(r,n,i,s,u,f,m){return new Promise((y,b)=>{r(i,Tw(n,s,u,f)).then(w=>{if(!w.ok)throw w;if(s?.noResolveJson)return w;if(m==="vectors"){const S=w.headers.get("content-type");if(w.headers.get("content-length")==="0"||w.status===204)return{};if(!S||!S.includes("application/json"))return{}}return w.json()}).then(w=>y(w)).catch(w=>kw(w,b,s,m))})}function Fv(r="storage"){return{get:async(n,i,s,u)=>co(n,"GET",i,s,u,void 0,r),post:async(n,i,s,u,f)=>co(n,"POST",i,u,f,s,r),put:async(n,i,s,u,f)=>co(n,"PUT",i,u,f,s,r),head:async(n,i,s,u)=>co(n,"HEAD",i,Ue(Ue({},s),{},{noResolveJson:!0}),u,void 0,r),remove:async(n,i,s,u,f)=>co(n,"DELETE",i,u,f,s,r)}}const Ow=Fv("storage"),{get:xo,post:fa,put:Zd,head:Aw,remove:yh}=Ow,Hn=Fv("vectors");var al=class{constructor(r,n={},i,s="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=_w(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(jc(i))return{data:null,error:i};throw i}}},Nw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jc(n))return{data:null,error:n};throw n}}};let eg;eg=Symbol.toStringTag;var Rw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[eg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nw(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(jc(n))return{data:null,error:n};throw n}}};const Cw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Dw=class extends al{constructor(r,n={},i,s){super(r,n,s,"storage"),this.bucketId=i}async uploadOrUpdate(r,n,i,s){var u=this;return u.handleOperation(async()=>{let f;const m=Ue(Ue({},Jy),s);let y=Ue(Ue({},u.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const b=m.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),b&&f.append("metadata",u.encodeMetadata(b)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.has("cacheControl")||f.append("cacheControl",m.cacheControl),b&&!f.has("metadata")&&f.append("metadata",u.encodeMetadata(b))):(f=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,b&&(y["x-metadata"]=u.toBase64(u.encodeMetadata(b))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!m.duplex&&(m.duplex="half")),s?.headers&&(y=Ue(Ue({},y),s.headers));const w=u._removeEmptyFolders(n),S=u._getFinalPath(w),j=await(r=="PUT"?Zd:fa)(u.fetch,`${u.url}/object/${S}`,f,Ue({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{path:w,id:j.Id,fullPath:j.Key}})}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,s){var u=this;const f=u._removeEmptyFolders(r),m=u._getFinalPath(f),y=new URL(u.url+`/object/upload/sign/${m}`);return y.searchParams.set("token",n),u.handleOperation(async()=>{let b;const w=Ue({upsert:Jy.upsert},s),S=Ue(Ue({},u.headers),{"x-upsert":String(w.upsert)});return typeof Blob<"u"&&i instanceof Blob?(b=new FormData,b.append("cacheControl",w.cacheControl),b.append("",i)):typeof FormData<"u"&&i instanceof FormData?(b=i,b.append("cacheControl",w.cacheControl)):(b=i,S["cache-control"]=`max-age=${w.cacheControl}`,S["content-type"]=w.contentType),{path:f,fullPath:(await Zd(u.fetch,y.toString(),b,{headers:S})).Key}})}async createSignedUploadUrl(r,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(r);const u=Ue({},i.headers);n?.upsert&&(u["x-upsert"]="true");const f=await fa(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:u}),m=new URL(i.url+f.url),y=m.searchParams.get("token");if(!y)throw new Ec("No token returned by API");return{signedUrl:m.toString(),path:r,token:y}})}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var s=this;return s.handleOperation(async()=>await fa(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}))}async copy(r,n,i){var s=this;return s.handleOperation(async()=>({path:(await fa(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(r,n,i){var s=this;return s.handleOperation(async()=>{let u=s._getFinalPath(r),f=await fa(s.fetch,`${s.url}/object/sign/${u}`,Ue({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${f.signedURL}${m}`)}})}async createSignedUrls(r,n,i){var s=this;return s.handleOperation(async()=>{const u=await fa(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:r},{headers:s.headers}),f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u.map(m=>Ue(Ue({},m),{},{signedUrl:m.signedURL?encodeURI(`${s.url}${m.signedURL}${f}`):null}))})}download(r,n,i){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),f=u?`?${u}`:"",m=this._getFinalPath(r),y=()=>xo(this.fetch,`${this.url}/${s}/${m}${f}`,{headers:this.headers,noResolveJson:!0},i);return new Rw(y,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);return n.handleOperation(async()=>Wd(await xo(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await Aw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(jc(s)&&s instanceof Zv){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,n){const i=this._getFinalPath(r),s=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&s.push(u);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&s.push(m);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${y}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await yh(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,i){var s=this;return s.handleOperation(async()=>{const u=Ue(Ue(Ue({},Cw),n),{},{prefix:r||""});return await fa(s.fetch,`${s.url}/object/list/${s.bucketId}`,u,{headers:s.headers},i)})}async listV2(r,n){var i=this;return i.handleOperation(async()=>{const s=Ue({},r);return await fa(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const Mw="2.95.3",Ao={"X-Client-Info":`storage-js/${Mw}`};var Uw=class extends al{constructor(r,n={},i,s){const u=new URL(r);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const f=u.href.replace(/\/$/,""),m=Ue(Ue({},Ao),n);super(f,m,i,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(r);return await xo(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await xo(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var i=this;return i.handleOperation(async()=>await fa(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(r,n){var i=this;return i.handleOperation(async()=>await Zd(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await yh(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},zw=class extends al{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=Ue(Ue({},Ao),n);super(s,u,i,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await fa(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const s=i.toString(),u=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await xo(n.fetch,u,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await yh(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!xw(r))throw new Ec("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new bw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(u,f){const m=u[f];return typeof m!="function"?m:async(...y)=>{try{return{data:await m.apply(u,y),error:null}}catch(b){if(s)throw b;return{data:null,error:b}}}}})}},Lw=class extends al{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=Ue(Ue({},Ao),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var i=this;return i.handleOperation(async()=>await Hn.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var i=this;return i.handleOperation(async()=>await Hn.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{})}},Bw=class extends al{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=Ue(Ue({},Ao),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},qw=class extends al{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=Ue(Ue({},Ao),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},Hw=class extends qw{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new $w(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},$w=class extends Lw{constructor(r,n,i,s){super(r,n,s),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new Pw(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Pw=class extends Bw{constructor(r,n,i,s,u){super(r,n,u),this.vectorBucketName=i,this.indexName=s}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,Ue(Ue({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Kw=class extends Uw{constructor(r,n={},i,s){super(r,n,i,s)}from(r){return new Dw(this.url,this.headers,r,this.fetch)}get vectors(){return new Hw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zw(this.url+"/iceberg",this.headers,this.fetch)}};const tg="2.95.3",Qs=30*1e3,Fd=3,Ld=Fd*Qs,Gw="http://localhost:9999",Yw="supabase.auth.token",Vw={"X-Client-Info":`gotrue-js/${tg}`},eh="X-Supabase-Api-Version",ng={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xw=600*1e3;class So extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function Oe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Qw extends So{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function Jw(r){return Oe(r)&&r.name==="AuthApiError"}class Ki extends So{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class mr extends So{constructor(n,i,s,u){super(n,s,u),this.name=i,this.status=s}}class qn extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bd(r){return Oe(r)&&r.name==="AuthSessionMissingError"}class Ps extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zu extends mr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends mr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ww(r){return Oe(r)&&r.name==="AuthImplicitGrantRedirectError"}class Wy extends mr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zw extends mr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class th extends mr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function qd(r){return Oe(r)&&r.name==="AuthRetryableFetchError"}class Zy extends mr{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class nh extends mr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fy=` 	
\r=`.split(""),Fw=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Fy.length;n+=1)r[Fy[n].charCodeAt(0)]=-2;for(let n=0;n<pc.length;n+=1)r[pc[n].charCodeAt(0)]=n;return r})();function ev(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(pc[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(pc[s]),n.queuedBits-=6}}function ag(r,n,i){const s=Fw[r];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function tv(r){const n=[],i=m=>{n.push(String.fromCodePoint(m))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},f=m=>{nx(m,s,i)};for(let m=0;m<r.length;m+=1)ag(r.charCodeAt(m),u,f);return n.join("")}function ex(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function tx(r,n){for(let i=0;i<r.length;i+=1){let s=r.charCodeAt(i);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}ex(s,n)}}function nx(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Fs(r){const n=[],i={queue:0,queuedBits:0},s=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)ag(r.charCodeAt(u),i,s);return new Uint8Array(n)}function ax(r){const n=[];return tx(r,i=>n.push(i)),new Uint8Array(n)}function Gi(r){const n=[],i={queue:0,queuedBits:0},s=u=>{n.push(u)};return r.forEach(u=>ev(u,i,s)),ev(null,i,s),n.join("")}function rx(r){return Math.round(Date.now()/1e3)+r}function ix(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},rg=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function sx(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,f)=>{n[f]=u})}catch{}return i.searchParams.forEach((s,u)=>{n[u]=s}),n}const ig=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),lx=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Js=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},qi=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},sn=async(r,n)=>{await r.removeItem(n)};class kc{constructor(){this.promise=new kc.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}kc.promiseConstructor=Promise;function ec(r){const n=r.split(".");if(n.length!==3)throw new nh("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!Iw.test(n[s]))throw new nh("JWT not in base64url format");return{header:JSON.parse(tv(n[0])),payload:JSON.parse(tv(n[1])),signature:Fs(n[2]),raw:{header:n[0],payload:n[1]}}}async function ox(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function ux(r,n){return new Promise((s,u)=>{(async()=>{for(let f=0;f<1/0;f++)try{const m=await r(f);if(!n(f,null,m)){s(m);return}}catch(m){if(!n(f,m)){u(m);return}}})()})}function cx(r){return("0"+r.toString(16)).substr(-2)}function fx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let u="";for(let f=0;f<56;f++)u+=i.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(n),Array.from(n,cx).join("")}async function dx(r){const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(s);return Array.from(u).map(f=>String.fromCharCode(f)).join("")}async function hx(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await dx(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(r,n,i=!1){const s=fx();let u=s;i&&(u+="/PASSWORD_RECOVERY"),await Js(r,`${n}-code-verifier`,u);const f=await hx(s);return[f,s===f?"plain":"s256"]}const mx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function px(r){const n=r.headers.get(eh);if(!n||!n.match(mx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function yx(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function vx(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gs(r){if(!gx.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hd(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bx(r,n){return new Proxy(r,{get:(i,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const f=s.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,u)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,u)}})}function nv(r){return JSON.parse(JSON.stringify(r))}const Hi=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),_x=[502,503,504];async function av(r){var n;if(!lx(r))throw new th(Hi(r),0);if(_x.includes(r.status))throw new th(Hi(r),r.status);let i;try{i=await r.json()}catch(f){throw new Ki(Hi(f),f)}let s;const u=px(r);if(u&&u.getTime()>=ng["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Zy(Hi(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new qn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((f,m)=>f&&typeof m=="string",!0))throw new Zy(Hi(i),r.status,i.weak_password.reasons);throw new Qw(Hi(i),r.status||500,s)}const wx=(r,n,i,s)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),i))};async function De(r,n,i,s){var u;const f=Object.assign({},s?.headers);f[eh]||(f[eh]=ng["2024-01-01"].name),s?.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const m=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(m.redirect_to=s.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",b=await xx(r,n,i+y,{headers:f,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(b):{data:Object.assign({},b),error:null}}async function xx(r,n,i,s,u,f){const m=wx(n,s,u,f);let y;try{y=await r(i,Object.assign({},m))}catch(b){throw console.error(b),new th(Hi(b),0)}if(y.ok||await av(y),s?.noResolveJson)return y;try{return await y.json()}catch(b){await av(b)}}function ca(r){var n;let i=null;jx(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=rx(r.expires_in)));const s=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:s},error:null}}function rv(r){const n=ca(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=r.weak_password),n}function ti(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function Sx(r){return{data:r,error:null}}function Ex(r){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:u,verification_type:f}=r,m=Sc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:i,hashed_token:s,redirect_to:u,verification_type:f},b=Object.assign({},m);return{data:{properties:y,user:b},error:null}}function iv(r){return r}function jx(r){return r.access_token&&r.refresh_token&&r.expires_in}const $d=["global","local","others"];class kx{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=ig(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=$d[0]){if($d.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$d.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ti})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=Sc(n,["options"]),u=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Ex,redirectTo:i?.redirectTo})}catch(i){if(Oe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ti})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,u,f,m,y,b;try{const w={nextPage:null,lastPage:0,total:0},S=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(f=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:iv});if(S.error)throw S.error;const j=await S.json(),A=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,N=(b=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&b!==void 0?b:[];return N.length>0&&(N.forEach(P=>{const J=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(P.split(";")[1].split("=")[1]);w[`${F}Page`]=J}),w.total=parseInt(A)),{data:Object.assign(Object.assign({},j),w),error:null}}catch(w){if(Oe(w))return{data:{users:[]},error:w};throw w}}async getUserById(n){Gs(n);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ti})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Gs(n);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ti})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){Gs(n);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ti})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){Gs(n.userId);try{const{data:i,error:s}=await De(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:s}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Gs(n.userId),Gs(n.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,u,f,m,y,b;try{const w={nextPage:null,lastPage:0,total:0},S=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(f=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&f!==void 0?f:""},xform:iv});if(S.error)throw S.error;const j=await S.json(),A=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,N=(b=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&b!==void 0?b:[];return N.length>0&&(N.forEach(P=>{const J=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(P.split(";")[1].split("=")[1]);w[`${F}Page`]=J}),w.total=parseInt(A)),{data:Object.assign(Object.assign({},j),w),error:null}}catch(w){if(Oe(w))return{data:{clients:[]},error:w};throw w}}async _createOAuthClient(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}function sv(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Ys={debug:!!(globalThis&&rg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Tx extends sg{}async function Ox(r,n,i){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Tx(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ys.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Ax(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Nx(r){return parseInt(r,16)}function Rx(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function Cx(r){var n;const{chainId:i,domain:s,expirationTime:u,issuedAt:f=new Date,nonce:m,notBefore:y,requestId:b,resources:w,scheme:S,uri:j,version:A}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const N=lg(r.address),P=S?`${S}://${s}`:s,J=r.statement?`${r.statement}
`:"",F=`${P} wants you to sign in with your Ethereum account:
${N}

${J}`;let le=`URI: ${j}
Version: ${A}
Chain ID: ${i}${m?`
Nonce: ${m}`:""}
Issued At: ${f.toISOString()}`;if(u&&(le+=`
Expiration Time: ${u.toISOString()}`),y&&(le+=`
Not Before: ${y.toISOString()}`),b&&(le+=`
Request ID: ${b}`),w){let ae=`
Resources:`;for(const re of w){if(!re||typeof re!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${re}`);ae+=`
- ${re}`}le+=ae}return`${F}
${le}`}class Gt extends Error{constructor({message:n,code:i,cause:s,name:u}){var f;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(f=u??(s instanceof Error?s.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=i}}class yc extends Gt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function Dx({error:r,options:n}){var i,s,u;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=f.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((s=f.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=f.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Gt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return f.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const m=window.location.hostname;if(og(m)){if(f.rp.id!==m)return new Gt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Mx({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Gt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(og(s)){if(i.rpId!==s)return new Gt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Ux{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const zx=new Ux;function Lx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:s}=r,u=Sc(r,["challenge","user","excludeCredentials"]),f=Fs(n).buffer,m=Object.assign(Object.assign({},i),{id:Fs(i.id).buffer}),y=Object.assign(Object.assign({},u),{challenge:f,user:m});if(s&&s.length>0){y.excludeCredentials=new Array(s.length);for(let b=0;b<s.length;b++){const w=s[b];y.excludeCredentials[b]=Object.assign(Object.assign({},w),{id:Fs(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return y}function Bx(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,s=Sc(r,["challenge","allowCredentials"]),u=Fs(n).buffer,f=Object.assign(Object.assign({},s),{challenge:u});if(i&&i.length>0){f.allowCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const y=i[m];f.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Fs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function qx(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Gi(new Uint8Array(r.response.attestationObject)),clientDataJSON:Gi(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Hx(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,s=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Gi(new Uint8Array(u.authenticatorData)),clientDataJSON:Gi(new Uint8Array(u.clientDataJSON)),signature:Gi(new Uint8Array(u.signature)),userHandle:u.userHandle?Gi(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function og(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function lv(){var r,n;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function $x(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",n)}:{data:null,error:new yc("Empty credential response",n)}}catch(n){return{data:null,error:Dx({error:n,options:r})}}}async function Px(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",n)}:{data:null,error:new yc("Empty credential response",n)}}catch(n){return{data:null,error:Mx({error:n,options:r})}}}const Kx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Gx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vc(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of r)if(u)for(const f in u){const m=u[f];if(m!==void 0)if(Array.isArray(m))s[f]=m;else if(i(m))s[f]=m;else if(n(m)){const y=s[f];n(y)?s[f]=vc(y,m):s[f]=vc(m)}else s[f]=m}return s}function Yx(r,n){return vc(Kx,r,n||{})}function Vx(r,n){return vc(Gx,r,n||{})}class Ix{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:u},f){var m;try{const{data:y,error:b}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!y)return{data:null,error:b};const w=u??zx.createNewAbortSignal();if(y.webauthn.type==="create"){const{user:S}=y.webauthn.credential_options.publicKey;if(!S.name){const j=s;if(j)S.name=`${S.id}:${j}`;else{const N=(await this.client.getUser()).data.user,P=((m=N?.user_metadata)===null||m===void 0?void 0:m.name)||N?.email||N?.id||"User";S.name=`${S.id}:${P}`}}S.displayName||(S.displayName=S.name)}switch(y.webauthn.type){case"create":{const S=Yx(y.webauthn.credential_options.publicKey,f?.create),{data:j,error:A}=await $x({publicKey:S,signal:w});return j?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:j}},error:null}:{data:null,error:A}}case"request":{const S=Vx(y.webauthn.credential_options.publicKey,f?.request),{data:j,error:A}=await Px(Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:S,signal:w}));return j?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:j}},error:null}:{data:null,error:A}}}}catch(y){return Oe(y)?{data:null,error:y}:{data:null,error:new Ki("Unexpected error in challenge",y)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},f){if(!i)return{data:null,error:new So("rpId is required for WebAuthn authentication")};try{if(!lv())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:u},{request:f});if(!m)return{data:null,error:y};const{webauthn:b}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:b.type,rpId:i,rpOrigins:s,credential_response:b.credential_response}})}catch(m){return Oe(m)?{data:null,error:m}:{data:null,error:new Ki("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},f){if(!i)return{data:null,error:new So("rpId is required for WebAuthn registration")};try{if(!lv())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(S=>{var j;return(j=S.data)===null||j===void 0?void 0:j.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===n&&A.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:y};const{data:b,error:w}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:u},{create:f});return b?this._verify({factorId:m.id,challengeId:b.challengeId,webauthn:{rpId:i,rpOrigins:s,type:b.webauthn.type,credential_response:b.webauthn.credential_response}}):{data:null,error:w}}catch(m){return Oe(m)?{data:null,error:m}:{data:null,error:new Ki("Unexpected error in register",m)}}}}Ax();const Xx={url:Gw,storageKey:Yw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ov(r,n,i){return await i()}const Vs={};class Eo{get jwks(){var n,i;return(i=(n=Vs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Vs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Xx),n);if(this.storageKey=f.storageKey,this.instanceID=(i=Eo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Eo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&on()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new kx({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=ig(f.fetch),this.lock=f.lock||ov,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&on()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Ox:this.lock=ov,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ix(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:rg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sv(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m);try{await this._notifyAllSubscribers(m.data.event,m.data.session,!1)}catch(y){this._debug("#broadcastChannel","error",y)}})}this.initialize().catch(m=>{this._debug("#initialize()","error",m)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(on()&&(i=sx(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),on()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:f}=await this._getSessionFromURL(i,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Ww(f)){const b=(n=f.details)===null||n===void 0?void 0:n.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Oe(i)?this._returnResult({error:i}):this._returnResult({error:new Ki("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,u;try{const f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ca}),{data:m,error:y}=f;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const b=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:w,session:b},error:null})}catch(f){if(Oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var i,s,u;try{let f;if("email"in n){const{email:S,password:j,options:A}=n;let N=null,P=null;this.flowType==="pkce"&&([N,P]=await Ks(this.storage,this.storageKey)),f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:S,password:j,data:(i=A?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:N,code_challenge_method:P},xform:ca})}else if("phone"in n){const{phone:S,password:j,options:A}=n;f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:j,data:(s=A?.data)!==null&&s!==void 0?s:{},channel:(u=A?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:ca})}else throw new Zu("You must provide either an email or phone number and a password");const{data:m,error:y}=f;if(y||!m)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const b=m.session,w=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",b)),this._returnResult({data:{user:w,session:b},error:null})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let i;if("email"in n){const{email:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:rv})}else if("phone"in n){const{phone:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:rv})}else throw new Zu("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const f=new Ps;return this._returnResult({data:{user:null,session:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,u,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,u,f,m,y,b,w,S,j,A;let N,P;if("message"in n)N=n.message,P=n.signature;else{const{chain:J,wallet:F,statement:le,options:ae}=n;let re;if(on())if(typeof F=="object")re=F;else{const ut=window;if("ethereum"in ut&&typeof ut.ethereum=="object"&&"request"in ut.ethereum&&typeof ut.ethereum.request=="function")re=ut.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!ae?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");re=F}const _e=new URL((i=ae?.url)!==null&&i!==void 0?i:window.location.href),ze=await re.request({method:"eth_requestAccounts"}).then(ut=>ut).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ze||ze.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Te=lg(ze[0]);let pe=(s=ae?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!pe){const ut=await re.request({method:"eth_chainId"});pe=Nx(ut)}const nt={domain:_e.host,address:Te,statement:le,uri:_e.href,version:"1",chainId:pe,nonce:(u=ae?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(m=(f=ae?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=ae?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(b=ae?.signInWithEthereum)===null||b===void 0?void 0:b.notBefore,requestId:(w=ae?.signInWithEthereum)===null||w===void 0?void 0:w.requestId,resources:(S=ae?.signInWithEthereum)===null||S===void 0?void 0:S.resources};N=Cx(nt),P=await re.request({method:"personal_sign",params:[Rx(N),Te]})}try{const{data:J,error:F}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:P},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ca});if(F)throw F;if(!J||!J.session||!J.user){const le=new Ps;return this._returnResult({data:{user:null,session:null},error:le})}return J.session&&(await this._saveSession(J.session),await this._notifyAllSubscribers("SIGNED_IN",J.session)),this._returnResult({data:Object.assign({},J),error:F})}catch(J){if(Oe(J))return this._returnResult({data:{user:null,session:null},error:J});throw J}}async signInWithSolana(n){var i,s,u,f,m,y,b,w,S,j,A,N;let P,J;if("message"in n)P=n.message,J=n.signature;else{const{chain:F,wallet:le,statement:ae,options:re}=n;let _e;if(on())if(typeof le=="object")_e=le;else{const Te=window;if("solana"in Te&&typeof Te.solana=="object"&&("signIn"in Te.solana&&typeof Te.solana.signIn=="function"||"signMessage"in Te.solana&&typeof Te.solana.signMessage=="function"))_e=Te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof le!="object"||!re?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_e=le}const ze=new URL((i=re?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in _e&&_e.signIn){const Te=await _e.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},re?.signInWithSolana),{version:"1",domain:ze.host,uri:ze.href}),ae?{statement:ae}:null));let pe;if(Array.isArray(Te)&&Te[0]&&typeof Te[0]=="object")pe=Te[0];else if(Te&&typeof Te=="object"&&"signedMessage"in Te&&"signature"in Te)pe=Te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in pe&&"signature"in pe&&(typeof pe.signedMessage=="string"||pe.signedMessage instanceof Uint8Array)&&pe.signature instanceof Uint8Array)P=typeof pe.signedMessage=="string"?pe.signedMessage:new TextDecoder().decode(pe.signedMessage),J=pe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _e)||typeof _e.signMessage!="function"||!("publicKey"in _e)||typeof _e!="object"||!_e.publicKey||!("toBase58"in _e.publicKey)||typeof _e.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${ze.host} wants you to sign in with your Solana account:`,_e.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${ze.href}`,`Issued At: ${(u=(s=re?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((f=re?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${re.signInWithSolana.notBefore}`]:[],...!((m=re?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${re.signInWithSolana.expirationTime}`]:[],...!((y=re?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${re.signInWithSolana.chainId}`]:[],...!((b=re?.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${re.signInWithSolana.nonce}`]:[],...!((w=re?.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${re.signInWithSolana.requestId}`]:[],...!((j=(S=re?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||j===void 0)&&j.length?["Resources",...re.signInWithSolana.resources.map(pe=>`- ${pe}`)]:[]].join(`
`);const Te=await _e.signMessage(new TextEncoder().encode(P),"utf8");if(!Te||!(Te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");J=Te}}try{const{data:F,error:le}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Gi(J)},!((A=n.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ca});if(le)throw le;if(!F||!F.session||!F.user){const ae=new Ps;return this._returnResult({data:{user:null,session:null},error:ae})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:le})}catch(F){if(Oe(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async _exchangeCodeForSession(n){const i=await qi(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Zw;const{data:f,error:m}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:ca});if(await sn(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!f||!f.session||!f.user){const y=new Ps;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:u??null}),error:m})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:i,provider:s,token:u,access_token:f,nonce:m}=n,y=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:f,nonce:m,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ca}),{data:b,error:w}=y;if(w)return this._returnResult({data:{user:null,session:null},error:w});if(!b||!b.session||!b.user){const S=new Ps;return this._returnResult({data:{user:null,session:null},error:S})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:b,error:w})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,u,f,m;try{if("email"in n){const{email:y,options:b}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Ks(this.storage,this.storageKey));const{error:j}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=b?.data)!==null&&i!==void 0?i:{},create_user:(s=b?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:w,code_challenge_method:S},redirectTo:b?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in n){const{phone:y,options:b}=n,{data:w,error:S}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=b?.data)!==null&&u!==void 0?u:{},create_user:(f=b?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:b?.captchaToken},channel:(m=b?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:w?.message_id},error:S})}throw new Zu("You must provide either an email or phone number.")}catch(y){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var i,s;try{let u,f;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,f=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:m,error:y}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:u,xform:ca});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const b=m.session,w=m.user;return b?.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),this._returnResult({data:{user:w,session:b},error:null})}catch(u){if(Oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,s,u,f,m;try{let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Ks(this.storage,this.storageKey));const w=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:b}),headers:this.headers,xform:Sx});return!((f=w.data)===null||f===void 0)&&f.url&&on()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(w.data.url),this._returnResult(w)}catch(y){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new qn;const{error:u}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:u,options:f}=n,{error:m}=await De(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:s,type:u,options:f}=n,{data:m,error:y}=await De(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Zu("You must provide either an email or phone number and a type")}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<Ld:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const m=await qi(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Hd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=bx(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ti}):await this._useSession(async i=>{var s,u,f;const{data:m,error:y}=i;if(y)throw y;return!(!((s=m.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0,xform:ti})})}catch(i){if(Oe(i))return Bd(i)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:u,error:f}=s;if(f)throw f;if(!u.session)throw new qn;const m=u.session;let y=null,b=null;this.flowType==="pkce"&&n.email!=null&&([y,b]=await Ks(this.storage,this.storageKey));const{data:w,error:S}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:b}),jwt:m.access_token,xform:ti});if(S)throw S;return m.user=w.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(s){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qn;const i=Date.now()/1e3;let s=i,u=!0,f=null;const{payload:m}=ec(n.access_token);if(m.exp&&(s=m.exp,u=s<=i),u){const{data:y,error:b}=await this._callRefreshToken(n.refresh_token);if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!y)return{data:{user:null,session:null},error:null};f=y}else{const{data:y,error:b}=await this._getUser(n.access_token);if(b)return this._returnResult({data:{user:null,session:null},error:b});f={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(i){if(Oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:m,error:y}=i;if(y)throw y;n=(s=m.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new qn;const{data:u,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!on())throw new Fu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Fu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Wy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Wy("No code detected.");const{data:ae,error:re}=await this._exchangeCodeForSession(n.code);if(re)throw re;const _e=new URL(window.location.href);return _e.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_e.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:f,refresh_token:m,expires_in:y,expires_at:b,token_type:w}=n;if(!f||!y||!m||!w)throw new Fu("No session defined in URL");const S=Math.round(Date.now()/1e3),j=parseInt(y);let A=S+j;b&&(A=parseInt(b));const N=A-S;N*1e3<=Qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${j}s`);const P=A-j;S-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,A,S):S-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,A,S);const{data:J,error:F}=await this._getUser(f);if(F)throw F;const le={provider_token:s,provider_refresh_token:u,access_token:f,expires_in:j,expires_at:A,refresh_token:m,token_type:w,user:J.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:le,redirectType:n.type},error:null})}catch(s){if(Oe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:u,error:f}=i;if(f&&!Bd(f))return this._returnResult({error:f});const m=(s=u.session)===null||s===void 0?void 0:s.access_token;if(m){const{error:y}=await this.admin.signOut(m,n);if(y&&!(Jw(y)&&(y.status===404||y.status===401||y.status===403)||Bd(y)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=ix(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,u;try{const{data:{session:f},error:m}=i;if(m)throw m;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,i={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ks(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(f){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:u}=await this._useSession(async f=>{var m,y,b,w,S;const{data:j,error:A}=f;if(A)throw A;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(b=n.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",N,{headers:this.headers,jwt:(S=(w=j.session)===null||w===void 0?void 0:w.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return on()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(Oe(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:u,data:{session:f}}=i;if(u)throw u;const{options:m,provider:y,token:b,access_token:w,nonce:S}=n,j=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=f?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:y,id_token:b,access_token:w,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:ca}),{data:A,error:N}=j;return N?this._returnResult({data:{user:null,session:null},error:N}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new Ps}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:N}))}catch(u){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,u;const{data:f,error:m}=i;if(m)throw m;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await ux(async u=>(u>0&&await ox(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ca})),(u,f)=>{const m=200*Math.pow(2,u);return f&&qd(f)&&Date.now()+m-s<Qs})}catch(s){if(this._debug(i,"error",s),Oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),on()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await qi(this.storage,this.storageKey);if(u&&this.userStorage){let m=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},await Js(this.userStorage,this.storageKey+"-user",m)),u.user=(n=m?.user)!==null&&n!==void 0?n:Hd()}else if(u&&!u.user&&!u.user){const m=await qi(this.storage,this.storageKey+"-user");m&&m?.user?(u.user=m.user,await sn(this.storage,this.storageKey+"-user"),await Js(this.storage,this.storageKey,u)):u.user=Hd()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const f=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ld;if(this._debug(s,`session has${f?"":" not"} expired with margin of ${Ld}s`),f){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=await this._callRefreshToken(u.refresh_token);m&&(console.error(m),qd(m)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(u.access_token);!y&&m?.user?(u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(s,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new kc;const{data:f,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!f.session)throw new qn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const y={data:f.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(f){if(this._debug(u,"error",f),Oe(f)){const m={data:null,error:f};return qd(f)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(m),m}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,s=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const f=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,i)}catch(b){f.push(b)}});if(await Promise.all(m),f.length>0){for(let y=0;y<f.length;y+=1)console.error(f[y]);throw f[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Js(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const f=nv(u);await Js(this.storage,this.storageKey,f)}else{const u=nv(i);await Js(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&on()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Qs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-n)/Qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Qs}ms, refresh threshold is ${Fd} ticks`),u<=Fd&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof sg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const u=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,m]=await Ks(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(s?.queryParams){const f=new URLSearchParams(s.queryParams);u.push(f.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:u,error:f}=i;return f?this._returnResult({data:null,error:f}):await De(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,u;const{data:f,error:m}=i;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:b,error:w}=await De(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(s=f?.session)===null||s===void 0?void 0:s.access_token});return w?this._returnResult({data:null,error:w}):(n.factorType==="totp"&&b.type==="totp"&&(!((u=b?.totp)===null||u===void 0)&&u.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),this._returnResult({data:b,error:null}))})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?qx(n.webauthn.credential_response):Hx(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:b}=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return b?this._returnResult({data:null,error:b}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:b}))})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:Lx(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:Bx(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(f),f.status==="verified"&&u[f.factor_type].push(f);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,s,u,f;if(n)try{const{payload:N}=ec(n);let P=null;N.aal&&(P=N.aal);let J=P;const{data:{user:F},error:le}=await this.getUser(n);if(le)return this._returnResult({data:null,error:le});((s=(i=F?.factors)===null||i===void 0?void 0:i.filter(_e=>_e.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(J="aal2");const re=N.amr||[];return{data:{currentLevel:P,nextLevel:J,currentAuthenticationMethods:re},error:null}}catch(N){if(Oe(N))return this._returnResult({data:null,error:N});throw N}const{data:{session:m},error:y}=await this.getSession();if(y)return this._returnResult({data:null,error:y});if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:b}=ec(m.access_token);let w=null;b.aal&&(w=b.aal);let S=w;((f=(u=m.user.factors)===null||u===void 0?void 0:u.filter(N=>N.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(S="aal2");const A=b.amr||[];return{data:{currentLevel:w,nextLevel:S,currentAuthenticationMethods:A},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:u}=i;return u?this._returnResult({data:null,error:u}):s?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new qn})})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:u},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!u)return this._returnResult({data:null,error:new qn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&on()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(s){if(Oe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:u},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!u)return this._returnResult({data:null,error:new qn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&on()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(s){if(Oe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new qn})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:u}=i;return u?this._returnResult({data:null,error:u}):s?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qn})})}catch(i){if(Oe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(y=>y.kid===n);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(y=>y.kid===n),s&&this.jwks_cached_at+Xw>u)return s;const{data:f,error:m}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=u,s=f.keys.find(y=>y.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:N,error:P}=await this.getSession();if(P||!N.session)return this._returnResult({data:null,error:P});s=N.session.access_token}const{header:u,payload:f,signature:m,raw:{header:y,payload:b}}=ec(s);i?.allowExpired||yx(f.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!w){const{error:N}=await this.getUser(s);if(N)throw N;return{data:{claims:f,header:u,signature:m},error:null}}const S=vx(u.alg),j=await crypto.subtle.importKey("jwk",w,S,!0,["verify"]);if(!await crypto.subtle.verify(S,j,m,ax(`${y}.${b}`)))throw new nh("Invalid JWT signature");return{data:{claims:f,header:u,signature:m},error:null}}catch(s){if(Oe(s))return this._returnResult({data:null,error:s});throw s}}}Eo.nextInstanceID={};const Qx=Eo,Jx="2.95.3";let po="";typeof Deno<"u"?po="deno":typeof document<"u"?po="web":typeof navigator<"u"&&navigator.product==="ReactNative"?po="react-native":po="node";const Wx={"X-Client-Info":`supabase-js-${po}/${Jx}`},Zx={headers:Wx},Fx={schema:"public"},e1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t1={};function jo(r){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jo(r)}function n1(r,n){if(jo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(jo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function a1(r){var n=n1(r,"string");return jo(n)=="symbol"?n:n+""}function r1(r,n,i){return(n=a1(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function uv(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function Rt(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?uv(Object(i),!0).forEach(function(s){r1(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):uv(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const i1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),s1=()=>Headers,l1=(r,n,i)=>{const s=i1(i),u=s1();return async(f,m)=>{var y;const b=(y=await n())!==null&&y!==void 0?y:r;let w=new u(m?.headers);return w.has("apikey")||w.set("apikey",r),w.has("Authorization")||w.set("Authorization",`Bearer ${b}`),s(f,Rt(Rt({},m),{},{headers:w}))}};function o1(r){return r.endsWith("/")?r:r+"/"}function u1(r,n){var i,s;const{db:u,auth:f,realtime:m,global:y}=r,{db:b,auth:w,realtime:S,global:j}=n,A={db:Rt(Rt({},b),u),auth:Rt(Rt({},w),f),realtime:Rt(Rt({},S),m),storage:{},global:Rt(Rt(Rt({},j),y),{},{headers:Rt(Rt({},(i=j?.headers)!==null&&i!==void 0?i:{}),(s=y?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?A.accessToken=r.accessToken:delete A.accessToken,A}function c1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f1=class extends Qx{constructor(r){super(r)}},d1=class{constructor(r,n,i){var s,u;this.supabaseUrl=r,this.supabaseKey=n;const f=c1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:Fx,realtime:t1,auth:Rt(Rt({},e1),{},{storageKey:m}),global:Zx},b=u1(i??{},y);if(this.storageKey=(s=b.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken)this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(S,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var w;this.auth=this._initSupabaseAuthClient((w=b.auth)!==null&&w!==void 0?w:{},this.headers,b.global.fetch)}this.fetch=l1(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new J_(new URL("rest/v1",f).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch,timeout:b.db.timeout,urlLengthLimit:b.db.urlLengthLimit}),this.storage=new Kw(this.storageUrl.href,this.headers,this.fetch,i?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new P_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:u,storageKey:f,flowType:m,lock:y,debug:b,throwOnError:w},S,j){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f1({url:this.authUrl.href,headers:Rt(Rt({},A),S),storageKey:f,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:u,flowType:m,lock:y,debug:b,throwOnError:w,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new hw(this.realtimeUrl.href,Rt(Rt({},r),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h1=(r,n,i)=>new d1(r,n,i);function m1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}m1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p1="https://uzkgrywvntdvfznbzydv.supabase.co",y1="sb_publishable_WSUDdU7NLCftdEhrKiFPqQ_9JrD0djr",Lt=h1(p1,y1);var hc={exports:{}},v1=hc.exports,cv;function g1(){return cv||(cv=1,(function(r,n){((i,s)=>{r.exports=s()})(v1,function(){var i=function(o,h){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(p,g){p.__proto__=g}:function(p,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(p[x]=g[x])}))(o,h)},s=function(){return(s=Object.assign||function(o){for(var h,p=1,g=arguments.length;p<g;p++)for(var x in h=arguments[p])Object.prototype.hasOwnProperty.call(h,x)&&(o[x]=h[x]);return o}).apply(this,arguments)};function u(o,h,p){for(var g,x=0,E=h.length;x<E;x++)!g&&x in h||((g=g||Array.prototype.slice.call(h,0,x))[x]=h[x]);return o.concat(g||Array.prototype.slice.call(h))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Ib,m=Object.keys,y=Array.isArray;function b(o,h){return typeof h=="object"&&m(h).forEach(function(p){o[p]=h[p]}),o}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var w=Object.getPrototypeOf,S={}.hasOwnProperty;function j(o,h){return S.call(o,h)}function A(o,h){typeof h=="function"&&(h=h(w(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(h).forEach(function(p){P(o,p,h[p])})}var N=Object.defineProperty;function P(o,h,p,g){N(o,h,b(p&&j(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},g))}function J(o){return{from:function(h){return o.prototype=Object.create(h.prototype),P(o.prototype,"constructor",o),{extend:A.bind(null,o.prototype)}}}}var F=Object.getOwnPropertyDescriptor,le=[].slice;function ae(o,h,p){return le.call(o,h,p)}function re(o,h){return h(o)}function _e(o){if(!o)throw new Error("Assertion Failed")}function ze(o){f.setImmediate?setImmediate(o):setTimeout(o,0)}function Te(o,h){if(typeof h=="string"&&j(o,h))return o[h];if(!h)return o;if(typeof h!="string"){for(var p=[],g=0,x=h.length;g<x;++g){var E=Te(o,h[g]);p.push(E)}return p}var T,O=h.indexOf(".");return O===-1||(T=o[h.substr(0,O)])==null?void 0:Te(T,h.substr(O+1))}function pe(o,h,p){if(o&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof h!="string"&&"length"in h){_e(typeof p!="string"&&"length"in p);for(var g=0,x=h.length;g<x;++g)pe(o,h[g],p[g])}else{var E,T,O=h.indexOf(".");O!==-1?(E=h.substr(0,O),(O=h.substr(O+1))===""?p===void 0?y(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=p:pe(T=(T=o[E])&&j(o,E)?T:o[E]={},O,p)):p===void 0?y(o)&&!isNaN(parseInt(h))?o.splice(h,1):delete o[h]:o[h]=p}}function nt(o){var h,p={};for(h in o)j(o,h)&&(p[h]=o[h]);return p}var ut=[].concat;function yn(o){return ut.apply([],o)}var ie="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(yn([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(h){return h+o+"Array"})}))).filter(function(o){return f[o]}),An=new Set(ie.map(function(o){return f[o]})),Bt=null;function vn(o){return Bt=new WeakMap,o=(function h(p){if(!p||typeof p!="object")return p;var g=Bt.get(p);if(g)return g;if(y(p)){g=[],Bt.set(p,g);for(var x=0,E=p.length;x<E;++x)g.push(h(p[x]))}else if(An.has(p.constructor))g=p;else{var T,O=w(p);for(T in g=O===Object.prototype?{}:Object.create(O),Bt.set(p,g),p)j(p,T)&&(g[T]=h(p[T]))}return g})(o),Bt=null,o}var na={}.toString;function gn(o){return na.call(o).slice(8,-1)}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ve=typeof ee=="symbol"?function(o){var h;return o!=null&&(h=o[ee])&&h.apply(o)}:function(){return null};function Ae(o,h){h=o.indexOf(h),0<=h&&o.splice(h,1)}var Fe={};function Ie(o){var h,p,g,x;if(arguments.length===1){if(y(o))return o.slice();if(this===Fe&&typeof o=="string")return[o];if(x=ve(o))for(p=[];!(g=x.next()).done;)p.push(g.value);else{if(o==null)return[o];if(typeof(h=o.length)!="number")return[o];for(p=new Array(h);h--;)p[h]=o[h]}}else for(h=arguments.length,p=new Array(h);h--;)p[h]=arguments[h];return p}var H=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ie=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],cn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ie),ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Se(o,h){this.name=o,this.message=h}function qe(o,h){return o+". Errors: "+Object.keys(h).map(function(p){return h[p].toString()}).filter(function(p,g,x){return x.indexOf(p)===g}).join(`
`)}function Pe(o,h,p,g){this.failures=h,this.failedKeys=g,this.successCount=p,this.message=qe(o,h)}function Xe(o,h){this.name="BulkError",this.failures=Object.keys(h).map(function(p){return h[p]}),this.failuresByPos=h,this.message=qe(o,this.failures)}J(Se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),J(Pe).from(Se),J(Xe).from(Se);var Yt=cn.reduce(function(o,h){return o[h]=h+"Error",o},{}),Ot=Se,ke=cn.reduce(function(o,h){var p=h+"Error";function g(x,E){this.name=p,x?typeof x=="string"?(this.message="".concat(x).concat(E?`
 `+E:""),this.inner=E||null):typeof x=="object"&&(this.message="".concat(x.name," ").concat(x.message),this.inner=x):(this.message=ge[h]||p,this.inner=null)}return J(g).from(Ot),o[h]=g,o},{}),ni=(ke.Syntax=SyntaxError,ke.Type=TypeError,ke.Range=RangeError,ie.reduce(function(o,h){return o[h+"Error"]=ke[h],o},{}));ie=cn.reduce(function(o,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(o[h+"Error"]=ke[h]),o},{});function at(){}function pr(o){return o}function Da(o,h){return o==null||o===pr?h:function(p){return h(o(p))}}function aa(o,h){return function(){o.apply(this,arguments),h.apply(this,arguments)}}function il(o,h){return o===at?h:function(){var p=o.apply(this,arguments),g=(p!==void 0&&(arguments[0]=p),this.onsuccess),x=this.onerror,E=(this.onsuccess=null,this.onerror=null,h.apply(this,arguments));return g&&(this.onsuccess=this.onsuccess?aa(g,this.onsuccess):g),x&&(this.onerror=this.onerror?aa(x,this.onerror):x),E!==void 0?E:p}}function Nc(o,h){return o===at?h:function(){o.apply(this,arguments);var p=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?aa(p,this.onsuccess):p),g&&(this.onerror=this.onerror?aa(g,this.onerror):g)}}function Co(o,h){return o===at?h:function(x){var g=o.apply(this,arguments),x=(b(x,g),this.onsuccess),E=this.onerror,T=(this.onsuccess=null,this.onerror=null,h.apply(this,arguments));return x&&(this.onsuccess=this.onsuccess?aa(x,this.onsuccess):x),E&&(this.onerror=this.onerror?aa(E,this.onerror):E),g===void 0?T===void 0?void 0:T:b(g,T)}}function sl(o,h){return o===at?h:function(){return h.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ai(o,h){return o===at?h:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var g=this,x=arguments.length,E=new Array(x);x--;)E[x]=arguments[x];return p.then(function(){return h.apply(g,E)})}return h.apply(this,arguments)}}ie.ModifyError=Pe,ie.DexieError=Se,ie.BulkError=Xe;var xn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Do(o){xn=o}var ri={},un=100,ii=typeof Promise>"u"?[]:(cn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[ii=crypto.subtle.digest("SHA-512",new Uint8Array([0])),w(ii),cn]:[cn,w(cn),cn]),cn=ii[0],Ia=ii[1],Ia=Ia&&Ia.then,ma=cn&&cn.constructor,yr=!!ii[2],si=function(o,h){li.push([o,h]),Xi&&(queueMicrotask(Mo),Xi=!1)},Ii=!0,Xi=!0,Ma=[],pa=[],Zt=pr,Ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:at,pgp:!1,env:{},finalize:at},be=Ft,li=[],Ua=0,Qi=[];function me(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=be;if(typeof o!="function"){if(o!==ri)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ra(this,this._value)}else this._state=null,this._value=null,++h.ref,(function p(g,x){try{x(function(E){if(g._state===null){if(E===g)throw new TypeError("A promise cannot be resolved with itself.");var T=g._lib&&ya();E&&typeof E.then=="function"?p(g,function(O,D){E instanceof me?E._then(O,D):E.then(O,D)}):(g._state=!0,g._value=E,ui(g)),T&&Pn()}},ra.bind(null,g))}catch(E){ra(g,E)}})(this,o)}var vr={get:function(){var o=be,h=di;function p(g,x){var E=this,T=!o.global&&(o!==be||h!==di),O=T&&!bn(),D=new me(function(G,M){za(E,new oi(Ji(g,o,T,O),Ji(x,o,T,O),G,M,o))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return p.prototype=ri,p},set:function(o){P(this,"then",o&&o.prototype===ri?vr:{get:function(){return o},set:vr.set})}};function oi(o,h,p,g,x){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof h=="function"?h:null,this.resolve=p,this.reject=g,this.psd=x}function ra(o,h){var p,g;pa.push(h),o._state===null&&(p=o._lib&&ya(),h=Zt(h),o._state=!1,o._value=h,g=o,Ma.some(function(x){return x._value===g._value})||Ma.push(g),ui(o),p)&&Pn()}function ui(o){var h=o._listeners;o._listeners=[];for(var p=0,g=h.length;p<g;++p)za(o,h[p]);var x=o._PSD;--x.ref||x.finalize(),Ua===0&&(++Ua,si(function(){--Ua==0&&ll()},[]))}function za(o,h){if(o._state===null)o._listeners.push(h);else{var p=o._state?h.onFulfilled:h.onRejected;if(p===null)return(o._state?h.resolve:h.reject)(o._value);++h.psd.ref,++Ua,si(Rc,[p,o,h])}}function Rc(o,h,p){try{var g,x=h._value;!h._state&&pa.length&&(pa=[]),g=xn&&h._consoleTask?h._consoleTask.run(function(){return o(x)}):o(x),h._state||pa.indexOf(x)!==-1||(E=>{for(var T=Ma.length;T;)if(Ma[--T]._value===E._value)return Ma.splice(T,1)})(h),p.resolve(g)}catch(E){p.reject(E)}finally{--Ua==0&&ll(),--p.psd.ref||p.psd.finalize()}}function Mo(){Nn(Ft,function(){ya()&&Pn()})}function ya(){var o=Ii;return Xi=Ii=!1,o}function Pn(){var o,h,p;do for(;0<li.length;)for(o=li,li=[],p=o.length,h=0;h<p;++h){var g=o[h];g[0].apply(null,g[1])}while(0<li.length);Xi=Ii=!0}function ll(){for(var o=Ma,h=(Ma=[],o.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)}),Qi.slice(0)),p=h.length;p;)h[--p]()}function ci(o){return new me(ri,!1,o)}function gt(o,h){var p=be;return function(){var g=ya(),x=be;try{return ga(p,!0),o.apply(this,arguments)}catch(E){h&&h(E)}finally{ga(x,!1),g&&Pn()}}}A(me.prototype,{then:vr,_then:function(o,h){za(this,new oi(null,null,o,h,be))},catch:function(o){var h,p;return arguments.length===1?this.then(null,o):(h=o,p=arguments[1],typeof h=="function"?this.then(null,function(g){return(g instanceof h?p:ci)(g)}):this.then(null,function(g){return(g&&g.name===h?p:ci)(g)}))},finally:function(o){return this.then(function(h){return me.resolve(o()).then(function(){return h})},function(h){return me.resolve(o()).then(function(){return ci(h)})})},timeout:function(o,h){var p=this;return o<1/0?new me(function(g,x){var E=setTimeout(function(){return x(new ke.Timeout(h))},o);p.then(g,x).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(me.prototype,Symbol.toStringTag,"Dexie.Promise"),Ft.env=ul(),A(me,{all:function(){var o=Ie.apply(null,arguments).map(br);return new me(function(h,p){o.length===0&&h([]);var g=o.length;o.forEach(function(x,E){return me.resolve(x).then(function(T){o[E]=T,--g||h(o)},p)})})},resolve:function(o){return o instanceof me?o:o&&typeof o.then=="function"?new me(function(h,p){o.then(h,p)}):new me(ri,!0,o)},reject:ci,race:function(){var o=Ie.apply(null,arguments).map(br);return new me(function(h,p){o.map(function(g){return me.resolve(g).then(h,p)})})},PSD:{get:function(){return be},set:function(o){return be=o}},totalEchoes:{get:function(){return di}},newPSD:_t,usePSD:Nn,scheduler:{get:function(){return si},set:function(o){si=o}},rejectionMapper:{get:function(){return Zt},set:function(o){Zt=o}},follow:function(o,h){return new me(function(p,g){return _t(function(x,E){var T=be;T.unhandleds=[],T.onunhandled=E,T.finalize=aa(function(){var O,D=this;O=function(){D.unhandleds.length===0?x():E(D.unhandleds[0])},Qi.push(function G(){O(),Qi.splice(Qi.indexOf(G),1)}),++Ua,si(function(){--Ua==0&&ll()},[])},T.finalize),o()},h,p,g)})}}),ma&&(ma.allSettled&&P(me,"allSettled",function(){var o=Ie.apply(null,arguments).map(br);return new me(function(h){o.length===0&&h([]);var p=o.length,g=new Array(p);o.forEach(function(x,E){return me.resolve(x).then(function(T){return g[E]={status:"fulfilled",value:T}},function(T){return g[E]={status:"rejected",reason:T}}).then(function(){return--p||h(g)})})})}),ma.any&&typeof AggregateError<"u"&&P(me,"any",function(){var o=Ie.apply(null,arguments).map(br);return new me(function(h,p){o.length===0&&p(new AggregateError([]));var g=o.length,x=new Array(g);o.forEach(function(E,T){return me.resolve(E).then(function(O){return h(O)},function(O){x[T]=O,--g||p(new AggregateError(x))})})})}),ma.withResolvers)&&(me.withResolvers=ma.withResolvers);var Ct={awaits:0,echoes:0,id:0},ol=0,gr=[],fi=0,di=0,va=0;function _t(o,T,p,g){var x=be,E=Object.create(x),T=(E.parent=x,E.ref=0,E.global=!1,E.id=++va,Ft.env,E.env=yr?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},T&&b(E,T),++x.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},Nn(E,o,p,g));return E.ref===0&&E.finalize(),T}function Dt(){return Ct.id||(Ct.id=++ol),++Ct.awaits,Ct.echoes+=un,Ct.id}function bn(){return!!Ct.awaits&&(--Ct.awaits==0&&(Ct.id=0),Ct.echoes=Ct.awaits*un,!0)}function br(o){return Ct.echoes&&o&&o.constructor===ma?(Dt(),o.then(function(h){return bn(),h},function(h){return bn(),ht(h)})):o}function Cc(){var o=gr[gr.length-1];gr.pop(),ga(o,!1)}function ga(o,h){var p,g,x=be;(h?!Ct.echoes||fi++&&o===be:!fi||--fi&&o===be)||queueMicrotask(h?(function(E){++di,Ct.echoes&&--Ct.echoes!=0||(Ct.echoes=Ct.awaits=Ct.id=0),gr.push(be),ga(E,!0)}).bind(null,o):Cc),o!==be&&(be=o,x===Ft&&(Ft.env=ul()),yr)&&(p=Ft.env.Promise,g=o.env,x.global||o.global)&&(Object.defineProperty(f,"Promise",g.PromiseProp),p.all=g.all,p.race=g.race,p.resolve=g.resolve,p.reject=g.reject,g.allSettled&&(p.allSettled=g.allSettled),g.any)&&(p.any=g.any)}function ul(){var o=f.Promise;return yr?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Nn(o,h,p,g,x){var E=be;try{return ga(o,!0),h(p,g,x)}finally{ga(E,!1)}}function Ji(o,h,p,g){return typeof o!="function"?o:function(){var x=be;p&&Dt(),ga(h,!0);try{return o.apply(this,arguments)}finally{ga(x,!1),g&&queueMicrotask(bn)}}}function ba(o){Promise===ma&&Ct.echoes===0?fi===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ia).indexOf("[native code]")===-1&&(Dt=bn=at);var ht=me.reject,Rn="",fn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Mt="String expected.",La=[],hi="__dbnames",ia="readonly",_a="readwrite";function Ba(o,h){return o?h?function(){return o.apply(this,arguments)&&h.apply(this,arguments)}:o:h}var cl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mi(o){return typeof o!="string"||/\./.test(o)?function(h){return h}:function(h){return h[o]===void 0&&o in h&&delete(h=vn(h))[o],h}}function Uo(){throw ke.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ye(o,h){try{var p=pi(o),g=pi(h);if(p!==g)return p==="Array"?1:g==="Array"?-1:p==="binary"?1:g==="binary"?-1:p==="string"?1:g==="string"?-1:p==="Date"?1:g!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return h<o?1:o<h?-1:0;case"binary":for(var x=Kn(o),E=Kn(h),T=x.length,O=E.length,D=T<O?T:O,G=0;G<D;++G)if(x[G]!==E[G])return x[G]<E[G]?-1:1;return T===O?0:T<O?-1:1;case"Array":for(var M=o,C=h,L=M.length,q=C.length,U=L<q?L:q,z=0;z<U;++z){var V=Ye(M[z],C[z]);if(V!==0)return V}return L===q?0:L<q?-1:1}}catch{}return NaN}function pi(o){var h=typeof o;return h=="object"&&(ArrayBuffer.isView(o)||(h=gn(o))==="ArrayBuffer")?"binary":h}function Kn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function en(o,h,p){var g=o.schema.yProps;return g?(h&&0<p.numFailures&&(h=h.filter(function(x,E){return!p.failures[E]})),Promise.all(g.map(function(x){return x=x.updatesTable,h?o.db.table(x).where("k").anyOf(h).delete():o.db.table(x).clear()})).then(function(){return p})):p}zo.prototype.execute=function(o){var h=this["@@propmod"];if(h.add!==void 0){var p=h.add;if(y(p))return u(u([],y(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(h.remove!==void 0){var g=h.remove;if(y(g))return y(o)?o.filter(function(x){return!g.includes(x)}).sort():[];if(typeof g=="number")return Number(o)-g;if(typeof g=="bigint")try{return BigInt(o)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return p=(p=h.replacePrefix)==null?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?h.replacePrefix[1]+o.substring(p.length):o};var _r=zo;function zo(o){this["@@propmod"]=o}function Wi(o,h){for(var p=m(h),g=p.length,x=!1,E=0;E<g;++E){var T=p[E],O=h[T],D=Te(o,T);O instanceof _r?(pe(o,T,O.execute(D)),x=!0):D!==O&&(pe(o,T,O),x=!0)}return x}st.prototype._trans=function(o,h,p){var g=this._tx||be.trans,x=this.name,E=xn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function T(G,M,C){if(C.schema[x])return h(C.idbtrans,C);throw new ke.NotFound("Table "+x+" not part of transaction")}var O=ya();try{var D=g&&g.db._novip===this.db._novip?g===be.trans?g._promise(o,T,p):_t(function(){return g._promise(o,T,p)},{trans:g,transless:be.transless||be}):(function G(M,C,L,q){if(M.idbdb&&(M._state.openComplete||be.letThrough||M._vip)){var U=M._createTransaction(C,L,M._dbSchema);try{U.create(),M._state.PR1398_maxLoop=3}catch(z){return z.name===Yt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return G(M,C,L,q)})):ht(z)}return U._promise(C,function(z,V){return _t(function(){return be.trans=U,q(z,V,U)})}).then(function(z){if(C==="readwrite")try{U.idbtrans.commit()}catch{}return C==="readonly"?z:U._completion.then(function(){return z})})}if(M._state.openComplete)return ht(new ke.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return ht(new ke.DatabaseClosed);M.open().catch(at)}return M._state.dbReadyPromise.then(function(){return G(M,C,L,q)})})(this.db,o,[this.name],T);return E&&(D._consoleTask=E,D=D.catch(function(G){return console.trace(G),ht(G)})),D}finally{O&&Pn()}},st.prototype.get=function(o,h){var p=this;return o&&o.constructor===Object?this.where(o).first(h):o==null?ht(new ke.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return p.core.get({trans:g,key:o}).then(function(x){return p.hook.reading.fire(x)})}).then(h)},st.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(y(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var h=m(o);if(h.length===1)return this.where(h[0]).equals(o[h[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&h.every(function(G){return 0<=O.keyPath.indexOf(G)})){for(var D=0;D<h.length;++D)if(h.indexOf(O.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(O,D){return O.keyPath.length-D.keyPath.length})[0];if(p&&this.db._maxKey!==Rn)return T=p.keyPath.slice(0,h.length),this.where(T).equals(T.map(function(O){return o[O]}));!p&&xn&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var g=this.schema.idxByName;function x(O,D){return Ye(O,D)===0}var T=h.reduce(function(M,D){var G=M[0],M=M[1],C=g[D],L=o[D];return[G||C,G||!C?Ba(M,C&&C.multi?function(q){return q=Te(q,D),y(q)&&q.some(function(U){return x(L,U)})}:function(q){return x(L,Te(q,D))}):M]},[null,null]),E=T[0],T=T[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(T):p?this.filter(T):this.where(h).equals("")},st.prototype.filter=function(o){return this.toCollection().and(o)},st.prototype.count=function(o){return this.toCollection().count(o)},st.prototype.offset=function(o){return this.toCollection().offset(o)},st.prototype.limit=function(o){return this.toCollection().limit(o)},st.prototype.each=function(o){return this.toCollection().each(o)},st.prototype.toArray=function(o){return this.toCollection().toArray(o)},st.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},st.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,y(o)?"[".concat(o.join("+"),"]"):o))},st.prototype.reverse=function(){return this.toCollection().reverse()},st.prototype.mapToClass=function(o){for(var h=this.db,p=this.name,g=((this.schema.mappedClass=o).prototype instanceof Uo&&(o=(T=>{var O=M,D=T;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function G(){this.constructor=O}function M(){return T!==null&&T.apply(this,arguments)||this}return i(O,D),O.prototype=D===null?Object.create(D):(G.prototype=D.prototype,new G),Object.defineProperty(M.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),M.prototype.table=function(){return p},M})(o)),new Set),x=o.prototype;x;x=w(x))Object.getOwnPropertyNames(x).forEach(function(T){return g.add(T)});function E(T){if(!T)return T;var O,D=Object.create(o.prototype);for(O in T)if(!g.has(O))try{D[O]=T[O]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=E,this.hook("reading",E),o},st.prototype.defineClass=function(){return this.mapToClass(function(o){b(this,o)})},st.prototype.add=function(o,h){var p=this,g=this.schema.primKey,x=g.auto,E=g.keyPath,T=o;return E&&x&&(T=mi(E)(o)),this._trans("readwrite",function(O){return p.core.mutate({trans:O,type:"add",keys:h!=null?[h]:null,values:[T]})}).then(function(O){return O.numFailures?me.reject(O.failures[0]):O.lastResult}).then(function(O){if(E)try{pe(o,E,O)}catch{}return O})},st.prototype.upsert=function(o,h){var p=this,g=this.schema.primKey.keyPath;return this._trans("readwrite",function(x){return p.core.get({trans:x,key:o}).then(function(E){var T=E??{};return Wi(T,h),g&&pe(T,g,o),p.core.mutate({trans:x,type:"put",values:[T],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[h]}}).then(function(O){return O.numFailures?me.reject(O.failures[0]):!!E})})})},st.prototype.update=function(o,h){return typeof o!="object"||y(o)?this.where(":id").equals(o).modify(h):(o=Te(o,this.schema.primKey.keyPath))===void 0?ht(new ke.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(h)},st.prototype.put=function(o,h){var p=this,g=this.schema.primKey,x=g.auto,E=g.keyPath,T=o;return E&&x&&(T=mi(E)(o)),this._trans("readwrite",function(O){return p.core.mutate({trans:O,type:"put",values:[T],keys:h!=null?[h]:null})}).then(function(O){return O.numFailures?me.reject(O.failures[0]):O.lastResult}).then(function(O){if(E)try{pe(o,E,O)}catch{}return O})},st.prototype.delete=function(o){var h=this;return this._trans("readwrite",function(p){return h.core.mutate({trans:p,type:"delete",keys:[o]}).then(function(g){return en(h,[o],g)}).then(function(g){return g.numFailures?me.reject(g.failures[0]):void 0})})},st.prototype.clear=function(){var o=this;return this._trans("readwrite",function(h){return o.core.mutate({trans:h,type:"deleteRange",range:cl}).then(function(p){return en(o,null,p)})}).then(function(h){return h.numFailures?me.reject(h.failures[0]):void 0})},st.prototype.bulkGet=function(o){var h=this;return this._trans("readonly",function(p){return h.core.getMany({keys:o,trans:p}).then(function(g){return g.map(function(x){return h.hook.reading.fire(x)})})})},st.prototype.bulkAdd=function(o,h,p){var g=this,x=Array.isArray(h)?h:void 0,E=(p=p||(x?void 0:h))?p.allKeys:void 0;return this._trans("readwrite",function(T){var O=g.schema.primKey,G=O.auto,O=O.keyPath;if(O&&x)throw new ke.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(x&&x.length!==o.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,G=O&&G?o.map(mi(O)):o;return g.core.mutate({trans:T,type:"add",keys:x,values:G,wantResults:E}).then(function(M){var C=M.numFailures,L=M.failures;if(C===0)return E?M.results:M.lastResult;throw new Xe("".concat(g.name,".bulkAdd(): ").concat(C," of ").concat(D," operations failed"),L)})})},st.prototype.bulkPut=function(o,h,p){var g=this,x=Array.isArray(h)?h:void 0,E=(p=p||(x?void 0:h))?p.allKeys:void 0;return this._trans("readwrite",function(T){var O=g.schema.primKey,G=O.auto,O=O.keyPath;if(O&&x)throw new ke.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(x&&x.length!==o.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,G=O&&G?o.map(mi(O)):o;return g.core.mutate({trans:T,type:"put",keys:x,values:G,wantResults:E}).then(function(M){var C=M.numFailures,L=M.failures;if(C===0)return E?M.results:M.lastResult;throw new Xe("".concat(g.name,".bulkPut(): ").concat(C," of ").concat(D," operations failed"),L)})})},st.prototype.bulkUpdate=function(o){var h=this,p=this.core,g=o.map(function(T){return T.key}),x=o.map(function(T){return T.changes}),E=[];return this._trans("readwrite",function(T){return p.getMany({trans:T,keys:g,cache:"clone"}).then(function(O){var D=[],G=[],M=(o.forEach(function(C,L){var q=C.key,U=C.changes,z=O[L];if(z){for(var V=0,Q=Object.keys(U);V<Q.length;V++){var Y=Q[V],te=U[Y];if(Y===h.schema.primKey.keyPath){if(Ye(te,q)!==0)throw new ke.Constraint("Cannot update primary key in bulkUpdate()")}else pe(z,Y,te)}E.push(L),D.push(q),G.push(z)}}),D.length);return p.mutate({trans:T,type:"put",keys:D,values:G,updates:{keys:g,changeSpecs:x}}).then(function(C){var L=C.numFailures,q=C.failures;if(L===0)return M;for(var U=0,z=Object.keys(q);U<z.length;U++){var V,Q=z[U],Y=E[Number(Q)];Y!=null&&(V=q[Q],delete q[Q],q[Y]=V)}throw new Xe("".concat(h.name,".bulkUpdate(): ").concat(L," of ").concat(M," operations failed"),q)})})})},st.prototype.bulkDelete=function(o){var h=this,p=o.length;return this._trans("readwrite",function(g){return h.core.mutate({trans:g,type:"delete",keys:o}).then(function(x){return en(h,o,x)})}).then(function(g){var x=g.numFailures,E=g.failures;if(x===0)return g.lastResult;throw new Xe("".concat(h.name,".bulkDelete(): ").concat(x," of ").concat(p," operations failed"),E)})};var fl=st;function st(){}function yi(o){function h(T,O){if(O){for(var D=arguments.length,G=new Array(D-1);--D;)G[D-1]=arguments[D];return p[T].subscribe.apply(null,G),o}if(typeof T=="string")return p[T]}var p={};h.addEventType=E;for(var g=1,x=arguments.length;g<x;++g)E(arguments[g]);return h;function E(T,O,D){var G,M;if(typeof T!="object")return O=O||sl,M={subscribers:[],fire:D=D||at,subscribe:function(C){M.subscribers.indexOf(C)===-1&&(M.subscribers.push(C),M.fire=O(M.fire,C))},unsubscribe:function(C){M.subscribers=M.subscribers.filter(function(L){return L!==C}),M.fire=M.subscribers.reduce(O,D)}},p[T]=h[T]=M;m(G=T).forEach(function(C){var L=G[C];if(y(L))E(C,G[C][0],G[C][1]);else{if(L!=="asap")throw new ke.InvalidArgument("Invalid event config");var q=E(C,pr,function(){for(var U=arguments.length,z=new Array(U);U--;)z[U]=arguments[U];q.subscribers.forEach(function(V){ze(function(){V.apply(null,z)})})})}})}}function Xt(o,h){return J(h).from({prototype:o}),h}function wa(o,h){return!(o.filter||o.algorithm||o.or)&&(h?o.justLimit:!o.replayFilter)}function Zi(o,h){o.filter=Ba(o.filter,h)}function vi(o,h,p){var g=o.replayFilter;o.replayFilter=g?function(){return Ba(g(),h())}:h,o.justLimit=p&&!g}function sa(o,h){if(o.isPrimKey)return h.primaryKey;var p=h.getIndexByKeyPath(o.index);if(p)return p;throw new ke.Schema("KeyPath "+o.index+" on object store "+h.name+" is not indexed")}function dl(o,h,p){var g=sa(o,h.schema);return h.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:g,range:o.range}})}function gi(o,h,p,g){var x,E,T=o.replayFilter?Ba(o.filter,o.replayFilter()):o.filter;return o.or?(x={},E=function(O,D,G){var M,C;T&&!T(D,G,function(L){return D.stop(L)},function(L){return D.fail(L)})||((C=""+(M=D.primaryKey))=="[object ArrayBuffer]"&&(C=""+new Uint8Array(M)),j(x,C))||(x[C]=!0,h(O,D,G))},Promise.all([o.or._iterate(E,p),qa(dl(o,g,p),o.algorithm,E,!o.keysOnly&&o.valueMapper)])):qa(dl(o,g,p),Ba(o.algorithm,T),h,!o.keysOnly&&o.valueMapper)}function qa(o,h,p,g){var x=gt(g?function(E,T,O){return p(g(E),T,O)}:p);return o.then(function(E){if(E)return E.start(function(){var T=function(){return E.continue()};h&&!h(E,function(O){return T=O},function(O){E.stop(O),T=at},function(O){E.fail(O),T=at})||x(E.value,E,function(O){return T=O}),T()})})}et.prototype._read=function(o,h){var p=this._ctx;return p.error?p.table._trans(null,ht.bind(null,p.error)):p.table._trans("readonly",o).then(h)},et.prototype._write=function(o){var h=this._ctx;return h.error?h.table._trans(null,ht.bind(null,h.error)):h.table._trans("readwrite",o,"locked")},et.prototype._addAlgorithm=function(o){var h=this._ctx;h.algorithm=Ba(h.algorithm,o)},et.prototype._iterate=function(o,h){return gi(this._ctx,o,h,this._ctx.table.core)},et.prototype.clone=function(o){var h=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&b(p,o),h._ctx=p,h},et.prototype.raw=function(){return this._ctx.valueMapper=null,this},et.prototype.each=function(o){var h=this._ctx;return this._read(function(p){return gi(h,o,p,h.table.core)})},et.prototype.count=function(o){var h=this;return this._read(function(p){var g,x=h._ctx,E=x.table.core;return wa(x,!0)?E.count({trans:p,query:{index:sa(x,E.schema),range:x.range}}).then(function(T){return Math.min(T,x.limit)}):(g=0,gi(x,function(){return++g,!1},p,E).then(function(){return g}))}).then(o)},et.prototype.sortBy=function(o,h){var p=o.split(".").reverse(),g=p[0],x=p.length-1;function E(D,G){return G?E(D[p[G]],G-1):D[g]}var T=this._ctx.dir==="next"?1:-1;function O(D,G){return Ye(E(D,x),E(G,x))*T}return this.toArray(function(D){return D.sort(O)}).then(h)},et.prototype.toArray=function(o){var h=this;return this._read(function(p){var g,x,E,T=h._ctx;return T.dir==="next"&&wa(T,!0)&&0<T.limit?(g=T.valueMapper,x=sa(T,T.table.core.schema),T.table.core.query({trans:p,limit:T.limit,values:!0,query:{index:x,range:T.range}}).then(function(O){return O=O.result,g?O.map(g):O})):(E=[],gi(T,function(O){return E.push(O)},p,T.table.core).then(function(){return E}))},o)},et.prototype.offset=function(o){var h=this._ctx;return o<=0||(h.offset+=o,wa(h)?vi(h,function(){var p=o;return function(g,x){return p===0||(p===1?--p:x(function(){g.advance(p),p=0}),!1)}}):vi(h,function(){var p=o;return function(){return--p<0}})),this},et.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),vi(this._ctx,function(){var h=o;return function(p,g,x){return--h<=0&&g(x),0<=h}},!0),this},et.prototype.until=function(o,h){return Zi(this._ctx,function(p,g,x){return!o(p.value)||(g(x),h)}),this},et.prototype.first=function(o){return this.limit(1).toArray(function(h){return h[0]}).then(o)},et.prototype.last=function(o){return this.reverse().first(o)},et.prototype.filter=function(o){var h;return Zi(this._ctx,function(p){return o(p.value)}),(h=this._ctx).isMatch=Ba(h.isMatch,o),this},et.prototype.and=function(o){return this.filter(o)},et.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},et.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},et.prototype.desc=function(){return this.reverse()},et.prototype.eachKey=function(o){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(p,g){o(g.key,g)})},et.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},et.prototype.eachPrimaryKey=function(o){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(p,g){o(g.primaryKey,g)})},et.prototype.keys=function(o){var h=this._ctx,p=(h.keysOnly=!h.isMatch,[]);return this.each(function(g,x){p.push(x.key)}).then(function(){return p}).then(o)},et.prototype.primaryKeys=function(o){var h=this._ctx;if(h.dir==="next"&&wa(h,!0)&&0<h.limit)return this._read(function(g){var x=sa(h,h.table.core.schema);return h.table.core.query({trans:g,values:!1,limit:h.limit,query:{index:x,range:h.range}})}).then(function(g){return g.result}).then(o);h.keysOnly=!h.isMatch;var p=[];return this.each(function(g,x){p.push(x.primaryKey)}).then(function(){return p}).then(o)},et.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},et.prototype.firstKey=function(o){return this.limit(1).keys(function(h){return h[0]}).then(o)},et.prototype.lastKey=function(o){return this.reverse().firstKey(o)},et.prototype.distinct=function(){var o,h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];return h&&h.multi&&(o={},Zi(this._ctx,function(g){var g=g.primaryKey.toString(),x=j(o,g);return o[g]=!0,!x})),this},et.prototype.modify=function(o){var h=this,p=this._ctx;return this._write(function(g){function x(z,V){var Q=V.failures;L+=z-V.numFailures;for(var Y=0,te=m(Q);Y<te.length;Y++){var ue=te[Y];C.push(Q[ue])}}var E=typeof o=="function"?o:function(z){return Wi(z,o)},T=p.table.core,M=T.schema.primaryKey,O=M.outbound,D=M.extractKey,G=200,M=h.db._options.modifyChunkSize,C=(M&&(G=typeof M=="object"?M[T.name]||M["*"]||200:M),[]),L=0,q=[],U=o===hl;return h.clone().primaryKeys().then(function(z){function V(Y){var te=Math.min(G,z.length-Y),ue=z.slice(Y,Y+te);return(U?Promise.resolve([]):T.getMany({trans:g,keys:ue,cache:"immutable"})).then(function(de){var he=[],ce=[],we=O?[]:null,ye=U?ue:[];if(!U)for(var fe=0;fe<te;++fe){var xe=de[fe],Le={value:vn(xe),primKey:z[Y+fe]};E.call(Le,Le.value,Le)!==!1&&(Le.value==null?ye.push(z[Y+fe]):O||Ye(D(xe),D(Le.value))===0?(ce.push(Le.value),O&&we.push(z[Y+fe])):(ye.push(z[Y+fe]),he.push(Le.value)))}return Promise.resolve(0<he.length&&T.mutate({trans:g,type:"add",values:he}).then(function(Ve){for(var Ne in Ve.failures)ye.splice(parseInt(Ne),1);x(he.length,Ve)})).then(function(){return(0<ce.length||Q&&typeof o=="object")&&T.mutate({trans:g,type:"put",keys:we,values:ce,criteria:Q,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<Y}).then(function(Ve){return x(ce.length,Ve)})}).then(function(){return(0<ye.length||Q&&U)&&T.mutate({trans:g,type:"delete",keys:ye,criteria:Q,isAdditionalChunk:0<Y}).then(function(Ve){return en(p.table,ye,Ve)}).then(function(Ve){return x(ye.length,Ve)})}).then(function(){return z.length>Y+te&&V(Y+G)})})}var Q=wa(p)&&p.limit===1/0&&(typeof o!="function"||U)&&{index:p.index,range:p.range};return V(0).then(function(){if(0<C.length)throw new Pe("Error modifying one or more objects",C,L,q);return z.length})})})},et.prototype.delete=function(){var o=this._ctx,h=o.range;return!wa(o)||o.table.schema.yProps||!o.isPrimKey&&h.type!==3?this.modify(hl):this._write(function(p){var g=o.table.core.schema.primaryKey,x=h;return o.table.core.count({trans:p,query:{index:g,range:x}}).then(function(E){return o.table.core.mutate({trans:p,type:"deleteRange",range:x}).then(function(D){var O=D.failures,D=D.numFailures;if(D)throw new Pe("Could not delete some values",Object.keys(O).map(function(G){return O[G]}),E-D);return E-D})})})};var Dc=et;function et(){}var hl=function(o,h){return h.value=null};function ml(o,h){return o<h?-1:o===h?0:1}function Mc(o,h){return h<o?-1:o===h?0:1}function _n(o,h,p){return o=o instanceof Ha?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(h),o}function la(o){return new o.Collection(o,function(){return Fi("")}).limit(0)}function Sn(q,h,p,g){var x,E,T,O,D,G,M,C=p.length;if(!p.every(function(z){return typeof z=="string"}))return _n(q,Mt);function L(z){x=z==="next"?function(Q){return Q.toUpperCase()}:function(Q){return Q.toLowerCase()},E=z==="next"?function(Q){return Q.toLowerCase()}:function(Q){return Q.toUpperCase()},T=z==="next"?ml:Mc;var V=p.map(function(Q){return{lower:E(Q),upper:x(Q)}}).sort(function(Q,Y){return T(Q.lower,Y.lower)});O=V.map(function(Q){return Q.upper}),D=V.map(function(Q){return Q.lower}),M=(G=z)==="next"?"":g}L("next");var q=new q.Collection(q,function(){return Gn(O[0],D[C-1]+g)}),U=(q._ondirectionchange=function(z){L(z)},0);return q._addAlgorithm(function(z,V,Q){var Y=z.key;if(typeof Y=="string"){var te=E(Y);if(h(te,D,U))return!0;for(var ue=null,de=U;de<C;++de){var he=((ce,we,ye,fe,xe,Le)=>{for(var Ve=Math.min(ce.length,fe.length),Ne=-1,He=0;He<Ve;++He){var mt=we[He];if(mt!==fe[He])return xe(ce[He],ye[He])<0?ce.substr(0,He)+ye[He]+ye.substr(He+1):xe(ce[He],fe[He])<0?ce.substr(0,He)+fe[He]+ye.substr(He+1):0<=Ne?ce.substr(0,Ne)+we[Ne]+ye.substr(Ne+1):null;xe(ce[He],mt)<0&&(Ne=He)}return Ve<fe.length&&Le==="next"?ce+ye.substr(ce.length):Ve<ce.length&&Le==="prev"?ce.substr(0,ye.length):Ne<0?null:ce.substr(0,Ne)+fe[Ne]+ye.substr(Ne+1)})(Y,te,O[de],D[de],T,G);he===null&&ue===null?U=de+1:(ue===null||0<T(ue,he))&&(ue=he)}V(ue!==null?function(){z.continue(ue+M)}:Q)}return!1}),q}function Gn(o,h,p,g){return{type:2,lower:o,upper:h,lowerOpen:p,upperOpen:g}}function Fi(o){return{type:1,lower:o,upper:o}}Object.defineProperty(xt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),xt.prototype.between=function(o,h,p,g){p=p!==!1,g=g===!0;try{return 0<this._cmp(o,h)||this._cmp(o,h)===0&&(p||g)&&(!p||!g)?la(this):new this.Collection(this,function(){return Gn(o,h,!p,!g)})}catch{return _n(this,fn)}},xt.prototype.equals=function(o){return o==null?_n(this,fn):new this.Collection(this,function(){return Fi(o)})},xt.prototype.above=function(o){return o==null?_n(this,fn):new this.Collection(this,function(){return Gn(o,void 0,!0)})},xt.prototype.aboveOrEqual=function(o){return o==null?_n(this,fn):new this.Collection(this,function(){return Gn(o,void 0,!1)})},xt.prototype.below=function(o){return o==null?_n(this,fn):new this.Collection(this,function(){return Gn(void 0,o,!1,!0)})},xt.prototype.belowOrEqual=function(o){return o==null?_n(this,fn):new this.Collection(this,function(){return Gn(void 0,o)})},xt.prototype.startsWith=function(o){return typeof o!="string"?_n(this,Mt):this.between(o,o+Rn,!0,!0)},xt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Sn(this,function(h,p){return h.indexOf(p[0])===0},[o],Rn)},xt.prototype.equalsIgnoreCase=function(o){return Sn(this,function(h,p){return h===p[0]},[o],"")},xt.prototype.anyOfIgnoreCase=function(){var o=Ie.apply(Fe,arguments);return o.length===0?la(this):Sn(this,function(h,p){return p.indexOf(h)!==-1},o,"")},xt.prototype.startsWithAnyOfIgnoreCase=function(){var o=Ie.apply(Fe,arguments);return o.length===0?la(this):Sn(this,function(h,p){return p.some(function(g){return h.indexOf(g)===0})},o,Rn)},xt.prototype.anyOf=function(){var o,h,p=this,g=Ie.apply(Fe,arguments),x=this._cmp;try{g.sort(x)}catch{return _n(this,fn)}return g.length===0?la(this):((o=new this.Collection(this,function(){return Gn(g[0],g[g.length-1])}))._ondirectionchange=function(E){x=E==="next"?p._ascending:p._descending,g.sort(x)},h=0,o._addAlgorithm(function(E,T,O){for(var D=E.key;0<x(D,g[h]);)if(++h===g.length)return T(O),!1;return x(D,g[h])===0||(T(function(){E.continue(g[h])}),!1)}),o)},xt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},xt.prototype.noneOf=function(){var o=Ie.apply(Fe,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return _n(this,fn)}var h=o.reduce(function(p,g){return p?p.concat([[p[p.length-1][1],g]]):[[-1/0,g]]},null);return h.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},xt.prototype.inAnyRange=function(o,Q){var p=this,g=this._cmp,x=this._ascending,E=this._descending,T=this._min,O=this._max;if(o.length===0)return la(this);if(!o.every(function(Y){return Y[0]!==void 0&&Y[1]!==void 0&&x(Y[0],Y[1])<=0}))return _n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ke.InvalidArgument);var D=!Q||Q.includeLowers!==!1,G=Q&&Q.includeUppers===!0,M,C=x;function L(Y,te){return C(Y[0],te[0])}try{(M=o.reduce(function(Y,te){for(var ue=0,de=Y.length;ue<de;++ue){var he=Y[ue];if(g(te[0],he[1])<0&&0<g(te[1],he[0])){he[0]=T(he[0],te[0]),he[1]=O(he[1],te[1]);break}}return ue===de&&Y.push(te),Y},[])).sort(L)}catch{return _n(this,fn)}var q=0,U=G?function(Y){return 0<x(Y,M[q][1])}:function(Y){return 0<=x(Y,M[q][1])},z=D?function(Y){return 0<E(Y,M[q][0])}:function(Y){return 0<=E(Y,M[q][0])},V=U,Q=new this.Collection(this,function(){return Gn(M[0][0],M[M.length-1][1],!D,!G)});return Q._ondirectionchange=function(Y){C=Y==="next"?(V=U,x):(V=z,E),M.sort(L)},Q._addAlgorithm(function(Y,te,ue){for(var de,he=Y.key;V(he);)if(++q===M.length)return te(ue),!1;return!U(de=he)&&!z(de)||(p._cmp(he,M[q][1])===0||p._cmp(he,M[q][0])===0||te(function(){C===x?Y.continue(M[q][0]):Y.continue(M[q][1])}),!1)}),Q},xt.prototype.startsWithAnyOf=function(){var o=Ie.apply(Fe,arguments);return o.every(function(h){return typeof h=="string"})?o.length===0?la(this):this.inAnyRange(o.map(function(h){return[h,h+Rn]})):_n(this,"startsWithAnyOf() only works with strings")};var Ha=xt;function xt(){}function Cn(o){return gt(function(h){return $a(h),o(h.target.error),!1})}function $a(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var wr="storagemutated",Pa="x-storagemutated-1",Qt=yi(null,wr),pl=(dn.prototype._lock=function(){return _e(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},dn.prototype._unlock=function(){if(_e(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Nn(o[1],o[0])}catch{}}return this},dn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},dn.prototype.create=function(o){var h=this;if(this.mode){var p=this.db.idbdb,g=this.db._state.dbOpenError;if(_e(!this.idbtrans),!o&&!p)switch(g&&g.name){case"DatabaseClosedError":throw new ke.DatabaseClosed(g);case"MissingAPIError":throw new ke.MissingAPI(g.message,g);default:throw new ke.OpenFailed(g)}if(!this.active)throw new ke.TransactionInactive;_e(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=gt(function(x){$a(x),h._reject(o.error)}),o.onabort=gt(function(x){$a(x),h.active&&h._reject(new ke.Abort(o.error)),h.active=!1,h.on("abort").fire(x)}),o.oncomplete=gt(function(){h.active=!1,h._resolve(),"mutatedParts"in o&&Qt.storagemutated.fire(o.mutatedParts)})}return this},dn.prototype._promise=function(o,h,p){var g,x=this;return o==="readwrite"&&this.mode!=="readwrite"?ht(new ke.ReadOnly("Transaction is readonly")):this.active?this._locked()?new me(function(E,T){x._blockedFuncs.push([function(){x._promise(o,h,p).then(E,T)},be])}):p?_t(function(){var E=new me(function(T,O){x._lock();var D=h(T,O,x);D&&D.then&&D.then(T,O)});return E.finally(function(){return x._unlock()}),E._lib=!0,E}):((g=new me(function(E,T){var O=h(E,T,x);O&&O.then&&O.then(E,T)}))._lib=!0,g):ht(new ke.TransactionInactive)},dn.prototype._root=function(){return this.parent?this.parent._root():this},dn.prototype.waitFor=function(o){var h,p=this._root(),g=me.resolve(o),x=(p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return g}):(p._waitingFor=g,p._waitingQueue=[],h=p.idbtrans.objectStore(p.storeNames[0]),(function E(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(h.get(-1/0).onsuccess=E)})()),p._waitingFor);return new me(function(E,T){g.then(function(O){return p._waitingQueue.push(gt(E.bind(null,O)))},function(O){return p._waitingQueue.push(gt(T.bind(null,O)))}).finally(function(){p._waitingFor===x&&(p._waitingFor=null)})})},dn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ke.Abort))},dn.prototype.table=function(o){var h=this._memoizedTables||(this._memoizedTables={});if(j(h,o))return h[o];var p=this.schema[o];if(p)return(p=new this.db.Table(o,p,this)).core=this.db.core.table(o),h[o]=p;throw new ke.NotFound("Table "+o+" not part of transaction")},dn);function dn(){}function Yn(o,h,p,g,x,E,T,O){return{name:o,keyPath:h,unique:p,multi:g,auto:x,compound:E,src:(p&&!T?"&":"")+(g?"*":"")+(x?"++":"")+es(h),type:O}}function es(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function xr(o,h,p){return{name:o,primKey:h,indexes:p,mappedClass:null,idxByName:(g=function(x){return[x.name,x]},p.reduce(function(x,E,T){return E=g(E,T),E&&(x[E[0]]=E[1]),x},{}))};var g}var Sr=function(o){try{return o.only([[]]),Sr=function(){return[[]]},[[]]}catch{return Sr=function(){return Rn},Rn}};function Er(o){return o==null?function(){}:typeof o=="string"?(h=o).split(".").length===1?function(p){return p[h]}:function(p){return Te(p,h)}:function(p){return Te(p,o)};var h}function bi(o){return[].slice.call(o)}var Lo=0;function qt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Ka(o,h,D){function g(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=U.lower,L=U.upper,q=U.lowerOpen,U=U.upperOpen;return C===void 0?L===void 0?null:h.upperBound(L,!!U):L===void 0?h.lowerBound(C,!!q):h.bound(C,L,!!q,!!U)}function x(M){var C,L=M.name;return{name:L,schema:M,mutate:function(q){var U=q.trans,z=q.type,V=q.keys,Q=q.values,Y=q.range;return new Promise(function(te,ue){te=gt(te);var de=U.objectStore(L),he=de.keyPath==null,ce=z==="put"||z==="add";if(!ce&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var we,ye=(V||Q||{length:1}).length;if(V&&Q&&V.length!==Q.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(ot){++Ve,$a(ot)}var xe=[],Le=[],Ve=0;if(z==="deleteRange"){if(Y.type===4)return te({numFailures:Ve,failures:Le,results:[],lastResult:void 0});Y.type===3?xe.push(we=de.clear()):xe.push(we=de.delete(g(Y)))}else{var he=ce?he?[Q,V]:[Q,null]:[V,null],Ne=he[0],He=he[1];if(ce)for(var mt=0;mt<ye;++mt)xe.push(we=He&&He[mt]!==void 0?de[z](Ne[mt],He[mt]):de[z](Ne[mt])),we.onerror=fe;else for(mt=0;mt<ye;++mt)xe.push(we=de[z](Ne[mt])),we.onerror=fe}function mn(ot){ot=ot.target.result,xe.forEach(function(ja,Nr){return ja.error!=null&&(Le[Nr]=ja.error)}),te({numFailures:Ve,failures:Le,results:z==="delete"?V:xe.map(function(ja){return ja.result}),lastResult:ot})}we.onerror=function(ot){fe(ot),mn(ot)},we.onsuccess=mn})},getMany:function(q){var U=q.trans,z=q.keys;return new Promise(function(V,Q){V=gt(V);for(var Y,te=U.objectStore(L),ue=z.length,de=new Array(ue),he=0,ce=0,we=function(xe){xe=xe.target,de[xe._pos]=xe.result,++ce===he&&V(de)},ye=Cn(Q),fe=0;fe<ue;++fe)z[fe]!=null&&((Y=te.get(z[fe]))._pos=fe,Y.onsuccess=we,Y.onerror=ye,++he);he===0&&V(de)})},get:function(q){var U=q.trans,z=q.key;return new Promise(function(V,Q){V=gt(V);var Y=U.objectStore(L).get(z);Y.onsuccess=function(te){return V(te.target.result)},Y.onerror=Cn(Q)})},query:(C=O,function(q){return new Promise(function(U,z){U=gt(U);var V,Q,Y,ce=q.trans,te=q.values,ue=q.limit,he=q.query,de=ue===1/0?void 0:ue,we=he.index,he=he.range,ce=ce.objectStore(L),ce=we.isPrimaryKey?ce:ce.index(we.name),we=g(he);if(ue===0)return U({result:[]});C?((he=te?ce.getAll(we,de):ce.getAllKeys(we,de)).onsuccess=function(ye){return U({result:ye.target.result})},he.onerror=Cn(z)):(V=0,Q=!te&&"openKeyCursor"in ce?ce.openKeyCursor(we):ce.openCursor(we),Y=[],Q.onsuccess=function(ye){var fe=Q.result;return!fe||(Y.push(te?fe.value:fe.primaryKey),++V===ue)?U({result:Y}):void fe.continue()},Q.onerror=Cn(z))})}),openCursor:function(q){var U=q.trans,z=q.values,V=q.query,Q=q.reverse,Y=q.unique;return new Promise(function(te,ue){te=gt(te);var ce=V.index,de=V.range,he=U.objectStore(L),he=ce.isPrimaryKey?he:he.index(ce.name),ce=Q?Y?"prevunique":"prev":Y?"nextunique":"next",we=!z&&"openKeyCursor"in he?he.openKeyCursor(g(de),ce):he.openCursor(g(de),ce);we.onerror=Cn(ue),we.onsuccess=gt(function(ye){var fe,xe,Le,Ve,Ne=we.result;Ne?(Ne.___id=++Lo,Ne.done=!1,fe=Ne.continue.bind(Ne),xe=(xe=Ne.continuePrimaryKey)&&xe.bind(Ne),Le=Ne.advance.bind(Ne),Ve=function(){throw new Error("Cursor not stopped")},Ne.trans=U,Ne.stop=Ne.continue=Ne.continuePrimaryKey=Ne.advance=function(){throw new Error("Cursor not started")},Ne.fail=gt(ue),Ne.next=function(){var He=this,mt=1;return this.start(function(){return mt--?He.continue():He.stop()}).then(function(){return He})},Ne.start=function(He){function mt(){if(we.result)try{He()}catch(ot){Ne.fail(ot)}else Ne.done=!0,Ne.start=function(){throw new Error("Cursor behind last entry")},Ne.stop()}var mn=new Promise(function(ot,ja){ot=gt(ot),we.onerror=Cn(ja),Ne.fail=ja,Ne.stop=function(Nr){Ne.stop=Ne.continue=Ne.continuePrimaryKey=Ne.advance=Ve,ot(Nr)}});return we.onsuccess=gt(function(ot){we.onsuccess=mt,mt()}),Ne.continue=fe,Ne.continuePrimaryKey=xe,Ne.advance=Le,mt(),mn},te(Ne)):te(null)},ue)})},count:function(q){var U=q.query,z=q.trans,V=U.index,Q=U.range;return new Promise(function(Y,te){var ue=z.objectStore(L),ue=V.isPrimaryKey?ue:ue.index(V.name),de=g(Q),de=de?ue.count(de):ue.count();de.onsuccess=gt(function(he){return Y(he.target.result)}),de.onerror=Cn(te)})}}}E=D,T=bi((D=o).objectStoreNames);var E,D={schema:{name:D.name,tables:T.map(function(M){return E.objectStore(M)}).map(function(M){var C=M.keyPath,L=M.autoIncrement,U=y(C),q={},U={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:U,keyPath:C,autoIncrement:L,unique:!0,extractKey:Er(C)},indexes:bi(M.indexNames).map(function(z){return M.index(z)}).map(function(Y){var te=Y.name,V=Y.unique,Q=Y.multiEntry,Y=Y.keyPath,te={name:te,compound:y(Y),keyPath:Y,unique:V,multiEntry:Q,extractKey:Er(Y)};return q[qt(Y)]=te}),getIndexByKeyPath:function(z){return q[qt(z)]}};return q[":id"]=U.primaryKey,C!=null&&(q[qt(C)]=U.primaryKey),U})},hasGetAll:0<T.length&&"getAll"in E.objectStore(T[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},T=D.schema,O=D.hasGetAll,D=T.tables.map(x),G={};return D.forEach(function(M){return G[M.name]=M}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(M){if(G[M])return G[M];throw new Error("Table '".concat(M,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Sr(h),schema:T}}function ts(o,h,p,g){return p=p.IDBKeyRange,h=Ka(h,p,g),{dbcore:o.dbcore.reduce(function(x,E){return E=E.create,s(s({},x),E(x))},h)}}function xa(o,h){var p=h.db,p=ts(o._middlewares,p,o._deps,h);o.core=p.dbcore,o.tables.forEach(function(g){var x=g.name;o.core.schema.tables.some(function(E){return E.name===x})&&(g.core=o.core.table(x),o[x]instanceof o.Table)&&(o[x].core=g.core)})}function ns(o,h,p,g){p.forEach(function(x){var E=g[x];h.forEach(function(T){var O=(function D(G,M){return F(G,M)||(G=w(G))&&D(G,M)})(T,x);(!O||"value"in O&&O.value===void 0)&&(T===o.Transaction.prototype||T instanceof o.Transaction?P(T,x,{get:function(){return this.table(x)},set:function(D){N(this,x,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):T[x]=new o.Table(x,E))})})}function _i(o,h){h.forEach(function(p){for(var g in p)p[g]instanceof o.Table&&delete p[g]})}function yl(o,h){return o._cfg.version-h._cfg.version}function wi(o,h,p,g){var x=o._dbSchema,E=(p.objectStoreNames.contains("$meta")&&!x.$meta&&(x.$meta=xr("$meta",qo("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,x)),T=(E.create(p),E._completion.catch(g),E._reject.bind(E)),O=be.transless||be;_t(function(){if(be.trans=E,be.transless=O,h!==0)return xa(o,p),G=h,((D=E).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(M){return M??G}):me.resolve(G)).then(function(V){var C=o,L=V,q=E,U=p,z=[],V=C._versions,Q=C._dbSchema=jr(0,C.idbdb,U);return(V=V.filter(function(Y){return Y._cfg.version>=L})).length===0?me.resolve():(V.forEach(function(Y){z.push(function(){var te,ue,de,he=Q,ce=Y._cfg.dbschema,we=(ss(C,he,U),ss(C,ce,U),Q=C._dbSchema=ce,rs(he,ce)),ye=(we.add.forEach(function(fe){vl(U,fe[0],fe[1].primKey,fe[1].indexes)}),we.change.forEach(function(fe){if(fe.recreate)throw new ke.Upgrade("Not yet support for changing primary key");var xe=U.objectStore(fe.name);fe.add.forEach(function(Le){return is(xe,Le)}),fe.change.forEach(function(Le){xe.deleteIndex(Le.name),is(xe,Le)}),fe.del.forEach(function(Le){return xe.deleteIndex(Le)})}),Y._cfg.contentUpgrade);if(ye&&Y._cfg.version>L)return xa(C,U),q._memoizedTables={},te=nt(ce),we.del.forEach(function(fe){te[fe]=he[fe]}),_i(C,[C.Transaction.prototype]),ns(C,[C.Transaction.prototype],m(te),te),q.schema=te,(ue=H(ye))&&Dt(),ce=me.follow(function(){var fe;(de=ye(q))&&ue&&(fe=bn.bind(null,null),de.then(fe,fe))}),de&&typeof de.then=="function"?me.resolve(de):ce.then(function(){return de})}),z.push(function(te){var ue,de,he=Y._cfg.dbschema;ue=he,de=te,[].slice.call(de.db.objectStoreNames).forEach(function(ce){return ue[ce]==null&&de.db.deleteObjectStore(ce)}),_i(C,[C.Transaction.prototype]),ns(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),q.schema=C._dbSchema}),z.push(function(te){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===Y._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(ue){return ue!=="$meta"})):te.objectStore("$meta").put(Y._cfg.version,"version"))})}),(function Y(){return z.length?me.resolve(z.shift()(q.idbtrans)).then(Y):me.resolve()})().then(function(){Bo(Q,U)}))}).catch(T);var D,G;m(x).forEach(function(M){vl(p,M,x[M].primKey,x[M].indexes)}),xa(o,p),me.follow(function(){return o.on.populate.fire(E)}).catch(T)})}function as(o,h){Bo(o._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var p=jr(0,o.idbdb,h);ss(o,o._dbSchema,h);for(var g=0,x=rs(p,o._dbSchema).change;g<x.length;g++){var E=(T=>{if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=h.objectStore(T.name);T.add.forEach(function(D){xn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(D.src)),is(O,D)})})(x[g]);if(typeof E=="object")return E.value}}function rs(o,h){var p,g={del:[],add:[],change:[]};for(p in o)h[p]||g.del.push(p);for(p in h){var x=o[p],E=h[p];if(x){var T={name:p,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(x.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||x.primKey.auto!==E.primKey.auto)T.recreate=!0,g.change.push(T);else{var O=x.idxByName,D=E.idxByName,G=void 0;for(G in O)D[G]||T.del.push(G);for(G in D){var M=O[G],C=D[G];M?M.src!==C.src&&T.change.push(C):T.add.push(C)}(0<T.del.length||0<T.add.length||0<T.change.length)&&g.change.push(T)}}else g.add.push([p,E])}return g}function vl(o,h,p,g){var x=o.db.createObjectStore(h,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});g.forEach(function(E){return is(x,E)})}function Bo(o,h){m(o).forEach(function(p){h.db.objectStoreNames.contains(p)||(xn&&console.debug("Dexie: Creating missing table",p),vl(h,p,o[p].primKey,o[p].indexes))})}function is(o,h){o.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function jr(o,h,p){var g={};return ae(h.objectStoreNames,0).forEach(function(x){for(var E=p.objectStore(x),T=Yn(es(G=E.keyPath),G||"",!0,!1,!!E.autoIncrement,G&&typeof G!="string",!0),O=[],D=0;D<E.indexNames.length;++D){var M=E.index(E.indexNames[D]),G=M.keyPath,M=Yn(M.name,G,!!M.unique,!!M.multiEntry,!1,G&&typeof G!="string",!1);O.push(M)}g[x]=xr(x,T,O)}),g}function ss(o,h,p){for(var g=p.db.objectStoreNames,x=0;x<g.length;++x){var E=g[x],T=p.objectStore(E);o._hasGetAll="getAll"in T;for(var O=0;O<T.indexNames.length;++O){var D,G=T.indexNames[O],M=T.index(G).keyPath,M=typeof M=="string"?M:"["+ae(M).join("+")+"]";h[E]&&(D=h[E].idxByName[M])&&(D.name=G,delete h[E].idxByName[M],h[E].idxByName[G]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function qo(o){return o.split(",").map(function(h,p){var x=h.split(":"),g=(g=x[1])==null?void 0:g.trim(),x=(h=x[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(x)?x.match(/^\[(.*)\]$/)[1].split("+"):x;return Yn(x,E||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),y(E),p===0,g)})}kr.prototype._createTableSchema=xr,kr.prototype._parseIndexSyntax=qo,kr.prototype._parseStoresSpec=function(o,h){var p=this;m(o).forEach(function(g){if(o[g]!==null){var x=p._parseIndexSyntax(o[g]),E=x.shift();if(!E)throw new ke.Schema("Invalid schema for table "+g+": "+o[g]);if(E.unique=!0,E.multi)throw new ke.Schema("Primary key cannot be multiEntry*");x.forEach(function(T){if(T.auto)throw new ke.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new ke.Schema("Index must have a name and cannot be an empty string")}),E=p._createTableSchema(g,E,x),h[g]=E}})},kr.prototype.stores=function(p){var h=this.db,p=(this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,p):p,h._versions),g={},x={};return p.forEach(function(E){b(g,E._cfg.storesSource),x=E._cfg.dbschema={},E._parseStoresSpec(g,x)}),h._dbSchema=x,_i(h,[h._allTables,h,h.Transaction.prototype]),ns(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],m(x),x),h._storeNames=m(x),this},kr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ai(this._cfg.contentUpgrade||at,o),this};var Uc=kr;function kr(){}function gl(o,h){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new Vn(hi,{addons:[],indexedDB:o,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function ls(o){return o&&typeof o.databases=="function"}function bl(o){return _t(function(){return be.letThrough=!0,o()})}function _l(o){return!("from"in o)}var Jt=function(o,h){var p;if(!this)return p=new Jt,o&&"d"in o&&b(p,o),p;b(this,arguments.length?{d:1,from:o,to:1<arguments.length?h:o}:{d:0})};function xi(o,h,p){var g=Ye(h,p);if(!isNaN(g)){if(0<g)throw RangeError();if(_l(o))return b(o,{from:h,to:p,d:1});var g=o.l,x=o.r;if(Ye(p,o.from)<0)return g?xi(g,h,p):o.l={from:h,to:p,d:1,l:null,r:null},$o(o);if(0<Ye(h,o.to))return x?xi(x,h,p):o.r={from:h,to:p,d:1,l:null,r:null},$o(o);Ye(h,o.from)<0&&(o.from=h,o.l=null,o.d=x?x.d+1:1),0<Ye(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),h=!o.r,g&&!o.l&&Ga(o,g),x&&h&&Ga(o,x)}}function Ga(o,h){_l(h)||(function p(g,x){var E=x.from,T=x.l,O=x.r;xi(g,E,x.to),T&&p(g,T),O&&p(g,O)})(o,h)}function Ho(o,h){var p=os(h),g=p.next();if(!g.done)for(var x=g.value,E=os(o),T=E.next(x.from),O=T.value;!g.done&&!T.done;){if(Ye(O.from,x.to)<=0&&0<=Ye(O.to,x.from))return!0;Ye(x.from,O.from)<0?x=(g=p.next(O.from)).value:O=(T=E.next(x.from)).value}return!1}function os(o){var h=_l(o)?null:{s:0,n:o};return{next:function(p){for(var g=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,g)for(;h.n.l&&Ye(p,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!g||Ye(p,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function $o(o){var h,p,g,x=(((x=o.r)==null?void 0:x.d)||0)-(((x=o.l)==null?void 0:x.d)||0),x=1<x?"r":x<-1?"l":"";x&&(h=x=="r"?"l":"r",p=s({},o),g=o[x],o.from=g.from,o.to=g.to,o[x]=g[x],p[x]=g[h],(o[h]=p).d=wl(p)),o.d=wl(o)}function wl(p){var h=p.r,p=p.l;return(h?p?Math.max(h.d,p.d):h.d:p?p.d:0)+1}function us(o,h){return m(h).forEach(function(p){o[p]?Ga(o[p],h[p]):o[p]=(function g(x){var E,T,O={};for(E in x)j(x,E)&&(T=x[E],O[E]=!T||typeof T!="object"||An.has(T.constructor)?T:g(T));return O})(h[p])}),o}function xl(o,h){return o.all||h.all||Object.keys(o).some(function(p){return h[p]&&Ho(h[p],o[p])})}A(Jt.prototype,((cn={add:function(o){return Ga(this,o),this},addKey:function(o){return xi(this,o,o),this},addKeys:function(o){var h=this;return o.forEach(function(p){return xi(h,p,p)}),this},hasKey:function(o){var h=os(this).next(o).value;return h&&Ye(h.from,o)<=0&&0<=Ye(h.to,o)}})[ee]=function(){return os(this)},cn));var Ya={},Sl={},El=!1;function cs(o){us(Sl,o),El||(El=!0,setTimeout(function(){El=!1,jl(Sl,!(Sl={}))},0))}function jl(o,h){h===void 0&&(h=!1);var p=new Set;if(o.all)for(var g=0,x=Object.values(Ya);g<x.length;g++)Po(O=x[g],o,p,h);else for(var E in o){var T,O,E=/^idb\:\/\/(.*)\/(.*)\//.exec(E);E&&(T=E[1],E=E[2],O=Ya["idb://".concat(T,"/").concat(E)])&&Po(O,o,p,h)}p.forEach(function(D){return D()})}function Po(o,h,p,g){for(var x=[],E=0,T=Object.entries(o.queries.query);E<T.length;E++){for(var O=T[E],D=O[0],G=[],M=0,C=O[1];M<C.length;M++){var L=C[M];xl(h,L.obsSet)?L.subscribers.forEach(function(V){return p.add(V)}):g&&G.push(L)}g&&x.push([D,G])}if(g)for(var q=0,U=x;q<U.length;q++){var z=U[q],D=z[0],G=z[1];o.queries.query[D]=G}}function zc(o){var h=o._state,p=o._deps.indexedDB;if(h.isBeingOpened||o.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?ht(h.dbOpenError):o});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var g=h.openCanceller,x=Math.round(10*o.verno),E=!1;function T(){if(h.openCanceller!==g)throw new ke.DatabaseClosed("db.open() was cancelled")}function O(){return new me(function(L,q){if(T(),!p)throw new ke.MissingAPI;var U=o.name,z=h.autoSchema||!x?p.open(U):p.open(U,x);if(!z)throw new ke.MissingAPI;z.onerror=Cn(q),z.onblocked=gt(o._fireOnBlocked),z.onupgradeneeded=gt(function(V){var Q;M=z.transaction,h.autoSchema&&!o._options.allowEmptyDB?(z.onerror=$a,M.abort(),z.result.close(),(Q=p.deleteDatabase(U)).onsuccess=Q.onerror=gt(function(){q(new ke.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(M.onerror=Cn(q),Q=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,C=Q<1,o.idbdb=z.result,E&&as(o,M),wi(o,Q/10,M,q))},q),z.onsuccess=gt(function(){M=null;var V,Q,Y,te,ue,de,he=o.idbdb=z.result,ce=ae(he.objectStoreNames);if(0<ce.length)try{var we=he.transaction((ue=ce).length===1?ue[0]:ue,"readonly");if(h.autoSchema)de=he,te=we,(Y=o).verno=de.version/10,te=Y._dbSchema=jr(0,de,te),Y._storeNames=ae(de.objectStoreNames,0),ns(Y,[Y._allTables],m(te),te);else if(ss(o,o._dbSchema,we),Q=we,((Q=rs(jr(0,(V=o).idbdb,Q),V._dbSchema)).add.length||Q.change.some(function(ye){return ye.add.length||ye.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),he.close(),x=he.version+1,E=!0,L(O());xa(o,we)}catch{}La.push(o),he.onversionchange=gt(function(ye){h.vcFired=!0,o.on("versionchange").fire(ye)}),he.onclose=gt(function(){o.close({disableAutoOpen:!1})}),C&&(ce=o._deps,ue=U,ls(de=ce.indexedDB)||ue===hi||gl(de,ce.IDBKeyRange).put({name:ue}).catch(at)),L()},q)}).catch(function(L){switch(L?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<x)return x=0,O()}return me.reject(L)})}var D,G=h.dbReadyResolve,M=null,C=!1;return me.race([g,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(L){function q(){return indexedDB.databases().finally(L)}D=setInterval(q,100),q()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(O)]).then(function(){return T(),h.onReadyBeingFired=[],me.resolve(bl(function(){return o.on.ready.fire(o.vip)})).then(function L(){var q;if(0<h.onReadyBeingFired.length)return q=h.onReadyBeingFired.reduce(ai,at),h.onReadyBeingFired=[],me.resolve(bl(function(){return q(o.vip)})).then(L)})}).finally(function(){h.openCanceller===g&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(L){h.dbOpenError=L;try{M&&M.abort()}catch{}return g===h.openCanceller&&o._close(),ht(L)}).finally(function(){h.openComplete=!0,G()}).then(function(){var L;return C&&(L={},o.tables.forEach(function(q){q.schema.indexes.forEach(function(U){U.name&&(L["idb://".concat(o.name,"/").concat(q.name,"/").concat(U.name)]=new Jt(-1/0,[[[]]]))}),L["idb://".concat(o.name,"/").concat(q.name,"/")]=L["idb://".concat(o.name,"/").concat(q.name,"/:dels")]=new Jt(-1/0,[[[]]])}),Qt(wr).fire(L),jl(L,!0)),o})}function Si(o){function h(E){return o.next(E)}var p=x(h),g=x(function(E){return o.throw(E)});function x(E){return function(O){var O=E(O),D=O.value;return O.done?D:D&&typeof D.then=="function"?D.then(p,g):y(D)?Promise.all(D).then(p,g):p(D)}}return x(h)()}function Sa(o,h,p){for(var g=y(o)?o.slice():[o],x=0;x<p;++x)g.push(h);return g}var Lc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return s(s({},o),{table:function(g){var p=o.table(g),g=p.schema,x={},E=[];function T(L,q,U){var Y=qt(L),z=x[Y]=x[Y]||[],V=L==null?0:typeof L=="string"?1:L.length,Q=0<q,Y=s(s({},U),{name:Q?"".concat(Y,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:Q,keyTail:q,keyLength:V,extractKey:Er(L),unique:!Q&&U.unique});return z.push(Y),Y.isPrimaryKey||E.push(Y),1<V&&T(V===2?L[0]:L.slice(0,V-1),q+1,U),z.sort(function(te,ue){return te.keyTail-ue.keyTail}),Y}var O=T(g.primaryKey.keyPath,0,g.primaryKey);x[":id"]=[O];for(var D=0,G=g.indexes;D<G.length;D++){var M=G[D];T(M.keyPath,0,M)}function C(L){var q,U=L.query.index;return U.isVirtual?s(s({},L),{query:{index:U.lowLevelIndex,range:(q=L.query.range,U=U.keyTail,{type:q.type===1?2:q.type,lower:Sa(q.lower,q.lowerOpen?o.MAX_KEY:o.MIN_KEY,U),lowerOpen:!0,upper:Sa(q.upper,q.upperOpen?o.MIN_KEY:o.MAX_KEY,U),upperOpen:!0})}}):L}return s(s({},p),{schema:s(s({},g),{primaryKey:O,indexes:E,getIndexByKeyPath:function(L){return(L=x[qt(L)])&&L[0]}}),count:function(L){return p.count(C(L))},query:function(L){return p.query(C(L))},openCursor:function(L){var q=L.query.index,U=q.keyTail,z=q.keyLength;return q.isVirtual?p.openCursor(C(L)).then(function(Q){return Q&&V(Q)}):p.openCursor(L);function V(Q){return Object.create(Q,{continue:{value:function(Y){Y!=null?Q.continue(Sa(Y,L.reverse?o.MAX_KEY:o.MIN_KEY,U)):L.unique?Q.continue(Q.key.slice(0,z).concat(L.reverse?o.MIN_KEY:o.MAX_KEY,U)):Q.continue()}},continuePrimaryKey:{value:function(Y,te){Q.continuePrimaryKey(Sa(Y,o.MAX_KEY,U),te)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var Y=Q.key;return z===1?Y[0]:Y.slice(0,z)}},value:{get:function(){return Q.value}}})}}})}})}};function fs(o,h,p,g){return p=p||{},g=g||"",m(o).forEach(function(x){var E,T,O;j(h,x)?(E=o[x],T=h[x],typeof E=="object"&&typeof T=="object"&&E&&T?(O=gn(E))!==gn(T)?p[g+x]=h[x]:O==="Object"?fs(E,T,p,g+x+"."):E!==T&&(p[g+x]=h[x]):E!==T&&(p[g+x]=h[x])):p[g+x]=void 0}),m(h).forEach(function(x){j(o,x)||(p[g+x]=h[x])}),p}function ds(o,h){return h.type==="delete"?h.keys:h.keys||h.values.map(o.extractKey)}var Ko={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return s(s({},o),{table:function(h){var p=o.table(h),g=p.schema.primaryKey;return s(s({},p),{mutate:function(x){var E=be.trans,T=E.table(h).hook,O=T.deleting,D=T.creating,G=T.updating;switch(x.type){case"add":if(D.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"put":if(D.fire===at&&G.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"delete":if(O.fire===at)break;return E._promise("readwrite",function(){return M(x)},!0);case"deleteRange":if(O.fire===at)break;return E._promise("readwrite",function(){return(function C(L,q,U){return p.query({trans:L,values:!1,query:{index:g,range:q},limit:U}).then(function(z){var V=z.result;return M({type:"delete",keys:V,trans:L}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):V.length<U?{failures:[],numFailures:0,lastResult:void 0}:C(L,s(s({},q),{lower:V[V.length-1],lowerOpen:!0}),U)})})})(x.trans,x.range,1e4)},!0)}return p.mutate(x);function M(C){var L,q,U,z=be.trans,V=C.keys||ds(g,C);if(V)return(C=C.type==="add"||C.type==="put"?s(s({},C),{keys:V}):s({},C)).type!=="delete"&&(C.values=u([],C.values)),C.keys&&(C.keys=u([],C.keys)),L=p,U=V,((q=C).type==="add"?Promise.resolve([]):L.getMany({trans:q.trans,keys:U,cache:"immutable"})).then(function(Q){var Y=V.map(function(te,ue){var de,he,ce,we=Q[ue],ye={onerror:null,onsuccess:null};return C.type==="delete"?O.fire.call(ye,te,we,z):C.type==="add"||we===void 0?(de=D.fire.call(ye,te,C.values[ue],z),te==null&&de!=null&&(C.keys[ue]=te=de,g.outbound||pe(C.values[ue],g.keyPath,te))):(de=fs(we,C.values[ue]),(he=G.fire.call(ye,de,te,we,z))&&(ce=C.values[ue],Object.keys(he).forEach(function(fe){j(ce,fe)?ce[fe]=he[fe]:pe(ce,fe,he[fe])}))),ye});return p.mutate(C).then(function(te){for(var ue=te.failures,de=te.results,he=te.numFailures,te=te.lastResult,ce=0;ce<V.length;++ce){var we=(de||V)[ce],ye=Y[ce];we==null?ye.onerror&&ye.onerror(ue[ce]):ye.onsuccess&&ye.onsuccess(C.type==="put"&&Q[ce]?C.values[ce]:we)}return{failures:ue,results:de,numFailures:he,lastResult:te}}).catch(function(te){return Y.forEach(function(ue){return ue.onerror&&ue.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function kl(o,h,p){try{if(!h||h.keys.length<o.length)return null;for(var g=[],x=0,E=0;x<h.keys.length&&E<o.length;++x)Ye(h.keys[x],o[E])===0&&(g.push(p?vn(h.values[x]):h.values[x]),++E);return g.length===o.length?g:null}catch{return null}}var Go={stack:"dbcore",level:-1,create:function(o){return{table:function(h){var p=o.table(h);return s(s({},p),{getMany:function(g){var x;return g.cache?(x=kl(g.keys,g.trans._cache,g.cache==="clone"))?me.resolve(x):p.getMany(g).then(function(E){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?vn(E):E},E}):p.getMany(g)},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),p.mutate(g)}})}}}};function Va(o,h){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Yo(o,h){switch(o){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Bc={stack:"dbcore",level:0,name:"Observability",create:function(o){var h=o.schema.name,p=new Jt(o.MIN_KEY,o.MAX_KEY);return s(s({},o),{transaction:function(g,x,E){if(be.subscr&&x!=="readonly")throw new ke.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return o.transaction(g,x,E)},table:function(g){function x(V){var z,V=V.query;return[z=V.index,new Jt((z=(V=V.range).lower)!=null?z:o.MIN_KEY,(z=V.upper)!=null?z:o.MAX_KEY)]}var E=o.table(g),T=E.schema,O=T.primaryKey,D=T.indexes,G=O.extractKey,M=O.outbound,C=O.autoIncrement&&D.filter(function(U){return U.compound&&U.keyPath.includes(O.keyPath)}),L=s(s({},E),{mutate:function(U){function z(xe){return xe="idb://".concat(h,"/").concat(g,"/").concat(xe),ue[xe]||(ue[xe]=new Jt)}var V,Q,Y,te=U.trans,ue=U.mutatedParts||(U.mutatedParts={}),de=z(""),he=z(":dels"),ce=U.type,ye=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[ds(O,U).filter(function(xe){return xe}),U.values]:[],we=ye[0],ye=ye[1],fe=U.trans._cache;return y(we)?(de.addKeys(we),(ce=ce==="delete"||we.length===ye.length?kl(we,fe):null)||he.addKeys(we),(ce||ye)&&(V=z,Q=ce,Y=ye,T.indexes.forEach(function(xe){var Le=V(xe.name||"");function Ve(He){return He!=null?xe.extractKey(He):null}function Ne(He){xe.multiEntry&&y(He)?He.forEach(function(mt){return Le.addKey(mt)}):Le.addKey(He)}(Q||Y).forEach(function(He,ot){var mn=Q&&Ve(Q[ot]),ot=Y&&Ve(Y[ot]);Ye(mn,ot)!==0&&(mn!=null&&Ne(mn),ot!=null)&&Ne(ot)})}))):we?(ye={from:(fe=we.lower)!=null?fe:o.MIN_KEY,to:(ce=we.upper)!=null?ce:o.MAX_KEY},he.add(ye),de.add(ye)):(de.add(p),he.add(p),T.indexes.forEach(function(xe){return z(xe.name).add(p)})),E.mutate(U).then(function(xe){return!we||U.type!=="add"&&U.type!=="put"||(de.addKeys(xe.results),C&&C.forEach(function(Le){for(var Ve=U.values.map(function(mn){return Le.extractKey(mn)}),Ne=Le.keyPath.findIndex(function(mn){return mn===O.keyPath}),He=0,mt=xe.results.length;He<mt;++He)Ve[He][Ne]=xe.results[He];z(Le.name).addKeys(Ve)})),te.mutatedParts=us(te.mutatedParts||{},ue),xe})}}),q={get:function(U){return[O,new Jt(U.key)]},getMany:function(U){return[O,new Jt().addKeys(U.keys)]},count:x,query:x,openCursor:x};return m(q).forEach(function(U){L[U]=function(z){var V=be.subscr,Q=!!V,Y=Va(be,E)&&Yo(U,z)?z.obsSet={}:V;if(Q){var te,V=function(ye){return ye="idb://".concat(h,"/").concat(g,"/").concat(ye),Y[ye]||(Y[ye]=new Jt)},ue=V(""),de=V(":dels"),Q=q[U](z),he=Q[0],Q=Q[1];if((U==="query"&&he.isPrimaryKey&&!z.values?de:V(he.name||"")).add(Q),!he.isPrimaryKey){if(U!=="count")return te=U==="query"&&M&&z.values&&E.query(s(s({},z),{values:!1})),E[U].apply(this,arguments).then(function(ye){if(U==="query"){if(M&&z.values)return te.then(function(Ve){return Ve=Ve.result,ue.addKeys(Ve),ye});var fe=z.values?ye.result.map(G):ye.result;(z.values?ue:de).addKeys(fe)}else{var xe,Le;if(U==="openCursor")return Le=z.values,(xe=ye)&&Object.create(xe,{key:{get:function(){return de.addKey(xe.primaryKey),xe.key}},primaryKey:{get:function(){var Ve=xe.primaryKey;return de.addKey(Ve),Ve}},value:{get:function(){return Le&&ue.addKey(xe.primaryKey),xe.value}}})}return ye});de.add(p)}}return E[U].apply(this,arguments)}}),L}})}};function Vo(o,h,p){var g;return p.numFailures===0?h:h.type==="deleteRange"||(g=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1,p.numFailures===g)?null:(g=s({},h),y(g.keys)&&(g.keys=g.keys.filter(function(x,E){return!(E in p.failures)})),"values"in g&&y(g.values)&&(g.values=g.values.filter(function(x,E){return!(E in p.failures)})),g)}function hs(o,h){return p=o,((g=h).lower===void 0||(g.lowerOpen?0<Ye(p,g.lower):0<=Ye(p,g.lower)))&&(p=o,(g=h).upper===void 0||(g.upperOpen?Ye(p,g.upper)<0:Ye(p,g.upper)<=0));var p,g}function Tl(o,h,p,g,x,E){var T,O,D,G,M,C;return!p||p.length===0||(T=h.query.index,O=T.multiEntry,D=h.query.range,G=g.schema.primaryKey.extractKey,M=T.extractKey,C=(T.lowLevelIndex||T).extractKey,(g=p.reduce(function(L,q){var U=L,z=[];if(q.type==="add"||q.type==="put")for(var V=new Jt,Q=q.values.length-1;0<=Q;--Q){var Y,te=q.values[Q],ue=G(te);!V.hasKey(ue)&&(Y=M(te),O&&y(Y)?Y.some(function(ye){return hs(ye,D)}):hs(Y,D))&&(V.addKey(ue),z.push(te))}switch(q.type){case"add":var de=new Jt().addKeys(h.values?L.map(function(fe){return G(fe)}):L),U=L.concat(h.values?z.filter(function(fe){return fe=G(fe),!de.hasKey(fe)&&(de.addKey(fe),!0)}):z.map(function(fe){return G(fe)}).filter(function(fe){return!de.hasKey(fe)&&(de.addKey(fe),!0)}));break;case"put":var he=new Jt().addKeys(q.values.map(function(fe){return G(fe)}));U=L.filter(function(fe){return!he.hasKey(h.values?G(fe):fe)}).concat(h.values?z:z.map(function(fe){return G(fe)}));break;case"delete":var ce=new Jt().addKeys(q.keys);U=L.filter(function(fe){return!ce.hasKey(h.values?G(fe):fe)});break;case"deleteRange":var we=q.range;U=L.filter(function(fe){return!hs(G(fe),we)})}return U},o))===o)?o:(g.sort(function(L,q){return Ye(C(L),C(q))||Ye(G(L),G(q))}),h.limit&&h.limit<1/0&&(g.length>h.limit?g.length=h.limit:o.length===h.limit&&g.length<h.limit&&(x.dirty=!0)),E?Object.freeze(g):g)}function Tr(o,h){return Ye(o.lower,h.lower)===0&&Ye(o.upper,h.upper)===0&&!!o.lowerOpen==!!h.lowerOpen&&!!o.upperOpen==!!h.upperOpen}function Ei(o,h){return((p,g,x,E)=>{if(p===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((p=Ye(p,g))===0){if(x&&E)return 0;if(x)return 1;if(E)return-1}return p})(o.lower,h.lower,o.lowerOpen,h.lowerOpen)<=0&&0<=((p,g,x,E)=>{if(p===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((p=Ye(p,g))===0){if(x&&E)return 0;if(x)return-1;if(E)return 1}return p})(o.upper,h.upper,o.upperOpen,h.upperOpen)}function qc(o,h,p,g){o.subscribers.add(p),g.addEventListener("abort",function(){var x,E;o.subscribers.delete(p),o.subscribers.size===0&&(x=o,E=h,setTimeout(function(){x.subscribers.size===0&&Ae(E,x)},3e3))})}var ms={stack:"dbcore",level:0,name:"Cache",create:function(o){var h=o.schema.name;return s(s({},o),{transaction:function(p,g,x){var E,T,O=o.transaction(p,g,x);return g==="readwrite"&&(x=(E=new AbortController).signal,O.addEventListener("abort",(T=function(D){return function(){if(E.abort(),g==="readwrite"){for(var G=new Set,M=0,C=p;M<C.length;M++){var L=C[M],q=Ya["idb://".concat(h,"/").concat(L)];if(q){var U=o.table(L),z=q.optimisticOps.filter(function(xe){return xe.trans===O});if(O._explicit&&D&&O.mutatedParts)for(var V=0,Q=Object.values(q.queries.query);V<Q.length;V++)for(var Y=0,te=(he=Q[V]).slice();Y<te.length;Y++)xl((ce=te[Y]).obsSet,O.mutatedParts)&&(Ae(he,ce),ce.subscribers.forEach(function(xe){return G.add(xe)}));else if(0<z.length){q.optimisticOps=q.optimisticOps.filter(function(xe){return xe.trans!==O});for(var ue=0,de=Object.values(q.queries.query);ue<de.length;ue++)for(var he,ce,we,ye=0,fe=(he=de[ue]).slice();ye<fe.length;ye++)(ce=fe[ye]).res!=null&&O.mutatedParts&&(D&&!ce.dirty?(we=Object.isFrozen(ce.res),we=Tl(ce.res,ce.req,z,U,ce,we),ce.dirty?(Ae(he,ce),ce.subscribers.forEach(function(xe){return G.add(xe)})):we!==ce.res&&(ce.res=we,ce.promise=me.resolve({result:we}))):(ce.dirty&&Ae(he,ce),ce.subscribers.forEach(function(xe){return G.add(xe)})))}}}G.forEach(function(xe){return xe()})}}})(!1),{signal:x}),O.addEventListener("error",T(!1),{signal:x}),O.addEventListener("complete",T(!0),{signal:x})),O},table:function(p){var g=o.table(p),x=g.schema.primaryKey;return s(s({},g),{mutate:function(E){var T,O=be.trans;return!x.outbound&&O.db._options.cache!=="disabled"&&!O.explicit&&O.idbtrans.mode==="readwrite"&&(T=Ya["idb://".concat(h,"/").concat(p)])?(O=g.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||ds(x,E).some(function(D){return D==null}))?(T.optimisticOps.push(E),E.mutatedParts&&cs(E.mutatedParts),O.then(function(D){0<D.numFailures&&(Ae(T.optimisticOps,E),(D=Vo(0,E,D))&&T.optimisticOps.push(D),E.mutatedParts)&&cs(E.mutatedParts)}),O.catch(function(){Ae(T.optimisticOps,E),E.mutatedParts&&cs(E.mutatedParts)})):O.then(function(D){var G=Vo(0,s(s({},E),{values:E.values.map(function(M,C){var L;return D.failures[C]?M:(pe(L=(L=x.keyPath)!=null&&L.includes(".")?vn(M):s({},M),x.keyPath,D.results[C]),L)})}),D);T.optimisticOps.push(G),queueMicrotask(function(){return E.mutatedParts&&cs(E.mutatedParts)})}),O):g.mutate(E)},query:function(E){var T,O,D,G,M,C,L;return Va(be,g)&&Yo("query",E)?(T=((D=be.trans)==null?void 0:D.db._options.cache)==="immutable",O=(D=be).requery,D=D.signal,C=((q,U,z,V)=>{var Q=Ya["idb://".concat(q,"/").concat(U)];if(!Q)return[];if(!(q=Q.queries[z]))return[null,!1,Q,null];var Y=q[(V.query?V.query.index.name:null)||""];if(!Y)return[null,!1,Q,null];switch(z){case"query":var te=Y.find(function(ue){return ue.req.limit===V.limit&&ue.req.values===V.values&&Tr(ue.req.query.range,V.query.range)});return te?[te,!0,Q,Y]:[Y.find(function(ue){return("limit"in ue.req?ue.req.limit:1/0)>=V.limit&&(!V.values||ue.req.values)&&Ei(ue.req.query.range,V.query.range)}),!1,Q,Y];case"count":return te=Y.find(function(ue){return Tr(ue.req.query.range,V.query.range)}),[te,!!te,Q,Y]}})(h,p,"query",E),L=C[0],G=C[2],M=C[3],L&&C[1]?L.obsSet=E.obsSet:(C=g.query(E).then(function(q){var U=q.result;if(L&&(L.res=U),T){for(var z=0,V=U.length;z<V;++z)Object.freeze(U[z]);Object.freeze(U)}else q.result=vn(U);return q}).catch(function(q){return M&&L&&Ae(M,L),Promise.reject(q)}),L={obsSet:E.obsSet,promise:C,subscribers:new Set,type:"query",req:E,dirty:!1},M?M.push(L):(M=[L],(G=G||(Ya["idb://".concat(h,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=M)),qc(L,M,O,D),L.promise.then(function(q){return{result:Tl(q.result,E,G?.optimisticOps,g,L,T)}})):g.query(E)}})}})}};function ji(o,h){return new Proxy(o,{get:function(p,g,x){return g==="db"?h:Reflect.get(p,g,x)}})}St.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ke.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new ke.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var h=this._versions,p=h.filter(function(g){return g._cfg.version===o})[0];return p||(p=new this.Version(o),h.push(p),h.sort(yl),p.stores({}),this._state.autoSchema=!1),p},St.prototype._whenReady=function(o){var h=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?o():new me(function(p,g){if(h._state.openComplete)return g(new ke.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void g(new ke.DatabaseClosed);h.open().catch(at)}h._state.dbReadyPromise.then(p,g)}).then(o)},St.prototype.use=function(x){var h=x.stack,p=x.create,g=x.level,x=x.name,E=(x&&this.unuse({stack:h,name:x}),this._middlewares[h]||(this._middlewares[h]=[]));return E.push({stack:h,create:p,level:g??10,name:x}),E.sort(function(T,O){return T.level-O.level}),this},St.prototype.unuse=function(o){var h=o.stack,p=o.name,g=o.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(x){return g?x.create!==g:!!p&&x.name!==p})),this},St.prototype.open=function(){var o=this;return Nn(Ft,function(){return zc(o)})},St.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,h=La.indexOf(this);if(0<=h&&La.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new me(function(p){o.dbReadyResolve=p}),o.openCanceller=new me(function(p,g){o.cancelOpen=g}))},St.prototype.close=function(h){var h=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,p=this._state;h?(p.isBeingOpened&&p.cancelOpen(new ke.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new ke.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},St.prototype.delete=function(o){var h=this,p=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),g=this._state;return new me(function(x,E){function T(){h.close(o);var O=h._deps.indexedDB.deleteDatabase(h.name);O.onsuccess=gt(function(){var D,G,M;D=h._deps,G=h.name,ls(M=D.indexedDB)||G===hi||gl(M,D.IDBKeyRange).delete(G).catch(at),x()}),O.onerror=Cn(E),O.onblocked=h._fireOnBlocked}if(p)throw new ke.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(T):T()})},St.prototype.backendDB=function(){return this.idbdb},St.prototype.isOpen=function(){return this.idbdb!==null},St.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},St.prototype.hasFailed=function(){return this._state.dbOpenError!==null},St.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(St.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(h){return o._allTables[h]})},enumerable:!1,configurable:!0}),St.prototype.transaction=function(){var o=(function(h,p,g){var x=arguments.length;if(x<2)throw new ke.InvalidArgument("Too few arguments");for(var E=new Array(x-1);--x;)E[x-1]=arguments[x];return g=E.pop(),[h,yn(E),g]}).apply(this,arguments);return this._transaction.apply(this,o)},St.prototype._transaction=function(o,h,p){var g,x,E=this,T=be.trans,O=(T&&T.db===this&&o.indexOf("!")===-1||(T=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(x=h.map(function(G){if(G=G instanceof E.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),o=="r"||o===ia)g=ia;else{if(o!="rw"&&o!=_a)throw new ke.InvalidArgument("Invalid transaction mode: "+o);g=_a}if(T){if(T.mode===ia&&g===_a){if(!O)throw new ke.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&x.forEach(function(G){if(T&&T.storeNames.indexOf(G)===-1){if(!O)throw new ke.SubTransaction("Table "+G+" not included in parent transaction.");T=null}}),O&&T&&!T.active&&(T=null)}}catch(G){return T?T._promise(null,function(M,C){C(G)}):ht(G)}var D=(function G(M,C,L,q,U){return me.resolve().then(function(){var Y=be.transless||be,z=M._createTransaction(C,L,M._dbSchema,q),Y=(z.explicit=!0,{trans:z,transless:Y});if(q)z.idbtrans=q.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(te){return te.name===Yt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return G(M,C,L,null,U)})):ht(te)}var V,Q=H(U),Y=(Q&&Dt(),me.follow(function(){var te;(V=U.call(z,z))&&(Q?(te=bn.bind(null,null),V.then(te,te)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=Si(V)))},Y));return(V&&typeof V.then=="function"?me.resolve(V).then(function(te){return z.active?te:ht(new ke.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Y.then(function(){return V})).then(function(te){return q&&z._resolve(),z._completion.then(function(){return te})}).catch(function(te){return z._reject(te),ht(te)})})}).bind(null,this,g,x,T,p);return T?T._promise(g,D,"lock"):be.trans?Nn(be.transless,function(){return E._whenReady(D)}):this._whenReady(D)},St.prototype.table=function(o){if(j(this._allTables,o))return this._allTables[o];throw new ke.InvalidTable("Table ".concat(o," does not exist"))};var Vn=St;function St(o,h){var p,g,x,E,T,O=this,D=(this._middlewares={},this.verno=0,St.dependencies),D=(this._options=h=s({addons:St.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},h.addons),G=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:at,dbReadyPromise:null,cancelOpen:at,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen}),M=(G.dbReadyPromise=new me(function(C){G.dbReadyResolve=C}),G.openCanceller=new me(function(C,L){G.cancelOpen=L}),this._state=G,this.name=o,this.on=yi(this,"populate","blocked","versionchange","close",{ready:[ai,at]}),this.once=function(C,L){var q=function(){for(var U=[],z=0;z<arguments.length;z++)U[z]=arguments[z];O.on(C).unsubscribe(q),L.apply(O,U)};return O.on(C,q)},this.on.ready.subscribe=re(this.on.ready.subscribe,function(C){return function(L,q){St.vip(function(){var U,z=O._state;z.openComplete?(z.dbOpenError||me.resolve().then(L),q&&C(L)):z.onReadyBeingFired?(z.onReadyBeingFired.push(L),q&&C(L)):(C(L),U=O,q||C(function V(){U.on.ready.unsubscribe(L),U.on.ready.unsubscribe(V)}))})}}),this.Collection=(p=this,Xt(Dc.prototype,function(V,z){this.db=p;var q=cl,U=null;if(z)try{q=z()}catch(Y){U=Y}var z=V._ctx,V=z.table,Q=V.hook.reading.fire;this._ctx={table:V,index:z.index,isPrimKey:!z.index||V.schema.primKey.keyPath&&z.index===V.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:z.or,valueMapper:Q!==pr?Q:null}})),this.Table=(g=this,Xt(fl.prototype,function(C,L,q){this.db=g,this._tx=q,this.name=C,this.schema=L,this.hook=g._allTables[C]?g._allTables[C].hook:yi(null,{creating:[il,at],reading:[Da,pr],updating:[Co,at],deleting:[Nc,at]})})),this.Transaction=(x=this,Xt(pl.prototype,function(C,L,q,U,z){var V=this;C!=="readonly"&&L.forEach(function(Q){Q=(Q=q[Q])==null?void 0:Q.yProps,Q&&(L=L.concat(Q.map(function(Y){return Y.updatesTable})))}),this.db=x,this.mode=C,this.storeNames=L,this.schema=q,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=yi(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(Q,Y){V._resolve=Q,V._reject=Y}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(Q){var Y=V.active;return V.active=!1,V.on.error.fire(Q),V.parent?V.parent._reject(Q):Y&&V.idbtrans&&V.idbtrans.abort(),ht(Q)})})),this.Version=(E=this,Xt(Uc.prototype,function(C){this.db=E,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(T=this,Xt(Ha.prototype,function(C,L,q){if(this.db=T,this._ctx={table:C,index:L===":id"?null:L,or:q},this._cmp=this._ascending=Ye,this._descending=function(U,z){return Ye(z,U)},this._max=function(U,z){return 0<Ye(U,z)?U:z},this._min=function(U,z){return Ye(U,z)<0?U:z},this._IDBKeyRange=T._deps.IDBKeyRange,!this._IDBKeyRange)throw new ke.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(O.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(O.name,"'. Closing db now to resume the delete request.")),O.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(O.name,"') was blocked")):console.warn("Upgrade '".concat(O.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=Sr(h.IDBKeyRange),this._createTransaction=function(C,L,q,U){return new O.Transaction(C,L,q,O._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(C){O.on("blocked").fire(C),La.filter(function(L){return L.name===O.name&&L!==O&&!L._state.vcFired}).map(function(L){return L.on("versionchange").fire(C)})},this.use(Go),this.use(ms),this.use(Bc),this.use(Lc),this.use(Ko),new Proxy(this,{get:function(C,L,q){var U;return L==="_vip"||(L==="table"?function(z){return ji(O.table(z),M)}:(U=Reflect.get(C,L,q))instanceof fl?ji(U,M):L==="tables"?U.map(function(z){return ji(z,M)}):L==="_createTransaction"?function(){return ji(U.apply(this,arguments),M)}:U)}}));this.vip=M,D.forEach(function(C){return C(O)})}var Or,Ia=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Io=(ps.prototype.subscribe=function(o,h,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:h,complete:p})},ps.prototype[Ia]=function(){return this},ps);function ps(o){this._subscribe=o}try{Or={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Or={indexedDB:null,IDBKeyRange:null}}function Xo(o){var h,p=!1,g=new Io(function(x){var E=H(o),T,O=!1,D={},G={},M={get closed(){return O},unsubscribe:function(){O||(O=!0,T&&T.abort(),C&&Qt.storagemutated.unsubscribe(q))}},C=(x.start&&x.start(M),!1),L=function(){return ba(U)},q=function(z){us(D,z),xl(G,D)&&L()},U=function(){var z,V,Q;!O&&Or.indexedDB&&(D={},z={},T&&T.abort(),T=new AbortController,Q=(Y=>{var te=ya();try{E&&Dt();var ue=_t(o,Y);return ue=E?ue.finally(bn):ue}finally{te&&Pn()}})(V={subscr:z,signal:T.signal,requery:L,querier:o,trans:null}),Promise.resolve(Q).then(function(Y){p=!0,h=Y,O||V.signal.aborted||(D={},(te=>{for(var ue in te)if(j(te,ue))return;return 1})(G=z)||C||(Qt(wr,q),C=!0),ba(function(){return!O&&x.next&&x.next(Y)}))},function(Y){p=!1,["DatabaseClosedError","AbortError"].includes(Y?.name)||O||ba(function(){O||x.error&&x.error(Y)})}))};return setTimeout(L,0),M});return g.hasValue=function(){return p},g.getValue=function(){return h},g}var Xa=Vn;function Ol(o){var h=Ea;try{Ea=!0,Qt.storagemutated.fire(o),jl(o,!0)}finally{Ea=h}}A(Xa,s(s({},ie),{delete:function(o){return new Xa(o,{addons:[]}).delete()},exists:function(o){return new Xa(o,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return h=Xa.dependencies,p=h.indexedDB,h=h.IDBKeyRange,(ls(p)?Promise.resolve(p.databases()).then(function(g){return g.map(function(x){return x.name}).filter(function(x){return x!==hi})}):gl(p,h).toCollection().primaryKeys()).then(o)}catch{return ht(new ke.MissingAPI)}var h,p},defineClass:function(){return function(o){b(this,o)}},ignoreTransaction:function(o){return be.trans?Nn(be.transless,o):o()},vip:bl,async:function(o){return function(){try{var h=Si(o.apply(this,arguments));return h&&typeof h.then=="function"?h:me.resolve(h)}catch(p){return ht(p)}}},spawn:function(o,h,p){try{var g=Si(o.apply(p,h||[]));return g&&typeof g.then=="function"?g:me.resolve(g)}catch(x){return ht(x)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(o,h){return o=me.resolve(typeof o=="function"?Xa.ignoreTransaction(o):o).timeout(h||6e4),be.trans?be.trans.waitFor(o):o},Promise:me,debug:{get:function(){return xn},set:function(o){Do(o)}},derive:J,extend:b,props:A,override:re,Events:yi,on:Qt,liveQuery:Xo,extendObservabilitySet:us,getByKeyPath:Te,setByKeyPath:pe,delByKeyPath:function(o,h){typeof h=="string"?pe(o,h,void 0):"length"in h&&[].map.call(h,function(p){pe(o,p,void 0)})},shallowClone:nt,deepClone:vn,getObjectDiff:fs,cmp:Ye,asap:ze,minKey:-1/0,addons:[],connections:La,errnames:Yt,dependencies:Or,cache:Ya,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,h,p){return o+h/Math.pow(10,2*p)})})),Xa.maxKey=Sr(Xa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qt(wr,function(o){Ea||(o=new CustomEvent(Pa,{detail:o}),Ea=!0,dispatchEvent(o),Ea=!1)}),addEventListener(Pa,function(o){o=o.detail,Ea||Ol(o)}));var Ar,Ea=!1,hn=function(){};return typeof BroadcastChannel<"u"&&((hn=function(){(Ar=new BroadcastChannel(Pa)).onmessage=function(o){return o.data&&Ol(o.data)}})(),typeof Ar.unref=="function"&&Ar.unref(),Qt(wr,function(o){Ea||Ar.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Vn.disableBfCache&&o.persisted){xn&&console.debug("Dexie: handling persisted pagehide"),Ar?.close();for(var h=0,p=La;h<p.length;h++)p[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Vn.disableBfCache&&o.persisted&&(xn&&console.debug("Dexie: handling persisted pageshow"),hn(),Ol({all:new Jt(-1/0,[[]])}))})),me.rejectionMapper=function(o,h){return!o||o instanceof Se||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ni[o.name]?o:(h=new ni[o.name](h||o.message,o),"stack"in o&&P(h,"stack",{get:function(){return this.inner.stack}}),h)},Do(xn),s(Vn,Object.freeze({__proto__:null,Dexie:Vn,Entity:Uo,PropModification:_r,RangeSet:Jt,add:function(o){return new _r({add:o})},cmp:Ye,default:Vn,liveQuery:Xo,mergeRanges:Ga,rangesOverlap:Ho,remove:function(o){return new _r({remove:o})},replacePrefix:function(o,h){return new _r({replacePrefix:[o,h]})}}),{default:Vn}),Vn})})(hc)),hc.exports}var b1=g1();const ah=sh(b1),fv=Symbol.for("Dexie"),gc=globalThis[fv]||(globalThis[fv]=ah);if(ah.semVer!==gc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ah.semVer} and ${gc.semVer}`);const{liveQuery:XE,mergeRanges:QE,rangesOverlap:JE,RangeSet:WE,cmp:ZE,Entity:FE,PropModification:ej,replacePrefix:tj,add:nj,remove:aj,DexieYProvider:rj}=gc;class _1 extends gc{athlete_summary;app_settings;athlete_levels_lookup;personal_records;muscles;equipment;exercises;exercise_muscles;exercise_equipment;routines;routine_exercises;workouts;workout_logs;constructor(){super("FitnexDB"),this.version(1).stores({athlete_summary:"user_id",app_settings:"id",athlete_levels_lookup:"id, level_name",personal_records:"[user_id+exercise_id]",muscles:"id, name, parent",equipment:"id, name",exercises:"id, name",exercise_muscles:"[exercise_id+muscle_id], muscle_id",exercise_equipment:"[exercise_id+equipment_id], equipment_id",routines:"id, name",routine_exercises:"[routine_id+exercise_id], exercise_id",workouts:"id, user_id, start_time, is_synced",workout_logs:"id, workout_id, exercise_id,is_synced, [workout_id+exercise_id+set_number]"})}}const Be=new _1,w1={async syncSummary(r){const{data:n,error:i}=await Lt.from("v_user_dashboard").select("*").eq("user_id",r).maybeSingle();if(i)throw i;return n?(await Be.athlete_summary.put(n),n):null}};let tc=!1;const ug={async syncLibrary(r=!1){if(tc&&!r)return;if(await Be.muscles.count()>0&&!r){tc=!0;return}const[i,s,u,f,m]=await Promise.all([Lt.from("muscles").select("*"),Lt.from("equipment").select("*"),Lt.from("exercises").select("*"),Lt.from("exercise_muscles").select("*"),Lt.from("exercise_equipment").select("*")]);await Be.transaction("rw",[Be.muscles,Be.equipment,Be.exercises,Be.exercise_muscles,Be.exercise_equipment],async()=>{i.data&&await Be.muscles.bulkPut(i.data),s.data&&await Be.equipment.bulkPut(s.data),u.data&&await Be.exercises.bulkPut(u.data),f.data&&await Be.exercise_muscles.bulkPut(f.data),m.data&&await Be.exercise_equipment.bulkPut(m.data)}),tc=!0},resetLock(){tc=!1}},cg=6048e5,x1=864e5,dv=Symbol.for("constructDateFrom");function hr(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&dv in r?r[dv](n):r instanceof Date?new r.constructor(n):new Date(n)}function ta(r,n){return hr(n||r,r)}function S1(r,n,i){const s=ta(r,i?.in);return isNaN(n)?hr(r,NaN):(n&&s.setDate(s.getDate()+n),s)}let E1={};function Tc(){return E1}function Yi(r,n){const i=Tc(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=ta(r,n?.in),f=u.getDay(),m=(f<s?7:0)+f-s;return u.setDate(u.getDate()-m),u.setHours(0,0,0,0),u}function bc(r,n){return Yi(r,{...n,weekStartsOn:1})}function fg(r,n){const i=ta(r,n?.in),s=i.getFullYear(),u=hr(i,0);u.setFullYear(s+1,0,4),u.setHours(0,0,0,0);const f=bc(u),m=hr(i,0);m.setFullYear(s,0,4),m.setHours(0,0,0,0);const y=bc(m);return i.getTime()>=f.getTime()?s+1:i.getTime()>=y.getTime()?s:s-1}function hv(r){const n=ta(r),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+r-+i}function dg(r,...n){const i=hr.bind(null,n.find(s=>typeof s=="object"));return n.map(i)}function _c(r,n){const i=ta(r,n?.in);return i.setHours(0,0,0,0),i}function j1(r,n,i){const[s,u]=dg(i?.in,r,n),f=_c(s),m=_c(u),y=+f-hv(f),b=+m-hv(m);return Math.round((y-b)/x1)}function k1(r,n){const i=fg(r,n),s=hr(r,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),bc(s)}function mv(r,n,i){const[s,u]=dg(i?.in,r,n);return+_c(s)==+_c(u)}function T1(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function O1(r){return!(!T1(r)&&typeof r!="number"||isNaN(+ta(r)))}function A1(r,n){const i=ta(r,n?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const N1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R1=(r,n,i)=>{let s;const u=N1[r];return typeof u=="string"?s=u:n===1?s=u.one:s=u.other.replace("{{count}}",n.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function Pd(r){return(n={})=>{const i=n.width?String(n.width):r.defaultWidth;return r.formats[i]||r.formats[r.defaultWidth]}}const C1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U1={date:Pd({formats:C1,defaultWidth:"full"}),time:Pd({formats:D1,defaultWidth:"full"}),dateTime:Pd({formats:M1,defaultWidth:"full"})},z1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L1=(r,n,i,s)=>z1[r];function fo(r){return(n,i)=>{const s=i?.context?String(i.context):"standalone";let u;if(s==="formatting"&&r.formattingValues){const m=r.defaultFormattingWidth||r.defaultWidth,y=i?.width?String(i.width):m;u=r.formattingValues[y]||r.formattingValues[m]}else{const m=r.defaultWidth,y=i?.width?String(i.width):r.defaultWidth;u=r.values[y]||r.values[m]}const f=r.argumentCallback?r.argumentCallback(n):n;return u[f]}}const B1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G1=(r,n)=>{const i=Number(r),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Y1={ordinalNumber:G1,era:fo({values:B1,defaultWidth:"wide"}),quarter:fo({values:q1,defaultWidth:"wide",argumentCallback:r=>r-1}),month:fo({values:H1,defaultWidth:"wide"}),day:fo({values:$1,defaultWidth:"wide"}),dayPeriod:fo({values:P1,defaultWidth:"wide",formattingValues:K1,defaultFormattingWidth:"wide"})};function ho(r){return(n,i={})=>{const s=i.width,u=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],f=n.match(u);if(!f)return null;const m=f[0],y=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],b=Array.isArray(y)?I1(y,j=>j.test(m)):V1(y,j=>j.test(m));let w;w=r.valueCallback?r.valueCallback(b):b,w=i.valueCallback?i.valueCallback(w):w;const S=n.slice(m.length);return{value:w,rest:S}}}function V1(r,n){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&n(r[i]))return i}function I1(r,n){for(let i=0;i<r.length;i++)if(n(r[i]))return i}function X1(r){return(n,i={})=>{const s=n.match(r.matchPattern);if(!s)return null;const u=s[0],f=n.match(r.parsePattern);if(!f)return null;let m=r.valueCallback?r.valueCallback(f[0]):f[0];m=i.valueCallback?i.valueCallback(m):m;const y=n.slice(u.length);return{value:m,rest:y}}}const Q1=/^(\d+)(th|st|nd|rd)?/i,J1=/\d+/i,W1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z1={any:[/^b/i,/^(a|c)/i]},F1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eS={any:[/1/i,/2/i,/3/i,/4/i]},tS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lS={ordinalNumber:X1({matchPattern:Q1,parsePattern:J1,valueCallback:r=>parseInt(r,10)}),era:ho({matchPatterns:W1,defaultMatchWidth:"wide",parsePatterns:Z1,defaultParseWidth:"any"}),quarter:ho({matchPatterns:F1,defaultMatchWidth:"wide",parsePatterns:eS,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ho({matchPatterns:tS,defaultMatchWidth:"wide",parsePatterns:nS,defaultParseWidth:"any"}),day:ho({matchPatterns:aS,defaultMatchWidth:"wide",parsePatterns:rS,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:iS,defaultMatchWidth:"any",parsePatterns:sS,defaultParseWidth:"any"})},oS={code:"en-US",formatDistance:R1,formatLong:U1,formatRelative:L1,localize:Y1,match:lS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uS(r,n){const i=ta(r,n?.in);return j1(i,A1(i))+1}function cS(r,n){const i=ta(r,n?.in),s=+bc(i)-+k1(i);return Math.round(s/cg)+1}function hg(r,n){const i=ta(r,n?.in),s=i.getFullYear(),u=Tc(),f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,m=hr(n?.in||r,0);m.setFullYear(s+1,0,f),m.setHours(0,0,0,0);const y=Yi(m,n),b=hr(n?.in||r,0);b.setFullYear(s,0,f),b.setHours(0,0,0,0);const w=Yi(b,n);return+i>=+y?s+1:+i>=+w?s:s-1}function fS(r,n){const i=Tc(),s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=hg(r,n),f=hr(n?.in||r,0);return f.setFullYear(u,0,s),f.setHours(0,0,0,0),Yi(f,n)}function dS(r,n){const i=ta(r,n?.in),s=+Yi(i,n)-+fS(i,n);return Math.round(s/cg)+1}function dt(r,n){const i=r<0?"-":"",s=Math.abs(r).toString().padStart(n,"0");return i+s}const Fr={y(r,n){const i=r.getFullYear(),s=i>0?i:1-i;return dt(n==="yy"?s%100:s,n.length)},M(r,n){const i=r.getMonth();return n==="M"?String(i+1):dt(i+1,2)},d(r,n){return dt(r.getDate(),n.length)},a(r,n){const i=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(r,n){return dt(r.getHours()%12||12,n.length)},H(r,n){return dt(r.getHours(),n.length)},m(r,n){return dt(r.getMinutes(),n.length)},s(r,n){return dt(r.getSeconds(),n.length)},S(r,n){const i=n.length,s=r.getMilliseconds(),u=Math.trunc(s*Math.pow(10,i-3));return dt(u,n.length)}},Is={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pv={G:function(r,n,i){const s=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});default:return i.era(s,{width:"wide"})}},y:function(r,n,i){if(n==="yo"){const s=r.getFullYear(),u=s>0?s:1-s;return i.ordinalNumber(u,{unit:"year"})}return Fr.y(r,n)},Y:function(r,n,i,s){const u=hg(r,s),f=u>0?u:1-u;if(n==="YY"){const m=f%100;return dt(m,2)}return n==="Yo"?i.ordinalNumber(f,{unit:"year"}):dt(f,n.length)},R:function(r,n){const i=fg(r);return dt(i,n.length)},u:function(r,n){const i=r.getFullYear();return dt(i,n.length)},Q:function(r,n,i){const s=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return dt(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,n,i){const s=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return dt(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,n,i){const s=r.getMonth();switch(n){case"M":case"MM":return Fr.M(r,n);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(r,n,i){const s=r.getMonth();switch(n){case"L":return String(s+1);case"LL":return dt(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(r,n,i,s){const u=dS(r,s);return n==="wo"?i.ordinalNumber(u,{unit:"week"}):dt(u,n.length)},I:function(r,n,i){const s=cS(r);return n==="Io"?i.ordinalNumber(s,{unit:"week"}):dt(s,n.length)},d:function(r,n,i){return n==="do"?i.ordinalNumber(r.getDate(),{unit:"date"}):Fr.d(r,n)},D:function(r,n,i){const s=uS(r);return n==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):dt(s,n.length)},E:function(r,n,i){const s=r.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(r,n,i,s){const u=r.getDay(),f=(u-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(f);case"ee":return dt(f,2);case"eo":return i.ordinalNumber(f,{unit:"day"});case"eee":return i.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(u,{width:"short",context:"formatting"});default:return i.day(u,{width:"wide",context:"formatting"})}},c:function(r,n,i,s){const u=r.getDay(),f=(u-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(f);case"cc":return dt(f,n.length);case"co":return i.ordinalNumber(f,{unit:"day"});case"ccc":return i.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(u,{width:"narrow",context:"standalone"});case"cccccc":return i.day(u,{width:"short",context:"standalone"});default:return i.day(u,{width:"wide",context:"standalone"})}},i:function(r,n,i){const s=r.getDay(),u=s===0?7:s;switch(n){case"i":return String(u);case"ii":return dt(u,n.length);case"io":return i.ordinalNumber(u,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(r,n,i){const u=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(r,n,i){const s=r.getHours();let u;switch(s===12?u=Is.noon:s===0?u=Is.midnight:u=s/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(r,n,i){const s=r.getHours();let u;switch(s>=17?u=Is.evening:s>=12?u=Is.afternoon:s>=4?u=Is.morning:u=Is.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(r,n,i){if(n==="ho"){let s=r.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return Fr.h(r,n)},H:function(r,n,i){return n==="Ho"?i.ordinalNumber(r.getHours(),{unit:"hour"}):Fr.H(r,n)},K:function(r,n,i){const s=r.getHours()%12;return n==="Ko"?i.ordinalNumber(s,{unit:"hour"}):dt(s,n.length)},k:function(r,n,i){let s=r.getHours();return s===0&&(s=24),n==="ko"?i.ordinalNumber(s,{unit:"hour"}):dt(s,n.length)},m:function(r,n,i){return n==="mo"?i.ordinalNumber(r.getMinutes(),{unit:"minute"}):Fr.m(r,n)},s:function(r,n,i){return n==="so"?i.ordinalNumber(r.getSeconds(),{unit:"second"}):Fr.s(r,n)},S:function(r,n){return Fr.S(r,n)},X:function(r,n,i){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return vv(s);case"XXXX":case"XX":return $i(s);default:return $i(s,":")}},x:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"x":return vv(s);case"xxxx":case"xx":return $i(s);default:return $i(s,":")}},O:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+yv(s,":");default:return"GMT"+$i(s,":")}},z:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+yv(s,":");default:return"GMT"+$i(s,":")}},t:function(r,n,i){const s=Math.trunc(+r/1e3);return dt(s,n.length)},T:function(r,n,i){return dt(+r,n.length)}};function yv(r,n=""){const i=r>0?"-":"+",s=Math.abs(r),u=Math.trunc(s/60),f=s%60;return f===0?i+String(u):i+String(u)+n+dt(f,2)}function vv(r,n){return r%60===0?(r>0?"-":"+")+dt(Math.abs(r)/60,2):$i(r,n)}function $i(r,n=""){const i=r>0?"-":"+",s=Math.abs(r),u=dt(Math.trunc(s/60),2),f=dt(s%60,2);return i+u+n+f}const gv=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},mg=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},hS=(r,n)=>{const i=r.match(/(P+)(p+)?/)||[],s=i[1],u=i[2];if(!u)return gv(r,n);let f;switch(s){case"P":f=n.dateTime({width:"short"});break;case"PP":f=n.dateTime({width:"medium"});break;case"PPP":f=n.dateTime({width:"long"});break;default:f=n.dateTime({width:"full"});break}return f.replace("{{date}}",gv(s,n)).replace("{{time}}",mg(u,n))},mS={p:mg,P:hS},pS=/^D+$/,yS=/^Y+$/,vS=["D","DD","YY","YYYY"];function gS(r){return pS.test(r)}function bS(r){return yS.test(r)}function _S(r,n,i){const s=wS(r,n,i);if(console.warn(s),vS.includes(r))throw new RangeError(s)}function wS(r,n,i){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ES=/^'([^]*?)'?$/,jS=/''/g,kS=/[a-zA-Z]/;function nc(r,n,i){const s=Tc(),u=s.locale??oS,f=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,m=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,y=ta(r,i?.in);if(!O1(y))throw new RangeError("Invalid time value");let b=n.match(SS).map(S=>{const j=S[0];if(j==="p"||j==="P"){const A=mS[j];return A(S,u.formatLong)}return S}).join("").match(xS).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const j=S[0];if(j==="'")return{isToken:!1,value:TS(S)};if(pv[j])return{isToken:!0,value:S};if(j.match(kS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:S}});u.localize.preprocessor&&(b=u.localize.preprocessor(y,b));const w={firstWeekContainsDate:f,weekStartsOn:m,locale:u};return b.map(S=>{if(!S.isToken)return S.value;const j=S.value;(bS(j)||gS(j))&&_S(j,n,String(r));const A=pv[j[0]];return A(y,j,u.localize,w)}).join("")}function TS(r){const n=r.match(ES);return n?n[1].replace(jS,"'"):r}let ac=!1;const pg={async syncRecentWorkouts(r,n=!1){if(ac&&!n)return;const i=Yi(new Date,{weekStartsOn:1}).toISOString();if(await Be.workouts.where("start_time").above(i).count()>0&&!n){ac=!0;return}const{data:u}=await Lt.from("workouts").select("*").eq("user_id",r).gte("start_time",i);u&&await Be.workouts.bulkPut(u),ac=!0},resetLock(){ac=!1}};let rc=!1;const yg={async syncRoutine(r,n=!1){if(rc&&!n)return;if(await Be.routines.count()>0&&!n){rc=!0;return}const[s,u]=await Promise.all([Lt.from("routines").select("*").eq("user_id",r),Lt.from("routine_exercises").select("*")]);await Be.transaction("rw",[Be.routines,Be.routine_exercises],async()=>{s.data&&await Be.routines.bulkPut(s.data),u.data&&await Be.routine_exercises.bulkPut(u.data)}),rc=!0},resetLock(){rc=!1}};let ic=!1;const vh={async syncMetadata(r=!1){if(ic&&!r)return;if(await Be.athlete_levels_lookup.count()>0&&!r){ic=!0;return}const{data:i,error:s}=await Lt.from("athlete_levels_lookup").select("*").order("display_order");if(s){console.error("Metadata sync error:",s);return}i&&(await Be.athlete_levels_lookup.bulkPut(i),ic=!0)},async updateLevel(r){return await Lt.from("athlete_level").upsert(r)},resetLock(){ic=!1}},vg=$.createContext(void 0),OS=({children:r})=>{const[n,i]=$.useState(null),[s,u]=$.useState(null),[f,m]=$.useState(!0),[y,b]=$.useState(null),w=async(A,N=!1)=>{b(null),m(!0);try{if(!N){const J=await Be.athlete_summary.get(A);if(J){u(J),m(!1);return}}const P=await w1.syncSummary(A);u(P)}catch(P){console.error("Fitnex Auth Error:",P),b(P.message||"Failed to sync athlete data"),u(null)}finally{m(!1)}};$.useEffect(()=>{const{data:{subscription:A}}=Lt.auth.onAuthStateChange(async(N,P)=>{P?.user?(i(P.user.id),await w(P.user.id)):(i(null),u(null),m(!1))});return()=>A.unsubscribe()},[]);const S=async()=>{n&&await w(n,!0)},j=async()=>{try{const A=await Be.workout_logs.where("is_synced").equals(0).count();return A>0?{success:!1,message:`Wait! ${A} sets are not synced.`}:(ug.resetLock(),pg.resetLock(),yg.resetLock(),vh.resetLock(),await Lt.auth.signOut(),await Be.delete(),i(null),u(null),window.location.href="/fitnex/login",{success:!0})}catch(A){return console.error("Sign-out error:",A),{success:!1,message:A.message}}};return v.jsx(vg.Provider,{value:{user_id:n,athlete:s,loading:f,error:y,signOut:j,refreshAthlete:S},children:r})},Ca=()=>{const r=$.useContext(vg);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},Zs=({label:r,...n})=>v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1 ml-1",children:r}),v.jsx("input",{...n,className:"w-full h-12 bg-slate-900 border border-slate-800 rounded-xl px-4 focus:outline-none focus:ring-2 focus:ring-brand transition-all"})]}),bv="/fitnex/logo.webp",AS=()=>{const r=Ra(),[n,i]=$.useState(""),[s,u]=$.useState(""),[f,m]=$.useState(!1),[y,b]=$.useState(null),w=async S=>{S.preventDefault(),m(!0),b(null);const{error:j}=await Lt.auth.signInWithPassword({email:n,password:s});j?(b(j.message),m(!1)):r("/dashboard",{replace:!0})};return v.jsx("div",{className:"safe-ios-top h-screen w-full bg-black overflow-hidden animate-login",children:v.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row",children:[v.jsx("div",{className:"hidden lg:flex w-1/2 items-center justify-center bg-gradient-to-br from-brand to-brand/70",children:v.jsxs("div",{className:"flex flex-col items-center text-black space-y-3",children:[v.jsx("img",{src:bv,className:"w-[300px]"}),v.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"TRACK-FIT"}),v.jsx("p",{className:"tracking-[0.35em] font-bold opacity-70",children:"PRO EDITION"})]})}),v.jsxs("div",{className:"flex lg:hidden h-full flex-col items-center justify-center px-6",children:[v.jsx("img",{src:bv,className:"w-56 mb-6"}),v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),v.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"h-px flex-1 bg-white/10"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),v.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsx(Zs,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),v.jsx(Zs,{label:"Password",type:"password",value:s,onChange:S=>u(S.target.value),placeholder:"",required:!0}),y&&v.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),v.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})]}),v.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center px-6",children:v.jsxs("div",{className:"w-full max-w-sm",children:[v.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),v.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"h-px flex-1 bg-white/10"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),v.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsx(Zs,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),v.jsx(Zs,{label:"Password",type:"password",value:s,onChange:S=>u(S.target.value),placeholder:"",required:!0}),y&&v.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),v.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})})]})})},rh={async getLatestMetrics(){try{const{data:r,error:n}=await Lt.from("v_latest_body_metrics").select("*").maybeSingle();if(n)throw console.error("Error fetching latest body metrics:",n.message),n;return r??null}catch(r){throw console.error("Unexpected error in getLatestMetrics:",r),r}},async updateMetrics(r){try{const{error:n}=await Lt.from("body_metrics").upsert(r);if(n)throw console.error("Error updating body metrics:",n.message),n;return!0}catch(n){throw console.error("Unexpected error in updateMetrics:",n),n}}},gg={async updateProfile(r){return await Lt.from("user_profile").upsert(r)}},NS=()=>{const{refreshAthlete:r}=Ca();return{saveOnboarding:async(i,s,u)=>{try{const m=(await Promise.all([gg.updateProfile(i),rh.updateMetrics(s),vh.updateLevel(u)])).find(y=>y.error)?.error;if(m)throw new Error(m.message);return await r(),{success:!0}}catch(f){return console.error("Onboarding Service Error:",f),{success:!1,error:f.message}}}}};const bg=(...r)=>r.filter((n,i,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===i).join(" ").trim();const RS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const CS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,s)=>s?s.toUpperCase():i.toLowerCase());const _v=r=>{const n=CS(r);return n.charAt(0).toUpperCase()+n.slice(1)};var DS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MS=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const US=$.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:f,iconNode:m,...y},b)=>$.createElement("svg",{ref:b,...DS,width:n,height:n,stroke:r,strokeWidth:s?Number(i)*24/Number(n):i,className:bg("lucide",u),...!f&&!MS(y)&&{"aria-hidden":"true"},...y},[...m.map(([w,S])=>$.createElement(w,S)),...Array.isArray(f)?f:[f]]));const Me=(r,n)=>{const i=$.forwardRef(({className:s,...u},f)=>$.createElement(US,{ref:f,iconNode:n,className:bg(`lucide-${RS(_v(r))}`,`lucide-${r}`,s),...u}));return i.displayName=_v(r),i};const zS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_g=Me("activity",zS);const LS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BS=Me("arrow-left",LS);const qS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],HS=Me("award",qS);const $S=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],PS=Me("calendar",$S);const KS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],GS=Me("chart-no-axes-column",KS);const YS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VS=Me("check",YS);const IS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gh=Me("chevron-down",IS);const XS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QS=Me("chevron-left",XS);const JS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ko=Me("chevron-right",JS);const WS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ZS=Me("circle-check",WS);const FS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],e2=Me("circle-user",FS);const t2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bh=Me("clipboard-list",t2);const n2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],a2=Me("clock",n2);const r2=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Oc=Me("dumbbell",r2);const i2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],s2=Me("flame",i2);const l2=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],o2=Me("git-commit-horizontal",l2);const u2=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],c2=Me("git-compare",u2);const f2=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],wg=Me("git-merge",f2);const d2=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],h2=Me("hash",d2);const m2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],p2=Me("heart",m2);const y2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],v2=Me("house",y2);const g2=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],xg=Me("library",g2);const b2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_2=Me("loader-circle",b2);const w2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x2=Me("lock",w2);const S2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sg=Me("log-out",S2);const E2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],j2=Me("moon",E2);const k2=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],T2=Me("paintbrush",k2);const O2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],A2=Me("palette",O2);const N2=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],R2=Me("percent",N2);const C2=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],D2=Me("pipette",C2);const M2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],U2=Me("play",M2);const z2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Eg=Me("plus",z2);const L2=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ih=Me("refresh-ccw",L2);const B2=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jg=Me("ruler",B2);const q2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_h=Me("save",q2);const H2=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],kg=Me("scale",H2);const $2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P2=Me("search",$2);const K2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],G2=Me("settings",K2);const Y2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wh=Me("sparkles",Y2);const V2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tg=Me("star",V2);const I2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],X2=Me("sun",I2);const Q2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],No=Me("target",Q2);const J2=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],W2=Me("timer",J2);const Z2=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],F2=Me("trending-up",Z2);const eE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rl=Me("trophy",eE);const tE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=Me("user",tE);const nE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aE=Me("users",nE);const rE=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],iE=Me("wind",rE);const sE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lE=Me("x",sE);const oE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ac=Me("zap",oE),uE=({value:r,onChange:n})=>{const i=[{id:"male",label:"Male",icon:v.jsx(Ro,{size:32})},{id:"female",label:"Female",icon:v.jsx(e2,{size:32})},{id:"other",label:"Other",icon:v.jsx(aE,{size:32})}];return v.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:i.map(s=>v.jsxs("button",{type:"button",onClick:()=>n(s.id),className:`flex items-center gap-6 p-6 rounded-3xl border-2 transition-all active:scale-95 ${r===s.id?"border-brand bg-brand/10 text-brand":"border-slate-800 bg-slate-900/50 text-slate-500"}`,children:[v.jsx("div",{className:`p-4 rounded-2xl ${r===s.id?"bg-brand text-white shadow-lg shadow-brand/30":"bg-slate-800"}`,children:s.icon}),v.jsx("span",{className:"text-xl font-bold uppercase tracking-tight",children:s.label})]},s.id))})},Kd=({min:r,max:n,value:i,onChange:s,unit:u})=>{const f=$.useRef(null),m=20,y=()=>{if(!f.current)return;const{scrollLeft:b}=f.current,w=Math.round(b/m),S=r+w;S!==i&&S>=r&&S<=n&&s(S)};return $.useEffect(()=>{f.current&&(f.current.scrollLeft=(i-r)*m)},[]),v.jsxs("div",{className:"flex flex-col items-center w-full py-6 select-none overflow-hidden",children:[v.jsxs("div",{className:"text-7xl font-black mb-4 flex items-baseline gap-2 tabular-nums",children:[i," ",v.jsx("span",{className:"text-2xl text-brand font-bold uppercase",children:u})]}),v.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 flex justify-center pointer-events-none z-20",children:v.jsx("div",{className:"w-1.5 h-24 bg-brand rounded-full shadow-[0_0_20px_rgba(14,165,233,0.8)]"})}),v.jsxs("div",{ref:f,onScroll:y,className:"w-full flex overflow-x-auto snap-x snap-mandatory no-scrollbar",children:[v.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginLeft:`-${m/2}px`}}),Array.from({length:n-r+1},(b,w)=>r+w).map(b=>v.jsxs("div",{className:"flex flex-col items-center justify-end flex-shrink-0 snap-center z-10",style:{width:`${m}px`},children:[v.jsx("div",{className:`w-1 rounded-full mb-3 transition-all duration-150 ${b===i?"bg-brand h-20 opacity-100 scale-x-150":b%5===0?"h-10 bg-slate-500 opacity-60":"h-6 bg-slate-800 opacity-40"}`}),b%5===0&&v.jsx("span",{className:`text-[10px] font-black transition-colors ${b===i?"text-brand":"text-slate-600"}`,children:b})]},b)),v.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginRight:`-${m/2}px`}})]})]})]})},cE=({value:r,onChange:n})=>{const[i,s]=$.useState([]);$.useEffect(()=>{(async()=>{const{data:m}=await Lt.from("athlete_levels_lookup").select("*").eq("status",!0).order("display_order",{ascending:!0});m&&s(m)})()},[]);const u=f=>{const m=Math.floor(f/2);if(m===0)return"Beginner";if(m<30)return`${m} Day${m>1?"s":""} Experience`;const y=Math.floor(m/30.44);if(y<12)return`${y} Month${y>1?"s":""} Experience`;const b=Math.floor(y/12),w=y%12;return w===0?`${b} Year${b>1?"s":""} Experience`:`${b}y ${w}m Experience`};return v.jsxs("div",{className:"relative w-full h-[380px]",children:[v.jsx("div",{className:"h-full overflow-y-auto pr-2 space-y-4 no-scrollbar pb-10",children:i.map(f=>v.jsxs("button",{onClick:()=>n(f.level_name,f.min_points),className:`w-full flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-95 text-left ${r===f.level_name?"border-brand bg-brand/10 shadow-lg":"border-slate-800 bg-slate-900/40"}`,children:[v.jsx("div",{className:`p-3 rounded-2xl ${r===f.level_name?"bg-brand text-white":"bg-slate-800 text-slate-500"}`,children:f.multiplier>1.8?v.jsx(rl,{size:24}):f.multiplier>1.2?v.jsx(Tg,{size:24}):v.jsx(Ac,{size:24})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("span",{className:`text-lg font-black block uppercase tracking-tight ${r===f.level_name?"text-white":"text-slate-300"}`,children:f.level_name}),v.jsx("span",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-wider",children:u(f.min_points)})]})]},f.id))}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black to-transparent pointer-events-none"})]})},fE=()=>{const{user_id:r,refreshProfile:n}=Ca(),{saveOnboarding:i}=NS(),[s,u]=$.useState(1),[f,m]=$.useState(!1),[y,b]=$.useState({name:"",gender:"male",birthdate:"",height:175,current_weight:80,target_weight:75,target_workout_days:4,selected_level:"Novice",initial_points:0}),w=$.useMemo(()=>{const N=y.height/100,P=parseFloat((y.current_weight/(N*N)).toFixed(1));return P<18.5?{val:P,label:"Underweight",color:"text-yellow-500"}:P<25?{val:P,label:"Healthy",color:"text-brand"}:P<30?{val:P,label:"Overweight",color:"text-orange-500"}:{val:P,label:"Obese",color:"text-red-500"}},[y.height,y.current_weight]),S=y.current_weight-y.target_weight,j=$.useMemo(()=>S>0?`That's a ${S}kg loss plan!`:S<0?`Targeting a ${Math.abs(S)}kg gain!`:"Staying steady and strong!",[S]),A=async()=>{if(r){m(!0);try{await i({user_id:r,name:y.name,gender:y.gender,birthdate:y.birthdate,target_weight:y.target_weight,target_days_per_week:y.target_workout_days,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},y.current_weight,y.height,y.selected_level,y.initial_points),await n()}catch(N){console.error("Onboarding Error:",N)}finally{m(!1)}}};return v.jsxs("div",{className:"flex flex-col h-screen bg-transparent text-white pt-safe overflow-hidden",children:[v.jsx("div",{className:"flex-none h-1 w-full bg-slate-900/30",children:v.jsx("div",{className:"h-full bg-brand transition-all duration-700 shadow-[0_0_15px_#0ea5e9]",style:{width:`${s/6*100}%`}})}),v.jsx("div",{className:"flex-1 overflow-y-auto touch-pan-y no-scrollbar px-8 pt-8",children:v.jsxs("div",{className:"min-h-full flex flex-col",children:[s===1&&v.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[v.jsxs("header",{className:"space-y-1",children:[v.jsxs("h1",{className:"text-4xl font-black uppercase leading-tight italic tracking-tighter",children:["First, ",v.jsx("br",{})," the ",v.jsx("span",{className:"text-brand",children:"Basics"})]}),v.jsx("p",{className:"text-slate-400 font-medium italic",children:"What should we call you?"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx(Zs,{label:"FULL NAME",value:y.name,onChange:N=>b({...y,name:N.target.value}),placeholder:"John Doe"}),v.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Gender"}),v.jsx(uE,{value:y.gender,onChange:N=>b({...y,gender:N})}),v.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Birthday"}),v.jsx(Zs,{label:"BIRTH DATE",type:"date",value:y.birthdate,onChange:N=>b({...y,birthdate:N.target.value})})]})]}),s===2&&v.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[v.jsx(wh,{className:"mx-auto mb-4 text-brand animate-pulse",size:32}),v.jsxs("h1",{className:"text-3xl font-black uppercase italic tracking-tight",children:["Nice to meet you, ",v.jsx("br",{}),v.jsxs("span",{className:"text-brand",children:[y.name.split(" ")[0]||"Athlete","!"]})]}),v.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"How tall are you?"}),v.jsx(Kd,{min:100,max:250,value:y.height,unit:"cm",onChange:N=>b({...y,height:N})})]}),s===3&&v.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[v.jsx("h1",{className:"text-3xl font-black uppercase italic text-white tracking-tight",children:"Current Weight"}),v.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"Your starting point today"}),v.jsx(Kd,{min:30,max:200,value:y.current_weight,unit:"kg",onChange:N=>b({...y,current_weight:N})}),v.jsxs("div",{className:"mt-8 bg-slate-900/40 border border-slate-800 p-6 rounded-[2rem] flex justify-between items-center backdrop-blur-md",children:[v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest",children:"BMI Index"}),v.jsx("p",{className:`text-lg font-black italic ${w.color}`,children:w.label})]}),v.jsx("div",{className:"text-5xl font-black italic tabular-nums text-white",children:w.val})]})]}),s===4&&v.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[v.jsx(No,{className:"mx-auto mb-4 text-brand",size:40}),v.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Target Weight"}),v.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"What is your dream goal?"}),v.jsx(Kd,{min:30,max:200,value:y.target_weight,unit:"kg",onChange:N=>b({...y,target_weight:N})}),v.jsx("div",{className:"mt-8 py-3 px-8 bg-brand/10 border border-brand/20 rounded-full inline-block mx-auto animate-in zoom-in duration-500",children:v.jsx("span",{className:"text-brand font-black uppercase tracking-tighter text-xs italic",children:j})})]}),s===5&&v.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[v.jsx("h1",{className:"text-4xl font-black uppercase mb-4 leading-tight italic",children:"Commitment"}),v.jsx("p",{className:"text-slate-400 font-medium mb-12 italic",children:"How many days a week will you train?"}),v.jsx("div",{className:"flex justify-between items-center bg-slate-900/40 p-6 rounded-[2.5rem] border border-slate-800",children:[1,2,3,4,5,6,7].map(N=>v.jsx("button",{onClick:()=>b({...y,target_workout_days:N}),className:`w-10 h-10 rounded-full font-black transition-all ${y.target_workout_days===N?"bg-brand text-white scale-125 shadow-lg shadow-brand/40":"text-slate-600"}`,children:N},N))})]}),s===6&&v.jsxs("div",{className:"flex-1 flex flex-col justify-center py-6",children:[v.jsxs("header",{className:"text-center mb-8",children:[v.jsx(rl,{className:"mx-auto mb-2 text-brand",size:32}),v.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Experience"}),v.jsx("p",{className:"text-slate-400 font-medium italic",children:"Where should we start you off?"})]}),v.jsx(cE,{value:y.selected_level,onChange:(N,P)=>b({...y,selected_level:N,initial_points:P})})]}),v.jsx("div",{className:"h-6 flex-none"})]})}),v.jsxs("footer",{className:"flex-none px-8 pt-2 pb-10 flex gap-3 bg-transparent mt-auto",children:[s>1&&v.jsx("button",{onClick:()=>u(N=>N-1),className:"h-14 w-14 bg-slate-900/80 rounded-2xl border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:v.jsx(QS,{size:24})}),v.jsx("button",{onClick:s===6?A:()=>u(N=>N+1),disabled:f||s===1&&!y.name,className:"h-14 flex-1 bg-brand text-white rounded-2xl font-black uppercase tracking-widest italic shadow-lg shadow-brand/20 active:scale-[0.98] transition-all disabled:opacity-30",children:f?v.jsx(_2,{className:"animate-spin"}):v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("span",{children:s===6?"Finish":"Continue"}),s<6&&v.jsx(ko,{size:18,strokeWidth:3})]})})]})]})},Og=$.createContext(void 0),dE=({children:r})=>{const[n,i]=$.useState(!1),s=()=>i(!0),u=()=>i(!1);return v.jsx(Og.Provider,{value:{isSidebarOpen:n,openSidebar:s,closeSidebar:u},children:r})},Ag=()=>{const r=$.useContext(Og);if(!r)throw new Error("useUI must be used within UIProvider");return r},hE=()=>{const{athlete:r}=Ca(),{openSidebar:n}=Ag(),i=()=>{const u=new Date().getHours();return u<12?"Good morning,":u<17?"Good afternoon,":"Good evening,"},s=r?.name?r.name.split(" ")[0].charAt(0).toUpperCase()+r.name.split(" ")[0].slice(1).toLowerCase():"Athlete";return v.jsxs("header",{className:"pt-4 pb-4 space-y-6 ios-no-top",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsxs("p",{className:"flex items-center gap-1.5 text-brand font-black italic text-[11px] uppercase tracking-widest",children:[v.jsx(wh,{size:12,strokeWidth:3}),i()]}),v.jsxs("h1",{className:"text-2xl font-black text-white tracking-tight",children:[s,"!"]})]}),v.jsx("button",{className:"w-12 h-12 rounded-2xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:v.jsx(PS,{size:22})})]}),v.jsxs("button",{onClick:n,className:"w-full bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-5 rounded-[2.5rem] text-left transition-all active:scale-[0.98]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-brand/10 rounded-xl",children:v.jsx(rl,{size:20,className:"text-brand"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Athlete Rank"}),v.jsx("p",{className:"text-lg font-black text-white uppercase italic",children:r?.current_level||"Novice"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Points"}),v.jsx("p",{className:"text-lg font-black text-brand italic",children:r?.level_points||0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-tighter",children:[v.jsx("span",{className:"text-slate-400",children:"Progress to next rank"}),v.jsxs("span",{className:"text-brand",children:[r?.level_completion_percent||0,"%"]})]}),v.jsx("div",{className:"h-2 w-full bg-black rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-brand transition-all duration-1000 shadow-[0_0_12px_var(--brand-primary)]",style:{width:`${r?.level_completion_percent||0}%`}})})]})]})]})},mE=()=>{const r=new Date,n=[new Date().toISOString()],i=$.useMemo(()=>{const s=Yi(r,{weekStartsOn:1});return Array.from({length:7}).map((u,f)=>S1(s,f))},[]);return v.jsx("section",{className:"mt-2",children:v.jsxs("div",{className:"bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-6 rounded-[2.5rem]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Weekly Activity"}),v.jsx("div",{className:"px-3 py-1 bg-black/40 rounded-full border border-slate-800",children:v.jsxs("span",{className:"text-[10px] font-black uppercase text-brand italic",children:[nc(i[0],"MMM d"),"  ",nc(i[6],"MMM d")]})})]}),v.jsx("div",{className:"flex justify-between items-center",children:i.map(s=>{const u=mv(s,r),f=n.some(m=>mv(new Date(m),s));return v.jsxs("div",{className:"flex flex-col items-center gap-3",children:[v.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter ${u?"text-brand":"text-slate-600"}`,children:nc(s,"EEE")}),v.jsxs("div",{className:"relative",children:[f?v.jsx("div",{className:"bg-brand rounded-full p-1 shadow-[0_0_15px_rgba(14,165,233,0.3)] animate-in zoom-in",children:v.jsx(ZS,{size:20,className:"text-white"})}):v.jsx("div",{className:`w-9 h-9 rounded-2xl border-2 flex items-center justify-center transition-all ${u?"border-brand bg-brand/5 shadow-[0_0_10px_rgba(14,165,233,0.15)]":"border-slate-800 bg-black/40"}`,children:v.jsx("span",{className:`text-[11px] font-black ${u?"text-white":"text-slate-700"}`,children:nc(s,"d")})}),u&&!f&&v.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-brand rounded-full shadow-[0_0_5px_#0ea5e9] animate-pulse"})]})]},s.toString())})})]})})},pE=[{id:"strength",name:"Strength",icon:Oc,color:"bg-orange-500",bg:"from-orange-500/20"},{id:"hiit",name:"HIIT",icon:Ac,color:"bg-yellow-500",bg:"from-yellow-500/20"},{id:"cardio",name:"Cardio",icon:p2,color:"bg-red-500",bg:"from-red-500/20"},{id:"endurance",name:"Endurance",icon:W2,color:"bg-blue-500",bg:"from-blue-500/20"},{id:"mobility",name:"Mobility",icon:iE,color:"bg-emerald-500",bg:"from-emerald-500/20"}],yE=()=>v.jsxs("section",{className:"mt-8 space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Training Focus"}),v.jsx("button",{className:"text-[10px] font-black uppercase text-brand",children:"Explore All"})]}),v.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:pE.map(r=>v.jsxs("button",{className:"flex-shrink-0 group relative w-32 h-40 bg-gradient-to-br to-slate-950 border border-slate-800 rounded-[2rem] overflow-hidden transition-all active:scale-95",children:[v.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${r.bg} to-transparent opacity-40 group-hover:opacity-60 transition-opacity`}),v.jsxs("div",{className:"relative h-full flex flex-col items-center justify-between py-6",children:[v.jsx("div",{className:`w-12 h-12 rounded-2xl ${r.color} flex items-center justify-center shadow-lg`,children:v.jsx(r.icon,{size:24,className:"text-black"})}),v.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white group-hover:text-brand transition-colors",children:r.name})]})]},r.id))})]}),vE=()=>v.jsxs("div",{className:"px-6 space-y-4 pb-6",children:[v.jsx(hE,{}),v.jsx(mE,{}),v.jsx(yE,{}),v.jsxs("section",{className:"mt-6 space-y-4",children:[v.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Recommended Today"}),v.jsxs("div",{className:"group relative w-full h-44 border border-slate-800 rounded-[2.5rem] overflow-hidden transition-all active:scale-[0.98]",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-30 group-hover:scale-110 transition-transform duration-700"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"}),v.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-[10px] font-black uppercase text-brand tracking-widest",children:"Advanced  45 Min"}),v.jsx("h4",{className:"text-xl font-black uppercase italic leading-none",children:"Full Body Power"})]}),v.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-black",children:v.jsx(Ac,{size:20,fill:"currentColor"})})]})]})]})]}),gE=()=>{const r=Ra(),n=Na(),i=[{icon:v2,label:"Home",path:"/dashboard"},{icon:xg,label:"Library",path:"/library"},{icon:bh,label:"Logs",path:"/logs"},{icon:GS,label:"Stats",path:"/stats"},{icon:Ro,label:"Profile",path:"/profile"}],s=$.useMemo(()=>i.findIndex(u=>u.path===n.pathname),[n.pathname]);return v.jsx("nav",{className:"pointer-events-none w-full h-full flex items-end justify-center pb-2",children:v.jsxs("div",{className:"pointer-events-auto relative w-[90%] max-w-sm bg-[var(--bg-surface)] backdrop-blur-sm border border-[var(--border-color)] rounded-full shadow-md px-3 py-2",children:[v.jsx("div",{className:"absolute top-2 left-3 h-10 w-[calc((100%-24px)/5)] bg-[var(--brand-primary)] rounded-full transition-transform duration-300 ease-out",style:{transform:`translateX(${s*100}%)`}}),v.jsx("div",{className:"relative flex items-center justify-between",children:i.map(u=>{const f=n.pathname===u.path;return v.jsxs("button",{onClick:()=>r(u.path),className:"flex flex-col items-center justify-center flex-1 active:scale-95 transition",children:[v.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${f?"text-white":"text-[var(--text-muted)]"}`,children:v.jsx(u.icon,{size:20,strokeWidth:2})}),v.jsx("span",{className:`text-[10px] font-extrabold uppercase tracking-wide mt-1 ${f?"text-[var(--brand-primary)]":"text-[var(--text-muted)] opacity-60"}`,children:u.label})]},u.path)})})]})})},wv=({isOpen:r,onClose:n,isStatic:i=!1})=>{const{athlete:s,signOut:u}=Ca(),f=i?"w-full h-full bg-[var(--bg-main)] border-r border-[var(--border-color)]":`fixed top-0 left-0 bottom-0 w-80 bg-[var(--bg-main)] z-[70] border-r border-[var(--border-color)] transition-transform duration-300 ease-out ${r?"translate-x-0":"-translate-x-full"}`;return v.jsxs(v.Fragment,{children:[!i&&v.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),v.jsx("aside",{className:f,children:v.jsxs("div",{className:"flex flex-col h-full p-8",children:[!i&&v.jsx("button",{onClick:n,className:"self-end p-2 text-[var(--text-muted)] mb-4 active:scale-90 transition-transform",children:v.jsx(lE,{size:24})}),i&&v.jsx("div",{className:"mb-10 px-4",children:v.jsxs("h2",{className:"text-xl font-black italic tracking-tighter text-[var(--text-main)]",children:["TRACK",v.jsx("span",{className:"text-[var(--brand-primary)]",children:"FIT"})]})}),v.jsxs("div",{className:"flex items-center gap-4 mb-10 px-2",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--brand-primary)] bg-opacity-10 border border-[var(--brand-primary)] border-opacity-20 flex items-center justify-center text-[var(--brand-primary)] font-black text-xl italic",children:s?.name?.[0].toUpperCase()}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-black text-[var(--text-main)] text-md truncate w-32",children:s?.name}),v.jsx("p",{className:"text-[10px] text-[var(--text-muted)] font-bold uppercase tracking-wider",children:"Athlete Profile"})]})]}),v.jsxs("nav",{className:"flex-1 space-y-1",children:[v.jsx(mo,{icon:Ro,label:"My Profile"}),v.jsx(mo,{icon:rl,label:"Rank Progress"}),v.jsx(mo,{icon:jg,label:"Body Metrics"}),v.jsx(mo,{icon:G2,label:"Settings"}),v.jsx(mo,{icon:xg,label:"Library"})]}),v.jsxs("button",{onClick:u,className:"flex items-center gap-3 p-4 w-full rounded-2xl bg-red-500/5 text-red-500 font-bold border border-red-500/10 active:scale-95 transition-all mt-auto",children:[v.jsx(Sg,{size:18}),v.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})]})},mo=({icon:r,label:n})=>v.jsxs("button",{className:"w-full flex items-center justify-between p-4 rounded-2xl hover:bg-[var(--bg-surface)] transition-colors group",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(r,{size:18,className:"text-[var(--text-muted)] group-hover:text-[var(--brand-primary)] transition-colors"}),v.jsx("span",{className:"text-sm font-bold text-[var(--text-muted)] group-hover:text-[var(--text-main)] transition-colors",children:n})]}),v.jsx(ko,{size:14,className:"text-[var(--border-color)]"})]}),xv=80,bE=()=>{const{isSidebarOpen:r,closeSidebar:n}=Ag(),i=Na(),s=$.useRef(null);return $.useLayoutEffect(()=>{s.current&&(s.current.scrollTop=0),window.scrollTo(0,0)},[i.pathname]),v.jsxs("div",{className:"relative h-full text-[var(--text-main)] bg-[var(--bg-main)] overflow-hidden",children:[v.jsxs("div",{className:"flex h-full",children:[v.jsx("div",{className:"hidden lg:block w-72 h-full border-r border-[var(--border-color)]",children:v.jsx(wv,{isOpen:!0,onClose:()=>{},isStatic:!0})}),v.jsx("div",{className:"lg:hidden",children:v.jsx(wv,{isOpen:r,onClose:n})}),v.jsx("main",{ref:s,className:"flex-1 overflow-y-auto samsung-scroll safe-ios-top bg-[var(--bg-main)]",style:{paddingBottom:xv+8},children:v.jsx($v,{})})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",style:{height:xv},children:v.jsx(gE,{})})]})},_E=()=>v.jsx(dE,{children:v.jsx(bE,{})}),wE=()=>v.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-bg-main",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"text-brand-primary animate-pulse font-black italic text-4xl tracking-tighter",children:"FITNEX"}),v.jsx("div",{className:"h-1 w-12 bg-surface overflow-hidden rounded-full",children:v.jsx("div",{className:"h-full bg-brand-primary animate-progress-loading"})})]})}),xE=()=>{const{user_id:r}=Ca(),[n,i]=$.useState(!1);return $.useEffect(()=>{(async()=>{if(r)try{await Promise.all([ug.syncLibrary(),pg.syncRecentWorkouts(r),yg.syncRoutine(r),vh.syncMetadata()]),i(!0)}catch(u){console.error("Sync Error:",u),i(!0)}})()},[r]),n?v.jsx($v,{}):v.jsx(wE,{})},SE=()=>{const{athlete:r,signOut:n}=Ca(),i=Ra();return r?v.jsxs("div",{className:"page-container no-scrollbar px-6 pb-28 bg-[var(--bg-main)]",children:[v.jsx("header",{className:"flex justify-end pt-6 pb-2",children:v.jsx("button",{onClick:()=>n(),className:"p-3 bg-red-500/10 border border-red-500/15 rounded-2xl text-red-500 active:scale-90 transition-all",children:v.jsx(Sg,{size:18})})}),v.jsxs("section",{className:"flex flex-col items-center mb-10",children:[v.jsxs("div",{className:"relative mb-6",children:[v.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)] opacity-10 blur-2xl rounded-full"}),v.jsx("div",{className:"relative w-28 h-28 rounded-full bg-gradient-to-tr from-[var(--brand-primary)] to-orange-500 p-[3px]",children:v.jsx("div",{className:"w-full h-full rounded-full bg-[var(--bg-main)] border-[4px] border-[var(--bg-main)] flex items-center justify-center overflow-hidden",children:v.jsx("span",{className:"text-4xl font-black text-[var(--text-main)] italic tracking-tighter",children:r.name?.charAt(0)})})})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase italic text-[var(--text-main)] leading-none",children:r.name}),v.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[v.jsx("span",{className:"h-[1px] w-6 bg-[var(--border-color)]"}),v.jsxs("p",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-[var(--brand-primary)] italic",children:["Level  ",r.current_level]}),v.jsx("span",{className:"h-[1px] w-6 bg-[var(--border-color)]"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2.5 mb-8",children:[v.jsx(sc,{label:"BMI",value:r.bmi||"0.0",icon:v.jsx(Ac,{size:12})}),v.jsx(sc,{label:"Body Fat",value:`${r.body_fat_percent||"0"}%`,icon:v.jsx(R2,{size:12})}),v.jsx(sc,{label:"Lost",value:`${r.weight_lost||"0"}kg`,icon:v.jsx(s2,{size:12})}),v.jsx(sc,{label:"Goal",value:r.target_weight?`${r.target_weight}kg`:"",icon:v.jsx(No,{size:12})})]}),v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[var(--text-muted)] whitespace-nowrap",children:"Account Settings"}),v.jsx("div",{className:"h-[1px] w-full bg-[var(--divider-color)]"})]}),v.jsxs("nav",{className:"space-y-3",children:[v.jsx(lc,{label:"User Profile",sub:"Personal Identity & Goals",icon:v.jsx(Ro,{size:18}),onClick:()=>i("/profile/details")}),v.jsx(lc,{label:"Measurements",sub:"Vitals & Metrics Tracking",icon:v.jsx(kg,{size:18}),onClick:()=>i("/profile/metrics")}),v.jsx(lc,{label:"Level Details",sub:"Rank Progress & Milestone",icon:v.jsx(rl,{size:18}),onClick:()=>i("/profile/level")}),v.jsx(lc,{label:"Themes & Appearance",sub:"Brand Color & Styles",icon:v.jsx(A2,{size:18}),onClick:()=>i("/profile/theme")})]})]}):null},sc=({label:r,value:n,icon:i})=>v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-3 rounded-[1.2rem] flex items-center gap-3",children:[v.jsx("div",{className:"w-7 h-7 rounded-lg bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--brand-primary)]",children:i}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-black italic text-[var(--text-main)] leading-none",children:n}),v.jsx("p",{className:"text-[8px] font-bold text-[var(--text-muted)] uppercase tracking-tight mt-0.5",children:r})]})]}),lc=({label:r,sub:n,icon:i,onClick:s})=>v.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[1.8rem] active:opacity-70 transition-all group",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--text-muted)] group-active:text-[var(--brand-primary)]",children:i}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"text-[11px] font-black uppercase italic tracking-wider text-[var(--text-main)]",children:r}),v.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tighter",children:n})]})]}),v.jsx(ko,{size:16,className:"text-[var(--text-muted)] group-active:text-[var(--brand-primary)]"})]}),Vi=({title:r,children:n})=>{const i=Ra();return v.jsxs("div",{className:"relative bg-[var(--bg-main)] min-h-screen",children:[v.jsx("header",{className:"sticky top-0 z-40 bg-[var(--bg-main)] bg-opacity-90 backdrop-blur-md border-b border-[var(--border-color)] safe-ios-top",children:v.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[v.jsx("button",{onClick:()=>i(-1),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-[var(--bg-surface)] border border-[var(--border-color)] active:scale-90 transition-all text-[var(--text-main)]",children:v.jsx(BS,{size:20})}),v.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-sm font-black uppercase tracking-widest text-[var(--text-main)]",children:r}),v.jsx("div",{className:"w-10"})]})}),v.jsx("div",{className:"px-6 py-6 space-y-6",children:n})]})},EE=()=>{const{user_id:r,athlete:n,refreshAthlete:i}=Ca(),[s,u]=$.useState(!1),[f,m]=$.useState({name:"",gender:"",birth_date:"",target_weight:"",target_days_per_week:"4"});$.useEffect(()=>{n&&m({name:n.name||"",gender:n.gender||"",birth_date:n.birthdate||"",target_weight:n.target_weight?.toString()||"",target_days_per_week:n.target_days_per_week?.toString()||"4"})},[n]);const y=async()=>{if(!r)return;u(!0);const b={user_id:r,name:f.name,gender:f.gender,birthdate:f.birth_date,target_weight:parseFloat(f.target_weight)||0,target_days_per_week:parseInt(f.target_days_per_week)||4,updated_at:new Date().toISOString()};try{await gg.updateProfile(b),await i()}catch(w){console.error("Profile sync error:",w)}finally{u(!1)}};return v.jsx(Vi,{title:"User Profile",children:v.jsxs("div",{className:"space-y-8 pb-32 px-1 bg-[var(--bg-main)]",children:[v.jsxs("section",{className:"space-y-4",children:[v.jsx(Sv,{icon:v.jsx(Ro,{size:14}),title:"Identity"}),v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[v.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Full Athlete Name"}),v.jsx("input",{type:"text",value:f.name,onChange:b=>m({...f,name:b.target.value}),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-full placeholder:text-[var(--text-dim)]",placeholder:"Full Name"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx(Ev,{label:"Gender",value:f.gender,options:["Male","Female","Other"],onChange:b=>m({...f,gender:b})}),v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[v.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Birth Date"}),v.jsx("input",{type:"date",value:f.birth_date,onChange:b=>m({...f,birth_date:b.target.value}),className:"bg-transparent border-none outline-none text-sm font-black uppercase text-[var(--text-main)] w-full invert-[0.8]"})]})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx(Sv,{icon:v.jsx(No,{size:14}),title:"Goals"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[v.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Target Weight"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("input",{type:"text",inputMode:"decimal",value:f.target_weight,onChange:b=>m({...f,target_weight:b.target.value}),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-16",placeholder:"00"}),v.jsx("span",{className:"text-[var(--brand-primary)] font-black italic text-xs uppercase",children:"kg"})]})]}),v.jsx(Ev,{label:"Days / Week",value:f.target_days_per_week,options:["1","2","3","4","5","6","7"],onChange:b=>m({...f,target_days_per_week:b})})]})]}),v.jsx("div",{className:"pt-4",children:v.jsxs("button",{disabled:s,onClick:y,className:"w-full py-4 bg-[var(--brand-primary)] text-[var(--bg-main)] text-base font-black uppercase italic tracking-[0.1em] rounded-[1.5rem] flex items-center justify-center gap-2 active:scale-[0.97] transition-all disabled:opacity-50",children:[s?v.jsx(ih,{size:18,className:"animate-spin"}):v.jsx(_h,{size:18}),s?"Updating...":"Update Profile"]})})]})})},Sv=({icon:r,title:n})=>v.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2 font-black uppercase tracking-[0.2em] text-[10px] text-[var(--text-muted)]",children:[v.jsx("div",{className:"text-[var(--brand-primary)]",children:r}),n]}),Ev=({label:r,value:n,options:i,onChange:s})=>v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem] relative",children:[v.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:r}),v.jsxs("select",{value:n,onChange:u=>s(u.target.value),className:"bg-transparent border-none outline-none text-xl font-black italic text-[var(--text-main)] w-full appearance-none pr-8 cursor-pointer",children:[!n&&v.jsx("option",{value:""}),i.map(u=>v.jsx("option",{value:u,className:"bg-black text-white",children:u},u))]}),v.jsx(gh,{size:14,className:"absolute right-5 bottom-6 text-[var(--text-dim)] pointer-events-none"})]}),oc={weight:"",height:"",belly:"",waist:"",hips:"",chest:"",shoulder:"",neck:"",right_bicep:"",left_bicep:"",right_forearm:"",left_forearm:"",right_calf:"",left_calf:"",right_thigh:"",left_thigh:""},jE=()=>{const{user_id:r,refreshAthlete:n}=Ca(),[i,s]=$.useState(!0),[u,f]=$.useState(!1),[m,y]=$.useState(oc);$.useEffect(()=>{(async()=>{try{const j=await rh.getLatestMetrics();if(j){const A={...oc};Object.keys(oc).forEach(N=>{const P=j[N];A[N]=P!=null?P.toString():""}),y(A)}}catch(j){console.error(j)}finally{s(!1)}})()},[]);const b=(S,j)=>{(j===""||/^[0-9]*\.?[0-9]*$/.test(j))&&y(A=>({...A,[S]:j}))},w=async()=>{if(!r)return;f(!0);const S={user_id:r,logdate:new Date().toISOString().split("T")[0],weight:parseFloat(m.weight)||0,height:parseFloat(m.height)||0};Object.keys(oc).forEach(j=>{if(j==="weight"||j==="height")return;const A=m[j];S[j]=A===""?null:parseFloat(A)});try{await rh.updateMetrics(S),await n()}finally{f(!1)}};return i?v.jsx(Vi,{title:"Measurements",children:v.jsx("div",{className:"flex h-60 items-center justify-center",children:v.jsx(ih,{className:"animate-spin text-[var(--brand-primary)]",size:28})})}):v.jsx(Vi,{title:"Measurements",children:v.jsxs("div",{className:"space-y-10 px-1 bg-[var(--bg-main)]",children:[v.jsxs("section",{children:[v.jsx(Gd,{icon:v.jsx(_g,{size:16}),title:"Core Vitals"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(jv,{label:"Weight",value:m.weight,unit:"kg",icon:v.jsx(kg,{size:16}),onChange:S=>b("weight",S)}),v.jsx(jv,{label:"Height",value:m.height,unit:"cm",icon:v.jsx(jg,{size:16}),onChange:S=>b("height",S)})]})]}),v.jsxs("section",{children:[v.jsx(Gd,{icon:v.jsx(Oc,{size:16}),title:"Torso"}),v.jsx("div",{className:"grid grid-cols-3 gap-3",children:["neck","shoulder","chest","belly","waist","hips"].map(S=>v.jsx(kE,{label:S,value:m[S],onChange:j=>b(S,j)},S))})]}),v.jsxs("section",{children:[v.jsx(Gd,{icon:v.jsx(c2,{size:16}),title:"Limb Symmetry"}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(uc,{label:"Bicep",leftKey:"left_bicep",rightKey:"right_bicep",metrics:m,onUpdate:(S,j)=>b(S,j)}),v.jsx(uc,{label:"Forearm",leftKey:"left_forearm",rightKey:"right_forearm",metrics:m,onUpdate:(S,j)=>b(S,j)}),v.jsx(uc,{label:"Thigh",leftKey:"left_thigh",rightKey:"right_thigh",metrics:m,onUpdate:(S,j)=>b(S,j)}),v.jsx(uc,{label:"Calf",leftKey:"left_calf",rightKey:"right_calf",metrics:m,onUpdate:(S,j)=>b(S,j)})]})]}),v.jsx("div",{className:"pt-6",children:v.jsxs("button",{disabled:u,onClick:w,className:"w-full py-4 bg-[var(--brand-primary)] text-[var(--bg-main)] text-base font-black uppercase italic tracking-[0.1em] rounded-[1.5rem] flex items-center justify-center gap-2 active:scale-[0.97] transition-all disabled:opacity-50",children:[u?v.jsx(ih,{size:22,className:"animate-spin"}):v.jsx(_h,{size:22}),u?"Updating...":"Update Athlete Data"]})})]})})},Gd=({icon:r,title:n})=>v.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 font-black uppercase tracking-[0.25em] text-[12px] text-[var(--text-muted)]",children:[v.jsx("div",{className:"text-[var(--brand-primary)]",children:r}),n]}),jv=({label:r,value:n,unit:i,icon:s,onChange:u})=>v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[2rem]",children:[v.jsxs("div",{className:"flex justify-between items-start mb-3 text-[var(--brand-primary)]",children:[s,v.jsx("span",{className:"text-[10px] font-black text-[var(--text-dim)]",children:i})]}),v.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:f=>u(f.target.value),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-full",placeholder:"0.0"}),v.jsx("p",{className:"text-[11px] font-bold text-[var(--text-dim)] uppercase mt-1.5",children:r})]}),kE=({label:r,value:n,onChange:i})=>v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-[1.5rem] text-center",children:[v.jsx("p",{className:"text-[9px] font-black text-[var(--text-dim)] uppercase mb-2",children:r}),v.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:s=>i(s.target.value),className:"bg-transparent border-none outline-none text-base font-black italic text-[var(--text-main)] w-full text-center",placeholder:""})]}),uc=({label:r,leftKey:n,rightKey:i,metrics:s,onUpdate:u})=>v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-20 text-[11px] font-black uppercase text-[var(--text-dim)] italic",children:r}),v.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[v.jsx("input",{type:"text",inputMode:"decimal",value:s[n],onChange:f=>u(n,f.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-2xl text-sm font-black italic text-[var(--text-main)] text-center",placeholder:"L"}),v.jsx("input",{type:"text",inputMode:"decimal",value:s[i],onChange:f=>u(i,f.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-2xl text-sm font-black italic text-[var(--text-main)] text-center",placeholder:"R"})]})]}),TE=()=>{const{athlete:r}=Ca();return r?v.jsx(Vi,{title:"Level Details",children:v.jsxs("div",{className:"space-y-8 pb-10 bg-[var(--bg-main)]",children:[v.jsxs("section",{className:"text-center pt-4",children:[v.jsxs("div",{className:"relative inline-block mb-6",children:[v.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)] opacity-20 blur-3xl rounded-full"}),v.jsxs("div",{className:"relative w-32 h-32 rounded-[2.5rem] bg-[var(--bg-surface)] border border-[var(--border-color)] flex items-center justify-center",children:[v.jsx(rl,{size:48,className:"text-[var(--brand-primary)]",fill:"currentColor",fillOpacity:.1}),v.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--brand-primary)] text-[var(--bg-main)] w-10 h-10 rounded-xl flex items-center justify-center font-black italic border-4 border-[var(--bg-main)]",children:r.current_level?.charAt(0)})]})]}),v.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-[var(--text-main)]",children:r.current_level}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-[var(--text-muted)] mt-2",children:"Current Athlete Status"})]}),v.jsxs("section",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.5rem]",children:[v.jsxs("div",{className:"flex justify-between items-end mb-6",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-1",children:"Total Points"}),v.jsx("p",{className:"text-3xl font-black italic text-[var(--text-main)]",children:r.level_points})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)] mb-1",children:"Next Rank"}),v.jsxs("p",{className:"text-xl font-black italic text-[var(--text-muted)]",children:[r.level_end," PTS"]})]})]}),v.jsx("div",{className:"h-3 w-full bg-[var(--bg-main)] rounded-full overflow-hidden border border-[var(--border-color)]",children:v.jsx("div",{className:"h-full bg-[var(--brand-primary)] rounded-full transition-all duration-1000 shadow-[0_0_15px_var(--brand-primary)]",style:{width:`${r.level_completion_percent}%`}})}),v.jsxs("div",{className:"mt-4 flex justify-between items-center text-[10px] font-black italic uppercase text-[var(--text-muted)]",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Tg,{size:12,className:"text-[var(--brand-primary)]"}),v.jsxs("span",{children:[r.points_remaining," PTS Remaining"]})]}),v.jsxs("span",{className:"text-[var(--text-main)]",children:[r.level_completion_percent,"% Complete"]})]})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsx(cc,{level:"Starter",points:"0-100",isReached:!0,isCurrent:r.current_level==="Starter"}),v.jsx(cc,{level:"Novice",points:"101-500",isReached:r.level_points>100,isCurrent:r.current_level==="Novice"}),v.jsx(cc,{level:"Warrior",points:"501-2000",isReached:r.level_points>500,isCurrent:r.current_level==="Warrior"}),v.jsx(cc,{level:"Elite",points:"2001+",isReached:r.level_points>2e3,isCurrent:r.current_level==="Elite"})]}),r.projected_next_level_date&&v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--brand-primary)] border-opacity-30 p-5 rounded-3xl flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--brand-primary)] bg-opacity-10 flex items-center justify-center text-[var(--text-main)]",children:v.jsx(F2,{size:20})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Estimated Rank Up"}),v.jsxs("p",{className:"text-sm font-bold text-[var(--text-main)] uppercase italic",children:["Around"," ",new Date(r.projected_next_level_date).toLocaleDateString("en-US",{month:"long",day:"numeric"})]})]})]})]})}):null},cc=({level:r,points:n,isReached:i,isCurrent:s})=>v.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${s?"bg-[var(--brand-primary)] bg-opacity-10 border-[var(--brand-primary)]":i?"bg-[var(--bg-surface)] border-[var(--border-color)] opacity-60":"bg-[var(--bg-main)] border-[var(--border-color)] opacity-30"}`,children:[v.jsxs("div",{className:"flex items-center gap-4 text-[var(--text-main)]",children:[v.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i?"text-[var(--brand-primary)]":"text-[var(--text-muted)]"}`,children:i?v.jsx(HS,{size:18}):v.jsx(x2,{size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-black uppercase italic tracking-wide",children:r}),v.jsxs("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase",children:[n," PTS"]})]})]}),s&&v.jsx("span",{className:"bg-[var(--brand-primary)] text-[var(--bg-main)] text-[8px] font-black uppercase px-2 py-1 rounded-md",children:"Current"})]}),OE=[{name:"Fitnex Orange",hex:"#ff7f50"},{name:"Electric Blue",hex:"#3b82f6"},{name:"Cyber Green",hex:"#22c55e"},{name:"Neon Purple",hex:"#a855f7"},{name:"Crimson Red",hex:"#ef4444"},{name:"Solar Yellow",hex:"#eab308"}],AE=()=>{const[r,n]=$.useState(()=>document.documentElement.classList.contains("light-theme")?"light":"dark"),[i,s]=$.useState(()=>localStorage.getItem("fitnex-color")||"#ff7f50"),[u,f]=$.useState(i),m=()=>{const y=document.documentElement;localStorage.setItem("fitnex-theme",r),localStorage.setItem("fitnex-color",i),r==="light"?y.classList.add("light-theme"):y.classList.remove("light-theme"),y.style.setProperty("--brand-primary",i)};return $.useEffect(()=>{f(i)},[i]),v.jsx(Vi,{title:"Appearance",children:v.jsxs("div",{className:"space-y-10 pb-10 bg-[var(--bg-main)]",children:[v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 text-[var(--brand-primary)]",children:[v.jsx(wh,{size:14}),v.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"Visual Mode"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx(kv,{active:r==="dark",onClick:()=>n("dark"),label:"Dark",icon:v.jsx(j2,{size:18}),desc:"OLED Saver"}),v.jsx(kv,{active:r==="light",onClick:()=>n("light"),label:"Light",icon:v.jsx(X2,{size:18}),desc:"High Contrast"})]})]}),v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 text-[var(--brand-primary)]",children:[v.jsx(T2,{size:14}),v.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"Brand Accent"})]}),v.jsx("div",{className:"p-6 rounded-[2.5rem] mb-4 border border-[var(--border-color)] bg-[var(--bg-surface)]",children:v.jsx("div",{className:"grid grid-cols-3 gap-y-6 gap-x-4",children:OE.map(y=>v.jsx("button",{onClick:()=>s(y.hex),className:"flex flex-col items-center gap-2",children:v.jsx("div",{className:"w-12 h-12 rounded-2xl transition-all duration-300 flex items-center justify-center border-2",style:{backgroundColor:y.hex,borderColor:i.toLowerCase()===y.hex.toLowerCase()?"var(--text-main)":"transparent"},children:i.toLowerCase()===y.hex.toLowerCase()&&v.jsx(VS,{size:20,className:"text-white",strokeWidth:4})})},y.hex))})}),v.jsxs("div",{className:"grid grid-cols-12 gap-3 mt-4",children:[v.jsxs("div",{className:"col-span-8 relative",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]",children:v.jsx(h2,{size:14})}),v.jsx("input",{type:"text",value:u.replace("#",""),onChange:y=>{const b=`#${y.target.value}`;f(b),/^#[0-9A-F]{6}$/i.test(b)&&s(b)},className:"w-full border border-[var(--border-color)] rounded-2xl py-4 pl-10 pr-4 text-xs font-black uppercase bg-[var(--bg-surface)] text-[var(--text-main)] outline-none"})]}),v.jsxs("div",{className:"col-span-4 relative",children:[v.jsx("input",{type:"color",value:i,onChange:y=>s(y.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),v.jsx("div",{className:"w-full h-full border border-[var(--border-color)] rounded-2xl flex items-center justify-center text-[var(--text-muted)] bg-[var(--bg-surface)]",children:v.jsx(D2,{size:18})})]})]})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{onClick:m,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic tracking-widest rounded-[2rem] active:scale-[0.95] transition-all",children:"Apply Changes"})})]})})},kv=({active:r,onClick:n,label:i,icon:s,desc:u})=>v.jsxs("button",{onClick:n,className:"p-5 rounded-[2rem] border transition-all text-left",style:{backgroundColor:r?"rgba(var(--brand-rgb, 255,127,80), 0.1)":"var(--bg-surface)",borderColor:r?"var(--brand-primary)":"var(--border-color)",color:r?"var(--brand-primary)":"var(--text-muted)"},children:[v.jsx("div",{className:"mb-3",children:s}),v.jsx("p",{className:"text-xs font-black uppercase italic tracking-widest leading-none mb-1",children:i}),v.jsx("p",{className:"text-[8px] font-bold uppercase opacity-50",children:u})]}),NE=({search:r})=>{const[n,i]=$.useState([]),s=Ra();$.useEffect(()=>{(async()=>{const b=await Be.muscles.orderBy("name").toArray();i(b)})()},[]);const u=n.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())),f=u.filter(y=>!y.parent),m=y=>u.filter(b=>b.parent===y);return v.jsxs("div",{className:"space-y-6",children:[f.map(y=>{const b=m(y.id);return v.jsxs("div",{className:"space-y-2",children:[v.jsxs("button",{onClick:()=>s(`/library/muscles/${y.id}`),className:"w-full flex items-center justify-between p-5 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[1.5rem] group active:scale-[0.98] transition-all",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-[var(--brand-primary)] flex items-center justify-center text-[var(--bg-main)] font-black italic shadow-lg shadow-[var(--brand-primary)]/20",children:y.name.charAt(0)}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"text-sm font-black uppercase italic text-[var(--text-main)] group-hover:text-[var(--brand-primary)] transition-colors",children:y.name}),v.jsx("p",{className:"text-[9px] font-black text-[var(--text-muted)] uppercase tracking-widest",children:"Primary Group"})]})]}),v.jsx(ko,{size:16,className:"text-[var(--text-muted)]"})]}),b.length>0&&v.jsx("div",{className:"ml-6 space-y-2 border-l-2 border-[var(--border-color)] pl-4",children:b.map(w=>v.jsxs("button",{onClick:()=>s(`/library/muscles/${w.id}`),className:"w-full flex items-center justify-between p-3 bg-[var(--bg-surface)] bg-opacity-50 border border-[var(--border-color)] rounded-xl group active:scale-[0.98] transition-all",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(o2,{size:14,className:"text-[var(--brand-primary)]"}),v.jsx("p",{className:"text-[12px] font-bold uppercase italic text-[var(--text-main)]",children:w.name})]}),v.jsx(ko,{size:12,className:"text-[var(--text-muted)]"})]},w.id))})]},y.id)}),r&&u.length>0&&f.length===0&&v.jsx("div",{className:"text-center py-10 opacity-50",children:v.jsx("p",{className:"text-[10px] font-black uppercase italic",children:"Showing sub-muscle matches..."})})]})},RE=({search:r})=>{const[n,i]=$.useState([]);$.useEffect(()=>{(async()=>{const f=await Be.exercises.orderBy("name").toArray();i(f)})()},[]);const s=n.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.category?.toLowerCase().includes(r.toLowerCase()));return v.jsx("div",{className:"grid grid-cols-1 gap-3",children:s.map(u=>v.jsxs("div",{className:"group p-4 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[1.8rem] active:scale-[0.98] transition-all flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--brand-primary)]",children:v.jsx(Oc,{size:20})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[13px] font-black uppercase italic text-[var(--text-main)] leading-tight",children:u.name}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("span",{className:"text-[9px] font-bold text-[var(--brand-primary)] uppercase tracking-tighter bg-[var(--brand-primary)] bg-opacity-10 px-2 py-0.5 rounded-md",children:u.category||"Strength"}),v.jsx("span",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tighter",children:u.force_type||"Compound"})]})]})]}),v.jsx("button",{className:"p-3 text-[var(--text-muted)] hover:text-[var(--brand-primary)] transition-colors",children:v.jsx(_g,{size:18})})]},u.id))})},CE=({search:r})=>{const[n,i]=$.useState([]);$.useEffect(()=>{(async()=>{const f=await Be.routines.toArray();i(f)})()},[]);const s=n.filter(u=>u.name.toLowerCase().includes(r.toLowerCase()));return v.jsxs("div",{className:"space-y-4",children:[s.map(u=>v.jsxs("div",{className:"relative overflow-hidden bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[2rem] p-6 group",children:[v.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)] opacity-5 blur-[50px] -mr-16 -mt-16 pointer-events-none"}),v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter text-[var(--text-main)]",children:u.name}),v.jsxs("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-[0.2em] mt-1",children:["Last Performed:"," ",u.last_used?new Date(u.last_used).toLocaleDateString():"Never"]})]}),v.jsx("div",{className:"p-3 rounded-2xl bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg shadow-[var(--brand-primary)]/20 active:scale-90 transition-all cursor-pointer",children:v.jsx(U2,{size:20,fill:"currentColor"})})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(bh,{size:14,className:"text-[var(--brand-primary)]"}),v.jsx("span",{className:"text-[11px] font-black italic text-[var(--text-main)] uppercase",children:"8 Exercises"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(a2,{size:14,className:"text-[var(--text-muted)]"}),v.jsx("span",{className:"text-[11px] font-black italic text-[var(--text-muted)] uppercase",children:"~45 Mins"})]})]})]},u.id)),s.length===0&&v.jsx("div",{className:"text-center py-20",children:v.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"No routines found"})})]})},DE=()=>{const r=Ra(),[n,i]=$.useState("muscles"),[s,u]=$.useState(""),f=[{id:"muscles",label:"Muscles",icon:v.jsx(No,{size:14})},{id:"exercises",label:"Exercises",icon:v.jsx(Oc,{size:14})},{id:"routines",label:"Routines",icon:v.jsx(bh,{size:14})}],m=()=>{r(`/library/${n}/add`)};return v.jsxs("div",{className:"page-container no-scrollbar px-6 pb-28 bg-[var(--bg-main)]",children:[v.jsx("div",{className:"flex bg-[var(--bg-surface)] p-1.5 rounded-[1.8rem] border border-[var(--border-color)] mb-4 sticky top-4 z-30 shadow-2xl backdrop-blur-md bg-opacity-90",children:f.map(y=>v.jsxs("button",{onClick:()=>{i(y.id),u("")},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-[1.4rem] transition-all duration-300 ${n===y.id?"bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg":"text-[var(--text-muted)] hover:text-[var(--text-main)] active:scale-95"}`,children:[y.icon,v.jsx("span",{className:"text-[11px] font-black uppercase italic tracking-tighter",children:y.label})]},y.id))}),v.jsxs("div",{className:"relative mb-8",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]",children:v.jsx(P2,{size:18})}),v.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:s,onChange:y=>u(y.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-2xl py-4 pl-12 pr-4 text-sm font-bold text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)] transition-all placeholder:text-[var(--text-muted)] placeholder:opacity-50"})]}),v.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[n==="muscles"&&v.jsx(NE,{search:s}),n==="exercises"&&v.jsx(RE,{search:s}),n==="routines"&&v.jsx(CE,{search:s})]}),v.jsx("button",{onClick:m,"aria-label":`Add new ${n.slice(0,-1)}`,className:"fixed bottom-24 right-6 w-14 h-14 bg-[var(--brand-primary)] text-[var(--bg-main)] rounded-2xl shadow-2xl shadow-[var(--brand-primary)]/30 flex items-center justify-center active:scale-90 hover:scale-105 transition-all z-40 border-2 border-[var(--bg-main)]",children:v.jsx(Eg,{size:28,strokeWidth:3})})]})},ME=()=>{const r=Ra(),[n,i]=$.useState([]),[s,u]=$.useState({name:"",parent_id:""});$.useEffect(()=>{Be.muscles.toArray().then(i)},[]);const f=async()=>{if(!s.name)return;const m={name:s.name,parent_id:s.parent_id===""?null:s.parent_id},{data:y,error:b}=await Lt.from("muscles").insert([m]).select().single();!b&&y&&(await Be.muscles.put(y),r(-1))};return v.jsx(Vi,{title:"New Muscle",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2rem] space-y-6",children:[v.jsx("input",{autoFocus:!0,type:"text",value:s.name,onChange:m=>u({...s,name:m.target.value}),placeholder:"Name (e.g. Upper Chest)",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-xl font-black italic text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)]"}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3",children:[v.jsx(wg,{size:12,className:"text-[var(--brand-primary)]"}),"Assign to Parent Group"]}),v.jsxs("select",{value:s.parent_id,onChange:m=>u({...s,parent_id:m.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-sm font-black italic text-[var(--text-main)] outline-none appearance-none focus:border-[var(--brand-primary)] uppercase",children:[v.jsx("option",{value:"",children:"No Parent"}),n.map(m=>v.jsx("option",{value:m.id,className:"bg-[var(--bg-surface)]",children:m.name},m.id))]}),v.jsx(gh,{size:16,className:"absolute right-4 bottom-4 text-[var(--text-muted)] pointer-events-none"})]})]}),v.jsxs("button",{onClick:f,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic tracking-widest rounded-2xl flex items-center justify-center gap-2 active:scale-95 transition-all",children:[v.jsx(Eg,{size:22,strokeWidth:3}),"Add to Library"]})]})})},UE=()=>{const{id:r}=G0(),n=Ra(),[i,s]=$.useState(!0),[u,f]=$.useState([]),[m,y]=$.useState({name:"",parent_id:""});$.useEffect(()=>{(async()=>{if(!r)return;const[j,A]=await Promise.all([Be.muscles.get(r),Be.muscles.toArray()]);j&&y({name:j.name,parent_id:j.parent||""}),f(A.filter(N=>N.id!==r)),s(!1)})()},[r]);const b=async()=>{const S={name:m.name,parent_id:m.parent_id===""?null:m.parent_id},{error:j}=await Lt.from("muscles").update(S).eq("id",r);j||(await Be.muscles.update(r,S),n(-1))},w=async()=>{if(!window.confirm("Delete this muscle?"))return;const{error:S}=await Lt.from("muscles").delete().eq("id",r);S||(await Be.muscles.delete(r),n(-1))};return i?null:v.jsx(Vi,{title:"Edit Muscle",children:v.jsxs("div",{className:"space-y-6 pb-20 bg-[var(--bg-main)]",children:[v.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2rem] space-y-8",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3",children:[v.jsx(No,{size:12,className:"text-[var(--brand-primary)]"}),"Muscle Name"]}),v.jsx("input",{type:"text",value:m.name,onChange:S=>y({...m,name:S.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-lg font-black italic text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)] transition-all"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3",children:[v.jsx(wg,{size:12,className:"text-[var(--brand-primary)]"}),"Parent Muscle (Optional)"]}),v.jsxs("select",{value:m.parent_id||"",onChange:S=>y({...m,parent_id:S.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-sm font-black italic text-[var(--text-main)] outline-none appearance-none focus:border-[var(--brand-primary)] uppercase",children:[v.jsx("option",{value:"",children:"None (Primary Group)"}),u.map(S=>v.jsx("option",{value:S.id,className:"bg-[var(--bg-surface)]",children:S.name},S.id))]}),v.jsx(gh,{size:16,className:"absolute right-4 bottom-4 text-[var(--text-muted)] pointer-events-none"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[v.jsxs("button",{onClick:b,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic tracking-widest rounded-2xl flex items-center justify-center gap-2 active:scale-95 transition-all",children:[v.jsx(_h,{size:20})," Save Changes"]}),v.jsx("button",{onClick:w,className:"w-full py-4 text-red-500 font-black uppercase italic tracking-widest text-[10px] opacity-60 hover:opacity-100 transition-opacity",children:"Delete Muscle"})]})]})})},zE=()=>{const{user_id:r,athlete:n,loading:i}=Ca();return i?v.jsx("div",{className:"h-screen w-full bg-[var(--bg-main)] flex items-center justify-center",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 border-4 border-[var(--brand-primary)] border-t-transparent rounded-full animate-spin"}),v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[var(--text-muted)] animate-pulse",children:"Establishing Link..."})]})}):v.jsxs(i_,{children:[!r&&v.jsxs(v.Fragment,{children:[v.jsx(ln,{path:"/login",element:v.jsx(AS,{})}),v.jsx(ln,{path:"*",element:v.jsx(Dd,{to:"/login",replace:!0})})]}),r&&!n&&v.jsxs(v.Fragment,{children:[v.jsx(ln,{path:"/onboarding",element:v.jsx(fE,{})}),v.jsx(ln,{path:"*",element:v.jsx(Dd,{to:"/onboarding",replace:!0})})]}),r&&n&&v.jsxs(ln,{element:v.jsx(xE,{}),children:[v.jsxs(ln,{element:v.jsx(_E,{}),children:[v.jsx(ln,{path:"/dashboard",element:v.jsx(vE,{})}),v.jsx(ln,{path:"/profile",element:v.jsx(SE,{})}),v.jsx(ln,{path:"/library",element:v.jsx(DE,{})})]}),v.jsx(ln,{path:"/profile/details",element:v.jsx(EE,{})}),v.jsx(ln,{path:"/profile/metrics",element:v.jsx(jE,{})}),v.jsx(ln,{path:"/profile/level",element:v.jsx(TE,{})}),v.jsx(ln,{path:"/profile/theme",element:v.jsx(AE,{})}),v.jsx(ln,{path:"/library/muscles/add",element:v.jsx(ME,{})}),v.jsx(ln,{path:"/library/muscles/:id",element:v.jsx(UE,{})}),v.jsx(ln,{path:"*",element:v.jsx(Dd,{to:"/dashboard",replace:!0})})]})]})};function LE(){function r(){$.useEffect(()=>{let n=0,i=0;const s=f=>{n=f.touches[0].clientX,i=f.touches[0].clientY},u=f=>{const m=Math.abs(f.touches[0].clientX-n),y=Math.abs(f.touches[0].clientY-i);m>y&&m>10&&(n<30||n>window.innerWidth-30)&&f.preventDefault()};return document.addEventListener("touchstart",s,{passive:!1}),document.addEventListener("touchmove",u,{passive:!1}),()=>{document.removeEventListener("touchstart",s),document.removeEventListener("touchmove",u)}},[])}return r(),v.jsx("div",{className:"app-root min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] overflow-x-hidden selection:bg-[var(--brand-primary)] selection:text-[var(--bg-main)]",children:v.jsx(zE,{})})}const BE="modulepreload",qE=function(r){return"/fitnex/"+r},Tv={},HE=function(n,i,s){let u=Promise.resolve();if(i&&i.length>0){let w=function(S){return Promise.all(S.map(j=>Promise.resolve(j).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var m=w;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),b=y?.nonce||y?.getAttribute("nonce");u=w(i.map(S=>{if(S=qE(S),S in Tv)return;Tv[S]=!0;const j=S.endsWith(".css"),A=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${A}`))return;const N=document.createElement("link");if(N.rel=j?"stylesheet":BE,j||(N.as="script"),N.crossOrigin="",N.href=S,b&&N.setAttribute("nonce",b),document.head.appendChild(N),j)return new Promise((P,J)=>{N.addEventListener("load",P),N.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${S}`)))})}))}function f(y){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=y,window.dispatchEvent(b),!b.defaultPrevented)throw y}return u.then(y=>{for(const b of y||[])b.status==="rejected"&&f(b.reason);return n().catch(f)})};function $E(r={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:s,onRegistered:u,onRegisteredSW:f,onRegisterError:m}=r;let y,b;const w=async(j=!0)=>{await b};async function S(){if("serviceWorker"in navigator){if(y=await HE(async()=>{const{Workbox:j}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:j}},[]).then(({Workbox:j})=>new j("/fitnex/sw.js",{scope:"/fitnex/",type:"classic"})).catch(j=>{m?.(j)}),!y)return;y.addEventListener("activated",j=>{(j.isUpdate||j.isExternal)&&window.location.reload()}),y.addEventListener("installed",j=>{j.isUpdate||s?.()}),y.register({immediate:n}).then(j=>{f?f("/fitnex/sw.js",j):u?.(j)}).catch(j=>{m?.(j)})}}return b=S(),w}const PE=$.createContext(void 0),KE=({children:r})=>{const[n,i]=$.useState("dark"),[s,u]=$.useState("#ff7f50");$.useEffect(()=>{(async()=>{const S=await Be.app_settings.get("global");S?(f(S.theme),m(S.brandColor),i(S.theme),u(S.brandColor)):(f("dark"),m("#ff7f50"))})()},[]);const f=w=>{const S=window.document.documentElement;w==="light"?S.classList.add("light-theme"):S.classList.remove("light-theme")},m=w=>{document.documentElement.style.setProperty("--brand-primary",w)},y=async w=>{i(w),f(w),await Be.app_settings.put({id:"global",theme:w,brandColor:s,unitSystem:"metric"})},b=async w=>{u(w),m(w),await Be.app_settings.put({id:"global",theme:n,brandColor:w,unitSystem:"metric"})};return v.jsx(PE.Provider,{value:{theme:n,brandColor:s,setTheme:y,setBrandColor:b},children:r})},GE=$.createContext(void 0),YE=({children:r})=>{const[n,i]=$.useState(null),[s,u]=$.useState([]);$.useEffect(()=>{(async()=>{const S=await Be.workouts.where("finish_time").equals("").first();if(S){const j=await Be.workout_logs.where("workout_id").equals(S.id).toArray();i(S),u(j)}})()},[]);const f=async(w,S)=>{const j={...w,is_synced:0},A=S.map(N=>({...N,is_synced:0}));await Be.workouts.put(j),A.length>0&&await Be.workout_logs.bulkPut(A),i(j),u(A)},m=async w=>{const S={...w,is_synced:0};await Be.workout_logs.put(S),u(j=>j.map(A=>A.id===w.id?S:A))},y=async w=>{if(!n)return;const S={...n,notes:w,finish_time:new Date().toISOString(),updated_at:new Date().toISOString()};await Be.workouts.put(S),i(null),u([])},b=async()=>{n&&(await Be.workout_logs.where("workout_id").equals(n.id).delete(),await Be.workouts.delete(n.id),i(null),u([]))};return v.jsx(GE.Provider,{value:{activeWorkout:n,activeLogs:s,isOngoing:!!n,startWorkout:f,updateLog:m,finishWorkout:y,discardWorkout:b},children:r})};function xh(){const r=window.visualViewport?.height||window.innerHeight;document.documentElement.style.setProperty("--app-height",`${r}px`)}xh();window.visualViewport?.addEventListener("resize",xh);window.addEventListener("orientationchange",xh);const VE=$E({immediate:!0,onNeedRefresh(){VE(!0)},onOfflineReady(){console.log("App ready offline")}});"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()});i0.createRoot(document.getElementById("root")).render(v.jsx(Wb.StrictMode,{children:v.jsx(A_,{basename:"/fitnex",children:v.jsx(OS,{children:v.jsx(KE,{children:v.jsx(YE,{children:v.jsx(LE,{})})})})})}));
