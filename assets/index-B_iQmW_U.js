(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tf={exports:{}},fo={};var Ny;function l0(){if(Ny)return fo;Ny=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(s,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var y in u)y!=="key"&&(d[y]=u[y])}else d=u;return u=d.ref,{$$typeof:r,type:s,key:m,ref:u!==void 0?u:null,props:d}}return fo.Fragment=n,fo.jsx=i,fo.jsxs=i,fo}var Ay;function o0(){return Ay||(Ay=1,Tf.exports=l0()),Tf.exports}var p=o0(),Of={exports:{}},Pe={};var Cy;function u0(){if(Cy)return Pe;Cy=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),N=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=N&&H[N]||H["@@iterator"],typeof H=="function"?H:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Z={};function ie(H,le,be){this.props=H,this.context=le,this.refs=Z,this.updater=be||P}ie.prototype.isReactComponent={},ie.prototype.setState=function(H,le){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,le,"setState")},ie.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function G(){}G.prototype=ie.prototype;function te(H,le,be){this.props=H,this.context=le,this.refs=Z,this.updater=be||P}var he=te.prototype=new G;he.constructor=te,X(he,ie.prototype),he.isPureReactComponent=!0;var Me=Array.isArray;function Se(){}var se={H:null,A:null,T:null,S:null},ze=Object.prototype.hasOwnProperty;function Xe(H,le,be){var Ee=be.ref;return{$$typeof:r,type:H,key:le,ref:Ee!==void 0?Ee:null,props:be}}function Dt(H,le){return Xe(H.type,le,H.props)}function Mt(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function $t(H){var le={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(be){return le[be]})}var bn=/\/+/g;function ra(H,le){return typeof H=="object"&&H!==null&&H.key!=null?$t(""+H.key):le.toString(36)}function xn(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Se,Se):(H.status="pending",H.then(function(le){H.status==="pending"&&(H.status="fulfilled",H.value=le)},function(le){H.status==="pending"&&(H.status="rejected",H.reason=le)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ne(H,le,be,Ee,$e){var Ke=typeof H;(Ke==="undefined"||Ke==="boolean")&&(H=null);var We=!1;if(H===null)We=!0;else switch(Ke){case"bigint":case"string":case"number":We=!0;break;case"object":switch(H.$$typeof){case r:case n:We=!0;break;case S:return We=H._init,ne(We(H._payload),le,be,Ee,$e)}}if(We)return $e=$e(H),We=Ee===""?"."+ra(H,0):Ee,Me($e)?(be="",We!=null&&(be=We.replace(bn,"$&/")+"/"),ne($e,le,be,"",function(Oe){return Oe})):$e!=null&&(Mt($e)&&($e=Dt($e,be+($e.key==null||H&&H.key===$e.key?"":(""+$e.key).replace(bn,"$&/")+"/")+We)),le.push($e)),1;We=0;var It=Ee===""?".":Ee+":";if(Me(H))for(var Nt=0;Nt<H.length;Nt++)Ee=H[Nt],Ke=It+ra(Ee,Nt),We+=ne(Ee,le,be,Ke,$e);else if(Nt=A(H),typeof Nt=="function")for(H=Nt.call(H),Nt=0;!(Ee=H.next()).done;)Ee=Ee.value,Ke=It+ra(Ee,Nt++),We+=ne(Ee,le,be,Ke,$e);else if(Ke==="object"){if(typeof H.then=="function")return ne(xn(H),le,be,Ee,$e);throw le=String(H),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return We}function ge(H,le,be){if(H==null)return H;var Ee=[],$e=0;return ne(H,Ee,"","",function(Ke){return le.call(be,Ke,$e++)}),Ee}function Ce(H){if(H._status===-1){var le=H._result;le=le(),le.then(function(be){(H._status===0||H._status===-1)&&(H._status=1,H._result=be)},function(be){(H._status===0||H._status===-1)&&(H._status=2,H._result=be)}),H._status===-1&&(H._status=0,H._result=le)}if(H._status===1)return H._result.default;throw H._result}var tt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Qe={map:ge,forEach:function(H,le,be){ge(H,function(){le.apply(this,arguments)},be)},count:function(H){var le=0;return ge(H,function(){le++}),le},toArray:function(H){return ge(H,function(le){return le})||[]},only:function(H){if(!Mt(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Pe.Activity=j,Pe.Children=Qe,Pe.Component=ie,Pe.Fragment=i,Pe.Profiler=u,Pe.PureComponent=te,Pe.StrictMode=s,Pe.Suspense=g,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return se.H.useMemoCache(H)}},Pe.cache=function(H){return function(){return H.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(H,le,be){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Ee=X({},H.props),$e=H.key;if(le!=null)for(Ke in le.key!==void 0&&($e=""+le.key),le)!ze.call(le,Ke)||Ke==="key"||Ke==="__self"||Ke==="__source"||Ke==="ref"&&le.ref===void 0||(Ee[Ke]=le[Ke]);var Ke=arguments.length-2;if(Ke===1)Ee.children=be;else if(1<Ke){for(var We=Array(Ke),It=0;It<Ke;It++)We[It]=arguments[It+2];Ee.children=We}return Xe(H.type,$e,Ee)},Pe.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:d,_context:H},H},Pe.createElement=function(H,le,be){var Ee,$e={},Ke=null;if(le!=null)for(Ee in le.key!==void 0&&(Ke=""+le.key),le)ze.call(le,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&($e[Ee]=le[Ee]);var We=arguments.length-2;if(We===1)$e.children=be;else if(1<We){for(var It=Array(We),Nt=0;Nt<We;Nt++)It[Nt]=arguments[Nt+2];$e.children=It}if(H&&H.defaultProps)for(Ee in We=H.defaultProps,We)$e[Ee]===void 0&&($e[Ee]=We[Ee]);return Xe(H,Ke,$e)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(H){return{$$typeof:y,render:H}},Pe.isValidElement=Mt,Pe.lazy=function(H){return{$$typeof:S,_payload:{_status:-1,_result:H},_init:Ce}},Pe.memo=function(H,le){return{$$typeof:x,type:H,compare:le===void 0?null:le}},Pe.startTransition=function(H){var le=se.T,be={};se.T=be;try{var Ee=H(),$e=se.S;$e!==null&&$e(be,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Se,tt)}catch(Ke){tt(Ke)}finally{le!==null&&be.types!==null&&(le.types=be.types),se.T=le}},Pe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Pe.use=function(H){return se.H.use(H)},Pe.useActionState=function(H,le,be){return se.H.useActionState(H,le,be)},Pe.useCallback=function(H,le){return se.H.useCallback(H,le)},Pe.useContext=function(H){return se.H.useContext(H)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(H,le){return se.H.useDeferredValue(H,le)},Pe.useEffect=function(H,le){return se.H.useEffect(H,le)},Pe.useEffectEvent=function(H){return se.H.useEffectEvent(H)},Pe.useId=function(){return se.H.useId()},Pe.useImperativeHandle=function(H,le,be){return se.H.useImperativeHandle(H,le,be)},Pe.useInsertionEffect=function(H,le){return se.H.useInsertionEffect(H,le)},Pe.useLayoutEffect=function(H,le){return se.H.useLayoutEffect(H,le)},Pe.useMemo=function(H,le){return se.H.useMemo(H,le)},Pe.useOptimistic=function(H,le){return se.H.useOptimistic(H,le)},Pe.useReducer=function(H,le,be){return se.H.useReducer(H,le,be)},Pe.useRef=function(H){return se.H.useRef(H)},Pe.useState=function(H){return se.H.useState(H)},Pe.useSyncExternalStore=function(H,le,be){return se.H.useSyncExternalStore(H,le,be)},Pe.useTransition=function(){return se.H.useTransition()},Pe.version="19.2.4",Pe}var Ry;function uh(){return Ry||(Ry=1,Of.exports=u0()),Of.exports}var R=uh();const c0=oh(R);var Nf={exports:{}},ho={},Af={exports:{}},Cf={};var Dy;function d0(){return Dy||(Dy=1,(function(r){function n(ne,ge){var Ce=ne.length;ne.push(ge);e:for(;0<Ce;){var tt=Ce-1>>>1,Qe=ne[tt];if(0<u(Qe,ge))ne[tt]=ge,ne[Ce]=Qe,Ce=tt;else break e}}function i(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ge=ne[0],Ce=ne.pop();if(Ce!==ge){ne[0]=Ce;e:for(var tt=0,Qe=ne.length,H=Qe>>>1;tt<H;){var le=2*(tt+1)-1,be=ne[le],Ee=le+1,$e=ne[Ee];if(0>u(be,Ce))Ee<Qe&&0>u($e,be)?(ne[tt]=$e,ne[Ee]=Ce,tt=Ee):(ne[tt]=be,ne[le]=Ce,tt=le);else if(Ee<Qe&&0>u($e,Ce))ne[tt]=$e,ne[Ee]=Ce,tt=Ee;else break e}}return ge}function u(ne,ge){var Ce=ne.sortIndex-ge.sortIndex;return Ce!==0?Ce:ne.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var g=[],x=[],S=1,j=null,N=3,A=!1,P=!1,X=!1,Z=!1,ie=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(ne){for(var ge=i(x);ge!==null;){if(ge.callback===null)s(x);else if(ge.startTime<=ne)s(x),ge.sortIndex=ge.expirationTime,n(g,ge);else break;ge=i(x)}}function Me(ne){if(X=!1,he(ne),!P)if(i(g)!==null)P=!0,Se||(Se=!0,$t());else{var ge=i(x);ge!==null&&xn(Me,ge.startTime-ne)}}var Se=!1,se=-1,ze=5,Xe=-1;function Dt(){return Z?!0:!(r.unstable_now()-Xe<ze)}function Mt(){if(Z=!1,Se){var ne=r.unstable_now();Xe=ne;var ge=!0;try{e:{P=!1,X&&(X=!1,G(se),se=-1),A=!0;var Ce=N;try{t:{for(he(ne),j=i(g);j!==null&&!(j.expirationTime>ne&&Dt());){var tt=j.callback;if(typeof tt=="function"){j.callback=null,N=j.priorityLevel;var Qe=tt(j.expirationTime<=ne);if(ne=r.unstable_now(),typeof Qe=="function"){j.callback=Qe,he(ne),ge=!0;break t}j===i(g)&&s(g),he(ne)}else s(g);j=i(g)}if(j!==null)ge=!0;else{var H=i(x);H!==null&&xn(Me,H.startTime-ne),ge=!1}}break e}finally{j=null,N=Ce,A=!1}ge=void 0}}finally{ge?$t():Se=!1}}}var $t;if(typeof te=="function")$t=function(){te(Mt)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,ra=bn.port2;bn.port1.onmessage=Mt,$t=function(){ra.postMessage(null)}}else $t=function(){ie(Mt,0)};function xn(ne,ge){se=ie(function(){ne(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(ne){switch(N){case 1:case 2:case 3:var ge=3;break;default:ge=N}var Ce=N;N=ge;try{return ne()}finally{N=Ce}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var Ce=N;N=ne;try{return ge()}finally{N=Ce}},r.unstable_scheduleCallback=function(ne,ge,Ce){var tt=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?tt+Ce:tt):Ce=tt,ne){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Ce+Qe,ne={id:S++,callback:ge,priorityLevel:ne,startTime:Ce,expirationTime:Qe,sortIndex:-1},Ce>tt?(ne.sortIndex=Ce,n(x,ne),i(g)===null&&ne===i(x)&&(X?(G(se),se=-1):X=!0,xn(Me,Ce-tt))):(ne.sortIndex=Qe,n(g,ne),P||A||(P=!0,Se||(Se=!0,$t()))),ne},r.unstable_shouldYield=Dt,r.unstable_wrapCallback=function(ne){var ge=N;return function(){var Ce=N;N=ge;try{return ne.apply(this,arguments)}finally{N=Ce}}}})(Cf)),Cf}var My;function f0(){return My||(My=1,Af.exports=d0()),Af.exports}var Rf={exports:{}},gn={};var Uy;function h0(){if(Uy)return gn;Uy=1;var r=uh();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)x+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,x,S){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:j==null?null:""+j,children:g,containerInfo:x,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(g,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return d(g,x,null,S)},gn.flushSync=function(g){var x=m.T,S=s.p;try{if(m.T=null,s.p=2,g)return g()}finally{m.T=x,s.p=S,s.d.f()}},gn.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(g,x))},gn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},gn.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var S=x.as,j=y(S,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;S==="style"?s.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:j,integrity:N,fetchPriority:A}):S==="script"&&s.d.X(g,{crossOrigin:j,integrity:N,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},gn.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var S=y(x.as,x.crossOrigin);s.d.M(g,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(g)},gn.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var S=x.as,j=y(S,x.crossOrigin);s.d.L(g,S,{crossOrigin:j,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},gn.preloadModule=function(g,x){if(typeof g=="string")if(x){var S=y(x.as,x.crossOrigin);s.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(g)},gn.requestFormReset=function(g){s.d.r(g)},gn.unstable_batchedUpdates=function(g,x){return g(x)},gn.useFormState=function(g,x,S){return m.H.useFormState(g,x,S)},gn.useFormStatus=function(){return m.H.useHostTransitionStatus()},gn.version="19.2.4",gn}var zy;function m0(){if(zy)return Rf.exports;zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Rf.exports=h0(),Rf.exports}var Ly;function p0(){if(Ly)return ho;Ly=1;var r=f0(),n=uh(),i=m0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(s(188))}function x(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var a=e,l=t;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===l)return g(c),t;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var w=!1,k=c.child;k;){if(k===a){w=!0,a=c,l=f;break}if(k===l){w=!0,l=c,a=f;break}k=k.sibling}if(!w){for(k=f.child;k;){if(k===a){w=!0,a=f,l=c;break}if(k===l){w=!0,l=f,a=c;break}k=k.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,N=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Xe=Symbol.for("react.activity"),Dt=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function $t(e){return e===null||typeof e!="object"?null:(e=Mt&&e[Mt]||e["@@iterator"],typeof e=="function"?e:null)}var bn=Symbol.for("react.client.reference");function ra(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case ie:return"Profiler";case Z:return"StrictMode";case Me:return"Suspense";case Se:return"SuspenseList";case Xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case te:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:ra(e.type)||"Memo";case ze:t=e._payload,e=e._init;try{return ra(e(t))}catch{}}return null}var xn=Array.isArray,ne=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},tt=[],Qe=-1;function H(e){return{current:e}}function le(e){0>Qe||(e.current=tt[Qe],tt[Qe]=null,Qe--)}function be(e,t){Qe++,tt[Qe]=e.current,e.current=t}var Ee=H(null),$e=H(null),Ke=H(null),We=H(null);function It(e,t){switch(be(Ke,t),be($e,e),be(Ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fp(t),e=Zp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(Ee),be(Ee,e)}function Nt(){le(Ee),le($e),le(Ke)}function Oe(e){e.memoizedState!==null&&be(We,e);var t=Ee.current,a=Zp(t,e.type);t!==a&&(be($e,e),be(Ee,a))}function ri(e){$e.current===e&&(le(Ee),le($e)),We.current===e&&(le(We),lo._currentValue=Ce)}var rt,vr;function Ma(e){if(rt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);rt=t&&t[1]||"",vr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+vr}var ia=!1;function ul(e,t){if(!e||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var F=ee}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ee){F=ee}e.call(ue.prototype)}}else{try{throw Error()}catch(ee){F=ee}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&F&&typeof ee.stack=="string")return[ee.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],k=f[1];if(w&&k){var C=w.split(`
`),W=k.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<W.length&&!W[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===W.length)for(l=C.length-1,c=W.length-1;1<=l&&0<=c&&C[l]!==W[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==W[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==W[c]){var re=`
`+C[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=c);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ma(a):""}function Rc(e,t){switch(e.tag){case 26:case 27:case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return e.child!==t&&t!==null?Ma("Suspense Fallback"):Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 15:return ul(e.type,!1);case 11:return ul(e.type.render,!1);case 1:return ul(e.type,!0);case 31:return Ma("Activity");default:return""}}function zo(e){try{var t="",a=null;do t+=Rc(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var cl=Object.prototype.hasOwnProperty,ii=r.unstable_scheduleCallback,En=r.unstable_cancelCallback,Lo=r.unstable_shouldYield,si=r.unstable_requestPaint,fn=r.unstable_now,li=r.unstable_getCurrentPriorityLevel,hn=r.unstable_ImmediatePriority,va=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,oi=r.unstable_LowPriority,Qi=r.unstable_IdlePriority,Wi=r.log,Ua=r.unstable_setDisableYieldValue,ga=null,nn=null;function an(e){if(typeof Wi=="function"&&Ua(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ga,e)}catch{}}var xe=Math.clz32?Math.clz32:Ji,ui=Math.log,za=Math.LN2;function Ji(e){return e>>>=0,e===0?32:31-(ui(e)/za|0)|0}var ye=256,br=262144,ci=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var k=l&134217727;return k!==0?(l=k&~f,l!==0?c=sa(l):(w&=k,w!==0?c=sa(w):a||(a=k&~e,a!==0&&(c=sa(a))))):(k=l&~f,k!==0?c=sa(k):w!==0?c=sa(w):a||(a=l&~e,a!==0&&(c=sa(a)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:c}function La(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var e=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),e}function ba(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dl(e,t,a,l,c,f){var w=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var k=e.entanglements,C=e.expirationTimes,W=e.hiddenUpdates;for(a=w&~a;0<a;){var re=31-xe(a),ue=1<<re;k[re]=0,C[re]=-1;var F=W[re];if(F!==null)for(W[re]=null,re=0;re<F.length;re++){var ee=F[re];ee!==null&&(ee.lane&=-536870913)}a&=~ue}l!==0&&fi(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(w&~t))}function fi(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function bt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-xe(a),c=1<<l;c&t|e[l]&t&&(e[l]|=t),a&=~c}}function Ut(e,t){var a=t&-t;return a=(a&42)!==0?1:fl(a),(a&(e.suspendedLanes|t))!==0?0:a}function fl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hi(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:_y(e.type))}function mi(e,t){var a=ge.p;try{return ge.p=e,t()}finally{ge.p=a}}var xa=Math.random().toString(36).slice(2),wt="__reactFiber$"+xa,zt="__reactProps$"+xa,wn="__reactContainer$"+xa,wr="__reactEvents$"+xa,Mc="__reactListeners$"+xa,wa="__reactHandles$"+xa,hl="__reactResources$"+xa,Cn="__reactMarker$"+xa;function Fi(e){delete e[wt],delete e[zt],delete e[wr],delete e[Mc],delete e[wa]}function _a(e){var t=e[wt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wn]||a[wt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=sy(e);e!==null;){if(a=e[wt])return a;e=sy(e)}return t}e=a,a=e.parentNode}return null}function mt(e){if(e=e[wt]||e[wn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function mn(e){var t=e[hl];return t||(t=e[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Lt(e){e[Cn]=!0}var qa=new Set,pi={};function la(e,t){Sa(e,t),Sa(e+"Capture",t)}function Sa(e,t){for(pi[e]=t,e=0;e<t.length;e++)qa.add(t[e])}var Ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},yi={};function Bo(e){return cl.call(yi,e)?!0:cl.call(ml,e)?!1:Ba.test(e)?yi[e]=!0:(ml[e]=!0,!1)}function Ve(e,t,a){if(Bo(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function vi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Yn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _r(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $o(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(w){a=""+w,f.call(this,w)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zi(e){if(!e._valueTracker){var t=_r(e)?"checked":"value";e._valueTracker=$o(e,t,""+e[t])}}function pl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=_r(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function lt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gi=/[\n"\\]/g;function Jt(e){return e.replace(gi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ea(e,t,a,l,c,f,w,k){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+rn(t)):e.value!==""+rn(t)&&(e.value=""+rn(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?bi(e,w,rn(t)):a!=null?bi(e,w,rn(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+rn(k):e.removeAttribute("name")}function es(e,t,a,l,c,f,w,k){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Zi(e);return}a=a!=null?""+rn(a):"",t=t!=null?""+rn(t):a,k||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=k?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Zi(e)}function bi(e,t,a){t==="number"&&lt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function oa(e,t,a,l){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yl(e,t,a){if(t!=null&&(t=""+rn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+rn(a):""}function xi(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(s(92));if(xn(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=rn(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Zi(e)}function $a(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nt(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Uc.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function vl(e,t,a){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&a[c]!==l&&nt(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&nt(e,f,t[f])}function gl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_n=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return _n.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Vn=null;function ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,St=null;function Dn(e){var t=mt(e);if(t&&(e=t.stateNode)){var a=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ea(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var c=l[zt]||null;if(!c)throw Error(s(90));Ea(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&pl(l)}break e;case"textarea":yl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&oa(e,!!a.multiple,t,!1)}}}var Pa=!1;function Sr(e,t,a){if(Pa)return e(t,a);Pa=!0;try{var l=e(t);return l}finally{if(Pa=!1,(Ha!==null||St!==null)&&(Nu(),Ha&&(t=Ha,e=St,St=Ha=null,Dn(t),e)))for(t=0;t<e.length;t++)Dn(e[t])}}function Ka(e,t){var a=e.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,t,typeof a));return a}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(Ft)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){bl=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{bl=!1}var In=null,ns=null,Er=null;function jr(){if(Er)return Er;var e,t=ns,a=t.length,l,c="value"in In?In.value:In.textContent,f=c.length;for(e=0;e<a&&t[e]===c[e];e++);var w=a-e;for(l=1;l<=w&&t[a-l]===c[f-l];l++);return Er=c.slice(e,1<l?1-l:void 0)}function kr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wi(){return!0}function Ho(){return!1}function Ht(e){function t(a,l,c,f,w){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(a=e[k],this[k]=a?a(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wi:Ho,this.isPropagationStopped=Ho,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Ht(Ga),ja=j({},Ga,{view:0,detail:0}),rs=Ht(ja),_i,xl,Si,is=j({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(_i=e.screenX-Si.screenX,xl=e.screenY-Si.screenY):xl=_i=0,Si=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),ss=Ht(is),wl=j({},is,{dataTransfer:0}),Po=Ht(wl),ls=j({},ja,{relatedTarget:0}),Tr=Ht(ls),os=j({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Ht(os),Lc=j({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Or=Ht(Lc),_l=j({},Ga,{data:0}),us=Ht(_l),Sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},El={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ei(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zt[e])?!!t[e]:!1}function Ya(){return Ei}var Go=j({},ja,{key:function(e){if(e.key){var t=Sl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?El[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cs=Ht(Go),Yo=j({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ht(Yo),ds=j({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),kl=Ht(ds),Va=j({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tl=Ht(Va),Ol=j({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Ht(Ol),Nl=j({},Ga,{newState:0,oldState:0}),Vo=Ht(Nl),qc=[9,13,27,32],ji=Ft&&"CompositionEvent"in window,ka=null;Ft&&"documentMode"in document&&(ka=document.documentMode);var Bc=Ft&&"TextEvent"in window&&!ka,hs=Ft&&(!ji||ka&&8<ka&&11>=ka),ms=" ",Io=!1;function Al(e,t){switch(e){case"keyup":return qc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function Qo(e,t){switch(e){case"compositionend":return Xo(t);case"keypress":return t.which!==32?null:(Io=!0,ms);case"textInput":return e=t.data,e===ms&&Io?null:e;default:return null}}function $c(e,t){if(Ia)return e==="compositionend"||!ji&&Al(e,t)?(e=jr(),Er=ns=In=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hs&&t.locale!=="ko"?null:t.data;default:return null}}var Wo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wo[e.type]:t==="textarea"}function Cl(e,t,a,l){Ha?St?St.push(l):St=[l]:Ha=l,t=zu(t,"onChange"),0<t.length&&(a=new as("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Nr=null,ki=null;function Hc(e){Vp(e,0)}function ys(e){var t=Rn(e);if(pl(t))return e}function Ti(e,t){if(e==="change")return t}var Xn=!1;if(Ft){var Et;if(Ft){var Ar="oninput"in document;if(!Ar){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),Ar=typeof Xa.oninput=="function"}Et=Ar}else Et=!1;Xn=Et&&(!document.documentMode||9<document.documentMode)}function Jo(){Nr&&(Nr.detachEvent("onpropertychange",vs),ki=Nr=null)}function vs(e){if(e.propertyName==="value"&&ys(ki)){var t=[];Cl(t,ki,e,ts(e)),Sr(Hc,t)}}function Fo(e,t,a){e==="focusin"?(Jo(),Nr=t,ki=a,Nr.attachEvent("onpropertychange",vs)):e==="focusout"&&Jo()}function Qa(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(ki)}function Rl(e,t){if(e==="click")return ys(t)}function Cr(e,t){if(e==="input"||e==="change")return ys(t)}function Ta(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:Ta;function o(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!cl.call(t,c)||!yn(e[c],t[c]))return!1}return!0}function h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v(e,t){var a=h(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=h(a)}}function b(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=lt(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var T=Ft&&"documentMode"in document&&11>=document.documentMode,O=null,M=null,Y=null,U=!1;function D(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;U||O==null||O!==lt(l)||(l=O,"selectionStart"in l&&E(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Y&&o(Y,l)||(Y=l,l=zu(M,"onSelect"),0<l.length&&(t=new as("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=O)))}function q(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},z={},L={};Ft&&(L=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);function I(e){if(z[e])return z[e];if(!$[e])return e;var t=$[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in L)return z[e]=t[a];return e}var J=I("animationend"),V=I("animationiteration"),ae=I("animationstart"),ce=I("transitionrun"),me=I("transitionstart"),pe=I("transitioncancel"),de=I("transitionend"),we=new Map,ve="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ve.push("scrollEnd");function fe(e,t){we.set(e,t),la(t,[e])}var _e=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Be=[],Ie=0,Re=0;function He(){for(var e=Ie,t=Re=Ie=0;t<e;){var a=Be[t];Be[t++]=null;var l=Be[t];Be[t++]=null;var c=Be[t];Be[t++]=null;var f=Be[t];if(Be[t++]=null,l!==null&&c!==null){var w=l.pending;w===null?c.next=c:(c.next=w.next,w.next=c),l.pending=c}f!==0&&Oa(a,c,f)}}function pt(e,t,a,l){Be[Ie++]=e,Be[Ie++]=t,Be[Ie++]=a,Be[Ie++]=l,Re|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vn(e,t,a,l){return pt(e,t,a,l),Rr(e)}function ut(e,t){return pt(e,null,null,t),Rr(e)}function Oa(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-xe(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=a|536870912),f):null}function Rr(e){if(50<eo)throw eo=0,Wd=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gs={};function Kg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,a,l){return new Kg(e,t,a,l)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wa(e,t){var a=e.alternate;return a===null?(a=Mn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Oh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zo(e,t,a,l,c,f){var w=0;if(l=e,typeof e=="function")Pc(e)&&(w=1);else if(typeof e=="string")w=Xb(e,a,Ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Xe:return e=Mn(31,a,t,c),e.elementType=Xe,e.lanes=f,e;case X:return Oi(a.children,c,f,t);case Z:w=8,c|=24;break;case ie:return e=Mn(12,a,t,c|2),e.elementType=ie,e.lanes=f,e;case Me:return e=Mn(13,a,t,c),e.elementType=Me,e.lanes=f,e;case Se:return e=Mn(19,a,t,c),e.elementType=Se,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:w=10;break e;case G:w=9;break e;case he:w=11;break e;case se:w=14;break e;case ze:w=16,l=null;break e}w=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Mn(w,a,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function Oi(e,t,a,l){return e=Mn(7,e,l,t),e.lanes=a,e}function Kc(e,t,a){return e=Mn(6,e,null,t),e.lanes=a,e}function Nh(e){var t=Mn(18,null,null,0);return t.stateNode=e,t}function Gc(e,t,a){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ah=new WeakMap;function Qn(e,t){if(typeof e=="object"&&e!==null){var a=Ah.get(e);return a!==void 0?a:(t={value:e,source:t,stack:zo(t)},Ah.set(e,t),t)}return{value:e,source:t,stack:zo(t)}}var bs=[],xs=0,eu=null,Dl=0,Wn=[],Jn=0,Dr=null,Na=1,Aa="";function Ja(e,t){bs[xs++]=Dl,bs[xs++]=eu,eu=e,Dl=t}function Ch(e,t,a){Wn[Jn++]=Na,Wn[Jn++]=Aa,Wn[Jn++]=Dr,Dr=e;var l=Na;e=Aa;var c=32-xe(l)-1;l&=~(1<<c),a+=1;var f=32-xe(t)+c;if(30<f){var w=c-c%5;f=(l&(1<<w)-1).toString(32),l>>=w,c-=w,Na=1<<32-xe(t)+c|a<<c|l,Aa=f+e}else Na=1<<f|a<<c|l,Aa=e}function Yc(e){e.return!==null&&(Ja(e,1),Ch(e,1,0))}function Vc(e){for(;e===eu;)eu=bs[--xs],bs[xs]=null,Dl=bs[--xs],bs[xs]=null;for(;e===Dr;)Dr=Wn[--Jn],Wn[Jn]=null,Aa=Wn[--Jn],Wn[Jn]=null,Na=Wn[--Jn],Wn[Jn]=null}function Rh(e,t){Wn[Jn++]=Na,Wn[Jn++]=Aa,Wn[Jn++]=Dr,Na=t.id,Aa=t.overflow,Dr=e}var sn=null,jt=null,at=!1,Mr=null,Fn=!1,Ic=Error(s(519));function Ur(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Qn(t,e)),Ic}function Dh(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[wt]=e,t[zt]=l,a){case"dialog":Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":case"embed":Fe("load",t);break;case"video":case"audio":for(a=0;a<no.length;a++)Fe(no[a],t);break;case"source":Fe("error",t);break;case"img":case"image":case"link":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"input":Fe("invalid",t),es(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Fe("invalid",t);break;case"textarea":Fe("invalid",t),xi(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Wp(t.textContent,a)?(l.popover!=null&&(Fe("beforetoggle",t),Fe("toggle",t)),l.onScroll!=null&&Fe("scroll",t),l.onScrollEnd!=null&&Fe("scrollend",t),l.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||Ur(e,!0)}function Mh(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:sn=sn.return}}function ws(e){if(e!==sn)return!1;if(!at)return Mh(e),at=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ff(e.type,e.memoizedProps)),a=!a),a&&jt&&Ur(e),Mh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));jt=iy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));jt=iy(e)}else t===27?(t=jt,Qr(e.type)?(e=vf,vf=null,jt=e):jt=t):jt=sn?ea(e.stateNode.nextSibling):null;return!0}function Ni(){jt=sn=null,at=!1}function Xc(){var e=Mr;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Mr=null),e}function Ml(e){Mr===null?Mr=[e]:Mr.push(e)}var Qc=H(null),Ai=null,Fa=null;function zr(e,t,a){be(Qc,t._currentValue),t._currentValue=a}function Za(e){e._currentValue=Qc.current,le(Qc)}function Wc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Jc(e,t,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var w=c.child;f=f.firstContext;e:for(;f!==null;){var k=f;f=c;for(var C=0;C<t.length;C++)if(k.context===t[C]){f.lanes|=a,k=f.alternate,k!==null&&(k.lanes|=a),Wc(f.return,a,e),l||(w=null);break e}f=k.next}}else if(c.tag===18){if(w=c.return,w===null)throw Error(s(341));w.lanes|=a,f=w.alternate,f!==null&&(f.lanes|=a),Wc(w,a,e),w=null}else w=c.child;if(w!==null)w.return=c;else for(w=c;w!==null;){if(w===e){w=null;break}if(c=w.sibling,c!==null){c.return=w.return,w=c;break}w=w.return}c=w}}function _s(e,t,a,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var w=c.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var k=c.type;yn(c.pendingProps.value,w.value)||(e!==null?e.push(k):e=[k])}}else if(c===We.current){if(w=c.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}c=c.return}e!==null&&Jc(t,e,a,l),t.flags|=262144}function tu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){Ai=e,Fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Uh(Ai,e)}function nu(e,t){return Ai===null&&Ci(e),Uh(e,t)}function Uh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Fa===null){if(e===null)throw Error(s(308));Fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fa=Fa.next=t;return a}var Gg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Yg=r.unstable_scheduleCallback,Vg=r.unstable_NormalPriority,Pt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new Gg,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&Yg(Vg,function(){e.controller.abort()})}var zl=null,Zc=0,Ss=0,Es=null;function Ig(e,t){if(zl===null){var a=zl=[];Zc=0,Ss=nf(),Es={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zc++,t.then(zh,zh),t}function zh(){if(--Zc===0&&zl!==null){Es!==null&&(Es.status="fulfilled");var e=zl;zl=null,Ss=0,Es=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Lh=ne.S;ne.S=function(e,t){xp=fn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),Lh!==null&&Lh(e,t)};var Ri=H(null);function ed(){var e=Ri.current;return e!==null?e:xt.pooledCache}function au(e,t){t===null?be(Ri,Ri.current):be(Ri,t.pool)}function qh(){var e=ed();return e===null?null:{parent:Pt._currentValue,pool:e}}var js=Error(s(460)),td=Error(s(474)),ru=Error(s(542)),iu={then:function(){}};function Bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $h(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(jn,jn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e}throw Mi=t,js}}function Di(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mi=a,js):a}}var Mi=null;function Hh(){if(Mi===null)throw Error(s(459));var e=Mi;return Mi=null,e}function Ph(e){if(e===js||e===ru)throw Error(s(483))}var ks=null,Ll=0;function su(e){var t=Ll;return Ll+=1,ks===null&&(ks=[]),$h(ks,e,t)}function ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function lu(e,t){throw t.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kh(e){function t(K,B){if(e){var Q=K.deletions;Q===null?(K.deletions=[B],K.flags|=16):Q.push(B)}}function a(K,B){if(!e)return null;for(;B!==null;)t(K,B),B=B.sibling;return null}function l(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function c(K,B){return K=Wa(K,B),K.index=0,K.sibling=null,K}function f(K,B,Q){return K.index=Q,e?(Q=K.alternate,Q!==null?(Q=Q.index,Q<B?(K.flags|=67108866,B):Q):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function w(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function k(K,B,Q,oe){return B===null||B.tag!==6?(B=Kc(Q,K.mode,oe),B.return=K,B):(B=c(B,Q),B.return=K,B)}function C(K,B,Q,oe){var De=Q.type;return De===X?re(K,B,Q.props.children,oe,Q.key):B!==null&&(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ze&&Di(De)===B.type)?(B=c(B,Q.props),ql(B,Q),B.return=K,B):(B=Zo(Q.type,Q.key,Q.props,null,K.mode,oe),ql(B,Q),B.return=K,B)}function W(K,B,Q,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=Gc(Q,K.mode,oe),B.return=K,B):(B=c(B,Q.children||[]),B.return=K,B)}function re(K,B,Q,oe,De){return B===null||B.tag!==7?(B=Oi(Q,K.mode,oe,De),B.return=K,B):(B=c(B,Q),B.return=K,B)}function ue(K,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Kc(""+B,K.mode,Q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return Q=Zo(B.type,B.key,B.props,null,K.mode,Q),ql(Q,B),Q.return=K,Q;case P:return B=Gc(B,K.mode,Q),B.return=K,B;case ze:return B=Di(B),ue(K,B,Q)}if(xn(B)||$t(B))return B=Oi(B,K.mode,Q,null),B.return=K,B;if(typeof B.then=="function")return ue(K,su(B),Q);if(B.$$typeof===te)return ue(K,nu(K,B),Q);lu(K,B)}return null}function F(K,B,Q,oe){var De=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return De!==null?null:k(K,B,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return Q.key===De?C(K,B,Q,oe):null;case P:return Q.key===De?W(K,B,Q,oe):null;case ze:return Q=Di(Q),F(K,B,Q,oe)}if(xn(Q)||$t(Q))return De!==null?null:re(K,B,Q,oe,null);if(typeof Q.then=="function")return F(K,B,su(Q),oe);if(Q.$$typeof===te)return F(K,B,nu(K,Q),oe);lu(K,Q)}return null}function ee(K,B,Q,oe,De){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(Q)||null,k(B,K,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return K=K.get(oe.key===null?Q:oe.key)||null,C(B,K,oe,De);case P:return K=K.get(oe.key===null?Q:oe.key)||null,W(B,K,oe,De);case ze:return oe=Di(oe),ee(K,B,Q,oe,De)}if(xn(oe)||$t(oe))return K=K.get(Q)||null,re(B,K,oe,De,null);if(typeof oe.then=="function")return ee(K,B,Q,su(oe),De);if(oe.$$typeof===te)return ee(K,B,Q,nu(B,oe),De);lu(B,oe)}return null}function je(K,B,Q,oe){for(var De=null,it=null,Te=B,Ye=B=0,et=null;Te!==null&&Ye<Q.length;Ye++){Te.index>Ye?(et=Te,Te=null):et=Te.sibling;var st=F(K,Te,Q[Ye],oe);if(st===null){Te===null&&(Te=et);break}e&&Te&&st.alternate===null&&t(K,Te),B=f(st,B,Ye),it===null?De=st:it.sibling=st,it=st,Te=et}if(Ye===Q.length)return a(K,Te),at&&Ja(K,Ye),De;if(Te===null){for(;Ye<Q.length;Ye++)Te=ue(K,Q[Ye],oe),Te!==null&&(B=f(Te,B,Ye),it===null?De=Te:it.sibling=Te,it=Te);return at&&Ja(K,Ye),De}for(Te=l(Te);Ye<Q.length;Ye++)et=ee(Te,K,Ye,Q[Ye],oe),et!==null&&(e&&et.alternate!==null&&Te.delete(et.key===null?Ye:et.key),B=f(et,B,Ye),it===null?De=et:it.sibling=et,it=et);return e&&Te.forEach(function(ei){return t(K,ei)}),at&&Ja(K,Ye),De}function Ue(K,B,Q,oe){if(Q==null)throw Error(s(151));for(var De=null,it=null,Te=B,Ye=B=0,et=null,st=Q.next();Te!==null&&!st.done;Ye++,st=Q.next()){Te.index>Ye?(et=Te,Te=null):et=Te.sibling;var ei=F(K,Te,st.value,oe);if(ei===null){Te===null&&(Te=et);break}e&&Te&&ei.alternate===null&&t(K,Te),B=f(ei,B,Ye),it===null?De=ei:it.sibling=ei,it=ei,Te=et}if(st.done)return a(K,Te),at&&Ja(K,Ye),De;if(Te===null){for(;!st.done;Ye++,st=Q.next())st=ue(K,st.value,oe),st!==null&&(B=f(st,B,Ye),it===null?De=st:it.sibling=st,it=st);return at&&Ja(K,Ye),De}for(Te=l(Te);!st.done;Ye++,st=Q.next())st=ee(Te,K,Ye,st.value,oe),st!==null&&(e&&st.alternate!==null&&Te.delete(st.key===null?Ye:st.key),B=f(st,B,Ye),it===null?De=st:it.sibling=st,it=st);return e&&Te.forEach(function(i0){return t(K,i0)}),at&&Ja(K,Ye),De}function gt(K,B,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===X&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:e:{for(var De=Q.key;B!==null;){if(B.key===De){if(De=Q.type,De===X){if(B.tag===7){a(K,B.sibling),oe=c(B,Q.props.children),oe.return=K,K=oe;break e}}else if(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ze&&Di(De)===B.type){a(K,B.sibling),oe=c(B,Q.props),ql(oe,Q),oe.return=K,K=oe;break e}a(K,B);break}else t(K,B);B=B.sibling}Q.type===X?(oe=Oi(Q.props.children,K.mode,oe,Q.key),oe.return=K,K=oe):(oe=Zo(Q.type,Q.key,Q.props,null,K.mode,oe),ql(oe,Q),oe.return=K,K=oe)}return w(K);case P:e:{for(De=Q.key;B!==null;){if(B.key===De)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){a(K,B.sibling),oe=c(B,Q.children||[]),oe.return=K,K=oe;break e}else{a(K,B);break}else t(K,B);B=B.sibling}oe=Gc(Q,K.mode,oe),oe.return=K,K=oe}return w(K);case ze:return Q=Di(Q),gt(K,B,Q,oe)}if(xn(Q))return je(K,B,Q,oe);if($t(Q)){if(De=$t(Q),typeof De!="function")throw Error(s(150));return Q=De.call(Q),Ue(K,B,Q,oe)}if(typeof Q.then=="function")return gt(K,B,su(Q),oe);if(Q.$$typeof===te)return gt(K,B,nu(K,Q),oe);lu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(a(K,B.sibling),oe=c(B,Q),oe.return=K,K=oe):(a(K,B),oe=Kc(Q,K.mode,oe),oe.return=K,K=oe),w(K)):a(K,B)}return function(K,B,Q,oe){try{Ll=0;var De=gt(K,B,Q,oe);return ks=null,De}catch(Te){if(Te===js||Te===ru)throw Te;var it=Mn(29,Te,null,K.mode);return it.lanes=oe,it.return=K,it}}}var Ui=Kh(!0),Gh=Kh(!1),Lr=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Br(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Rr(e),Oa(e,null,a),t}return pt(e,l,t,a),Rr(e)}function Bl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,bt(e,a)}}function rd(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=w:f=f.next=w,a=a.next}while(a!==null);f===null?c=f=t:f=f.next=t}else c=f=t;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var id=!1;function $l(){if(id){var e=Es;if(e!==null)throw e}}function Hl(e,t,a,l){id=!1;var c=e.updateQueue;Lr=!1;var f=c.firstBaseUpdate,w=c.lastBaseUpdate,k=c.shared.pending;if(k!==null){c.shared.pending=null;var C=k,W=C.next;C.next=null,w===null?f=W:w.next=W,w=C;var re=e.alternate;re!==null&&(re=re.updateQueue,k=re.lastBaseUpdate,k!==w&&(k===null?re.firstBaseUpdate=W:k.next=W,re.lastBaseUpdate=C))}if(f!==null){var ue=c.baseState;w=0,re=W=C=null,k=f;do{var F=k.lane&-536870913,ee=F!==k.lane;if(ee?(Ze&F)===F:(l&F)===F){F!==0&&F===Ss&&(id=!0),re!==null&&(re=re.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var je=e,Ue=k;F=t;var gt=a;switch(Ue.tag){case 1:if(je=Ue.payload,typeof je=="function"){ue=je.call(gt,ue,F);break e}ue=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ue.payload,F=typeof je=="function"?je.call(gt,ue,F):je,F==null)break e;ue=j({},ue,F);break e;case 2:Lr=!0}}F=k.callback,F!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=c.callbacks,ee===null?c.callbacks=[F]:ee.push(F))}else ee={lane:F,tag:k.tag,payload:k.payload,callback:k.callback,next:null},re===null?(W=re=ee,C=ue):re=re.next=ee,w|=F;if(k=k.next,k===null){if(k=c.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,c.lastBaseUpdate=ee,c.shared.pending=null}}while(!0);re===null&&(C=ue),c.baseState=C,c.firstBaseUpdate=W,c.lastBaseUpdate=re,f===null&&(c.shared.lanes=0),Gr|=w,e.lanes=w,e.memoizedState=ue}}function Yh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Vh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yh(a[e],t)}var Ts=H(null),ou=H(0);function Ih(e,t){e=or,be(ou,e),be(Ts,t),or=e|t.baseLanes}function sd(){be(ou,or),be(Ts,Ts.current)}function ld(){or=ou.current,le(Ts),le(ou)}var Un=H(null),Zn=null;function $r(e){var t=e.alternate;be(qt,qt.current&1),be(Un,e),Zn===null&&(t===null||Ts.current!==null||t.memoizedState!==null)&&(Zn=e)}function od(e){be(qt,qt.current),be(Un,e),Zn===null&&(Zn=e)}function Xh(e){e.tag===22?(be(qt,qt.current),be(Un,e),Zn===null&&(Zn=e)):Hr()}function Hr(){be(qt,qt.current),be(Un,Un.current)}function zn(e){le(Un),Zn===e&&(Zn=null),le(qt)}var qt=H(0);function uu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||yf(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var er=0,Ge=null,yt=null,Kt=null,cu=!1,Os=!1,zi=!1,du=0,Pl=0,Ns=null,Qg=0;function At(){throw Error(s(321))}function ud(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!yn(e[a],t[a]))return!1;return!0}function cd(e,t,a,l,c,f){return er=f,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ne.H=e===null||e.memoizedState===null?Cm:jd,zi=!1,f=a(l,c),zi=!1,Os&&(f=Wh(t,a,l,c)),Qh(e),f}function Qh(e){ne.H=Yl;var t=yt!==null&&yt.next!==null;if(er=0,Kt=yt=Ge=null,cu=!1,Pl=0,Ns=null,t)throw Error(s(300));e===null||Gt||(e=e.dependencies,e!==null&&tu(e)&&(Gt=!0))}function Wh(e,t,a,l){Ge=e;var c=0;do{if(Os&&(Ns=null),Pl=0,Os=!1,25<=c)throw Error(s(301));if(c+=1,Kt=yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}ne.H=Rm,f=t(a,l)}while(Os);return f}function Wg(){var e=ne.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(Ge.flags|=1024),t}function dd(){var e=du!==0;return du=0,e}function fd(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function hd(e){if(cu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cu=!1}er=0,Kt=yt=Ge=null,Os=!1,Pl=du=0,Ns=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ge.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Bt(){if(yt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Kt===null?Ge.memoizedState:Kt.next;if(t!==null)Kt=t,yt=e;else{if(e===null)throw Ge.alternate===null?Error(s(467)):Error(s(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Kt===null?Ge.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var t=Pl;return Pl+=1,Ns===null&&(Ns=[]),e=$h(Ns,e,t),t=Ge,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,ne.H=t===null||t.memoizedState===null?Cm:jd),e}function hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===te)return ln(e)}throw Error(s(438,String(e)))}function md(e){var t=null,a=Ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=fu(),Ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Dt;return t.index++,a}function tr(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=Bt();return pd(t,yt,e)}function pd(e,t,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var w=c.next;c.next=f.next,f.next=w}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var k=w=null,C=null,W=t,re=!1;do{var ue=W.lane&-536870913;if(ue!==W.lane?(Ze&ue)===ue:(er&ue)===ue){var F=W.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ue===Ss&&(re=!0);else if((er&F)===F){W=W.next,F===Ss&&(re=!0);continue}else ue={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},C===null?(k=C=ue,w=f):C=C.next=ue,Ge.lanes|=F,Gr|=F;ue=W.action,zi&&a(f,ue),f=W.hasEagerState?W.eagerState:a(f,ue)}else F={lane:ue,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},C===null?(k=C=F,w=f):C=C.next=F,Ge.lanes|=ue,Gr|=ue;W=W.next}while(W!==null&&W!==t);if(C===null?w=f:C.next=k,!yn(f,e.memoizedState)&&(Gt=!0,re&&(a=Es,a!==null)))throw a;e.memoizedState=f,e.baseState=w,e.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yd(e){var t=Bt(),a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=t.memoizedState;if(c!==null){a.pending=null;var w=c=c.next;do f=e(f,w.action),w=w.next;while(w!==c);yn(f,t.memoizedState)||(Gt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,l]}function Jh(e,t,a){var l=Ge,c=Bt(),f=at;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=t();var w=!yn((yt||c).memoizedState,a);if(w&&(c.memoizedState=a,Gt=!0),c=c.queue,bd(em.bind(null,l,c,e),[e]),c.getSnapshot!==t||w||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,As(9,{destroy:void 0},Zh.bind(null,l,c,a,t),null),xt===null)throw Error(s(349));f||(er&127)!==0||Fh(l,t,a)}return a}function Fh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ge.updateQueue,t===null?(t=fu(),Ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Zh(e,t,a,l){t.value=a,t.getSnapshot=l,tm(t)&&nm(e)}function em(e,t,a){return a(function(){tm(t)&&nm(e)})}function tm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!yn(e,a)}catch{return!0}}function nm(e){var t=ut(e,2);t!==null&&An(t,e,2)}function vd(e){var t=Sn();if(typeof e=="function"){var a=e;if(e=a(),zi){an(!0);try{a()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t}function am(e,t,a,l){return e.baseState=a,pd(e,yt,typeof l=="function"?l:tr)}function Jg(e,t,a,l,c){if(vu(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};ne.T!==null?a(!0):f.isTransition=!1,l(f),a=t.pending,a===null?(f.next=t.pending=f,rm(t,f)):(f.next=a.next,t.pending=a.next=f)}}function rm(e,t){var a=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=ne.T,w={};ne.T=w;try{var k=a(c,l),C=ne.S;C!==null&&C(w,k),im(e,t,k)}catch(W){gd(e,t,W)}finally{f!==null&&w.types!==null&&(f.types=w.types),ne.T=f}}else try{f=a(c,l),im(e,t,f)}catch(W){gd(e,t,W)}}function im(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sm(e,t,l)},function(l){return gd(e,t,l)}):sm(e,t,a)}function sm(e,t,a){t.status="fulfilled",t.value=a,lm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,rm(e,a)))}function gd(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,lm(t),t=t.next;while(t!==l)}e.action=null}function lm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function om(e,t){return t}function um(e,t){if(at){var a=xt.formState;if(a!==null){e:{var l=Ge;if(at){if(jt){t:{for(var c=jt,f=Fn;c.nodeType!==8;){if(!f){c=null;break t}if(c=ea(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){jt=ea(c.nextSibling),l=c.data==="F!";break e}}Ur(l)}l=!1}l&&(t=a[0])}}return a=Sn(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:t},a.queue=l,a=Om.bind(null,Ge,l),l.dispatch=a,l=vd(!1),f=Ed.bind(null,Ge,!1,l.queue),l=Sn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,a=Jg.bind(null,Ge,c,f,a),c.dispatch=a,l.memoizedState=e,[t,a,!1]}function cm(e){var t=Bt();return dm(t,yt,e)}function dm(e,t,a){if(t=pd(e,t,om)[0],e=mu(tr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Kl(t)}catch(w){throw w===js?ru:w}else l=t;t=Bt();var c=t.queue,f=c.dispatch;return a!==t.memoizedState&&(Ge.flags|=2048,As(9,{destroy:void 0},Fg.bind(null,c,a),null)),[l,f,e]}function Fg(e,t){e.action=t}function fm(e){var t=Bt(),a=yt;if(a!==null)return dm(t,a,e);Bt(),t=t.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function As(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ge.updateQueue,t===null&&(t=fu(),Ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function hm(){return Bt().memoizedState}function pu(e,t,a,l){var c=Sn();Ge.flags|=e,c.memoizedState=As(1|t,{destroy:void 0},a,l===void 0?null:l)}function yu(e,t,a,l){var c=Bt();l=l===void 0?null:l;var f=c.memoizedState.inst;yt!==null&&l!==null&&ud(l,yt.memoizedState.deps)?c.memoizedState=As(t,f,a,l):(Ge.flags|=e,c.memoizedState=As(1|t,f,a,l))}function mm(e,t){pu(8390656,8,e,t)}function bd(e,t){yu(2048,8,e,t)}function Zg(e){Ge.flags|=4;var t=Ge.updateQueue;if(t===null)t=fu(),Ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pm(e){var t=Bt().memoizedState;return Zg({ref:t,nextImpl:e}),function(){if((ot&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function ym(e,t){return yu(4,2,e,t)}function vm(e,t){return yu(4,4,e,t)}function gm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bm(e,t,a){a=a!=null?a.concat([e]):null,yu(4,4,gm.bind(null,t,e),a)}function xd(){}function xm(e,t){var a=Bt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ud(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function wm(e,t){var a=Bt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ud(t,l[1]))return l[0];if(l=e(),zi){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[l,t],l}function wd(e,t,a){return a===void 0||(er&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=_p(),Ge.lanes|=e,Gr|=e,a)}function _m(e,t,a,l){return yn(a,t)?a:Ts.current!==null?(e=wd(e,a,l),yn(e,t)||(Gt=!0),e):(er&42)===0||(er&1073741824)!==0&&(Ze&261930)===0?(Gt=!0,e.memoizedState=a):(e=_p(),Ge.lanes|=e,Gr|=e,t)}function Sm(e,t,a,l,c){var f=ge.p;ge.p=f!==0&&8>f?f:8;var w=ne.T,k={};ne.T=k,Ed(e,!1,t,a);try{var C=c(),W=ne.S;if(W!==null&&W(k,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var re=Xg(C,l);Gl(e,t,re,Bn(e))}else Gl(e,t,l,Bn(e))}catch(ue){Gl(e,t,{then:function(){},status:"rejected",reason:ue},Bn())}finally{ge.p=f,w!==null&&k.types!==null&&(w.types=k.types),ne.T=w}}function eb(){}function _d(e,t,a,l){if(e.tag!==5)throw Error(s(476));var c=Em(e).queue;Sm(e,c,t,Ce,a===null?eb:function(){return jm(e),a(l)})}function Em(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:Ce},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jm(e){var t=Em(e);t.next===null&&(t=e.alternate.memoizedState),Gl(e,t.next.queue,{},Bn())}function Sd(){return ln(lo)}function km(){return Bt().memoizedState}function Tm(){return Bt().memoizedState}function tb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Bn();e=qr(a);var l=Br(t,e,a);l!==null&&(An(l,t,a),Bl(l,t,a)),t={cache:Fc()},e.payload=t;return}t=t.return}}function nb(e,t,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(e)?Nm(t,a):(a=vn(e,t,a,l),a!==null&&(An(a,e,l),Am(a,t,l)))}function Om(e,t,a){var l=Bn();Gl(e,t,a,l)}function Gl(e,t,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(e))Nm(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var w=t.lastRenderedState,k=f(w,a);if(c.hasEagerState=!0,c.eagerState=k,yn(k,w))return pt(e,t,c,0),xt===null&&He(),!1}catch{}if(a=vn(e,t,c,l),a!==null)return An(a,e,l),Am(a,t,l),!0}return!1}function Ed(e,t,a,l){if(l={lane:2,revertLane:nf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(e)){if(t)throw Error(s(479))}else t=vn(e,a,l,2),t!==null&&An(t,e,2)}function vu(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function Nm(e,t){Os=cu=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Am(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,bt(e,a)}}var Yl={readContext:ln,use:hu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Yl.useEffectEvent=At;var Cm={readContext:ln,use:hu,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:mm,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,pu(4194308,4,gm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return pu(4194308,4,e,t)},useInsertionEffect:function(e,t){pu(4,2,e,t)},useMemo:function(e,t){var a=Sn();t=t===void 0?null:t;var l=e();if(zi){an(!0);try{e()}finally{an(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Sn();if(a!==void 0){var c=a(t);if(zi){an(!0);try{a(t)}finally{an(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=nb.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:function(e){e=vd(e);var t=e.queue,a=Om.bind(null,Ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:xd,useDeferredValue:function(e,t){var a=Sn();return wd(a,e,t)},useTransition:function(){var e=vd(!1);return e=Sm.bind(null,Ge,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ge,c=Sn();if(at){if(a===void 0)throw Error(s(407));a=a()}else{if(a=t(),xt===null)throw Error(s(349));(Ze&127)!==0||Fh(l,t,a)}c.memoizedState=a;var f={value:a,getSnapshot:t};return c.queue=f,mm(em.bind(null,l,f,e),[e]),l.flags|=2048,As(9,{destroy:void 0},Zh.bind(null,l,f,a,t),null),a},useId:function(){var e=Sn(),t=xt.identifierPrefix;if(at){var a=Aa,l=Na;a=(l&~(1<<32-xe(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=du++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Qg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sd,useFormState:um,useActionState:um,useOptimistic:function(e){var t=Sn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ed.bind(null,Ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:md,useCacheRefresh:function(){return Sn().memoizedState=tb.bind(null,Ge)},useEffectEvent:function(e){var t=Sn(),a={impl:e};return t.memoizedState=a,function(){if((ot&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},jd={readContext:ln,use:hu,useCallback:xm,useContext:ln,useEffect:bd,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:wm,useReducer:mu,useRef:hm,useState:function(){return mu(tr)},useDebugValue:xd,useDeferredValue:function(e,t){var a=Bt();return _m(a,yt.memoizedState,e,t)},useTransition:function(){var e=mu(tr)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Jh,useId:km,useHostTransitionStatus:Sd,useFormState:cm,useActionState:cm,useOptimistic:function(e,t){var a=Bt();return am(a,yt,e,t)},useMemoCache:md,useCacheRefresh:Tm};jd.useEffectEvent=pm;var Rm={readContext:ln,use:hu,useCallback:xm,useContext:ln,useEffect:bd,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:wm,useReducer:yd,useRef:hm,useState:function(){return yd(tr)},useDebugValue:xd,useDeferredValue:function(e,t){var a=Bt();return yt===null?wd(a,e,t):_m(a,yt.memoizedState,e,t)},useTransition:function(){var e=yd(tr)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Jh,useId:km,useHostTransitionStatus:Sd,useFormState:fm,useActionState:fm,useOptimistic:function(e,t){var a=Bt();return yt!==null?am(a,yt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:Tm};Rm.useEffectEvent=pm;function kd(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Td={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Bn(),c=qr(l);c.payload=t,a!=null&&(c.callback=a),t=Br(e,c,l),t!==null&&(An(t,e,l),Bl(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Bn(),c=qr(l);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Br(e,c,l),t!==null&&(An(t,e,l),Bl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Bn(),l=qr(a);l.tag=2,t!=null&&(l.callback=t),t=Br(e,l,a),t!==null&&(An(t,e,a),Bl(t,e,a))}};function Dm(e,t,a,l,c,f,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,w):t.prototype&&t.prototype.isPureReactComponent?!o(a,l)||!o(c,f):!0}function Mm(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Td.enqueueReplaceState(t,t.state,null)}function Li(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Um(e){_e(e)}function zm(e){console.error(e)}function Lm(e){_e(e)}function gu(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qm(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Od(e,t,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(e,t)},a}function Bm(e){return e=qr(e),e.tag=3,e}function $m(e,t,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){qm(t,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){qm(t,a,l),typeof c!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})})}function ab(e,t,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&_s(t,a,c,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?Au():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===iu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Zd(e,l,c)),!1;case 22:return a.flags|=65536,l===iu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Zd(e,l,c)),!1}throw Error(s(435,a.tag))}return Zd(e,l,c),Au(),!1}if(at)return t=Un.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Ic&&(e=Error(s(422),{cause:l}),Ml(Qn(e,a)))):(l!==Ic&&(t=Error(s(423),{cause:l}),Ml(Qn(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Qn(l,a),c=Od(e.stateNode,l,c),rd(e,c),Ct!==4&&(Ct=2)),!1;var f=Error(s(520),{cause:l});if(f=Qn(f,a),Zl===null?Zl=[f]:Zl.push(f),Ct!==4&&(Ct=2),t===null)return!0;l=Qn(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Od(a.stateNode,l,e),rd(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Yr===null||!Yr.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Bm(c),$m(c,e,a,l),rd(a,c),!1}a=a.return}while(a!==null);return!1}var Nd=Error(s(461)),Gt=!1;function on(e,t,a,l){t.child=e===null?Gh(t,null,a,l):Ui(t,e.child,a,l)}function Hm(e,t,a,l,c){a=a.render;var f=t.ref;if("ref"in l){var w={};for(var k in l)k!=="ref"&&(w[k]=l[k])}else w=l;return Ci(t),l=cd(e,t,a,w,f,c),k=dd(),e!==null&&!Gt?(fd(e,t,c),nr(e,t,c)):(at&&k&&Yc(t),t.flags|=1,on(e,t,l,c),t.child)}function Pm(e,t,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!Pc(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Km(e,t,f,l,c)):(e=Zo(a.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Ld(e,c)){var w=f.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(w,l)&&e.ref===t.ref)return nr(e,t,c)}return t.flags|=1,e=Wa(f,l),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,a,l,c){if(e!==null){var f=e.memoizedProps;if(o(f,l)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=l=f,Ld(e,c))(e.flags&131072)!==0&&(Gt=!0);else return t.lanes=e.lanes,nr(e,t,c)}return Ad(e,t,a,l,c)}function Gm(e,t,a,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,t.child=null;return Ym(e,t,f,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&au(t,f!==null?f.cachePool:null),f!==null?Ih(t,f):sd(),Xh(t);else return l=t.lanes=536870912,Ym(e,t,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(au(t,f.cachePool),Ih(t,f),Hr(),t.memoizedState=null):(e!==null&&au(t,null),sd(),Hr());return on(e,t,c,a),t.child}function Vl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ym(e,t,a,l,c){var f=ed();return f=f===null?null:{parent:Pt._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&au(t,null),sd(),Xh(t),e!==null&&_s(e,t,l,!0),t.childLanes=c,null}function bu(e,t){return t=wu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vm(e,t,a){return Ui(t,e.child,null,a),e=bu(t,t.pendingProps),e.flags|=2,zn(t),t.memoizedState=null,e}function rb(e,t,a){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(at){if(l.mode==="hidden")return e=bu(t,l),t.lanes=536870912,Vl(null,e);if(od(t),(e=jt)?(e=ry(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:Na,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=Nh(e),a.return=t,t.child=a,sn=t,jt=null)):e=null,e===null)throw Ur(t);return t.lanes=536870912,null}return bu(t,l)}var f=e.memoizedState;if(f!==null){var w=f.dehydrated;if(od(t),c)if(t.flags&256)t.flags&=-257,t=Vm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Gt||_s(e,t,a,!1),c=(a&e.childLanes)!==0,Gt||c){if(l=xt,l!==null&&(w=Ut(l,a),w!==0&&w!==f.retryLane))throw f.retryLane=w,ut(e,w),An(l,e,w),Nd;Au(),t=Vm(e,t,a)}else e=f.treeContext,jt=ea(w.nextSibling),sn=t,at=!0,Mr=null,Fn=!1,e!==null&&Rh(t,e),t=bu(t,l),t.flags|=4096;return t}return e=Wa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ad(e,t,a,l,c){return Ci(t),a=cd(e,t,a,l,void 0,c),l=dd(),e!==null&&!Gt?(fd(e,t,c),nr(e,t,c)):(at&&l&&Yc(t),t.flags|=1,on(e,t,a,c),t.child)}function Im(e,t,a,l,c,f){return Ci(t),t.updateQueue=null,a=Wh(t,l,a,c),Qh(e),l=dd(),e!==null&&!Gt?(fd(e,t,f),nr(e,t,f)):(at&&l&&Yc(t),t.flags|=1,on(e,t,a,f),t.child)}function Xm(e,t,a,l,c){if(Ci(t),t.stateNode===null){var f=gs,w=a.contextType;typeof w=="object"&&w!==null&&(f=ln(w)),f=new a(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Td,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},nd(t),w=a.contextType,f.context=typeof w=="object"&&w!==null?ln(w):gs,f.state=t.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(kd(t,a,w,l),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Td.enqueueReplaceState(f,f.state,null),Hl(t,l,f,c),$l(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var k=t.memoizedProps,C=Li(a,k);f.props=C;var W=f.context,re=a.contextType;w=gs,typeof re=="object"&&re!==null&&(w=ln(re));var ue=a.getDerivedStateFromProps;re=typeof ue=="function"||typeof f.getSnapshotBeforeUpdate=="function",k=t.pendingProps!==k,re||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(k||W!==w)&&Mm(t,f,l,w),Lr=!1;var F=t.memoizedState;f.state=F,Hl(t,l,f,c),$l(),W=t.memoizedState,k||F!==W||Lr?(typeof ue=="function"&&(kd(t,a,ue,l),W=t.memoizedState),(C=Lr||Dm(t,a,C,l,F,W,w))?(re||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=W),f.props=l,f.state=W,f.context=w,l=C):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,ad(e,t),w=t.memoizedProps,re=Li(a,w),f.props=re,ue=t.pendingProps,F=f.context,W=a.contextType,C=gs,typeof W=="object"&&W!==null&&(C=ln(W)),k=a.getDerivedStateFromProps,(W=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==ue||F!==C)&&Mm(t,f,l,C),Lr=!1,F=t.memoizedState,f.state=F,Hl(t,l,f,c),$l();var ee=t.memoizedState;w!==ue||F!==ee||Lr||e!==null&&e.dependencies!==null&&tu(e.dependencies)?(typeof k=="function"&&(kd(t,a,k,l),ee=t.memoizedState),(re=Lr||Dm(t,a,re,l,F,ee,C)||e!==null&&e.dependencies!==null&&tu(e.dependencies))?(W||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,ee,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,ee,C)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ee),f.props=l,f.state=ee,f.context=C,l=re):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,xu(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Ui(t,e.child,null,c),t.child=Ui(t,null,a,c)):on(e,t,a,c),t.memoizedState=f.state,e=t.child):e=nr(e,t,c),e}function Qm(e,t,a,l){return Ni(),t.flags|=256,on(e,t,a,l),t.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(e){return{baseLanes:e,cachePool:qh()}}function Dd(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qn),e}function Wm(e,t,a){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,w;if((w=f)||(w=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),w&&(c=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(at){if(c?$r(t):Hr(),(e=jt)?(e=ry(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:Na,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=Nh(e),a.return=t,t.child=a,sn=t,jt=null)):e=null,e===null)throw Ur(t);return yf(e)?t.lanes=32:t.lanes=536870912,null}var k=l.children;return l=l.fallback,c?(Hr(),c=t.mode,k=wu({mode:"hidden",children:k},c),l=Oi(l,c,a,null),k.return=t,l.return=t,k.sibling=l,t.child=k,l=t.child,l.memoizedState=Rd(a),l.childLanes=Dd(e,w,a),t.memoizedState=Cd,Vl(null,l)):($r(t),Md(t,k))}var C=e.memoizedState;if(C!==null&&(k=C.dehydrated,k!==null)){if(f)t.flags&256?($r(t),t.flags&=-257,t=Ud(e,t,a)):t.memoizedState!==null?(Hr(),t.child=e.child,t.flags|=128,t=null):(Hr(),k=l.fallback,c=t.mode,l=wu({mode:"visible",children:l.children},c),k=Oi(k,c,a,null),k.flags|=2,l.return=t,k.return=t,l.sibling=k,t.child=l,Ui(t,e.child,null,a),l=t.child,l.memoizedState=Rd(a),l.childLanes=Dd(e,w,a),t.memoizedState=Cd,t=Vl(null,l));else if($r(t),yf(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var W=w.dgst;w=W,l=Error(s(419)),l.stack="",l.digest=w,Ml({value:l,source:null,stack:null}),t=Ud(e,t,a)}else if(Gt||_s(e,t,a,!1),w=(a&e.childLanes)!==0,Gt||w){if(w=xt,w!==null&&(l=Ut(w,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,ut(e,l),An(w,e,l),Nd;pf(k)||Au(),t=Ud(e,t,a)}else pf(k)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,jt=ea(k.nextSibling),sn=t,at=!0,Mr=null,Fn=!1,e!==null&&Rh(t,e),t=Md(t,l.children),t.flags|=4096);return t}return c?(Hr(),k=l.fallback,c=t.mode,C=e.child,W=C.sibling,l=Wa(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,W!==null?k=Wa(W,k):(k=Oi(k,c,a,null),k.flags|=2),k.return=t,l.return=t,l.sibling=k,t.child=l,Vl(null,l),l=t.child,k=e.child.memoizedState,k===null?k=Rd(a):(c=k.cachePool,c!==null?(C=Pt._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=qh(),k={baseLanes:k.baseLanes|a,cachePool:c}),l.memoizedState=k,l.childLanes=Dd(e,w,a),t.memoizedState=Cd,Vl(e.child,l)):($r(t),a=e.child,e=a.sibling,a=Wa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=a,t.memoizedState=null,a)}function Md(e,t){return t=wu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wu(e,t){return e=Mn(22,e,null,t),e.lanes=0,e}function Ud(e,t,a){return Ui(t,e.child,null,a),e=Md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Wc(e.return,t,a)}function zd(e,t,a,l,c,f){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=a,w.tailMode=c,w.treeForkCount=f)}function Fm(e,t,a){var l=t.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var w=qt.current,k=(w&2)!==0;if(k?(w=w&1|2,t.flags|=128):w&=1,be(qt,w),on(e,t,l,a),l=at?Dl:0,!k&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jm(e,a,t);else if(e.tag===19)Jm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&uu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),zd(t,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&uu(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}zd(t,!0,a,null,f,l);break;case"together":zd(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function nr(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Gr|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(_s(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,a=Wa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Wa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ld(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tu(e)))}function ib(e,t,a){switch(t.tag){case 3:It(t,t.stateNode.containerInfo),zr(t,Pt,e.memoizedState.cache),Ni();break;case 27:case 5:Oe(t);break;case 4:It(t,t.stateNode.containerInfo);break;case 10:zr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,od(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?($r(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Wm(e,t,a):($r(t),e=nr(e,t,a),e!==null?e.sibling:null);$r(t);break;case 19:var c=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(_s(e,t,a,!1),l=(a&t.childLanes)!==0),c){if(l)return Fm(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),be(qt,qt.current),l)break;return null;case 22:return t.lanes=0,Gm(e,t,a,t.pendingProps);case 24:zr(t,Pt,e.memoizedState.cache)}return nr(e,t,a)}function Zm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!Ld(e,a)&&(t.flags&128)===0)return Gt=!1,ib(e,t,a);Gt=(e.flags&131072)!==0}else Gt=!1,at&&(t.flags&1048576)!==0&&Ch(t,Dl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Di(t.elementType),t.type=e,typeof e=="function")Pc(e)?(l=Li(e,l),t.tag=1,t=Xm(null,t,e,l,a)):(t.tag=0,t=Ad(null,t,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===he){t.tag=11,t=Hm(null,t,e,l,a);break e}else if(c===se){t.tag=14,t=Pm(null,t,e,l,a);break e}}throw t=ra(e)||e,Error(s(306,t,""))}}return t;case 0:return Ad(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,c=Li(l,t.pendingProps),Xm(e,t,l,c,a);case 3:e:{if(It(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,ad(e,t),Hl(t,l,null,a);var w=t.memoizedState;if(l=w.cache,zr(t,Pt,l),l!==f.cache&&Jc(t,[Pt],a,!0),$l(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Qm(e,t,l,a);break e}else if(l!==c){c=Qn(Error(s(424)),t),Ml(c),t=Qm(e,t,l,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,jt=ea(e.firstChild),sn=t,at=!0,Mr=null,Fn=!0,a=Gh(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ni(),l===c){t=nr(e,t,a);break e}on(e,t,l,a)}t=t.child}return t;case 26:return xu(e,t),e===null?(a=cy(t.type,null,t.pendingProps,null))?t.memoizedState=a:at||(a=t.type,e=t.pendingProps,l=Lu(Ke.current).createElement(a),l[wt]=t,l[zt]=e,un(l,a,e),Lt(l),t.stateNode=l):t.memoizedState=cy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),e===null&&at&&(l=t.stateNode=ly(t.type,t.pendingProps,Ke.current),sn=t,Fn=!0,c=jt,Qr(t.type)?(vf=c,jt=ea(l.firstChild)):jt=c),on(e,t,t.pendingProps.children,a),xu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&at&&((c=l=jt)&&(l=Ub(l,t.type,t.pendingProps,Fn),l!==null?(t.stateNode=l,sn=t,jt=ea(l.firstChild),Fn=!1,c=!0):c=!1),c||Ur(t)),Oe(t),c=t.type,f=t.pendingProps,w=e!==null?e.memoizedProps:null,l=f.children,ff(c,f)?l=null:w!==null&&ff(c,w)&&(t.flags|=32),t.memoizedState!==null&&(c=cd(e,t,Wg,null,null,a),lo._currentValue=c),xu(e,t),on(e,t,l,a),t.child;case 6:return e===null&&at&&((e=a=jt)&&(a=zb(a,t.pendingProps,Fn),a!==null?(t.stateNode=a,sn=t,jt=null,e=!0):e=!1),e||Ur(t)),null;case 13:return Wm(e,t,a);case 4:return It(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ui(t,null,l,a):on(e,t,l,a),t.child;case 11:return Hm(e,t,t.type,t.pendingProps,a);case 7:return on(e,t,t.pendingProps,a),t.child;case 8:return on(e,t,t.pendingProps.children,a),t.child;case 12:return on(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,zr(t,t.type,l.value),on(e,t,l.children,a),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ci(t),c=ln(c),l=l(c),t.flags|=1,on(e,t,l,a),t.child;case 14:return Pm(e,t,t.type,t.pendingProps,a);case 15:return Km(e,t,t.type,t.pendingProps,a);case 19:return Fm(e,t,a);case 31:return rb(e,t,a);case 22:return Gm(e,t,a,t.pendingProps);case 24:return Ci(t),l=ln(Pt),e===null?(c=ed(),c===null&&(c=xt,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),t.memoizedState={parent:l,cache:c},nd(t),zr(t,Pt,c)):((e.lanes&a)!==0&&(ad(e,t),Hl(t,null,null,a),$l()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),zr(t,Pt,l)):(l=f.cache,zr(t,Pt,l),l!==c.cache&&Jc(t,[Pt],a,!0))),on(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ar(e){e.flags|=4}function qd(e,t,a,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(kp())e.flags|=8192;else throw Mi=iu,td}else e.flags&=-16777217}function ep(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!py(t))if(kp())e.flags|=8192;else throw Mi=iu,td}function _u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qo():536870912,e.lanes|=t,Ms|=t)}function Il(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function sb(e,t,a){var l=t.pendingProps;switch(Vc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return kt(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Za(Pt),Nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ws(t)?ar(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xc())),kt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(ar(t),f!==null?(kt(t),ep(t,f)):(kt(t),qd(t,c,null,l,a))):f?f!==e.memoizedState?(ar(t),kt(t),ep(t,f)):(kt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ar(t),kt(t),qd(t,c,e,l,a)),null;case 27:if(ri(t),a=Ke.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return kt(t),null}e=Ee.current,ws(t)?Dh(t):(e=ly(c,l,a),t.stateNode=e,ar(t))}return kt(t),null;case 5:if(ri(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return kt(t),null}if(f=Ee.current,ws(t))Dh(t);else{var w=Lu(Ke.current);switch(f){case 1:f=w.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=w.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=w.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=w.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?w.createElement(c,{is:l.is}):w.createElement(c)}}f[wt]=t,f[zt]=l;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=f;e:switch(un(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ar(t)}}return kt(t),qd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ar(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=Ke.current,ws(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,c=sn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[wt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wp(e.nodeValue,a)),e||Ur(t,!0)}else e=Lu(e).createTextNode(l),e[wt]=t,t.stateNode=e}return kt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=ws(t),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[wt]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),e=!1}else a=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(zn(t),t):(zn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return kt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ws(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[wt]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),c=!1}else c=Xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(zn(t),t):(zn(t),null)}return zn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),_u(t,t.updateQueue),kt(t),null);case 4:return Nt(),e===null&&lf(t.stateNode.containerInfo),kt(t),null;case 10:return Za(t.type),kt(t),null;case 19:if(le(qt),l=t.memoizedState,l===null)return kt(t),null;if(c=(t.flags&128)!==0,f=l.rendering,f===null)if(c)Il(l,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=uu(e),f!==null){for(t.flags|=128,Il(l,!1),e=f.updateQueue,t.updateQueue=e,_u(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Oh(a,e),a=a.sibling;return be(qt,qt.current&1|2),at&&Ja(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&fn()>Tu&&(t.flags|=128,c=!0,Il(l,!1),t.lanes=4194304)}else{if(!c)if(e=uu(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,_u(t,e),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!at)return kt(t),null}else 2*fn()-l.renderingStartTime>Tu&&a!==536870912&&(t.flags|=128,c=!0,Il(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=fn(),e.sibling=null,a=qt.current,be(qt,c?a&1|2:a&1),at&&Ja(t,l.treeForkCount),e):(kt(t),null);case 22:case 23:return zn(t),ld(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),a=t.updateQueue,a!==null&&_u(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&le(Ri),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Za(Pt),kt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function lb(e,t){switch(Vc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(Pt),Nt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ri(t),null;case 31:if(t.memoizedState!==null){if(zn(t),t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(qt),null;case 4:return Nt(),null;case 10:return Za(t.type),null;case 22:case 23:return zn(t),ld(),e!==null&&le(Ri),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(Pt),null;case 25:return null;default:return null}}function tp(e,t){switch(Vc(t),t.tag){case 3:Za(Pt),Nt();break;case 26:case 27:case 5:ri(t);break;case 4:Nt();break;case 31:t.memoizedState!==null&&zn(t);break;case 13:zn(t);break;case 19:le(qt);break;case 10:Za(t.type);break;case 22:case 23:zn(t),ld(),e!==null&&le(Ri);break;case 24:Za(Pt)}}function Xl(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,w=a.inst;l=f(),w.destroy=l}a=a.next}while(a!==c)}}catch(k){ft(t,t.return,k)}}function Pr(e,t,a){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var w=l.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,c=t;var C=a,W=k;try{W()}catch(re){ft(c,C,re)}}}l=l.next}while(l!==f)}}catch(re){ft(t,t.return,re)}}function np(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Vh(t,a)}catch(l){ft(e,e.return,l)}}}function ap(e,t,a){a.props=Li(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ft(e,t,l)}}function Ql(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){ft(e,t,c)}}function Ca(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ft(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ft(e,t,c)}else a.current=null}function rp(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ft(e,e.return,c)}}function Bd(e,t,a){try{var l=e.stateNode;Nb(l,e.type,a,t),l[zt]=t}catch(c){ft(e,e.return,c)}}function ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qr(e.type)||e.tag===4}function $d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=jn));else if(l!==4&&(l===27&&Qr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Hd(e,t,a),e=e.sibling;e!==null;)Hd(e,t,a),e=e.sibling}function Su(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Su(e,t,a),e=e.sibling;e!==null;)Su(e,t,a),e=e.sibling}function sp(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);un(t,l,a),t[wt]=e,t[zt]=a}catch(f){ft(e,e.return,f)}}var rr=!1,Yt=!1,Pd=!1,lp=typeof WeakSet=="function"?WeakSet:Set,en=null;function ob(e,t){if(e=e.containerInfo,cf=Gu,e=_(e),E(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var w=0,k=-1,C=-1,W=0,re=0,ue=e,F=null;t:for(;;){for(var ee;ue!==a||c!==0&&ue.nodeType!==3||(k=w+c),ue!==f||l!==0&&ue.nodeType!==3||(C=w+l),ue.nodeType===3&&(w+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)F=ue,ue=ee;for(;;){if(ue===e)break t;if(F===a&&++W===c&&(k=w),F===f&&++re===l&&(C=w),(ee=ue.nextSibling)!==null)break;ue=F,F=ue.parentNode}ue=ee}a=k===-1||C===-1?null:{start:k,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:e,selectionRange:a},Gu=!1,en=t;en!==null;)if(t=en,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,en=e;else for(;en!==null;){switch(t=en,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var je=Li(a.type,c);e=l.getSnapshotBeforeUpdate(je,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){ft(a,a.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)mf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,en=e;break}en=t.return}}function op(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),l&4&&Xl(5,a);break;case 1:if(sr(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(w){ft(a,a.return,w)}else{var c=Li(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(a,a.return,w)}}l&64&&np(a),l&512&&Ql(a,a.return);break;case 3:if(sr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Vh(e,t)}catch(w){ft(a,a.return,w)}}break;case 27:t===null&&l&4&&sp(a);case 26:case 5:sr(e,a),t===null&&l&4&&rp(a),l&512&&Ql(a,a.return);break;case 12:sr(e,a);break;case 31:sr(e,a),l&4&&dp(e,a);break;case 13:sr(e,a),l&4&&fp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=vb.bind(null,a),Lb(e,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){t=t!==null&&t.memoizedState!==null||Yt,c=rr;var f=Yt;rr=l,(Yt=t)&&!f?lr(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),rr=c,Yt=f}break;case 30:break;default:sr(e,a)}}function up(e){var t=e.alternate;t!==null&&(e.alternate=null,up(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,kn=!1;function ir(e,t,a){for(a=a.child;a!==null;)cp(e,t,a),a=a.sibling}function cp(e,t,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ga,a)}catch{}switch(a.tag){case 26:Yt||Ca(a,t),ir(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||Ca(a,t);var l=Tt,c=kn;Qr(a.type)&&(Tt=a.stateNode,kn=!1),ir(e,t,a),ro(a.stateNode),Tt=l,kn=c;break;case 5:Yt||Ca(a,t);case 6:if(l=Tt,c=kn,Tt=null,ir(e,t,a),Tt=l,kn=c,Tt!==null)if(kn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(f){ft(a,t,f)}else try{Tt.removeChild(a.stateNode)}catch(f){ft(a,t,f)}break;case 18:Tt!==null&&(kn?(e=Tt,ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ps(e)):ny(Tt,a.stateNode));break;case 4:l=Tt,c=kn,Tt=a.stateNode.containerInfo,kn=!0,ir(e,t,a),Tt=l,kn=c;break;case 0:case 11:case 14:case 15:Pr(2,a,t),Yt||Pr(4,a,t),ir(e,t,a);break;case 1:Yt||(Ca(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ap(a,t,l)),ir(e,t,a);break;case 21:ir(e,t,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,ir(e,t,a),Yt=l;break;default:ir(e,t,a)}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ps(e)}catch(a){ft(t,t.return,a)}}}function fp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ps(e)}catch(a){ft(t,t.return,a)}}function ub(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lp),t;default:throw Error(s(435,e.tag))}}function Eu(e,t){var a=ub(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var c=gb.bind(null,e,l);l.then(c,c)}})}function Tn(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,w=t,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Qr(k.type)){Tt=k.stateNode,kn=!1;break e}break;case 5:Tt=k.stateNode,kn=!1;break e;case 3:case 4:Tt=k.stateNode.containerInfo,kn=!0;break e}k=k.return}if(Tt===null)throw Error(s(160));cp(f,w,c),Tt=null,kn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hp(t,e),t=t.sibling}var ca=null;function hp(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(t,e),On(e),l&4&&(Pr(3,e,e.return),Xl(3,e),Pr(5,e,e.return));break;case 1:Tn(t,e),On(e),l&512&&(Yt||a===null||Ca(a,a.return)),l&64&&rr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ca;if(Tn(t,e),On(e),l&512&&(Yt||a===null||Ca(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cn]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),un(f,l,a),f[wt]=e,Lt(f),l=f;break e;case"link":var w=hy("link","href",c).get(l+(a.href||""));if(w){for(var k=0;k<w.length;k++)if(f=w[k],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(k,1);break t}}f=c.createElement(l),un(f,l,a),c.head.appendChild(f);break;case"meta":if(w=hy("meta","content",c).get(l+(a.content||""))){for(k=0;k<w.length;k++)if(f=w[k],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(k,1);break t}}f=c.createElement(l),un(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=e,Lt(f),l=f}e.stateNode=l}else my(c,e.type,e.stateNode);else e.stateNode=fy(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?my(c,e.type,e.stateNode):fy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(t,e),On(e),l&512&&(Yt||a===null||Ca(a,a.return)),a!==null&&l&4&&Bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(t,e),On(e),l&512&&(Yt||a===null||Ca(a,a.return)),e.flags&32){c=e.stateNode;try{$a(c,"")}catch(je){ft(e,e.return,je)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Bd(e,c,a!==null?a.memoizedProps:c)),l&1024&&(Pd=!0);break;case 6:if(Tn(t,e),On(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(je){ft(e,e.return,je)}}break;case 3:if($u=null,c=ca,ca=qu(t.containerInfo),Tn(t,e),ca=c,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(je){ft(e,e.return,je)}Pd&&(Pd=!1,mp(e));break;case 4:l=ca,ca=qu(e.stateNode.containerInfo),Tn(t,e),On(e),ca=l;break;case 12:Tn(t,e),On(e);break;case 31:Tn(t,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Eu(e,l)));break;case 13:Tn(t,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ku=fn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Eu(e,l)));break;case 22:c=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,W=rr,re=Yt;if(rr=W||c,Yt=re||C,Tn(t,e),Yt=re,rr=W,On(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||C||rr||Yt||qi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(f=C.stateNode,c)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=C.stateNode;var ue=C.memoizedProps.style,F=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;k.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(je){ft(C,C.return,je)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(je){ft(C,C.return,je)}}}else if(t.tag===18){if(a===null){C=t;try{var ee=C.stateNode;c?ay(ee,!0):ay(C.stateNode,!1)}catch(je){ft(C,C.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eu(e,a))));break;case 19:Tn(t,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Eu(e,l)));break;case 30:break;case 21:break;default:Tn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ip(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=$d(e);Su(e,f,c);break;case 5:var w=a.stateNode;a.flags&32&&($a(w,""),a.flags&=-33);var k=$d(e);Su(e,k,w);break;case 3:case 4:var C=a.stateNode.containerInfo,W=$d(e);Hd(e,W,C);break;default:throw Error(s(161))}}catch(re){ft(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function sr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)op(e,t.alternate,t),t=t.sibling}function qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pr(4,t,t.return),qi(t);break;case 1:Ca(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ap(t,t.return,a),qi(t);break;case 27:ro(t.stateNode);case 26:case 5:Ca(t,t.return),qi(t);break;case 22:t.memoizedState===null&&qi(t);break;case 30:qi(t);break;default:qi(t)}e=e.sibling}}function lr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,w=f.flags;switch(f.tag){case 0:case 11:case 15:lr(c,f,a),Xl(4,f);break;case 1:if(lr(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(W){ft(l,l.return,W)}if(l=f,c=l.updateQueue,c!==null){var k=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Yh(C[c],k)}catch(W){ft(l,l.return,W)}}a&&w&64&&np(f),Ql(f,f.return);break;case 27:sp(f);case 26:case 5:lr(c,f,a),a&&l===null&&w&4&&rp(f),Ql(f,f.return);break;case 12:lr(c,f,a);break;case 31:lr(c,f,a),a&&w&4&&dp(c,f);break;case 13:lr(c,f,a),a&&w&4&&fp(c,f);break;case 22:f.memoizedState===null&&lr(c,f,a),Ql(f,f.return);break;case 30:break;default:lr(c,f,a)}t=t.sibling}}function Kd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ul(a))}function Gd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e))}function da(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(e,t,a,l),t=t.sibling}function pp(e,t,a,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,l),c&2048&&Xl(9,t);break;case 1:da(e,t,a,l);break;case 3:da(e,t,a,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e)));break;case 12:if(c&2048){da(e,t,a,l),e=t.stateNode;try{var f=t.memoizedProps,w=f.id,k=f.onPostCommit;typeof k=="function"&&k(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ft(t,t.return,C)}}else da(e,t,a,l);break;case 31:da(e,t,a,l);break;case 13:da(e,t,a,l);break;case 23:break;case 22:f=t.stateNode,w=t.alternate,t.memoizedState!==null?f._visibility&2?da(e,t,a,l):Wl(e,t):f._visibility&2?da(e,t,a,l):(f._visibility|=2,Cs(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Kd(w,t);break;case 24:da(e,t,a,l),c&2048&&Gd(t.alternate,t);break;default:da(e,t,a,l)}}function Cs(e,t,a,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,w=t,k=a,C=l,W=w.flags;switch(w.tag){case 0:case 11:case 15:Cs(f,w,k,C,c),Xl(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Cs(f,w,k,C,c):Wl(f,w):(re._visibility|=2,Cs(f,w,k,C,c)),c&&W&2048&&Kd(w.alternate,w);break;case 24:Cs(f,w,k,C,c),c&&W&2048&&Gd(w.alternate,w);break;default:Cs(f,w,k,C,c)}t=t.sibling}}function Wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,c=l.flags;switch(l.tag){case 22:Wl(a,l),c&2048&&Kd(l.alternate,l);break;case 24:Wl(a,l),c&2048&&Gd(l.alternate,l);break;default:Wl(a,l)}t=t.sibling}}var Jl=8192;function Rs(e,t,a){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)yp(e,t,a),e=e.sibling}function yp(e,t,a){switch(e.tag){case 26:Rs(e,t,a),e.flags&Jl&&e.memoizedState!==null&&Qb(a,ca,e.memoizedState,e.memoizedProps);break;case 5:Rs(e,t,a);break;case 3:case 4:var l=ca;ca=qu(e.stateNode.containerInfo),Rs(e,t,a),ca=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,Rs(e,t,a),Jl=l):Rs(e,t,a));break;default:Rs(e,t,a)}}function vp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];en=l,bp(l,e)}vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ju(e)):Fl(e);break;default:Fl(e)}}function ju(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];en=l,bp(l,e)}vp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pr(8,t,t.return),ju(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ju(t));break;default:ju(t)}e=e.sibling}}function bp(e,t){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:Pr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=e;en!==null;){l=en;var c=l.sibling,f=l.return;if(up(l),l===a){en=null;break e}if(c!==null){c.return=f,en=c;break e}en=f}}}var cb={getCacheForType:function(e){var t=ln(Pt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ln(Pt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Je=null,Ze=0,dt=0,Ln=null,Kr=!1,Ds=!1,Yd=!1,or=0,Ct=0,Gr=0,Bi=0,Vd=0,qn=0,Ms=0,Zl=null,Nn=null,Id=!1,ku=0,xp=0,Tu=1/0,Ou=null,Yr=null,Xt=0,Vr=null,Us=null,ur=0,Xd=0,Qd=null,wp=null,eo=0,Wd=null;function Bn(){return(ot&2)!==0&&Ze!==0?Ze&-Ze:ne.T!==null?nf():hi()}function _p(){if(qn===0)if((Ze&536870912)===0||at){var e=br;br<<=1,(br&3932160)===0&&(br=262144),qn=e}else qn=536870912;return e=Un.current,e!==null&&(e.flags|=32),qn}function An(e,t,a){(e===xt&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(zs(e,0),Ir(e,Ze,qn,!1)),Gn(e,a),((ot&2)===0||e!==xt)&&(e===xt&&((ot&2)===0&&(Bi|=a),Ct===4&&Ir(e,Ze,qn,!1)),Ra(e))}function Sp(e,t,a){if((ot&6)!==0)throw Error(s(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||La(e,t),c=l?mb(e,t):Fd(e,t,!0),f=l;do{if(c===0){Ds&&!l&&Ir(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!fb(a)){c=Fd(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var k=e;c=Zl;var C=k.current.memoizedState.isDehydrated;if(C&&(zs(k,w).flags|=256),w=Fd(k,w,!1),w!==2){if(Yd&&!C){k.errorRecoveryDisabledLanes|=f,Bi|=f,c=4;break e}f=Nn,Nn=c,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}c=w}if(f=!1,c!==2)continue}}if(c===1){zs(e,0),Ir(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Ir(l,t,qn,!Kr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=ku+300-fn(),10<c)){if(Ir(l,t,qn,!Kr),di(l,0,!0)!==0)break e;ur=t,l.timeoutHandle=ey(Ep.bind(null,l,a,Nn,Ou,Id,t,qn,Bi,Ms,Kr,f,"Throttled",-0,0),c);break e}Ep(l,a,Nn,Ou,Id,t,qn,Bi,Ms,Kr,f,null,-0,0)}}break}while(!0);Ra(e)}function Ep(e,t,a,l,c,f,w,k,C,W,re,ue,F,ee){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},yp(t,f,ue);var je=(f&62914560)===f?ku-fn():(f&4194048)===f?xp-fn():0;if(je=Wb(ue,je),je!==null){ur=f,e.cancelPendingCommit=je(Rp.bind(null,e,t,f,a,l,c,w,k,C,re,ue,null,F,ee)),Ir(e,f,w,!W);return}}Rp(e,t,f,a,l,c,w,k,C)}function fb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!yn(f(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t,a,l){t&=~Vd,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-xe(c),w=1<<f;l[f]=-1,c&=~w}a!==0&&fi(e,a,t)}function Nu(){return(ot&6)===0?(to(0),!1):!0}function Jd(){if(Je!==null){if(dt===0)var e=Je.return;else e=Je,Fa=Ai=null,hd(e),ks=null,Ll=0,e=Je;for(;e!==null;)tp(e.alternate,e),e=e.return;Je=null}}function zs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ur=0,Jd(),xt=e,Je=a=Wa(e.current,null),Ze=t,dt=0,Ln=null,Kr=!1,Ds=La(e,t),Yd=!1,Ms=qn=Vd=Bi=Gr=Ct=0,Nn=Zl=null,Id=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-xe(l),f=1<<c;t|=e[c],l&=~f}return or=t,He(),a}function jp(e,t){Ge=null,ne.H=Yl,t===js||t===ru?(t=Hh(),dt=3):t===td?(t=Hh(),dt=4):dt=t===Nd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ln=t,Je===null&&(Ct=1,gu(e,Qn(t,e.current)))}function kp(){var e=Un.current;return e===null?!0:(Ze&4194048)===Ze?Zn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===Zn:!1}function Tp(){var e=ne.H;return ne.H=Yl,e===null?Yl:e}function Op(){var e=ne.A;return ne.A=cb,e}function Au(){Ct=4,Kr||(Ze&4194048)!==Ze&&Un.current!==null||(Ds=!0),(Gr&134217727)===0&&(Bi&134217727)===0||xt===null||Ir(xt,Ze,qn,!1)}function Fd(e,t,a){var l=ot;ot|=2;var c=Tp(),f=Op();(xt!==e||Ze!==t)&&(Ou=null,zs(e,t)),t=!1;var w=Ct;e:do try{if(dt!==0&&Je!==null){var k=Je,C=Ln;switch(dt){case 8:Jd(),w=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var W=dt;if(dt=0,Ln=null,Ls(e,k,C,W),a&&Ds){w=0;break e}break;default:W=dt,dt=0,Ln=null,Ls(e,k,C,W)}}hb(),w=Ct;break}catch(re){jp(e,re)}while(!0);return t&&e.shellSuspendCounter++,Fa=Ai=null,ot=l,ne.H=c,ne.A=f,Je===null&&(xt=null,Ze=0,He()),w}function hb(){for(;Je!==null;)Np(Je)}function mb(e,t){var a=ot;ot|=2;var l=Tp(),c=Op();xt!==e||Ze!==t?(Ou=null,Tu=fn()+500,zs(e,t)):Ds=La(e,t);e:do try{if(dt!==0&&Je!==null){t=Je;var f=Ln;t:switch(dt){case 1:dt=0,Ln=null,Ls(e,t,f,1);break;case 2:case 9:if(Bh(f)){dt=0,Ln=null,Ap(t);break}t=function(){dt!==2&&dt!==9||xt!==e||(dt=7),Ra(e)},f.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Bh(f)?(dt=0,Ln=null,Ap(t)):(dt=0,Ln=null,Ls(e,t,f,7));break;case 5:var w=null;switch(Je.tag){case 26:w=Je.memoizedState;case 5:case 27:var k=Je;if(w?py(w):k.stateNode.complete){dt=0,Ln=null;var C=k.sibling;if(C!==null)Je=C;else{var W=k.return;W!==null?(Je=W,Cu(W)):Je=null}break t}}dt=0,Ln=null,Ls(e,t,f,5);break;case 6:dt=0,Ln=null,Ls(e,t,f,6);break;case 8:Jd(),Ct=6;break e;default:throw Error(s(462))}}pb();break}catch(re){jp(e,re)}while(!0);return Fa=Ai=null,ne.H=l,ne.A=c,ot=a,Je!==null?0:(xt=null,Ze=0,He(),Ct)}function pb(){for(;Je!==null&&!Lo();)Np(Je)}function Np(e){var t=Zm(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?Cu(e):Je=t}function Ap(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Im(a,t,t.pendingProps,t.type,void 0,Ze);break;case 11:t=Im(a,t,t.pendingProps,t.type.render,t.ref,Ze);break;case 5:hd(t);default:tp(a,t),t=Je=Oh(t,or),t=Zm(a,t,or)}e.memoizedProps=e.pendingProps,t===null?Cu(e):Je=t}function Ls(e,t,a,l){Fa=Ai=null,hd(t),ks=null,Ll=0;var c=t.return;try{if(ab(e,c,t,a,Ze)){Ct=1,gu(e,Qn(a,e.current)),Je=null;return}}catch(f){if(c!==null)throw Je=c,f;Ct=1,gu(e,Qn(a,e.current)),Je=null;return}t.flags&32768?(at||l===1?e=!0:Ds||(Ze&536870912)!==0?e=!1:(Kr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(t,e)):Cu(t)}function Cu(e){var t=e;do{if((t.flags&32768)!==0){Cp(t,Kr);return}e=t.return;var a=sb(t.alternate,t,or);if(a!==null){Je=a;return}if(t=t.sibling,t!==null){Je=t;return}Je=t=e}while(t!==null);Ct===0&&(Ct=5)}function Cp(e,t){do{var a=lb(e.alternate,e);if(a!==null){a.flags&=32767,Je=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Je=e;return}Je=e=a}while(e!==null);Ct=6,Je=null}function Rp(e,t,a,l,c,f,w,k,C){e.cancelPendingCommit=null;do Ru();while(Xt!==0);if((ot&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Re,dl(e,a,f,w,k,C),e===xt&&(Je=xt=null,Ze=0),Us=t,Vr=e,ur=a,Xd=f,Qd=c,wp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bb(gr,function(){return Lp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null,c=ge.p,ge.p=2,w=ot,ot|=4;try{ob(e,t,a)}finally{ot=w,ge.p=c,ne.T=l}}Xt=1,Dp(),Mp(),Up()}}function Dp(){if(Xt===1){Xt=0;var e=Vr,t=Us,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=ne.T,ne.T=null;var l=ge.p;ge.p=2;var c=ot;ot|=4;try{hp(t,e);var f=df,w=_(e.containerInfo),k=f.focusedElem,C=f.selectionRange;if(w!==k&&k&&k.ownerDocument&&b(k.ownerDocument.documentElement,k)){if(C!==null&&E(k)){var W=C.start,re=C.end;if(re===void 0&&(re=W),"selectionStart"in k)k.selectionStart=W,k.selectionEnd=Math.min(re,k.value.length);else{var ue=k.ownerDocument||document,F=ue&&ue.defaultView||window;if(F.getSelection){var ee=F.getSelection(),je=k.textContent.length,Ue=Math.min(C.start,je),gt=C.end===void 0?Ue:Math.min(C.end,je);!ee.extend&&Ue>gt&&(w=gt,gt=Ue,Ue=w);var K=v(k,Ue),B=v(k,gt);if(K&&B&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==B.node||ee.focusOffset!==B.offset)){var Q=ue.createRange();Q.setStart(K.node,K.offset),ee.removeAllRanges(),Ue>gt?(ee.addRange(Q),ee.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),ee.addRange(Q))}}}}for(ue=[],ee=k;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ue.length;k++){var oe=ue[k];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Gu=!!cf,df=cf=null}finally{ot=c,ge.p=l,ne.T=a}}e.current=t,Xt=2}}function Mp(){if(Xt===2){Xt=0;var e=Vr,t=Us,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=ne.T,ne.T=null;var l=ge.p;ge.p=2;var c=ot;ot|=4;try{op(e,t.alternate,t)}finally{ot=c,ge.p=l,ne.T=a}}Xt=3}}function Up(){if(Xt===4||Xt===3){Xt=0,si();var e=Vr,t=Us,a=ur,l=wp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xt=5:(Xt=0,Us=Vr=null,zp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Yr=null),xr(a),t=t.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=ne.T,c=ge.p,ge.p=2,ne.T=null;try{for(var f=e.onRecoverableError,w=0;w<l.length;w++){var k=l[w];f(k.value,{componentStack:k.stack})}}finally{ne.T=t,ge.p=c}}(ur&3)!==0&&Ru(),Ra(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Wd?eo++:(eo=0,Wd=e):eo=0,to(0)}}function zp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ul(t)))}function Ru(){return Dp(),Mp(),Up(),Lp()}function Lp(){if(Xt!==5)return!1;var e=Vr,t=Xd;Xd=0;var a=xr(ur),l=ne.T,c=ge.p;try{ge.p=32>a?32:a,ne.T=null,a=Qd,Qd=null;var f=Vr,w=ur;if(Xt=0,Us=Vr=null,ur=0,(ot&6)!==0)throw Error(s(331));var k=ot;if(ot|=4,gp(f.current),pp(f,f.current,w,a),ot=k,to(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ga,f)}catch{}return!0}finally{ge.p=c,ne.T=l,zp(e,t)}}function qp(e,t,a){t=Qn(a,t),t=Od(e.stateNode,t,2),e=Br(e,t,2),e!==null&&(Gn(e,2),Ra(e))}function ft(e,t,a){if(e.tag===3)qp(e,e,a);else for(;t!==null;){if(t.tag===3){qp(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){e=Qn(a,e),a=Bm(2),l=Br(t,a,2),l!==null&&($m(a,l,t,e),Gn(l,2),Ra(l));break}}t=t.return}}function Zd(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new db;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(a)||(Yd=!0,c.add(a),e=yb.bind(null,e,t,a),t.then(e,e))}function yb(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,xt===e&&(Ze&a)===a&&(Ct===4||Ct===3&&(Ze&62914560)===Ze&&300>fn()-ku?(ot&2)===0&&zs(e,0):Vd|=a,Ms===Ze&&(Ms=0)),Ra(e)}function Bp(e,t){t===0&&(t=qo()),e=ut(e,t),e!==null&&(Gn(e,t),Ra(e))}function vb(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Bp(e,a)}function gb(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Bp(e,a)}function bb(e,t){return ii(e,t)}var Du=null,qs=null,ef=!1,Mu=!1,tf=!1,Xr=0;function Ra(e){e!==qs&&e.next===null&&(qs===null?Du=qs=e:qs=qs.next=e),Mu=!0,ef||(ef=!0,wb())}function to(e,t){if(!tf&&Mu){tf=!0;do for(var a=!1,l=Du;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var w=l.suspendedLanes,k=l.pingedLanes;f=(1<<31-xe(42|e)+1)-1,f&=c&~(w&~k),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Kp(l,f))}else f=Ze,f=di(l,l===xt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||La(l,f)||(a=!0,Kp(l,f));l=l.next}while(a);tf=!1}}function xb(){$p()}function $p(){Mu=ef=!1;var e=0;Xr!==0&&Cb()&&(e=Xr);for(var t=fn(),a=null,l=Du;l!==null;){var c=l.next,f=Hp(l,t);f===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(qs=a)):(a=l,(e!==0||(f&3)!==0)&&(Mu=!0)),l=c}Xt!==0&&Xt!==5||to(e),Xr!==0&&(Xr=0)}function Hp(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var w=31-xe(f),k=1<<w,C=c[w];C===-1?((k&a)===0||(k&l)!==0)&&(c[w]=Dc(k,t)):C<=t&&(e.expiredLanes|=k),f&=~k}if(t=xt,a=Ze,a=di(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&En(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||La(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&En(l),xr(a)){case 2:case 8:a=va;break;case 32:a=gr;break;case 268435456:a=Qi;break;default:a=gr}return l=Pp.bind(null,e),a=ii(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&En(l),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,t){if(Xt!==0&&Xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ru()&&e.callbackNode!==a)return null;var l=Ze;return l=di(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sp(e,l,t),Hp(e,fn()),e.callbackNode!=null&&e.callbackNode===a?Pp.bind(null,e):null)}function Kp(e,t){if(Ru())return null;Sp(e,t,!0)}function wb(){Db(function(){(ot&6)!==0?ii(hn,xb):$p()})}function nf(){if(Xr===0){var e=Ss;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Xr=e}return Xr}function Gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function Yp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function _b(e,t,a,l,c){if(t==="submit"&&a&&a.stateNode===c){var f=Gp((c[zt]||null).action),w=l.submitter;w&&(t=(t=w[zt]||null)?Gp(t.formAction):w.getAttribute("formAction"),t!==null&&(f=t,w=null));var k=new as("action","action",null,l,c);e.push({event:k,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var C=w?Yp(c,w):new FormData(c);_d(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(k.preventDefault(),C=w?Yp(c,w):new FormData(c),_d(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var af=0;af<ve.length;af++){var rf=ve[af],Sb=rf.toLowerCase(),Eb=rf[0].toUpperCase()+rf.slice(1);fe(Sb,"on"+Eb)}fe(J,"onAnimationEnd"),fe(V,"onAnimationIteration"),fe(ae,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(ce,"onTransitionRun"),fe(me,"onTransitionStart"),fe(pe,"onTransitionCancel"),fe(de,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Vp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var w=l.length-1;0<=w;w--){var k=l[w],C=k.instance,W=k.currentTarget;if(k=k.listener,C!==f&&c.isPropagationStopped())break e;f=k,c.currentTarget=W;try{f(c)}catch(re){_e(re)}c.currentTarget=null,f=C}else for(w=0;w<l.length;w++){if(k=l[w],C=k.instance,W=k.currentTarget,k=k.listener,C!==f&&c.isPropagationStopped())break e;f=k,c.currentTarget=W;try{f(c)}catch(re){_e(re)}c.currentTarget=null,f=C}}}}function Fe(e,t){var a=t[wr];a===void 0&&(a=t[wr]=new Set);var l=e+"__bubble";a.has(l)||(Ip(t,e,2,!1),a.add(l))}function sf(e,t,a){var l=0;t&&(l|=4),Ip(a,e,l,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function lf(e){if(!e[Uu]){e[Uu]=!0,qa.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||sf(a,!1,e),sf(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uu]||(t[Uu]=!0,sf("selectionchange",!1,t))}}function Ip(e,t,a,l){switch(_y(t)){case 2:var c=Zb;break;case 8:c=e0;break;default:c=_f}a=c.bind(null,t,a,e),c=void 0,!bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function of(e,t,a,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var k=l.stateNode.containerInfo;if(k===c)break;if(w===4)for(w=l.return;w!==null;){var C=w.tag;if((C===3||C===4)&&w.stateNode.containerInfo===c)return;w=w.return}for(;k!==null;){if(w=_a(k),w===null)return;if(C=w.tag,C===5||C===6||C===26||C===27){l=f=w;continue e}k=k.parentNode}}l=l.return}Sr(function(){var W=f,re=ts(a),ue=[];e:{var F=we.get(e);if(F!==void 0){var ee=as,je=e;switch(e){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":ee=cs;break;case"focusin":je="focus",ee=Tr;break;case"focusout":je="blur",ee=Tr;break;case"beforeblur":case"afterblur":ee=Tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=kl;break;case J:case V:case ae:ee=Ko;break;case de:ee=Tl;break;case"scroll":case"scrollend":ee=rs;break;case"wheel":ee=fs;break;case"copy":case"cut":case"paste":ee=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=jl;break;case"toggle":case"beforetoggle":ee=Vo}var Ue=(t&4)!==0,gt=!Ue&&(e==="scroll"||e==="scrollend"),K=Ue?F!==null?F+"Capture":null:F;Ue=[];for(var B=W,Q;B!==null;){var oe=B;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||K===null||(oe=Ka(B,K),oe!=null&&Ue.push(ao(B,oe,Q))),gt)break;B=B.return}0<Ue.length&&(F=new ee(F,je,null,a,re),ue.push({event:F,listeners:Ue}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",F&&a!==Vn&&(je=a.relatedTarget||a.fromElement)&&(_a(je)||je[wn]))break e;if((ee||F)&&(F=re.window===re?re:(F=re.ownerDocument)?F.defaultView||F.parentWindow:window,ee?(je=a.relatedTarget||a.toElement,ee=W,je=je?_a(je):null,je!==null&&(gt=d(je),Ue=je.tag,je!==gt||Ue!==5&&Ue!==27&&Ue!==6)&&(je=null)):(ee=null,je=W),ee!==je)){if(Ue=ss,oe="onMouseLeave",K="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=jl,oe="onPointerLeave",K="onPointerEnter",B="pointer"),gt=ee==null?F:Rn(ee),Q=je==null?F:Rn(je),F=new Ue(oe,B+"leave",ee,a,re),F.target=gt,F.relatedTarget=Q,oe=null,_a(re)===W&&(Ue=new Ue(K,B+"enter",je,a,re),Ue.target=Q,Ue.relatedTarget=gt,oe=Ue),gt=oe,ee&&je)t:{for(Ue=kb,K=ee,B=je,Q=0,oe=K;oe;oe=Ue(oe))Q++;oe=0;for(var De=B;De;De=Ue(De))oe++;for(;0<Q-oe;)K=Ue(K),Q--;for(;0<oe-Q;)B=Ue(B),oe--;for(;Q--;){if(K===B||B!==null&&K===B.alternate){Ue=K;break t}K=Ue(K),B=Ue(B)}Ue=null}else Ue=null;ee!==null&&Xp(ue,F,ee,Ue,!1),je!==null&&gt!==null&&Xp(ue,gt,je,Ue,!0)}}e:{if(F=W?Rn(W):window,ee=F.nodeName&&F.nodeName.toLowerCase(),ee==="select"||ee==="input"&&F.type==="file")var it=Ti;else if(ps(F))if(Xn)it=Cr;else{it=Qa;var Te=Fo}else ee=F.nodeName,!ee||ee.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?W&&gl(W.elementType)&&(it=Ti):it=Rl;if(it&&(it=it(e,W))){Cl(ue,it,a,re);break e}Te&&Te(e,F,W),e==="focusout"&&W&&F.type==="number"&&W.memoizedProps.value!=null&&bi(F,"number",F.value)}switch(Te=W?Rn(W):window,e){case"focusin":(ps(Te)||Te.contentEditable==="true")&&(O=Te,M=W,Y=null);break;case"focusout":Y=M=O=null;break;case"mousedown":U=!0;break;case"contextmenu":case"mouseup":case"dragend":U=!1,D(ue,a,re);break;case"selectionchange":if(T)break;case"keydown":case"keyup":D(ue,a,re)}var Ye;if(ji)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Ia?Al(e,a)&&(et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(hs&&a.locale!=="ko"&&(Ia||et!=="onCompositionStart"?et==="onCompositionEnd"&&Ia&&(Ye=jr()):(In=re,ns="value"in In?In.value:In.textContent,Ia=!0)),Te=zu(W,et),0<Te.length&&(et=new us(et,e,null,a,re),ue.push({event:et,listeners:Te}),Ye?et.data=Ye:(Ye=Xo(a),Ye!==null&&(et.data=Ye)))),(Ye=Bc?Qo(e,a):$c(e,a))&&(et=zu(W,"onBeforeInput"),0<et.length&&(Te=new us("onBeforeInput","beforeinput",null,a,re),ue.push({event:Te,listeners:et}),Te.data=Ye)),_b(ue,e,W,a,re)}Vp(ue,t)})}function ao(e,t,a){return{instance:e,listener:t,currentTarget:a}}function zu(e,t){for(var a=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ka(e,a),c!=null&&l.unshift(ao(e,c,f)),c=Ka(e,t),c!=null&&l.push(ao(e,c,f))),e.tag===3)return l;e=e.return}return[]}function kb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xp(e,t,a,l,c){for(var f=t._reactName,w=[];a!==null&&a!==l;){var k=a,C=k.alternate,W=k.stateNode;if(k=k.tag,C!==null&&C===l)break;k!==5&&k!==26&&k!==27||W===null||(C=W,c?(W=Ka(a,f),W!=null&&w.unshift(ao(a,W,C))):c||(W=Ka(a,f),W!=null&&w.push(ao(a,W,C)))),a=a.return}w.length!==0&&e.push({event:t,listeners:w})}var Tb=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Ob,"")}function Wp(e,t){return t=Qp(t),Qp(e)===t}function vt(e,t,a,l,c,f){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||$a(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&$a(e,""+l);break;case"className":vi(e,"class",l);break;case"tabIndex":vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,a,l);break;case"style":vl(e,l,f);break;case"data":if(t!=="object"){vi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ua(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&vt(e,t,"name",c.name,c,null),vt(e,t,"formEncType",c.formEncType,c,null),vt(e,t,"formMethod",c.formMethod,c,null),vt(e,t,"formTarget",c.formTarget,c,null)):(vt(e,t,"encType",c.encType,c,null),vt(e,t,"method",c.method,c,null),vt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ua(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&Fe("scroll",e);break;case"onScrollEnd":l!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Ve(e,"popover",l);break;case"xlinkActuate":Yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ve(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zc.get(a)||a,Ve(e,a,l))}}function uf(e,t,a,l,c,f){switch(a){case"style":vl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?$a(e,l):(typeof l=="number"||typeof l=="bigint")&&$a(e,""+l);break;case"onScroll":l!=null&&Fe("scroll",e);break;case"onScrollEnd":l!=null&&Fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),f=e[zt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ve(e,a,l)}}}function un(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var w=a[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:vt(e,t,f,w,a,null)}}c&&vt(e,t,"srcSet",a.srcSet,a,null),l&&vt(e,t,"src",a.src,a,null);return;case"input":Fe("invalid",e);var k=f=w=c=null,C=null,W=null;for(l in a)if(a.hasOwnProperty(l)){var re=a[l];if(re!=null)switch(l){case"name":c=re;break;case"type":w=re;break;case"checked":C=re;break;case"defaultChecked":W=re;break;case"value":f=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,t));break;default:vt(e,t,l,re,a,null)}}es(e,f,k,C,W,w,c,!1);return;case"select":Fe("invalid",e),l=w=f=null;for(c in a)if(a.hasOwnProperty(c)&&(k=a[c],k!=null))switch(c){case"value":f=k;break;case"defaultValue":w=k;break;case"multiple":l=k;default:vt(e,t,c,k,a,null)}t=f,a=w,e.multiple=!!l,t!=null?oa(e,!!l,t,!1):a!=null&&oa(e,!!l,a,!0);return;case"textarea":Fe("invalid",e),f=c=l=null;for(w in a)if(a.hasOwnProperty(w)&&(k=a[w],k!=null))switch(w){case"value":l=k;break;case"defaultValue":c=k;break;case"children":f=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:vt(e,t,w,k,a,null)}xi(e,l,c,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":vt(e,t,C,l,a,null));return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Fe(no[l],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(l=a[W],l!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:vt(e,t,W,l,a,null)}return;default:if(gl(t)){for(re in a)a.hasOwnProperty(re)&&(l=a[re],l!==void 0&&uf(e,t,re,l,a,void 0));return}}for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!=null&&vt(e,t,k,l,a,null))}function Nb(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,w=null,k=null,C=null,W=null,re=null;for(ee in a){var ue=a[ee];if(a.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":C=ue;default:l.hasOwnProperty(ee)||vt(e,t,ee,null,l,ue)}}for(var F in l){var ee=l[F];if(ue=a[F],l.hasOwnProperty(F)&&(ee!=null||ue!=null))switch(F){case"type":f=ee;break;case"name":c=ee;break;case"checked":W=ee;break;case"defaultChecked":re=ee;break;case"value":w=ee;break;case"defaultValue":k=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,t));break;default:ee!==ue&&vt(e,t,F,ee,l,ue)}}Ea(e,w,k,C,W,re,f,c);return;case"select":ee=w=k=F=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":ee=C;default:l.hasOwnProperty(f)||vt(e,t,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":F=f;break;case"defaultValue":k=f;break;case"multiple":w=f;default:f!==C&&vt(e,t,c,f,l,C)}t=k,a=w,l=ee,F!=null?oa(e,!!a,F,!1):!!l!=!!a&&(t!=null?oa(e,!!a,t,!0):oa(e,!!a,a?[]:"",!1));return;case"textarea":ee=F=null;for(k in a)if(c=a[k],a.hasOwnProperty(k)&&c!=null&&!l.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:vt(e,t,k,null,l,c)}for(w in l)if(c=l[w],f=a[w],l.hasOwnProperty(w)&&(c!=null||f!=null))switch(w){case"value":F=c;break;case"defaultValue":ee=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&vt(e,t,w,c,l,f)}yl(e,F,ee);return;case"option":for(var je in a)F=a[je],a.hasOwnProperty(je)&&F!=null&&!l.hasOwnProperty(je)&&(je==="selected"?e.selected=!1:vt(e,t,je,null,l,F));for(C in l)F=l[C],ee=a[C],l.hasOwnProperty(C)&&F!==ee&&(F!=null||ee!=null)&&(C==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":vt(e,t,C,F,l,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in a)F=a[Ue],a.hasOwnProperty(Ue)&&F!=null&&!l.hasOwnProperty(Ue)&&vt(e,t,Ue,null,l,F);for(W in l)if(F=l[W],ee=a[W],l.hasOwnProperty(W)&&F!==ee&&(F!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,t));break;default:vt(e,t,W,F,l,ee)}return;default:if(gl(t)){for(var gt in a)F=a[gt],a.hasOwnProperty(gt)&&F!==void 0&&!l.hasOwnProperty(gt)&&uf(e,t,gt,void 0,l,F);for(re in l)F=l[re],ee=a[re],!l.hasOwnProperty(re)||F===ee||F===void 0&&ee===void 0||uf(e,t,re,F,l,ee);return}}for(var K in a)F=a[K],a.hasOwnProperty(K)&&F!=null&&!l.hasOwnProperty(K)&&vt(e,t,K,null,l,F);for(ue in l)F=l[ue],ee=a[ue],!l.hasOwnProperty(ue)||F===ee||F==null&&ee==null||vt(e,t,ue,F,l,ee)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,w=c.initiatorType,k=c.duration;if(f&&k&&Jp(w)){for(w=0,k=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],W=C.startTime;if(W>k)break;var re=C.transferSize,ue=C.initiatorType;re&&Jp(ue)&&(C=C.responseEnd,w+=re*(C<k?1:(k-W)/(C-W)))}if(--l,t+=8*(f+w)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cf=null,df=null;function Lu(e){return e.nodeType===9?e:e.ownerDocument}function Fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ff(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hf=null;function Cb(){var e=window.event;return e&&e.type==="popstate"?e===hf?!1:(hf=e,!0):(hf=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,Db=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(Mb)}:ey;function Mb(e){setTimeout(function(){throw e})}function Qr(e){return e==="head"}function ny(e,t){var a=t,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),Ps(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ro(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ro(a);for(var f=a.firstChild;f;){var w=f.nextSibling,k=f.nodeName;f[Cn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=w}}else a==="body"&&ro(e.ownerDocument.body);a=c}while(a);Ps(t)}function ay(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mf(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ub(e,t,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function zb(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ea(e.nextSibling),e===null))return null;return e}function ry(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ea(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lb(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vf=null;function iy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ea(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function sy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ly(e,t,a){switch(t=Lu(a),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ro(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fi(e)}var ta=new Map,oy=new Set;function qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cr=ge.d;ge.d={f:qb,r:Bb,D:$b,C:Hb,L:Pb,m:Kb,X:Yb,S:Gb,M:Vb};function qb(){var e=cr.f(),t=Nu();return e||t}function Bb(e){var t=mt(e);t!==null&&t.tag===5&&t.type==="form"?jm(t):cr.r(e)}var Bs=typeof document>"u"?null:document;function uy(e,t,a){var l=Bs;if(l&&typeof t=="string"&&t){var c=Jt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),oy.has(c)||(oy.add(c),e={rel:e,crossOrigin:a,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),un(t,"link",e),Lt(t),l.head.appendChild(t)))}}function $b(e){cr.D(e),uy("dns-prefetch",e,null)}function Hb(e,t){cr.C(e,t),uy("preconnect",e,t)}function Pb(e,t,a){cr.L(e,t,a);var l=Bs;if(l&&e&&t){var c='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Jt(a.imageSizes)+'"]')):c+='[href="'+Jt(e)+'"]';var f=c;switch(t){case"style":f=$s(e);break;case"script":f=Hs(e)}ta.has(f)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ta.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(io(f))||t==="script"&&l.querySelector(so(f))||(t=l.createElement("link"),un(t,"link",e),Lt(t),l.head.appendChild(t)))}}function Kb(e,t){cr.m(e,t);var a=Bs;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Hs(e)}if(!ta.has(f)&&(e=j({rel:"modulepreload",href:e},t),ta.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(so(f)))return}l=a.createElement("link"),un(l,"link",e),Lt(l),a.head.appendChild(l)}}}function Gb(e,t,a){cr.S(e,t,a);var l=Bs;if(l&&e){var c=mn(l).hoistableStyles,f=$s(e);t=t||"default";var w=c.get(f);if(!w){var k={loading:0,preload:null};if(w=l.querySelector(io(f)))k.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ta.get(f))&&gf(e,a);var C=w=l.createElement("link");Lt(C),un(C,"link",e),C._p=new Promise(function(W,re){C.onload=W,C.onerror=re}),C.addEventListener("load",function(){k.loading|=1}),C.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Bu(w,t,l)}w={type:"stylesheet",instance:w,count:1,state:k},c.set(f,w)}}}function Yb(e,t){cr.X(e,t);var a=Bs;if(a&&e){var l=mn(a).hoistableScripts,c=Hs(e),f=l.get(c);f||(f=a.querySelector(so(c)),f||(e=j({src:e,async:!0},t),(t=ta.get(c))&&bf(e,t),f=a.createElement("script"),Lt(f),un(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Vb(e,t){cr.M(e,t);var a=Bs;if(a&&e){var l=mn(a).hoistableScripts,c=Hs(e),f=l.get(c);f||(f=a.querySelector(so(c)),f||(e=j({src:e,async:!0,type:"module"},t),(t=ta.get(c))&&bf(e,t),f=a.createElement("script"),Lt(f),un(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function cy(e,t,a,l){var c=(c=Ke.current)?qu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=$s(a.href),a=mn(c).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$s(a.href);var f=mn(c).hoistableStyles,w=f.get(e);if(w||(c=c.ownerDocument||c,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,w),(f=c.querySelector(io(e)))&&!f._p&&(w.instance=f,w.state.loading=5),ta.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ta.set(e,a),f||Ib(c,e,a,w.state))),t&&l===null)throw Error(s(528,""));return w}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hs(a),a=mn(c).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $s(e){return'href="'+Jt(e)+'"'}function io(e){return'link[rel="stylesheet"]['+e+"]"}function dy(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function Ib(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),un(t,"link",a),Lt(t),e.head.appendChild(t))}function Hs(e){return'[src="'+Jt(e)+'"]'}function so(e){return"script[async]"+e}function fy(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(l)return t.instance=l,Lt(l),l;var c=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Lt(l),un(l,"style",c),Bu(l,a.precedence,e),t.instance=l;case"stylesheet":c=$s(a.href);var f=e.querySelector(io(c));if(f)return t.state.loading|=4,t.instance=f,Lt(f),f;l=dy(a),(c=ta.get(c))&&gf(l,c),f=(e.ownerDocument||e).createElement("link"),Lt(f);var w=f;return w._p=new Promise(function(k,C){w.onload=k,w.onerror=C}),un(f,"link",l),t.state.loading|=4,Bu(f,a.precedence,e),t.instance=f;case"script":return f=Hs(a.src),(c=e.querySelector(so(f)))?(t.instance=c,Lt(c),c):(l=a,(c=ta.get(f))&&(l=j({},a),bf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Lt(c),un(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Bu(l,a.precedence,e));return t.instance}function Bu(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,w=0;w<l.length;w++){var k=l[w];if(k.dataset.precedence===t)f=k;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function gf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $u=null;function hy(e,t,a){if($u===null){var l=new Map,c=$u=new Map;c.set(a,l)}else c=$u,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Cn]||f[wt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(t)||"";w=e+w;var k=l.get(w);k?k.push(f):l.set(w,[f])}}return l}function my(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function py(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Qb(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=$s(l.href),f=t.querySelector(io(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hu.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,Lt(f);return}f=t.ownerDocument||t,l=dy(l),(c=ta.get(c))&&gf(l,c),f=f.createElement("link"),Lt(f);var w=f;w._p=new Promise(function(k,C){w.onload=k,w.onerror=C}),un(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hu.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var xf=0;function Wb(e,t){return e.stylesheets&&e.count===0&&Ku(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&xf===0&&(xf=62500*Ab());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xf?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pu=null;function Ku(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pu=new Map,t.forEach(Jb,e),Pu=null,Hu.call(e))}function Jb(e,t){if(!(t.state.loading&4)){var a=Pu.get(e);if(a)var l=a.get(null);else{a=new Map,Pu.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var w=c[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}c=t.instance,w=c.getAttribute("data-precedence"),f=a.get(w)||l,f===l&&a.set(null,c),a.set(w,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var lo={$$typeof:te,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function Fb(e,t,a,l,c,f,w,k,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function yy(e,t,a,l,c,f,w,k,C,W,re,ue){return e=new Fb(e,t,a,w,C,W,re,ue,k),t=1,f===!0&&(t|=24),f=Mn(3,null,null,t),e.current=f,f.stateNode=e,t=Fc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:t},nd(f),e}function vy(e){return e?(e=gs,e):gs}function gy(e,t,a,l,c,f){c=vy(c),l.context===null?l.context=c:l.pendingContext=c,l=qr(t),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Br(e,l,t),a!==null&&(An(a,e,t),Bl(a,e,t))}function by(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function wf(e,t){by(e,t),(e=e.alternate)&&by(e,t)}function xy(e){if(e.tag===13||e.tag===31){var t=ut(e,67108864);t!==null&&An(t,e,67108864),wf(e,67108864)}}function wy(e){if(e.tag===13||e.tag===31){var t=Bn();t=fl(t);var a=ut(e,t);a!==null&&An(a,e,t),wf(e,t)}}var Gu=!0;function Zb(e,t,a,l){var c=ne.T;ne.T=null;var f=ge.p;try{ge.p=2,_f(e,t,a,l)}finally{ge.p=f,ne.T=c}}function e0(e,t,a,l){var c=ne.T;ne.T=null;var f=ge.p;try{ge.p=8,_f(e,t,a,l)}finally{ge.p=f,ne.T=c}}function _f(e,t,a,l){if(Gu){var c=Sf(l);if(c===null)of(e,t,l,Yu,a),Sy(e,l);else if(n0(c,e,t,a,l))l.stopPropagation();else if(Sy(e,l),t&4&&-1<t0.indexOf(e)){for(;c!==null;){var f=mt(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=sa(f.pendingLanes);if(w!==0){var k=f;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var C=1<<31-xe(w);k.entanglements[1]|=C,w&=~C}Ra(f),(ot&6)===0&&(Tu=fn()+500,to(0))}}break;case 31:case 13:k=ut(f,2),k!==null&&An(k,f,2),Nu(),wf(f,2)}if(f=Sf(l),f===null&&of(e,t,l,Yu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(e,t,l,null,a)}}function Sf(e){return e=ts(e),Ef(e)}var Yu=null;function Ef(e){if(Yu=null,e=_a(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yu=e,null}function _y(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case hn:return 2;case va:return 8;case gr:case oi:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var jf=!1,Wr=null,Jr=null,Fr=null,oo=new Map,uo=new Map,Zr=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function co(e,t,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=mt(t),t!==null&&xy(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function n0(e,t,a,l,c){switch(t){case"focusin":return Wr=co(Wr,e,t,a,l,c),!0;case"dragenter":return Jr=co(Jr,e,t,a,l,c),!0;case"mouseover":return Fr=co(Fr,e,t,a,l,c),!0;case"pointerover":var f=c.pointerId;return oo.set(f,co(oo.get(f)||null,e,t,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,uo.set(f,co(uo.get(f)||null,e,t,a,l,c)),!0}return!1}function Ey(e){var t=_a(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,mi(e.priority,function(){wy(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,mi(e.priority,function(){wy(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Sf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return t=mt(a),t!==null&&xy(t),e.blockedOn=a,!1;t.shift()}return!0}function jy(e,t,a){Vu(e)&&a.delete(t)}function a0(){jf=!1,Wr!==null&&Vu(Wr)&&(Wr=null),Jr!==null&&Vu(Jr)&&(Jr=null),Fr!==null&&Vu(Fr)&&(Fr=null),oo.forEach(jy),uo.forEach(jy)}function Iu(e,t){e.blockedOn===t&&(e.blockedOn=null,jf||(jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,a0)))}var Xu=null;function ky(e){Xu!==e&&(Xu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===e&&(Xu=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Ef(l||a)===null)continue;break}var f=mt(a);f!==null&&(e.splice(t,3),t-=3,_d(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ps(e){function t(C){return Iu(C,e)}Wr!==null&&Iu(Wr,e),Jr!==null&&Iu(Jr,e),Fr!==null&&Iu(Fr,e),oo.forEach(t),uo.forEach(t);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Ey(a),a.blockedOn===null&&Zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],w=c[zt]||null;if(typeof f=="function")w||ky(a);else if(w){var k=null;if(f&&f.hasAttribute("formAction")){if(c=f,w=f[zt]||null)k=w.formAction;else if(Ef(c)!==null)continue}else k=w.action;typeof k=="function"?a[l+1]=k:(a.splice(l,3),l-=3),ky(a)}}}function Ty(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(w){return c=w})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function kf(e){this._internalRoot=e}Qu.prototype.render=kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var a=t.current,l=Bn();gy(a,l,e,t,null,null)},Qu.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gy(e.current,2,null,e,null,null),Nu(),t[wn]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=hi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Zr.length&&t!==0&&t<Zr[a].priority;a++);Zr.splice(a,0,e),a===0&&Ey(e)}};var Oy=n.version;if(Oy!=="19.2.4")throw Error(s(527,Oy,"19.2.4"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=x(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var r0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{ga=Wu.inject(r0),nn=Wu}catch{}}return ho.createRoot=function(e,t){if(!u(e))throw Error(s(299));var a=!1,l="",c=Um,f=zm,w=Lm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=yy(e,1,!1,null,null,a,l,null,c,f,w,Ty),e[wn]=t.current,lf(e),new kf(t)},ho.hydrateRoot=function(e,t,a){if(!u(e))throw Error(s(299));var l=!1,c="",f=Um,w=zm,k=Lm,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(k=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),t=yy(e,1,!0,t,a??null,l,c,C,f,w,k,Ty),t.context=vy(null),a=t.current,l=Bn(),l=fl(l),c=qr(l),c.callback=null,Br(a,c,l),a=l,t.current.lanes=a,Gn(t,a),Ra(t),e[wn]=t.current,lf(e),new Qu(t)},ho.version="19.2.4",ho}var qy;function y0(){if(qy)return Nf.exports;qy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Nf.exports=p0(),Nf.exports}var v0=y0();const g0=oh(v0);var By="popstate";function b0(r={}){function n(s,u){let{pathname:d,search:m,hash:y}=s.location;return If("",{pathname:d,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(s,u){return typeof u=="string"?u:_o(u)}return w0(n,i,null,r)}function Ot(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function pa(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function x0(){return Math.random().toString(36).substring(2,10)}function $y(r,n){return{usr:r.state,key:r.key,idx:n}}function If(r,n,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?al(n):n,state:i,key:n&&n.key||s||x0()}}function _o({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function al(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(n.search=r.substring(s),r=r.substring(0,s)),r&&(n.pathname=r)}return n}function w0(r,n,i,s={}){let{window:u=document.defaultView,v5Compat:d=!1}=s,m=u.history,y="POP",g=null,x=S();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function S(){return(m.state||{idx:null}).idx}function j(){y="POP";let Z=S(),ie=Z==null?null:Z-x;x=Z,g&&g({action:y,location:X.location,delta:ie})}function N(Z,ie){y="PUSH";let G=If(X.location,Z,ie);x=S()+1;let te=$y(G,x),he=X.createHref(G);try{m.pushState(te,"",he)}catch(Me){if(Me instanceof DOMException&&Me.name==="DataCloneError")throw Me;u.location.assign(he)}d&&g&&g({action:y,location:X.location,delta:1})}function A(Z,ie){y="REPLACE";let G=If(X.location,Z,ie);x=S();let te=$y(G,x),he=X.createHref(G);m.replaceState(te,"",he),d&&g&&g({action:y,location:X.location,delta:0})}function P(Z){return _0(Z)}let X={get action(){return y},get location(){return r(u,m)},listen(Z){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(By,j),g=Z,()=>{u.removeEventListener(By,j),g=null}},createHref(Z){return n(u,Z)},createURL:P,encodeLocation(Z){let ie=P(Z);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:N,replace:A,go(Z){return m.go(Z)}};return X}function _0(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:_o(r);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Mv(r,n,i="/"){return S0(r,n,i,!1)}function S0(r,n,i,s){let u=typeof n=="string"?al(n):n,d=hr(u.pathname||"/",i);if(d==null)return null;let m=Uv(r);E0(m);let y=null;for(let g=0;y==null&&g<m.length;++g){let x=U0(d);y=D0(m[g],x,s)}return y}function Uv(r,n=[],i=[],s="",u=!1){let d=(m,y,g=u,x)=>{let S={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:y,route:m};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(s)&&g)return;Ot(S.relativePath.startsWith(s),`Absolute route path "${S.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(s.length)}let j=fr([s,S.relativePath]),N=i.concat(S);m.children&&m.children.length>0&&(Ot(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Uv(m.children,n,N,j,g)),!(m.path==null&&!m.index)&&n.push({path:j,score:C0(j,m.index),routesMeta:N})};return r.forEach((m,y)=>{if(m.path===""||!m.path?.includes("?"))d(m,y);else for(let g of zv(m.path))d(m,y,!0,g)}),n}function zv(r){let n=r.split("/");if(n.length===0)return[];let[i,...s]=n,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(s.length===0)return u?[d,""]:[d];let m=zv(s.join("/")),y=[];return y.push(...m.map(g=>g===""?d:[d,g].join("/"))),u&&y.push(...m),y.map(g=>r.startsWith("/")&&g===""?"/":g)}function E0(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:R0(n.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var j0=/^:[\w-]+$/,k0=3,T0=2,O0=1,N0=10,A0=-2,Hy=r=>r==="*";function C0(r,n){let i=r.split("/"),s=i.length;return i.some(Hy)&&(s+=A0),n&&(s+=T0),i.filter(u=>!Hy(u)).reduce((u,d)=>u+(j0.test(d)?k0:d===""?O0:N0),s)}function R0(r,n){return r.length===n.length&&r.slice(0,-1).every((s,u)=>s===n[u])?r[r.length-1]-n[n.length-1]:0}function D0(r,n,i=!1){let{routesMeta:s}=r,u={},d="/",m=[];for(let y=0;y<s.length;++y){let g=s[y],x=y===s.length-1,S=d==="/"?n:n.slice(d.length)||"/",j=gc({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},S),N=g.route;if(!j&&x&&i&&!s[s.length-1].route.index&&(j=gc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},S)),!j)return null;Object.assign(u,j.params),m.push({params:u,pathname:fr([d,j.pathname]),pathnameBase:B0(fr([d,j.pathnameBase])),route:N}),j.pathnameBase!=="/"&&(d=fr([d,j.pathnameBase]))}return m}function gc(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=M0(r.path,r.caseSensitive,r.end),u=n.match(i);if(!u)return null;let d=u[0],m=d.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:s.reduce((x,{paramName:S,isOptional:j},N)=>{if(S==="*"){let P=y[N]||"";m=d.slice(0,d.length-P.length).replace(/(.)\/+$/,"$1")}const A=y[N];return j&&!A?x[S]=void 0:x[S]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:m,pattern:r}}function M0(r,n=!1,i=!0){pa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,g)=>(s.push({paramName:y,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),s]}function U0(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return pa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function hr(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function L0(r,n="/"){let{pathname:i,search:s="",hash:u=""}=typeof r=="string"?al(r):r,d;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?d=Py(i.substring(1),"/"):d=Py(i,n)):d=n,{pathname:d,search:$0(s),hash:H0(u)}}function Py(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Df(r,n,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q0(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ch(r){let n=q0(r);return n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase)}function dh(r,n,i,s=!1){let u;typeof r=="string"?u=al(r):(u={...r},Ot(!u.pathname||!u.pathname.includes("?"),Df("?","pathname","search",u)),Ot(!u.pathname||!u.pathname.includes("#"),Df("#","pathname","hash",u)),Ot(!u.search||!u.search.includes("#"),Df("#","search","hash",u)));let d=r===""||u.pathname==="",m=d?"/":u.pathname,y;if(m==null)y=i;else{let j=n.length-1;if(!s&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),j-=1;u.pathname=N.join("/")}y=j>=0?n[j]:"/"}let g=L0(u,y),x=m&&m!=="/"&&m.endsWith("/"),S=(d||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(x||S)&&(g.pathname+="/"),g}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),B0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,P0=class{constructor(r,n,i,s=!1){this.status=r,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function K0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function G0(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qv(r,n){let i=r;if(typeof i!="string"||!z0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,u=!1;if(Lv)try{let d=new URL(window.location.href),m=i.startsWith("//")?new URL(d.protocol+i):new URL(i),y=hr(m.pathname,n);m.origin===d.origin&&y!=null?i=y+m.search+m.hash:u=!0}catch{pa(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bv=["POST","PUT","PATCH","DELETE"];new Set(Bv);var Y0=["GET",...Bv];new Set(Y0);var rl=R.createContext(null);rl.displayName="DataRouter";var jc=R.createContext(null);jc.displayName="DataRouterState";var V0=R.createContext(!1),$v=R.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var I0=R.createContext(new Map);I0.displayName="Fetchers";var X0=R.createContext(null);X0.displayName="Await";var Pn=R.createContext(null);Pn.displayName="Navigation";var Co=R.createContext(null);Co.displayName="Location";var na=R.createContext({outlet:null,matches:[],isDataRoute:!1});na.displayName="Route";var fh=R.createContext(null);fh.displayName="RouteError";var Hv="REACT_ROUTER_ERROR",Q0="REDIRECT",W0="ROUTE_ERROR_RESPONSE";function J0(r){if(r.startsWith(`${Hv}:${Q0}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function F0(r){if(r.startsWith(`${Hv}:${W0}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new P0(n.status,n.statusText,n.data)}catch{}}function Z0(r,{relative:n}={}){Ot(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=R.useContext(Pn),{hash:u,pathname:d,search:m}=Ro(r,{relative:n}),y=d;return i!=="/"&&(y=d==="/"?i:fr([i,d])),s.createHref({pathname:y,search:m,hash:u})}function il(){return R.useContext(Co)!=null}function Da(){return Ot(il(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Co).location}var Pv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kv(r){R.useContext(Pn).static||R.useLayoutEffect(r)}function Kn(){let{isDataRoute:r}=R.useContext(na);return r?mx():ex()}function ex(){Ot(il(),"useNavigate() may be used only in the context of a <Router> component.");let r=R.useContext(rl),{basename:n,navigator:i}=R.useContext(Pn),{matches:s}=R.useContext(na),{pathname:u}=Da(),d=JSON.stringify(ch(s)),m=R.useRef(!1);return Kv(()=>{m.current=!0}),R.useCallback((g,x={})=>{if(pa(m.current,Pv),!m.current)return;if(typeof g=="number"){i.go(g);return}let S=dh(g,JSON.parse(d),u,x.relative==="path");r==null&&n!=="/"&&(S.pathname=S.pathname==="/"?n:fr([n,S.pathname])),(x.replace?i.replace:i.push)(S,x.state,x)},[n,i,d,u,r])}var tx=R.createContext(null);function nx(r){let n=R.useContext(na).outlet;return R.useMemo(()=>n&&R.createElement(tx.Provider,{value:r},n),[n,r])}function Gv(){let{matches:r}=R.useContext(na),n=r[r.length-1];return n?n.params:{}}function Ro(r,{relative:n}={}){let{matches:i}=R.useContext(na),{pathname:s}=Da(),u=JSON.stringify(ch(i));return R.useMemo(()=>dh(r,JSON.parse(u),s,n==="path"),[r,u,s,n])}function ax(r,n){return Yv(r,n)}function Yv(r,n,i,s,u){Ot(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=R.useContext(Pn),{matches:m}=R.useContext(na),y=m[m.length-1],g=y?y.params:{},x=y?y.pathname:"/",S=y?y.pathnameBase:"/",j=y&&y.route;{let G=j&&j.path||"";Iv(x,!j||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let N=Da(),A;if(n){let G=typeof n=="string"?al(n):n;Ot(S==="/"||G.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${G.pathname}" was given in the \`location\` prop.`),A=G}else A=N;let P=A.pathname||"/",X=P;if(S!=="/"){let G=S.replace(/^\//,"").split("/");X="/"+P.replace(/^\//,"").split("/").slice(G.length).join("/")}let Z=Mv(r,{pathname:X});pa(j||Z!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),pa(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=ox(Z&&Z.map(G=>Object.assign({},G,{params:Object.assign({},g,G.params),pathname:fr([S,d.encodeLocation?d.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?S:fr([S,d.encodeLocation?d.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),m,i,s,u);return n&&ie?R.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},ie):ie}function rx(){let r=hx(),n=K0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},d={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:d},"ErrorBoundary")," or"," ",R.createElement("code",{style:d},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},n),i?R.createElement("pre",{style:u},i):null,m)}var ix=R.createElement(rx,null),Vv=class extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=F0(r.digest);i&&(r=i)}let n=r!==void 0?R.createElement(na.Provider,{value:this.props.routeContext},R.createElement(fh.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?R.createElement(sx,{error:r},n):n}};Vv.contextType=V0;var Mf=new WeakMap;function sx({children:r,error:n}){let{basename:i}=R.useContext(Pn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=J0(n.digest);if(s){let u=Mf.get(n);if(u)throw u;let d=qv(s.location,i);if(Lv&&!Mf.get(n))if(d.isExternal||s.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:s.replace}));throw Mf.set(n,m),m}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return r}function lx({routeContext:r,match:n,children:i}){let s=R.useContext(rl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(na.Provider,{value:r},i)}function ox(r,n=[],i=null,s=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,m=i?.errors;if(m!=null){let S=d.findIndex(j=>j.route.id&&m?.[j.route.id]!==void 0);Ot(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,S+1))}let y=!1,g=-1;if(i)for(let S=0;S<d.length;S++){let j=d[S];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(g=S),j.route.id){let{loaderData:N,errors:A}=i,P=j.route.loader&&!N.hasOwnProperty(j.route.id)&&(!A||A[j.route.id]===void 0);if(j.route.lazy||P){y=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}let x=i&&s?(S,j)=>{s(S,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:G0(i.matches),errorInfo:j})}:void 0;return d.reduceRight((S,j,N)=>{let A,P=!1,X=null,Z=null;i&&(A=m&&j.route.id?m[j.route.id]:void 0,X=j.route.errorElement||ix,y&&(g<0&&N===0?(Iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,Z=null):g===N&&(P=!0,Z=j.route.hydrateFallbackElement||null)));let ie=n.concat(d.slice(0,N+1)),G=()=>{let te;return A?te=X:P?te=Z:j.route.Component?te=R.createElement(j.route.Component,null):j.route.element?te=j.route.element:te=S,R.createElement(lx,{match:j,routeContext:{outlet:S,matches:ie,isDataRoute:i!=null},children:te})};return i&&(j.route.ErrorBoundary||j.route.errorElement||N===0)?R.createElement(Vv,{location:i.location,revalidation:i.revalidation,component:X,error:A,children:G(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:x}):G()},null)}function hh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(r){let n=R.useContext(rl);return Ot(n,hh(r)),n}function cx(r){let n=R.useContext(jc);return Ot(n,hh(r)),n}function dx(r){let n=R.useContext(na);return Ot(n,hh(r)),n}function mh(r){let n=dx(r),i=n.matches[n.matches.length-1];return Ot(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function fx(){return mh("useRouteId")}function hx(){let r=R.useContext(fh),n=cx("useRouteError"),i=mh("useRouteError");return r!==void 0?r:n.errors?.[i]}function mx(){let{router:r}=ux("useNavigate"),n=mh("useNavigate"),i=R.useRef(!1);return Kv(()=>{i.current=!0}),R.useCallback(async(u,d={})=>{pa(i.current,Pv),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:n,...d}))},[r,n])}var Ky={};function Iv(r,n,i){!n&&!Ky[r]&&(Ky[r]=!0,pa(!1,i))}R.memo(px);function px({routes:r,future:n,state:i,onError:s}){return Yv(r,void 0,i,s,n)}function Uf({to:r,replace:n,state:i,relative:s}){Ot(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=R.useContext(Pn);pa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=R.useContext(na),{pathname:m}=Da(),y=Kn(),g=dh(r,ch(d),m,s==="path"),x=JSON.stringify(g);return R.useEffect(()=>{y(JSON.parse(x),{replace:n,state:i,relative:s})},[y,x,s,n,i]),null}function Xv(r){return nx(r.context)}function Qt(r){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yx({basename:r="/",children:n=null,location:i,navigationType:s="POP",navigator:u,static:d=!1,unstable_useTransitions:m}){Ot(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:y,navigator:u,static:d,unstable_useTransitions:m,future:{}}),[y,u,d,m]);typeof i=="string"&&(i=al(i));let{pathname:x="/",search:S="",hash:j="",state:N=null,key:A="default"}=i,P=R.useMemo(()=>{let X=hr(x,y);return X==null?null:{location:{pathname:X,search:S,hash:j,state:N,key:A},navigationType:s}},[y,x,S,j,N,A,s]);return pa(P!=null,`<Router basename="${y}"> is not able to match the URL "${x}${S}${j}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:R.createElement(Pn.Provider,{value:g},R.createElement(Co.Provider,{children:n,value:P}))}function vx({children:r,location:n}){return ax(Xf(r),n)}function Xf(r,n=[]){let i=[];return R.Children.forEach(r,(s,u)=>{if(!R.isValidElement(s))return;let d=[...n,u];if(s.type===R.Fragment){i.push.apply(i,Xf(s.props.children,d));return}Ot(s.type===Qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||d.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=Xf(s.props.children,d)),i.push(m)}),i}var pc="get",yc="application/x-www-form-urlencoded";function kc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function gx(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function bx(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function xx(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function wx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _x(r,n){return r.button===0&&(!n||n==="_self")&&!wx(r)}var Ju=null;function Sx(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var Ex=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(r){return r!=null&&!Ex.has(r)?(pa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):r}function jx(r,n){let i,s,u,d,m;if(bx(r)){let y=r.getAttribute("action");s=y?hr(y,n):null,i=r.getAttribute("method")||pc,u=zf(r.getAttribute("enctype"))||yc,d=new FormData(r)}else if(gx(r)||xx(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||y.getAttribute("action");if(s=g?hr(g,n):null,i=r.getAttribute("formmethod")||y.getAttribute("method")||pc,u=zf(r.getAttribute("formenctype"))||zf(y.getAttribute("enctype"))||yc,d=new FormData(y,r),!Sx()){let{name:x,type:S,value:j}=r;if(S==="image"){let N=x?`${x}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else x&&d.append(x,j)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=pc,s=null,u=yc,m=r}return d&&u==="text/plain"&&(m=d,d=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ph(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function kx(r,n,i,s){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${s}`:u.pathname=`${u.pathname}.${s}`:u.pathname==="/"?u.pathname=`_root.${s}`:n&&hr(u.pathname,n)==="/"?u.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${s}`,u}async function Tx(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Nx(r,n,i){let s=await Promise.all(r.map(async u=>{let d=n.routes[u.route.id];if(d){let m=await Tx(d,i);return m.links?m.links():[]}return[]}));return Dx(s.flat(1).filter(Ox).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Gy(r,n,i,s,u,d){let m=(g,x)=>i[x]?g.route.id!==i[x].route.id:!0,y=(g,x)=>i[x].pathname!==g.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==g.params["*"];return d==="assets"?n.filter((g,x)=>m(g,x)||y(g,x)):d==="data"?n.filter((g,x)=>{let S=s.routes[g.route.id];if(!S||!S.hasLoader)return!1;if(m(g,x)||y(g,x))return!0;if(g.route.shouldRevalidate){let j=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Ax(r,n,{includeHydrateFallback:i}={}){return Cx(r.map(s=>{let u=n.routes[s.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function Cx(r){return[...new Set(r)]}function Rx(r){let n={},i=Object.keys(r).sort();for(let s of i)n[s]=r[s];return n}function Dx(r,n){let i=new Set;return new Set(n),r.reduce((s,u)=>{let d=JSON.stringify(Rx(u));return i.has(d)||(i.add(d),s.push({key:d,link:u})),s},[])}function Qv(){let r=R.useContext(rl);return ph(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Mx(){let r=R.useContext(jc);return ph(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var yh=R.createContext(void 0);yh.displayName="FrameworkContext";function Wv(){let r=R.useContext(yh);return ph(r,"You must render this element inside a <HydratedRouter> element"),r}function Ux(r,n){let i=R.useContext(yh),[s,u]=R.useState(!1),[d,m]=R.useState(!1),{onFocus:y,onBlur:g,onMouseEnter:x,onMouseLeave:S,onTouchStart:j}=n,N=R.useRef(null);R.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let X=ie=>{ie.forEach(G=>{m(G.isIntersecting)})},Z=new IntersectionObserver(X,{threshold:.5});return N.current&&Z.observe(N.current),()=>{Z.disconnect()}}},[r]),R.useEffect(()=>{if(s){let X=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(X)}}},[s]);let A=()=>{u(!0)},P=()=>{u(!1),m(!1)};return i?r!=="intent"?[d,N,{}]:[d,N,{onFocus:mo(y,A),onBlur:mo(g,P),onMouseEnter:mo(x,A),onMouseLeave:mo(S,P),onTouchStart:mo(j,A)}]:[!1,N,{}]}function mo(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function zx({page:r,...n}){let{router:i}=Qv(),s=R.useMemo(()=>Mv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?R.createElement(qx,{page:r,matches:s,...n}):null}function Lx(r){let{manifest:n,routeModules:i}=Wv(),[s,u]=R.useState([]);return R.useEffect(()=>{let d=!1;return Nx(r,n,i).then(m=>{d||u(m)}),()=>{d=!0}},[r,n,i]),s}function qx({page:r,matches:n,...i}){let s=Da(),{future:u,manifest:d,routeModules:m}=Wv(),{basename:y}=Qv(),{loaderData:g,matches:x}=Mx(),S=R.useMemo(()=>Gy(r,n,x,d,s,"data"),[r,n,x,d,s]),j=R.useMemo(()=>Gy(r,n,x,d,s,"assets"),[r,n,x,d,s]),N=R.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,Z=!1;if(n.forEach(G=>{let te=d.routes[G.route.id];!te||!te.hasLoader||(!S.some(he=>he.route.id===G.route.id)&&G.route.id in g&&m[G.route.id]?.shouldRevalidate||te.hasClientLoader?Z=!0:X.add(G.route.id))}),X.size===0)return[];let ie=kx(r,y,u.unstable_trailingSlashAwareDataRequests,"data");return Z&&X.size>0&&ie.searchParams.set("_routes",n.filter(G=>X.has(G.route.id)).map(G=>G.route.id).join(",")),[ie.pathname+ie.search]},[y,u.unstable_trailingSlashAwareDataRequests,g,s,d,S,n,r,m]),A=R.useMemo(()=>Ax(j,d),[j,d]),P=Lx(j);return R.createElement(R.Fragment,null,N.map(X=>R.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...i})),A.map(X=>R.createElement("link",{key:X,rel:"modulepreload",href:X,...i})),P.map(({key:X,link:Z})=>R.createElement("link",{key:X,nonce:i.nonce,...Z,crossOrigin:Z.crossOrigin??i.crossOrigin})))}function Bx(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var $x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$x&&(window.__reactRouterVersion="7.13.0")}catch{}function Hx({basename:r,children:n,unstable_useTransitions:i,window:s}){let u=R.useRef();u.current==null&&(u.current=b0({window:s,v5Compat:!0}));let d=u.current,[m,y]=R.useState({action:d.action,location:d.location}),g=R.useCallback(x=>{i===!1?y(x):R.startTransition(()=>y(x))},[i]);return R.useLayoutEffect(()=>d.listen(g),[d,g]),R.createElement(yx,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:d,unstable_useTransitions:i})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fv=R.forwardRef(function({onClick:n,discover:i="render",prefetch:s="none",relative:u,reloadDocument:d,replace:m,state:y,target:g,to:x,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N,...A},P){let{basename:X,unstable_useTransitions:Z}=R.useContext(Pn),ie=typeof x=="string"&&Jv.test(x),G=qv(x,X);x=G.to;let te=Z0(x,{relative:u}),[he,Me,Se]=Ux(s,A),se=Yx(x,{replace:m,state:y,target:g,preventScrollReset:S,relative:u,viewTransition:j,unstable_defaultShouldRevalidate:N,unstable_useTransitions:Z});function ze(Dt){n&&n(Dt),Dt.defaultPrevented||se(Dt)}let Xe=R.createElement("a",{...A,...Se,href:G.absoluteURL||te,onClick:G.isExternal||d?n:ze,ref:Bx(P,Me),target:g,"data-discover":!ie&&i==="render"?"true":void 0});return he&&!ie?R.createElement(R.Fragment,null,Xe,R.createElement(zx,{page:te})):Xe});Fv.displayName="Link";var Px=R.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:s="",end:u=!1,style:d,to:m,viewTransition:y,children:g,...x},S){let j=Ro(m,{relative:x.relative}),N=Da(),A=R.useContext(jc),{navigator:P,basename:X}=R.useContext(Pn),Z=A!=null&&Wx(j)&&y===!0,ie=P.encodeLocation?P.encodeLocation(j).pathname:j.pathname,G=N.pathname,te=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(G=G.toLowerCase(),te=te?te.toLowerCase():null,ie=ie.toLowerCase()),te&&X&&(te=hr(te,X)||te);const he=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Me=G===ie||!u&&G.startsWith(ie)&&G.charAt(he)==="/",Se=te!=null&&(te===ie||!u&&te.startsWith(ie)&&te.charAt(ie.length)==="/"),se={isActive:Me,isPending:Se,isTransitioning:Z},ze=Me?n:void 0,Xe;typeof s=="function"?Xe=s(se):Xe=[s,Me?"active":null,Se?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let Dt=typeof d=="function"?d(se):d;return R.createElement(Fv,{...x,"aria-current":ze,className:Xe,ref:S,style:Dt,to:m,viewTransition:y},typeof g=="function"?g(se):g)});Px.displayName="NavLink";var Kx=R.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:s,replace:u,state:d,method:m=pc,action:y,onSubmit:g,relative:x,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N,...A},P)=>{let{unstable_useTransitions:X}=R.useContext(Pn),Z=Xx(),ie=Qx(y,{relative:x}),G=m.toLowerCase()==="get"?"get":"post",te=typeof y=="string"&&Jv.test(y),he=Me=>{if(g&&g(Me),Me.defaultPrevented)return;Me.preventDefault();let Se=Me.nativeEvent.submitter,se=Se?.getAttribute("formmethod")||m,ze=()=>Z(Se||Me.currentTarget,{fetcherKey:n,method:se,navigate:i,replace:u,state:d,relative:x,preventScrollReset:S,viewTransition:j,unstable_defaultShouldRevalidate:N});X&&i!==!1?R.startTransition(()=>ze()):ze()};return R.createElement("form",{ref:P,method:G,action:ie,onSubmit:s?g:he,...A,"data-discover":!te&&r==="render"?"true":void 0})});Kx.displayName="Form";function Gx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(r){let n=R.useContext(rl);return Ot(n,Gx(r)),n}function Yx(r,{target:n,replace:i,state:s,preventScrollReset:u,relative:d,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:g}={}){let x=Kn(),S=Da(),j=Ro(r,{relative:d});return R.useCallback(N=>{if(_x(N,n)){N.preventDefault();let A=i!==void 0?i:_o(S)===_o(j),P=()=>x(r,{replace:A,state:s,preventScrollReset:u,relative:d,viewTransition:m,unstable_defaultShouldRevalidate:y});g?R.startTransition(()=>P()):P()}},[S,x,j,i,s,n,r,u,d,m,y,g])}var Vx=0,Ix=()=>`__${String(++Vx)}__`;function Xx(){let{router:r}=Zv("useSubmit"),{basename:n}=R.useContext(Pn),i=fx(),s=r.fetch,u=r.navigate;return R.useCallback(async(d,m={})=>{let{action:y,method:g,encType:x,formData:S,body:j}=jx(d,n);if(m.navigate===!1){let N=m.fetcherKey||Ix();await s(N,i,m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||g,formEncType:m.encType||x,flushSync:m.flushSync})}else await u(m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:S,body:j,formMethod:m.method||g,formEncType:m.encType||x,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[s,u,n,i])}function Qx(r,{relative:n}={}){let{basename:i}=R.useContext(Pn),s=R.useContext(na);Ot(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),d={...Ro(r||".",{relative:n})},m=Da();if(r==null){d.search=m.search;let y=new URLSearchParams(d.search),g=y.getAll("index");if(g.some(S=>S==="")){y.delete("index"),g.filter(j=>j).forEach(j=>y.append("index",j));let S=y.toString();d.search=S?`?${S}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:fr([i,d.pathname])),_o(d)}function Wx(r,{relative:n}={}){let i=R.useContext($v);Ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zv("useViewTransitionState"),u=Ro(r,{relative:n});if(!i.isTransitioning)return!1;let d=hr(i.currentLocation.pathname,s)||i.currentLocation.pathname,m=hr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return gc(u.pathname,m)!=null||gc(u.pathname,d)!=null}function Tc(r,n){var i={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&n.indexOf(s)<0&&(i[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(r);u<s.length;u++)n.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(r,s[u])&&(i[s[u]]=r[s[u]]);return i}function Jx(r,n,i,s){function u(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function y(S){try{x(s.next(S))}catch(j){m(j)}}function g(S){try{x(s.throw(S))}catch(j){m(j)}}function x(S){S.done?d(S.value):u(S.value).then(y,g)}x((s=s.apply(r,n||[])).next())})}const Fx=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class vh extends Error{constructor(n,i="FunctionsError",s){super(n),this.name=i,this.context=s}}class Zx extends vh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Yy extends vh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Vy extends vh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Qf||(Qf={}));class ew{constructor(n,{headers:i={},customFetch:s,region:u=Qf.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=Fx(s)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Jx(this,arguments,void 0,function*(i,s={}){var u;let d,m;try{const{headers:y,method:g,body:x,signal:S,timeout:j}=s;let N={},{region:A}=s;A||(A=this.region);const P=new URL(`${this.url}/${i}`);A&&A!=="any"&&(N["x-region"]=A,P.searchParams.set("forceFunctionRegion",A));let X;x&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",X=x):typeof x=="string"?(N["Content-Type"]="text/plain",X=x):typeof FormData<"u"&&x instanceof FormData?X=x:(N["Content-Type"]="application/json",X=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?X=JSON.stringify(x):X=x;let Z=S;j&&(m=new AbortController,d=setTimeout(()=>m.abort(),j),S?(Z=m.signal,S.addEventListener("abort",()=>m.abort())):Z=m.signal);const ie=yield this.fetch(P.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),y),body:X,signal:Z}).catch(Me=>{throw new Zx(Me)}),G=ie.headers.get("x-relay-error");if(G&&G==="true")throw new Yy(ie);if(!ie.ok)throw new Vy(ie);let te=((u=ie.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),he;return te==="application/json"?he=yield ie.json():te==="application/octet-stream"||te==="application/pdf"?he=yield ie.blob():te==="text/event-stream"?he=ie:te==="multipart/form-data"?he=yield ie.formData():he=yield ie.text(),{data:he,error:null,response:ie}}catch(y){return{data:null,error:y,response:y instanceof Vy||y instanceof Yy?y.context:void 0}}finally{d&&clearTimeout(d)}})}}var tw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},nw=class{constructor(r){var n,i,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(s=r.urlLengthLimit)!==null&&s!==void 0?s:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let u=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let m=null,y=null,g=null,x=d.status,S=d.statusText;if(d.ok){var j,N;if(i.method!=="HEAD"){var A;const ie=await d.text();ie===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((A=i.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?y=ie:y=JSON.parse(ie))}const X=(j=i.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),Z=(N=d.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");X&&Z&&Z.length>1&&(g=parseInt(Z[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,x=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var P;const X=await d.text();try{m=JSON.parse(X),Array.isArray(m)&&d.status===404&&(y=[],m=null,x=200,S="OK")}catch{d.status===404&&X===""?(x=204,S="No Content"):m={message:X}}if(m&&i.isMaybeSingle&&(!(m==null||(P=m.details)===null||P===void 0)&&P.includes("0 rows"))&&(m=null,x=200,S="OK"),m&&i.shouldThrowOnError)throw new tw(m)}return{error:m,data:y,count:g,status:x,statusText:S}});return this.shouldThrowOnError||(u=u.catch(d=>{var m;let y="",g="",x="";const S=d?.cause;if(S){var j,N,A,P;const ie=(j=S?.message)!==null&&j!==void 0?j:"",G=(N=S?.code)!==null&&N!==void 0?N:"";y=`${(A=d?.name)!==null&&A!==void 0?A:"FetchError"}: ${d?.message}`,y+=`

Caused by: ${(P=S?.name)!==null&&P!==void 0?P:"Error"}: ${ie}`,G&&(y+=` (${G})`),S?.stack&&(y+=`
${S.stack}`)}else{var X;y=(X=d?.stack)!==null&&X!==void 0?X:""}const Z=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(x="",g="Request was aborted (timeout or manual cancellation)",Z>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${Z} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(S?.name==="HeadersOverflowError"||S?.code==="UND_ERR_HEADERS_OVERFLOW")&&(x="",g="HTTP headers exceeded server limits (typically 16KB)",Z>this.urlLengthLimit&&(g+=`. Your request URL is ${Z} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(m=d?.name)!==null&&m!==void 0?m:"FetchError"}: ${d?.message}`,details:y,hint:g,code:x},data:null,count:null,status:0,statusText:""}})),u.then(r,n)}returns(){return this}overrideTypes(){return this}},aw=class extends nw{select(r){let n=!1;const i=(r??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:u=s}={}){const d=u?`${u}.order`:"order",m=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${m?`${m},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"offset":`${s}.offset`,d=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:u=!1,format:d="text"}={}){var m;const y=[r?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${y};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Iy=new RegExp("[,()]");var Ws=class extends aw{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&Iy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&Iy.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${u}fts${d}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},rw=class{constructor(r,{headers:n={},schema:i,fetch:s,urlLengthLimit:u=8e3}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=s,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:s}=n??{},u=i?"HEAD":"GET";let d=!1;const m=(r??"*").split("").map(x=>/\s/.test(x)&&!d?"":(x==='"'&&(d=!d),x)).join(""),{url:y,headers:g}=this.cloneRequestState();return y.searchParams.set("select",m),s&&g.append("Prefer",`count=${s}`),new Ws({method:u,url:y,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:i=!0}={}){var s;const u="POST",{url:d,headers:m}=this.cloneRequestState();if(n&&m.append("Prefer",`count=${n}`),i||m.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(y.length>0){const g=[...new Set(y)].map(x=>`"${x}"`);d.searchParams.set("columns",g.join(","))}}return new Ws({method:u,url:d,headers:m,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:u=!0}={}){var d;const m="POST",{url:y,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&y.searchParams.set("on_conflict",n),s&&g.append("Prefer",`count=${s}`),u||g.append("Prefer","missing=default"),Array.isArray(r)){const x=r.reduce((S,j)=>S.concat(Object.keys(j)),[]);if(x.length>0){const S=[...new Set(x)].map(j=>`"${j}"`);y.searchParams.set("columns",S.join(","))}}return new Ws({method:m,url:y,headers:g,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var i;const s="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Ws({method:s,url:u,headers:d,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const i="DELETE",{url:s,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Ws({method:i,url:s,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function So(r){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},So(r)}function iw(r,n){if(So(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(So(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function sw(r){var n=iw(r,"string");return So(n)=="symbol"?n:n+""}function lw(r,n,i){return(n=sw(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Xy(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function Fu(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Xy(Object(i),!0).forEach(function(s){lw(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Xy(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}var ow=class eg{constructor(n,{headers:i={},schema:s,fetch:u,timeout:d,urlLengthLimit:m=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=s,this.urlLengthLimit=m;const y=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(g,x)=>{const S=new AbortController,j=setTimeout(()=>S.abort(),d),N=x?.signal;if(N){if(N.aborted)return clearTimeout(j),y(g,x);const A=()=>{clearTimeout(j),S.abort()};return N.addEventListener("abort",A,{once:!0}),y(g,Fu(Fu({},x),{},{signal:S.signal})).finally(()=>{clearTimeout(j),N.removeEventListener("abort",A)})}return y(g,Fu(Fu({},x),{},{signal:S.signal})).finally(()=>clearTimeout(j))}:this.fetch=y}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rw(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new eg(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:s=!1,get:u=!1,count:d}={}){var m;let y;const g=new URL(`${this.url}/rpc/${n}`);let x;const S=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(S)),j=s&&Object.values(i).some(S);j?(y="POST",x=i):s||u?(y=s?"HEAD":"GET",Object.entries(i).filter(([A,P])=>P!==void 0).map(([A,P])=>[A,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([A,P])=>{g.searchParams.append(A,P)})):(y="POST",x=i);const N=new Headers(this.headers);return j?N.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&N.set("Prefer",`count=${d}`),new Ws({method:y,url:g,headers:N,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch,urlLengthLimit:this.urlLengthLimit})}};class uw{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const s=i.versions;if(s&&s.node){const u=s.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const s=this.getWebSocketConstructor();return new s(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const cw="2.95.3",dw=`realtime-js/${cw}`,fw="1.0.0",tg="2.0.0",Qy=tg,Wf=1e4,hw=1e3,mw=100;var ni;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ni||(ni={}));var Wt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Wt||(Wt={}));var ma;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ma||(ma={}));var Jf;(function(r){r.websocket="websocket"})(Jf||(Jf={}));var Gi;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Gi||(Gi={}));class pw{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let s=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,s;const u=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,s;const u=(s=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},m=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,i,s){var u,d;const m=n.topic,y=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",x=n.payload.event,S=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},j=Object.keys(S).length===0?"":JSON.stringify(S);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+m.length+x.length+j.length,A=new ArrayBuffer(this.HEADER_LENGTH+N);let P=new DataView(A),X=0;P.setUint8(X++,this.KINDS.userBroadcastPush),P.setUint8(X++,g.length),P.setUint8(X++,y.length),P.setUint8(X++,m.length),P.setUint8(X++,x.length),P.setUint8(X++,j.length),P.setUint8(X++,i),Array.from(g,ie=>P.setUint8(X++,ie.charCodeAt(0))),Array.from(y,ie=>P.setUint8(X++,ie.charCodeAt(0))),Array.from(m,ie=>P.setUint8(X++,ie.charCodeAt(0))),Array.from(x,ie=>P.setUint8(X++,ie.charCodeAt(0))),Array.from(j,ie=>P.setUint8(X++,ie.charCodeAt(0)));var Z=new Uint8Array(A.byteLength+s.byteLength);return Z.set(new Uint8Array(A),0),Z.set(new Uint8Array(s),A.byteLength),Z.buffer}decode(n,i){if(this._isArrayBuffer(n)){let s=this._binaryDecode(n);return i(s)}if(typeof n=="string"){const s=JSON.parse(n),[u,d,m,y,g]=s;return i({join_ref:u,ref:d,topic:m,event:y,payload:g})}return i({})}_binaryDecode(n){const i=new DataView(n),s=i.getUint8(0),u=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,u)}_decodeUserBroadcast(n,i,s){const u=i.getUint8(1),d=i.getUint8(2),m=i.getUint8(3),y=i.getUint8(4);let g=this.HEADER_LENGTH+4;const x=s.decode(n.slice(g,g+u));g=g+u;const S=s.decode(n.slice(g,g+d));g=g+d;const j=s.decode(n.slice(g,g+m));g=g+m;const N=n.slice(g,n.byteLength),A=y===this.JSON_ENCODING?JSON.parse(s.decode(N)):N,P={type:this.BROADCAST_EVENT,event:S,payload:A};return m>0&&(P.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([s])=>i.includes(s)))}}let ng=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var _t;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(_t||(_t={}));const Wy=(r,n,i={})=>{var s;const u=(s=i.skipTypes)!==null&&s!==void 0?s:[];return n?Object.keys(n).reduce((d,m)=>(d[m]=yw(m,r,n,u),d),{}):{}},yw=(r,n,i,s)=>{const u=n.find(y=>y.name===r),d=u?.type,m=i[r];return d&&!s.includes(d)?ag(d,m):Ff(m)},ag=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return xw(n,i)}switch(r){case _t.bool:return vw(n);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return gw(n);case _t.json:case _t.jsonb:return bw(n);case _t.timestamp:return ww(n);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return Ff(n);default:return Ff(n)}},Ff=r=>r,vw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},gw=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},bw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},xw=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,s=r[i];if(r[0]==="{"&&s==="}"){let d;const m=r.slice(1,i);try{d=JSON.parse("["+m+"]")}catch{d=m?m.split(","):[]}return d.map(y=>ag(n,y))}return r},ww=r=>typeof r=="string"?r.replace(" ","T"):r,rg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Lf{constructor(n,i,s={},u=Wf){this.channel=n,this.event=i,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var s;return this._hasReceived(n)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(s=>s.status===n).forEach(s=>s.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Jy;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Jy||(Jy={}));class xo{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xo.syncState(this.state,u,d,m),this.pendingDiffs.forEach(g=>{this.state=xo.syncDiff(this.state,g,d,m)}),this.pendingDiffs=[],y()}),this.channel._on(s.diff,{},u=>{const{onJoin:d,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=xo.syncDiff(this.state,u,d,m),y())}),this.onJoin((u,d,m)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:m})}),this.onLeave((u,d,m)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,s,u){const d=this.cloneDeep(n),m=this.transformState(i),y={},g={};return this.map(d,(x,S)=>{m[x]||(g[x]=S)}),this.map(m,(x,S)=>{const j=d[x];if(j){const N=S.map(Z=>Z.presence_ref),A=j.map(Z=>Z.presence_ref),P=S.filter(Z=>A.indexOf(Z.presence_ref)<0),X=j.filter(Z=>N.indexOf(Z.presence_ref)<0);P.length>0&&(y[x]=P),X.length>0&&(g[x]=X)}else y[x]=S}),this.syncDiff(d,{joins:y,leaves:g},s,u)}static syncDiff(n,i,s,u){const{joins:d,leaves:m}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(d,(y,g)=>{var x;const S=(x=n[y])!==null&&x!==void 0?x:[];if(n[y]=this.cloneDeep(g),S.length>0){const j=n[y].map(A=>A.presence_ref),N=S.filter(A=>j.indexOf(A.presence_ref)<0);n[y].unshift(...N)}s(y,S,g)}),this.map(m,(y,g)=>{let x=n[y];if(!x)return;const S=g.map(j=>j.presence_ref);x=x.filter(j=>S.indexOf(j.presence_ref)<0),n[y]=x,u(y,x,g),x.length===0&&delete n[y]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(s=>i(s,n[s]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,s)=>{const u=n[s];return"metas"in u?i[s]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[s]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fy;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Fy||(Fy={}));var wo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(wo||(wo={}));var dr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class Zs{constructor(n,i={config:{}},s){var u,d;if(this.topic=n,this.params=i,this.socket=s,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,ma.join,this.params,this.timeout),this.rejoinTimer=new ng(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new xo(this),this.broadcastEndpointURL=rg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var s,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:m,presence:y,private:g}}=this.params,x=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(A=>A.filter))!==null&&u!==void 0?u:[],S=!!this.bindings[wo.PRESENCE]&&this.bindings[wo.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,j={},N={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:S}),postgres_changes:x,private:g};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(A=>n?.(dr.CHANNEL_ERROR,A)),this._onClose(()=>n?.(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:N},j)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:A})=>{var P;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){n?.(dr.SUBSCRIBED);return}else{const X=this.bindings.postgres_changes,Z=(P=X?.length)!==null&&P!==void 0?P:0,ie=[];for(let G=0;G<Z;G++){const te=X[G],{filter:{event:he,schema:Me,table:Se,filter:se}}=te,ze=A&&A[G];if(ze&&ze.event===he&&Zs.isFilterValueEqual(ze.schema,Me)&&Zs.isFilterValueEqual(ze.table,Se)&&Zs.isFilterValueEqual(ze.filter,se))ie.push(Object.assign(Object.assign({},te),{id:ze.id}));else{this.unsubscribe(),this.state=Wt.errored,n?.(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ie,n&&n(dr.SUBSCRIBED);return}}).receive("error",A=>{this.state=Wt.errored,n?.(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{n?.(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,s){return this.state===Wt.joined&&n===wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,s)}async httpSend(n,i,s={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(y.status===202)return{success:!0};let g=y.statusText;try{const x=await y.json();g=x.error||x.message||g}catch{}return Promise.reject(new Error(g))}async send(n,i={}){var s,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:m}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:m,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=x.body)===null||u===void 0?void 0:u.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var m,y,g;const x=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Wt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new Lf(this,ma.leave,{},n),s.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(n,i,s){const u=new AbortController,d=setTimeout(()=>u.abort(),s),m=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),m}_push(n,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Lf(this,n,i,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>mw){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,s){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,s){var u,d;const m=n.toLocaleLowerCase(),{close:y,error:g,leave:x,join:S}=ma;if(s&&[y,g,x,S].indexOf(m)>=0&&s!==this._joinRef())return;let N=this._onMessage(m,i,s);if(i&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var P,X,Z;return((P=A.filter)===null||P===void 0?void 0:P.event)==="*"||((Z=(X=A.filter)===null||X===void 0?void 0:X.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())===m}).map(A=>A.callback(N,s)):(d=this.bindings[m])===null||d===void 0||d.filter(A=>{var P,X,Z,ie,G,te;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in A){const he=A.id,Me=(P=A.filter)===null||P===void 0?void 0:P.event;return he&&((X=i.ids)===null||X===void 0?void 0:X.includes(he))&&(Me==="*"||Me?.toLocaleLowerCase()===((Z=i.data)===null||Z===void 0?void 0:Z.type.toLocaleLowerCase()))}else{const he=(G=(ie=A?.filter)===null||ie===void 0?void 0:ie.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return he==="*"||he===((te=i?.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===m}).map(A=>{if(typeof N=="object"&&"ids"in N){const P=N.data,{schema:X,table:Z,commit_timestamp:ie,type:G,errors:te}=P;N=Object.assign(Object.assign({},{schema:X,table:Z,commit_timestamp:ie,eventType:G,new:{},old:{},errors:te}),this._getPayloadRecords(P))}A.callback(N,s)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,s){const u=n.toLocaleLowerCase(),d={type:u,filter:i,callback:s};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,i){const s=n.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===s&&Zs.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const s in n)if(n[s]!==i[s])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ma.close,{},n)}_onError(n){this._on(ma.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Wy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Wy(n.columns,n.old_record)),i}}const qf=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_w=[1e3,2e3,5e3,1e4],Sw=1e4,Ew=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jw{constructor(n,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wf,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qf,this.ref=0,this.reconnectTimer=null,this.vsn=Qy,this.logger=qf,this.conn=null,this.sendBuffer=[],this.serializer=new pw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Jf.websocket}`,this.httpEndpoint=rg(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uw.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,s){this.logger(n,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Gi.Connecting;case ni.open:return Gi.Open;case ni.closing:return Gi.Closing;default:return Gi.Closed}}isConnected(){return this.connectionState()===Gi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const s=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===s);if(u)return u;{const d=new Zs(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:s,payload:u,ref:d}=n,m=()=>{this.encode(n,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${i} ${s} (${d})`,u),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(hw,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(s=>s.topic===n&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",x)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:u,payload:d,ref:m}=i,y=m?`(${m})`:"",g=d.status||"";this.log("receive",`${g} ${s} ${u} ${y}`.trim(),d),this.channels.filter(x=>x._isMember(s)).forEach(x=>x._trigger(u,d,m)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ni.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ni.open||this.conn.readyState===ni.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(ma.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const s=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${s}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const s=new Blob([Ew],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,s=!1;if(n)i=n,s=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:dw};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(ma.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(s=>{try{s(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(s){this.log("error",`error triggering ${n} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new ng(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,s,u,d,m,y,g,x,S,j,N,A;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=n?.timeout)!==null&&s!==void 0?s:Wf,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Zu.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:qf,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:Qy,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=n?.reconnectAfterMs)!==null&&x!==void 0?x:(P=>_w[P-1]||Sw),this.vsn){case fw:this.encode=(S=n?.encode)!==null&&S!==void 0?S:((P,X)=>X(JSON.stringify(P))),this.decode=(j=n?.decode)!==null&&j!==void 0?j:((P,X)=>X(JSON.parse(P)));break;case tg:this.encode=(N=n?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(A=n?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Eo=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kw(r,n,i){const s=new URL(n,r);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&s.searchParams.set(u,d);return s.toString()}async function Tw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Ow(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:s,query:u,body:d,headers:m}){const y=kw(r.baseUrl,s,u),g=await Tw(r.auth),x=await n(y,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...m},body:d?JSON.stringify(d):void 0}),S=await x.text(),j=(x.headers.get("content-type")||"").includes("application/json"),N=j&&S?JSON.parse(S):S;if(!x.ok){const A=j?N:void 0,P=A?.error;throw new Eo(P?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:P?.type,icebergCode:P?.code,details:A})}return{status:x.status,headers:x.headers,data:N}}}}function ec(r){return r.join("")}var Nw=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:ec(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ec(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ec(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ec(r.namespace)}`}),!0}catch(n){if(n instanceof Eo&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof Eo&&i.status===409)return;throw i}}};function Ks(r){return r.join("")}var Aw=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ks(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof Eo&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof Eo&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},Cw=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Ow({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new Nw(this.client,n),this.tableOps=new Aw(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},Oc=class extends Error{constructor(r,n="storage",i,s){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=s}};function Nc(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var tc=class extends Oc{constructor(r,n,i,s="storage"){super(r,s,n,i),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ig=class extends Oc{constructor(r,n,i="storage"){super(r,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Rw=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Dw=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Zf=r=>{if(Array.isArray(r))return r.map(i=>Zf(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,s])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Zf(s)}),n},Mw=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function jo(r){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jo(r)}function Uw(r,n){if(jo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(jo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function zw(r){var n=Uw(r,"string");return jo(n)=="symbol"?n:n+""}function Lw(r,n,i){return(n=zw(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Zy(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function qe(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Zy(Object(i),!0).forEach(function(s){Lw(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Zy(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const ev=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},qw=async(r,n,i,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const u=r,d=u.status||500;if(typeof u.json=="function")u.json().then(m=>{const y=m?.statusCode||m?.code||d+"";n(new tc(ev(m),d,y,s))}).catch(()=>{if(s==="vectors"){const m=d+"";n(new tc(u.statusText||`HTTP ${d} error`,d,m,s))}else{const m=d+"";n(new tc(u.statusText||`HTTP ${d} error`,d,m,s))}});else{const m=d+"";n(new tc(u.statusText||`HTTP ${d} error`,d,m,s))}}else n(new ig(ev(r),r,s))},Bw=(r,n,i,s)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!s?qe(qe({},u),i):(Dw(s)?(u.headers=qe({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(s)):u.body=s,n?.duplex&&(u.duplex=n.duplex),qe(qe({},u),i))};async function po(r,n,i,s,u,d,m){return new Promise((y,g)=>{r(i,Bw(n,s,u,d)).then(x=>{if(!x.ok)throw x;if(s?.noResolveJson)return x;if(m==="vectors"){const S=x.headers.get("content-type");if(x.headers.get("content-length")==="0"||x.status===204)return{};if(!S||!S.includes("application/json"))return{}}return x.json()}).then(x=>y(x)).catch(x=>qw(x,g,s,m))})}function sg(r="storage"){return{get:async(n,i,s,u)=>po(n,"GET",i,s,u,void 0,r),post:async(n,i,s,u,d)=>po(n,"POST",i,u,d,s,r),put:async(n,i,s,u,d)=>po(n,"PUT",i,u,d,s,r),head:async(n,i,s,u)=>po(n,"HEAD",i,qe(qe({},s),{},{noResolveJson:!0}),u,void 0,r),remove:async(n,i,s,u,d)=>po(n,"DELETE",i,u,d,s,r)}}const $w=sg("storage"),{get:ko,post:ha,put:eh,head:Hw,remove:gh}=$w,Hn=sg("vectors");var sl=class{constructor(r,n={},i,s="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=Rw(i),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Nc(i))return{data:null,error:i};throw i}}},Pw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nc(n))return{data:null,error:n};throw n}}};let lg;lg=Symbol.toStringTag;var Kw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[lg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Pw(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nc(n))return{data:null,error:n};throw n}}};const Gw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yw=class extends sl{constructor(r,n={},i,s){super(r,n,s,"storage"),this.bucketId=i}async uploadOrUpdate(r,n,i,s){var u=this;return u.handleOperation(async()=>{let d;const m=qe(qe({},tv),s);let y=qe(qe({},u.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const g=m.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",m.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,g&&(y["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!m.duplex&&(m.duplex="half")),s?.headers&&(y=qe(qe({},y),s.headers));const x=u._removeEmptyFolders(n),S=u._getFinalPath(x),j=await(r=="PUT"?eh:ha)(u.fetch,`${u.url}/object/${S}`,d,qe({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{path:x,id:j.Id,fullPath:j.Key}})}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,s){var u=this;const d=u._removeEmptyFolders(r),m=u._getFinalPath(d),y=new URL(u.url+`/object/upload/sign/${m}`);return y.searchParams.set("token",n),u.handleOperation(async()=>{let g;const x=qe({upsert:tv.upsert},s),S=qe(qe({},u.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",x.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",x.cacheControl)):(g=i,S["cache-control"]=`max-age=${x.cacheControl}`,S["content-type"]=x.contentType),{path:d,fullPath:(await eh(u.fetch,y.toString(),g,{headers:S})).Key}})}async createSignedUploadUrl(r,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(r);const u=qe({},i.headers);n?.upsert&&(u["x-upsert"]="true");const d=await ha(i.fetch,`${i.url}/object/upload/sign/${s}`,{},{headers:u}),m=new URL(i.url+d.url),y=m.searchParams.get("token");if(!y)throw new Oc("No token returned by API");return{signedUrl:m.toString(),path:r,token:y}})}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var s=this;return s.handleOperation(async()=>await ha(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers}))}async copy(r,n,i){var s=this;return s.handleOperation(async()=>({path:(await ha(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(r,n,i){var s=this;return s.handleOperation(async()=>{let u=s._getFinalPath(r),d=await ha(s.fetch,`${s.url}/object/sign/${u}`,qe({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:s.headers});const m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${s.url}${d.signedURL}${m}`)}})}async createSignedUrls(r,n,i){var s=this;return s.handleOperation(async()=>{const u=await ha(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:n,paths:r},{headers:s.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u.map(m=>qe(qe({},m),{},{signedUrl:m.signedURL?encodeURI(`${s.url}${m.signedURL}${d}`):null}))})}download(r,n,i){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),d=u?`?${u}`:"",m=this._getFinalPath(r),y=()=>ko(this.fetch,`${this.url}/${s}/${m}${d}`,{headers:this.headers,noResolveJson:!0},i);return new Kw(y,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);return n.handleOperation(async()=>Zf(await ko(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await Hw(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nc(s)&&s instanceof ig){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}}getPublicUrl(r,n){const i=this._getFinalPath(r),s=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&s.push(u);const d=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&s.push(m);let y=s.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${y}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await gh(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,i){var s=this;return s.handleOperation(async()=>{const u=qe(qe(qe({},Gw),n),{},{prefix:r||""});return await ha(s.fetch,`${s.url}/object/list/${s.bucketId}`,u,{headers:s.headers},i)})}async listV2(r,n){var i=this;return i.handleOperation(async()=>{const s=qe({},r);return await ha(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,s,{headers:i.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const Vw="2.95.3",Do={"X-Client-Info":`storage-js/${Vw}`};var Iw=class extends sl{constructor(r,n={},i,s){const u=new URL(r);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),m=qe(qe({},Do),n);super(d,m,i,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(r);return await ko(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await ko(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var i=this;return i.handleOperation(async()=>await ha(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(r,n){var i=this;return i.handleOperation(async()=>await eh(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await ha(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await gh(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Xw=class extends sl{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=qe(qe({},Do),n);super(s,u,i,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await ha(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const s=i.toString(),u=s?`${n.url}/bucket?${s}`:`${n.url}/bucket`;return await ko(n.fetch,u,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await gh(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!Mw(r))throw new Oc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Cw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const m=u[d];return typeof m!="function"?m:async(...y)=>{try{return{data:await m.apply(u,y),error:null}}catch(g){if(s)throw g;return{data:null,error:g}}}}})}},Qw=class extends sl{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=qe(qe({},Do),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var i=this;return i.handleOperation(async()=>await Hn.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var i=this;return i.handleOperation(async()=>await Hn.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{})}},Ww=class extends sl{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=qe(qe({},Do),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},Jw=class extends sl{constructor(r,n={},i){const s=r.replace(/\/$/,""),u=qe(qe({},Do),{},{"Content-Type":"application/json"},n);super(s,u,i,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await Hn.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},Fw=class extends Jw{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Zw(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},Zw=class extends Qw{constructor(r,n,i,s){super(r,n,s),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new e_(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},e_=class extends Ww{constructor(r,n,i,s,u){super(r,n,u),this.vectorBucketName=i,this.indexName=s}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,qe(qe({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},t_=class extends Iw{constructor(r,n={},i,s){super(r,n,i,s)}from(r){return new Yw(this.url,this.headers,r,this.fetch)}get vectors(){return new Fw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Xw(this.url+"/iceberg",this.headers,this.fetch)}};const og="2.95.3",Js=30*1e3,th=3,Bf=th*Js,n_="http://localhost:9999",a_="supabase.auth.token",r_={"X-Client-Info":`gotrue-js/${og}`},nh="X-Supabase-Api-Version",ug={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s_=600*1e3;class To extends Error{constructor(n,i,s){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function Ne(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class l_ extends To{constructor(n,i,s){super(n,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function o_(r){return Ne(r)&&r.name==="AuthApiError"}class Yi extends To{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class yr extends To{constructor(n,i,s,u){super(n,s,u),this.name=i,this.status=s}}class $n extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $f(r){return Ne(r)&&r.name==="AuthSessionMissingError"}class Gs extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nc extends yr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ac extends yr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u_(r){return Ne(r)&&r.name==="AuthImplicitGrantRedirectError"}class nv extends yr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c_ extends yr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ah extends yr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Hf(r){return Ne(r)&&r.name==="AuthRetryableFetchError"}class av extends yr{constructor(n,i,s){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class rh extends yr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rv=` 	
\r=`.split(""),d_=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<rv.length;n+=1)r[rv[n].charCodeAt(0)]=-2;for(let n=0;n<bc.length;n+=1)r[bc[n].charCodeAt(0)]=n;return r})();function iv(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(bc[s]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const s=n.queue>>n.queuedBits-6&63;i(bc[s]),n.queuedBits-=6}}function cg(r,n,i){const s=d_[r];if(s>-1)for(n.queue=n.queue<<6|s,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function sv(r){const n=[],i=m=>{n.push(String.fromCodePoint(m))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=m=>{m_(m,s,i)};for(let m=0;m<r.length;m+=1)cg(r.charCodeAt(m),u,d);return n.join("")}function f_(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function h_(r,n){for(let i=0;i<r.length;i+=1){let s=r.charCodeAt(i);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}f_(s,n)}}function m_(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){n.utf8seq=s;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function tl(r){const n=[],i={queue:0,queuedBits:0},s=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)cg(r.charCodeAt(u),i,s);return new Uint8Array(n)}function p_(r){const n=[];return h_(r,i=>n.push(i)),new Uint8Array(n)}function Vi(r){const n=[],i={queue:0,queuedBits:0},s=u=>{n.push(u)};return r.forEach(u=>iv(u,i,s)),iv(null,i,s),n.join("")}function y_(r){return Math.round(Date.now()/1e3)+r}function v_(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},dg=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function g_(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return i.searchParams.forEach((s,u)=>{n[u]=s}),n}const fg=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),b_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Fs=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Hi=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},cn=async(r,n)=>{await r.removeItem(n)};class Ac{constructor(){this.promise=new Ac.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Ac.promiseConstructor=Promise;function rc(r){const n=r.split(".");if(n.length!==3)throw new rh("Invalid JWT structure");for(let s=0;s<n.length;s++)if(!i_.test(n[s]))throw new rh("JWT not in base64url format");return{header:JSON.parse(sv(n[0])),payload:JSON.parse(sv(n[1])),signature:tl(n[2]),raw:{header:n[0],payload:n[1]}}}async function x_(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function w_(r,n){return new Promise((s,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const m=await r(d);if(!n(d,null,m)){s(m);return}}catch(m){if(!n(d,m)){u(m);return}}})()})}function __(r){return("0"+r.toString(16)).substr(-2)}function S_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(n),Array.from(n,__).join("")}async function E_(r){const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(s);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function j_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await E_(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(r,n,i=!1){const s=S_();let u=s;i&&(u+="/PASSWORD_RECOVERY"),await Fs(r,`${n}-code-verifier`,u);const d=await j_(s);return[d,s===d?"plain":"s256"]}const k_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function T_(r){const n=r.headers.get(nh);if(!n||!n.match(k_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function O_(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function N_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(r){if(!A_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pf(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C_(r,n){return new Proxy(r,{get:(i,s,u)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const d=s.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,u)}return!n.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,s,u)}})}function lv(r){return JSON.parse(JSON.stringify(r))}const Pi=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),R_=[502,503,504];async function ov(r){var n;if(!b_(r))throw new ah(Pi(r),0);if(R_.includes(r.status))throw new ah(Pi(r),r.status);let i;try{i=await r.json()}catch(d){throw new Yi(Pi(d),d)}let s;const u=T_(r);if(u&&u.getTime()>=ug["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new av(Pi(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(s==="session_not_found")throw new $n}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,m)=>d&&typeof m=="string",!0))throw new av(Pi(i),r.status,i.weak_password.reasons);throw new l_(Pi(i),r.status||500,s)}const D_=(r,n,i,s)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),i))};async function Le(r,n,i,s){var u;const d=Object.assign({},s?.headers);d[nh]||(d[nh]=ug["2024-01-01"].name),s?.jwt&&(d.Authorization=`Bearer ${s.jwt}`);const m=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(m.redirect_to=s.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",g=await M_(r,n,i+y,{headers:d,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function M_(r,n,i,s,u,d){const m=D_(n,s,u,d);let y;try{y=await r(i,Object.assign({},m))}catch(g){throw console.error(g),new ah(Pi(g),0)}if(y.ok||await ov(y),s?.noResolveJson)return y;try{return await y.json()}catch(g){await ov(g)}}function fa(r){var n;let i=null;L_(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=y_(r.expires_in)));const s=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:s},error:null}}function uv(r){const n=fa(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(n.data.weak_password=r.weak_password),n}function ai(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function U_(r){return{data:r,error:null}}function z_(r){const{action_link:n,email_otp:i,hashed_token:s,redirect_to:u,verification_type:d}=r,m=Tc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:i,hashed_token:s,redirect_to:u,verification_type:d},g=Object.assign({},m);return{data:{properties:y,user:g},error:null}}function cv(r){return r}function L_(r){return r.access_token&&r.refresh_token&&r.expires_in}const Kf=["global","local","others"];class q_{constructor({url:n="",headers:i={},fetch:s}){this.url=n,this.headers=i,this.fetch=fg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Kf[0]){if(Kf.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kf.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async inviteUserByEmail(n,i={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ai})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async generateLink(n){try{const{options:i}=n,s=Tc(n,["options"]),u=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:z_,redirectTo:i?.redirectTo})}catch(i){if(Ne(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ai})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,s,u,d,m,y,g;try{const x={nextPage:null,lastPage:0,total:0},S=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:cv});if(S.error)throw S.error;const j=await S.json(),N=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,A=(g=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(P=>{const X=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),Z=JSON.parse(P.split(";")[1].split("=")[1]);x[`${Z}Page`]=X}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},j),x),error:null}}catch(x){if(Ne(x))return{data:{users:[]},error:x};throw x}}async getUserById(n){Vs(n);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ai})}catch(i){if(Ne(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Vs(n);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:ai})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async deleteUser(n,i=!1){Vs(n);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:ai})}catch(s){if(Ne(s))return{data:{user:null},error:s};throw s}}async _listFactors(n){Vs(n.userId);try{const{data:i,error:s}=await Le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:s}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Vs(n.userId),Vs(n.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,s,u,d,m,y,g;try{const x={nextPage:null,lastPage:0,total:0},S=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:cv});if(S.error)throw S.error;const j=await S.json(),N=(m=S.headers.get("x-total-count"))!==null&&m!==void 0?m:0,A=(g=(y=S.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(P=>{const X=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),Z=JSON.parse(P.split(";")[1].split("=")[1]);x[`${Z}Page`]=X}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},j),x),error:null}}catch(x){if(Ne(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ne(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ne(i))return{data:null,error:i};throw i}}}function dv(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Is={debug:!!(globalThis&&dg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class B_ extends hg{}async function $_(r,n,i){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const s=new globalThis.AbortController;return n>0&&setTimeout(()=>{s.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new B_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Is.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function H_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function mg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function P_(r){return parseInt(r,16)}function K_(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,s=>s.toString(16).padStart(2,"0")).join("")}function G_(r){var n;const{chainId:i,domain:s,expirationTime:u,issuedAt:d=new Date,nonce:m,notBefore:y,requestId:g,resources:x,scheme:S,uri:j,version:N}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const A=mg(r.address),P=S?`${S}://${s}`:s,X=r.statement?`${r.statement}
`:"",Z=`${P} wants you to sign in with your Ethereum account:
${A}

${X}`;let ie=`URI: ${j}
Version: ${N}
Chain ID: ${i}${m?`
Nonce: ${m}`:""}
Issued At: ${d.toISOString()}`;if(u&&(ie+=`
Expiration Time: ${u.toISOString()}`),y&&(ie+=`
Not Before: ${y.toISOString()}`),g&&(ie+=`
Request ID: ${g}`),x){let G=`
Resources:`;for(const te of x){if(!te||typeof te!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${te}`);G+=`
- ${te}`}ie+=G}return`${Z}
${ie}`}class Vt extends Error{constructor({message:n,code:i,cause:s,name:u}){var d;super(n,{cause:s}),this.__isWebAuthnError=!0,this.name=(d=u??(s instanceof Error?s.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class xc extends Vt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function Y_({error:r,options:n}){var i,s,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((s=d.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const m=window.location.hostname;if(pg(m)){if(d.rp.id!==m)return new Vt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function V_({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Vt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(pg(s)){if(i.rpId!==s)return new Vt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class I_{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const X_=new I_;function Q_(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:s}=r,u=Tc(r,["challenge","user","excludeCredentials"]),d=tl(n).buffer,m=Object.assign(Object.assign({},i),{id:tl(i.id).buffer}),y=Object.assign(Object.assign({},u),{challenge:d,user:m});if(s&&s.length>0){y.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const x=s[g];y.excludeCredentials[g]=Object.assign(Object.assign({},x),{id:tl(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return y}function W_(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,s=Tc(r,["challenge","allowCredentials"]),u=tl(n).buffer,d=Object.assign(Object.assign({},s),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const y=i[m];d.allowCredentials[m]=Object.assign(Object.assign({},y),{id:tl(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return d}function J_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Vi(new Uint8Array(r.response.attestationObject)),clientDataJSON:Vi(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function F_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,s=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Vi(new Uint8Array(u.authenticatorData)),clientDataJSON:Vi(new Uint8Array(u.clientDataJSON)),signature:Vi(new Uint8Array(u.signature)),userHandle:u.userHandle?Vi(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function pg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function fv(){var r,n;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Z_(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",n)}:{data:null,error:new xc("Empty credential response",n)}}catch(n){return{data:null,error:Y_({error:n,options:r})}}}async function e1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new xc("Browser returned unexpected credential type",n)}:{data:null,error:new xc("Empty credential response",n)}}catch(n){return{data:null,error:V_({error:n,options:r})}}}const t1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},n1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of r)if(u)for(const d in u){const m=u[d];if(m!==void 0)if(Array.isArray(m))s[d]=m;else if(i(m))s[d]=m;else if(n(m)){const y=s[d];n(y)?s[d]=wc(y,m):s[d]=wc(m)}else s[d]=m}return s}function a1(r,n){return wc(t1,r,n||{})}function r1(r,n){return wc(n1,r,n||{})}class i1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:s,signal:u},d){var m;try{const{data:y,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!y)return{data:null,error:g};const x=u??X_.createNewAbortSignal();if(y.webauthn.type==="create"){const{user:S}=y.webauthn.credential_options.publicKey;if(!S.name){const j=s;if(j)S.name=`${S.id}:${j}`;else{const A=(await this.client.getUser()).data.user,P=((m=A?.user_metadata)===null||m===void 0?void 0:m.name)||A?.email||A?.id||"User";S.name=`${S.id}:${P}`}}S.displayName||(S.displayName=S.name)}switch(y.webauthn.type){case"create":{const S=a1(y.webauthn.credential_options.publicKey,d?.create),{data:j,error:N}=await Z_({publicKey:S,signal:x});return j?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:j}},error:null}:{data:null,error:N}}case"request":{const S=r1(y.webauthn.credential_options.publicKey,d?.request),{data:j,error:N}=await e1(Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:S,signal:x}));return j?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:j}},error:null}:{data:null,error:N}}}}catch(y){return Ne(y)?{data:null,error:y}:{data:null,error:new Yi("Unexpected error in challenge",y)}}}async _verify({challengeId:n,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:s})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new To("rpId is required for WebAuthn authentication")};try{if(!fv())return{data:null,error:new Yi("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:s},signal:u},{request:d});if(!m)return{data:null,error:y};const{webauthn:g}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:s,credential_response:g.credential_response}})}catch(m){return Ne(m)?{data:null,error:m}:{data:null,error:new Yi("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new To("rpId is required for WebAuthn registration")};try{if(!fv())return{data:null,error:new Yi("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(S=>{var j;return(j=S.data)===null||j===void 0?void 0:j.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:y};const{data:g,error:x}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:u},{create:d});return g?this._verify({factorId:m.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:x}}catch(m){return Ne(m)?{data:null,error:m}:{data:null,error:new Yi("Unexpected error in register",m)}}}}H_();const s1={url:n_,storageKey:a_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function hv(r,n,i){return await i()}const Xs={};class Oo{get jwks(){var n,i;return(i=(n=Xs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Xs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:n})}constructor(n){var i,s,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},s1),n);if(this.storageKey=d.storageKey,this.instanceID=(i=Oo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Oo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&dn()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new q_({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=fg(d.fetch),this.lock=d.lock||hv,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&dn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=$_:this.lock=hv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:dg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dv(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=dv(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m);try{await this._notifyAllSubscribers(m.data.event,m.data.session,!1)}catch(y){this._debug("#broadcastChannel","error",y)}})}this.initialize().catch(m=>{this._debug("#initialize()","error",m)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${og}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},s="none";if(dn()&&(i=g_(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),dn()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,s);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),u_(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:m,redirectType:y}=u;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Ne(i)?this._returnResult({error:i}):this._returnResult({error:new Yi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,s,u;try{const d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:fa}),{data:m,error:y}=d;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const g=m.session,x=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(d){if(Ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,s,u;try{let d;if("email"in n){const{email:S,password:j,options:N}=n;let A=null,P=null;this.flowType==="pkce"&&([A,P]=await Ys(this.storage,this.storageKey)),d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:S,password:j,data:(i=N?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:A,code_challenge_method:P},xform:fa})}else if("phone"in n){const{phone:S,password:j,options:N}=n;d=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:j,data:(s=N?.data)!==null&&s!==void 0?s:{},channel:(u=N?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:fa})}else throw new nc("You must provide either an email or phone number and a password");const{data:m,error:y}=d;if(y||!m)return await cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=m.session,x=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(d){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:m,options:y}=n;i=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:uv})}else if("phone"in n){const{phone:d,password:m,options:y}=n;i=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:uv})}else throw new nc("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!s||!s.session||!s.user){const d=new Gs;return this._returnResult({data:{user:null,session:null},error:d})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,s,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=n.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,s,u,d,m,y,g,x,S,j,N;let A,P;if("message"in n)A=n.message,P=n.signature;else{const{chain:X,wallet:Z,statement:ie,options:G}=n;let te;if(dn())if(typeof Z=="object")te=Z;else{const Xe=window;if("ethereum"in Xe&&typeof Xe.ethereum=="object"&&"request"in Xe.ethereum&&typeof Xe.ethereum.request=="function")te=Xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=Z}const he=new URL((i=G?.url)!==null&&i!==void 0?i:window.location.href),Me=await te.request({method:"eth_requestAccounts"}).then(Xe=>Xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Me||Me.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Se=mg(Me[0]);let se=(s=G?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!se){const Xe=await te.request({method:"eth_chainId"});se=P_(Xe)}const ze={domain:he.host,address:Se,statement:ie,uri:he.href,version:"1",chainId:se,nonce:(u=G?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(m=(d=G?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=G?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=G?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(x=G?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(S=G?.signInWithEthereum)===null||S===void 0?void 0:S.resources};A=G_(ze),P=await te.request({method:"personal_sign",params:[K_(A),Se]})}try{const{data:X,error:Z}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:P},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:fa});if(Z)throw Z;if(!X||!X.session||!X.user){const ie=new Gs;return this._returnResult({data:{user:null,session:null},error:ie})}return X.session&&(await this._saveSession(X.session),await this._notifyAllSubscribers("SIGNED_IN",X.session)),this._returnResult({data:Object.assign({},X),error:Z})}catch(X){if(Ne(X))return this._returnResult({data:{user:null,session:null},error:X});throw X}}async signInWithSolana(n){var i,s,u,d,m,y,g,x,S,j,N,A;let P,X;if("message"in n)P=n.message,X=n.signature;else{const{chain:Z,wallet:ie,statement:G,options:te}=n;let he;if(dn())if(typeof ie=="object")he=ie;else{const Se=window;if("solana"in Se&&typeof Se.solana=="object"&&("signIn"in Se.solana&&typeof Se.solana.signIn=="function"||"signMessage"in Se.solana&&typeof Se.solana.signMessage=="function"))he=Se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ie!="object"||!te?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");he=ie}const Me=new URL((i=te?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in he&&he.signIn){const Se=await he.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},te?.signInWithSolana),{version:"1",domain:Me.host,uri:Me.href}),G?{statement:G}:null));let se;if(Array.isArray(Se)&&Se[0]&&typeof Se[0]=="object")se=Se[0];else if(Se&&typeof Se=="object"&&"signedMessage"in Se&&"signature"in Se)se=Se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)P=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),X=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in he)||typeof he.signMessage!="function"||!("publicKey"in he)||typeof he!="object"||!he.publicKey||!("toBase58"in he.publicKey)||typeof he.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${Me.host} wants you to sign in with your Solana account:`,he.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${Me.href}`,`Issued At: ${(u=(s=te?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=te?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${te.signInWithSolana.notBefore}`]:[],...!((m=te?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${te.signInWithSolana.expirationTime}`]:[],...!((y=te?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${te.signInWithSolana.chainId}`]:[],...!((g=te?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${te.signInWithSolana.nonce}`]:[],...!((x=te?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${te.signInWithSolana.requestId}`]:[],...!((j=(S=te?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||j===void 0)&&j.length?["Resources",...te.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const Se=await he.signMessage(new TextEncoder().encode(P),"utf8");if(!Se||!(Se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");X=Se}}try{const{data:Z,error:ie}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Vi(X)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:fa});if(ie)throw ie;if(!Z||!Z.session||!Z.user){const G=new Gs;return this._returnResult({data:{user:null,session:null},error:G})}return Z.session&&(await this._saveSession(Z.session),await this._notifyAllSubscribers("SIGNED_IN",Z.session)),this._returnResult({data:Object.assign({},Z),error:ie})}catch(Z){if(Ne(Z))return this._returnResult({data:{user:null,session:null},error:Z});throw Z}}async _exchangeCodeForSession(n){const i=await Hi(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(i??"").split("/");try{if(!s&&this.flowType==="pkce")throw new c_;const{data:d,error:m}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:s},xform:fa});if(await cn(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!d||!d.session||!d.user){const y=new Gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:m})}catch(d){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:s,token:u,access_token:d,nonce:m}=n,y=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:d,nonce:m,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:fa}),{data:g,error:x}=y;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g||!g.session||!g.user){const S=new Gs;return this._returnResult({data:{user:null,session:null},error:S})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:x})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,s,u,d,m;try{if("email"in n){const{email:y,options:g}=n;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Ys(this.storage,this.storageKey));const{error:j}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:S},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in n){const{phone:y,options:g}=n,{data:x,error:S}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(m=g?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:S})}throw new nc("You must provide either an email or phone number.")}catch(y){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var i,s;try{let u,d;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(s=n.options)===null||s===void 0?void 0:s.captchaToken);const{data:m,error:y}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:fa});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const g=m.session,x=m.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:x,session:g},error:null})}catch(u){if(Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,s,u,d,m;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Ys(this.storage,this.storageKey));const x=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(s=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:U_});return!((d=x.data)===null||d===void 0)&&d.url&&dn()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(y){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)throw s;if(!i)throw new $n;const{error:u}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(Ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:s,type:u,options:d}=n,{error:m}=await Le(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:s,type:u,options:d}=n,{data:m,error:y}=await Le(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new nc("You must provide either an email or phone number and a type")}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const s=n.expires_at?n.expires_at*1e3-Date.now()<Bf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",n.expires_at),!s){if(this.userStorage){const m=await Hi(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Pf()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=C_(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ai}):await this._useSession(async i=>{var s,u,d;const{data:m,error:y}=i;if(y)throw y;return!(!((s=m.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:ai})})}catch(i){if(Ne(i))return $f(i)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async s=>{const{data:u,error:d}=s;if(d)throw d;if(!u.session)throw new $n;const m=u.session;let y=null,g=null;this.flowType==="pkce"&&n.email!=null&&([y,g]=await Ys(this.storage,this.storageKey));const{data:x,error:S}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:g}),jwt:m.access_token,xform:ai});if(S)throw S;return m.user=x.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(s){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new $n;const i=Date.now()/1e3;let s=i,u=!0,d=null;const{payload:m}=rc(n.access_token);if(m.exp&&(s=m.exp,u=s<=i),u){const{data:y,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};d=y}else{const{data:y,error:g}=await this._getUser(n.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});d={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(Ne(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var s;if(!n){const{data:m,error:y}=i;if(y)throw y;n=(s=m.session)!==null&&s!==void 0?s:void 0}if(!n?.refresh_token)throw new $n;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!dn())throw new ac("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ac(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new nv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ac("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new nv("No code detected.");const{data:G,error:te}=await this._exchangeCodeForSession(n.code);if(te)throw te;const he=new URL(window.location.href);return he.searchParams.delete("code"),window.history.replaceState(window.history.state,"",he.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:d,refresh_token:m,expires_in:y,expires_at:g,token_type:x}=n;if(!d||!y||!m||!x)throw new ac("No session defined in URL");const S=Math.round(Date.now()/1e3),j=parseInt(y);let N=S+j;g&&(N=parseInt(g));const A=N-S;A*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${j}s`);const P=N-j;S-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,N,S):S-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,N,S);const{data:X,error:Z}=await this._getUser(d);if(Z)throw Z;const ie={provider_token:s,provider_refresh_token:u,access_token:d,expires_in:j,expires_at:N,refresh_token:m,token_type:x,user:X.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ie,redirectType:n.type},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:u,error:d}=i;if(d&&!$f(d))return this._returnResult({error:d});const m=(s=u.session)===null||s===void 0?void 0:s.access_token;if(m){const{error:y}=await this.admin.signOut(m,n);if(y&&!(o_(y)&&(y.status===404||y.status===401||y.status===403)||$f(y)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=v_(),s={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(n){return await this._useSession(async i=>{var s,u;try{const{data:{session:d},error:m}=i;if(m)throw m;await((s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ys(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:s,error:u}=await this._useSession(async d=>{var m,y,g,x,S;const{data:j,error:N}=d;if(N)throw N;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",A,{headers:this.headers,jwt:(S=(x=j.session)===null||x===void 0?void 0:x.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return dn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:n.provider,url:s?.url},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{provider:n.provider,url:null},error:s});throw s}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var s;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:m,provider:y,token:g,access_token:x,nonce:S}=n,j=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=d?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:y,id_token:g,access_token:x,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:fa}),{data:N,error:A}=j;return A?this._returnResult({data:{user:null,session:null},error:A}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Gs}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:A}))}catch(u){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var s,u;const{data:d,error:m}=i;if(m)throw m;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await w_(async u=>(u>0&&await x_(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:fa})),(u,d)=>{const m=200*Math.pow(2,u);return d&&Hf(d)&&Date.now()+m-s<Js})}catch(s){if(this._debug(i,"error",s),Ne(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",s),dn()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:n,url:s},error:null}}async _recoverAndRefresh(){var n,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Hi(this.storage,this.storageKey);if(u&&this.userStorage){let m=await Hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:u.user},await Fs(this.userStorage,this.storageKey+"-user",m)),u.user=(n=m?.user)!==null&&n!==void 0?n:Pf()}else if(u&&!u.user&&!u.user){const m=await Hi(this.storage,this.storageKey+"-user");m&&m?.user?(u.user=m.user,await cn(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,u)):u.user=Pf()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Bf;if(this._debug(s,`session has${d?"":" not"} expired with margin of ${Bf}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:m}=await this._callRefreshToken(u.refresh_token);m&&(console.error(m),Hf(m)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(u.access_token);!y&&m?.user?(u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(s,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var i,s;if(!n)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ac;const{data:d,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!d.session)throw new $n;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const y={data:d.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(d){if(this._debug(u,"error",d),Ne(d)){const m={data:null,error:d};return Hf(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(m),m}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,s=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,i)}catch(g){d.push(g)}});if(await Promise.all(m),d.length>0){for(let y=0;y<d.length;y+=1)console.error(d[y]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await cn(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=lv(u);await Fs(this.storage,this.storageKey,d)}else{const u=lv(i);await Fs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-n)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Js}ms, refresh threshold is ${th} ticks`),u<=th&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof hg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,s){const u=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[d,m]=await Ys(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(m)}`});u.push(y.toString())}if(s?.queryParams){const d=new URLSearchParams(s.queryParams);u.push(d.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var s;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await Le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var s,u;const{data:d,error:m}=i;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:x}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(s=d?.session)===null||s===void 0?void 0:s.access_token});return x?this._returnResult({data:null,error:x}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?J_(n.webauthn.credential_response):F_(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:g}=await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var s;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const m=await Le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:Q_(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:W_(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:s}=await this._challenge({factorId:n.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,s,u,d;if(n)try{const{payload:A}=rc(n);let P=null;A.aal&&(P=A.aal);let X=P;const{data:{user:Z},error:ie}=await this.getUser(n);if(ie)return this._returnResult({data:null,error:ie});((s=(i=Z?.factors)===null||i===void 0?void 0:i.filter(he=>he.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(X="aal2");const te=A.amr||[];return{data:{currentLevel:P,nextLevel:X,currentAuthenticationMethods:te},error:null}}catch(A){if(Ne(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:m},error:y}=await this.getSession();if(y)return this._returnResult({data:null,error:y});if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=rc(m.access_token);let x=null;g.aal&&(x=g.aal);let S=x;((d=(u=m.user.factors)===null||u===void 0?void 0:u.filter(A=>A.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(S="aal2");const N=g.amr||[];return{data:{currentLevel:x,nextLevel:S,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:s},error:u}=i;return u?this._returnResult({data:null,error:u}):s?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:s.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new $n})})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:u},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new $n});const m=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&dn()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(s){if(Ne(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(n,i){try{return await this._useSession(async s=>{const{data:{session:u},error:d}=s;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new $n});const m=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&dn()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(s){if(Ne(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new $n})})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:s},error:u}=i;return u?this._returnResult({data:null,error:u}):s?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $n})})}catch(i){if(Ne(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let s=i.keys.find(y=>y.kid===n);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(y=>y.kid===n),s&&this.jwks_cached_at+s_>u)return s;const{data:d,error:m}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,s=d.keys.find(y=>y.kid===n),!s)?null:s}async getClaims(n,i={}){try{let s=n;if(!s){const{data:A,error:P}=await this.getSession();if(P||!A.session)return this._returnResult({data:null,error:P});s=A.session.access_token}const{header:u,payload:d,signature:m,raw:{header:y,payload:g}}=rc(s);i?.allowExpired||O_(d.exp);const x=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!x){const{error:A}=await this.getUser(s);if(A)throw A;return{data:{claims:d,header:u,signature:m},error:null}}const S=N_(u.alg),j=await crypto.subtle.importKey("jwk",x,S,!0,["verify"]);if(!await crypto.subtle.verify(S,j,m,p_(`${y}.${g}`)))throw new rh("Invalid JWT signature");return{data:{claims:d,header:u,signature:m},error:null}}catch(s){if(Ne(s))return this._returnResult({data:null,error:s});throw s}}}Oo.nextInstanceID={};const l1=Oo,o1="2.95.3";let bo="";typeof Deno<"u"?bo="deno":typeof document<"u"?bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bo="react-native":bo="node";const u1={"X-Client-Info":`supabase-js-${bo}/${o1}`},c1={headers:u1},d1={schema:"public"},f1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h1={};function No(r){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},No(r)}function m1(r,n){if(No(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(No(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function p1(r){var n=m1(r,"string");return No(n)=="symbol"?n:n+""}function y1(r,n,i){return(n=p1(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function mv(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,s)}return i}function Rt(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?mv(Object(i),!0).forEach(function(s){y1(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):mv(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}const v1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),g1=()=>Headers,b1=(r,n,i)=>{const s=v1(i),u=g1();return async(d,m)=>{var y;const g=(y=await n())!==null&&y!==void 0?y:r;let x=new u(m?.headers);return x.has("apikey")||x.set("apikey",r),x.has("Authorization")||x.set("Authorization",`Bearer ${g}`),s(d,Rt(Rt({},m),{},{headers:x}))}};function x1(r){return r.endsWith("/")?r:r+"/"}function w1(r,n){var i,s;const{db:u,auth:d,realtime:m,global:y}=r,{db:g,auth:x,realtime:S,global:j}=n,N={db:Rt(Rt({},g),u),auth:Rt(Rt({},x),d),realtime:Rt(Rt({},S),m),storage:{},global:Rt(Rt(Rt({},j),y),{},{headers:Rt(Rt({},(i=j?.headers)!==null&&i!==void 0?i:{}),(s=y?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?N.accessToken=r.accessToken:delete N.accessToken,N}function _1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var S1=class extends l1{constructor(r){super(r)}},E1=class{constructor(r,n,i){var s,u;this.supabaseUrl=r,this.supabaseKey=n;const d=_1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const m=`sb-${d.hostname.split(".")[0]}-auth-token`,y={db:d1,realtime:h1,auth:Rt(Rt({},f1),{},{storageKey:m}),global:c1},g=w1(i??{},y);if(this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(S,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=g.auth)!==null&&x!==void 0?x:{},this.headers,g.global.fetch)}this.fetch=b1(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new ow(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new t_(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new ew(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:s}=await r.auth.getSession();return(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:u,storageKey:d,flowType:m,lock:y,debug:g,throwOnError:x},S,j){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S1({url:this.authUrl.href,headers:Rt(Rt({},N),S),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:u,flowType:m,lock:y,debug:g,throwOnError:x,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new jw(this.realtimeUrl.href,Rt(Rt({},r),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const j1=(r,n,i)=>new E1(r,n,i);function k1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}k1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const T1="https://uzkgrywvntdvfznbzydv.supabase.co",O1="sb_publishable_WSUDdU7NLCftdEhrKiFPqQ_9JrD0djr",ct=j1(T1,O1);var vc={exports:{}},N1=vc.exports,pv;function A1(){return pv||(pv=1,(function(r,n){((i,s)=>{r.exports=s()})(N1,function(){var i=function(o,h){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(v,b){v.__proto__=b}:function(v,b){for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(v[_]=b[_])}))(o,h)},s=function(){return(s=Object.assign||function(o){for(var h,v=1,b=arguments.length;v<b;v++)for(var _ in h=arguments[v])Object.prototype.hasOwnProperty.call(h,_)&&(o[_]=h[_]);return o}).apply(this,arguments)};function u(o,h,v){for(var b,_=0,E=h.length;_<E;_++)!b&&_ in h||((b=b||Array.prototype.slice.call(h,0,_))[_]=h[_]);return o.concat(b||Array.prototype.slice.call(h))}var d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:s0,m=Object.keys,y=Array.isArray;function g(o,h){return typeof h=="object"&&m(h).forEach(function(v){o[v]=h[v]}),o}typeof Promise>"u"||d.Promise||(d.Promise=Promise);var x=Object.getPrototypeOf,S={}.hasOwnProperty;function j(o,h){return S.call(o,h)}function N(o,h){typeof h=="function"&&(h=h(x(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(h).forEach(function(v){P(o,v,h[v])})}var A=Object.defineProperty;function P(o,h,v,b){A(o,h,g(v&&j(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},b))}function X(o){return{from:function(h){return o.prototype=Object.create(h.prototype),P(o.prototype,"constructor",o),{extend:N.bind(null,o.prototype)}}}}var Z=Object.getOwnPropertyDescriptor,ie=[].slice;function G(o,h,v){return ie.call(o,h,v)}function te(o,h){return h(o)}function he(o){if(!o)throw new Error("Assertion Failed")}function Me(o){d.setImmediate?setImmediate(o):setTimeout(o,0)}function Se(o,h){if(typeof h=="string"&&j(o,h))return o[h];if(!h)return o;if(typeof h!="string"){for(var v=[],b=0,_=h.length;b<_;++b){var E=Se(o,h[b]);v.push(E)}return v}var T,O=h.indexOf(".");return O===-1||(T=o[h.substr(0,O)])==null?void 0:Se(T,h.substr(O+1))}function se(o,h,v){if(o&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof h!="string"&&"length"in h){he(typeof v!="string"&&"length"in v);for(var b=0,_=h.length;b<_;++b)se(o,h[b],v[b])}else{var E,T,O=h.indexOf(".");O!==-1?(E=h.substr(0,O),(O=h.substr(O+1))===""?v===void 0?y(o)&&!isNaN(parseInt(E))?o.splice(E,1):delete o[E]:o[E]=v:se(T=(T=o[E])&&j(o,E)?T:o[E]={},O,v)):v===void 0?y(o)&&!isNaN(parseInt(h))?o.splice(h,1):delete o[h]:o[h]=v}}function ze(o){var h,v={};for(h in o)j(o,h)&&(v[h]=o[h]);return v}var Xe=[].concat;function Dt(o){return Xe.apply([],o)}var le="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Dt([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(h){return h+o+"Array"})}))).filter(function(o){return d[o]}),Mt=new Set(le.map(function(o){return d[o]})),$t=null;function bn(o){return $t=new WeakMap,o=(function h(v){if(!v||typeof v!="object")return v;var b=$t.get(v);if(b)return b;if(y(v)){b=[],$t.set(v,b);for(var _=0,E=v.length;_<E;++_)b.push(h(v[_]))}else if(Mt.has(v.constructor))b=v;else{var T,O=x(v);for(T in b=O===Object.prototype?{}:Object.create(O),$t.set(v,b),v)j(v,T)&&(b[T]=h(v[T]))}return b})(o),$t=null,o}var ra={}.toString;function xn(o){return ra.call(o).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof ne=="symbol"?function(o){var h;return o!=null&&(h=o[ne])&&h.apply(o)}:function(){return null};function Ce(o,h){h=o.indexOf(h),0<=h&&o.splice(h,1)}var tt={};function Qe(o){var h,v,b,_;if(arguments.length===1){if(y(o))return o.slice();if(this===tt&&typeof o=="string")return[o];if(_=ge(o))for(v=[];!(b=_.next()).done;)v.push(b.value);else{if(o==null)return[o];if(typeof(h=o.length)!="number")return[o];for(v=new Array(h);h--;)v[h]=o[h]}}else for(h=arguments.length,v=new Array(h);h--;)v[h]=arguments[h];return v}var H=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},le=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],hn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(le),be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ee(o,h){this.name=o,this.message=h}function $e(o,h){return o+". Errors: "+Object.keys(h).map(function(v){return h[v].toString()}).filter(function(v,b,_){return _.indexOf(v)===b}).join(`
`)}function Ke(o,h,v,b){this.failures=h,this.failedKeys=b,this.successCount=v,this.message=$e(o,h)}function We(o,h){this.name="BulkError",this.failures=Object.keys(h).map(function(v){return h[v]}),this.failuresByPos=h,this.message=$e(o,this.failures)}X(Ee).from(Error).extend({toString:function(){return this.name+": "+this.message}}),X(Ke).from(Ee),X(We).from(Ee);var It=hn.reduce(function(o,h){return o[h]=h+"Error",o},{}),Nt=Ee,Oe=hn.reduce(function(o,h){var v=h+"Error";function b(_,E){this.name=v,_?typeof _=="string"?(this.message="".concat(_).concat(E?`
 `+E:""),this.inner=E||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=be[h]||v,this.inner=null)}return X(b).from(Nt),o[h]=b,o},{}),ri=(Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError,le.reduce(function(o,h){return o[h+"Error"]=Oe[h],o},{}));le=hn.reduce(function(o,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(o[h+"Error"]=Oe[h]),o},{});function rt(){}function vr(o){return o}function Ma(o,h){return o==null||o===vr?h:function(v){return h(o(v))}}function ia(o,h){return function(){o.apply(this,arguments),h.apply(this,arguments)}}function ul(o,h){return o===rt?h:function(){var v=o.apply(this,arguments),b=(v!==void 0&&(arguments[0]=v),this.onsuccess),_=this.onerror,E=(this.onsuccess=null,this.onerror=null,h.apply(this,arguments));return b&&(this.onsuccess=this.onsuccess?ia(b,this.onsuccess):b),_&&(this.onerror=this.onerror?ia(_,this.onerror):_),E!==void 0?E:v}}function Rc(o,h){return o===rt?h:function(){o.apply(this,arguments);var v=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?ia(v,this.onsuccess):v),b&&(this.onerror=this.onerror?ia(b,this.onerror):b)}}function zo(o,h){return o===rt?h:function(_){var b=o.apply(this,arguments),_=(g(_,b),this.onsuccess),E=this.onerror,T=(this.onsuccess=null,this.onerror=null,h.apply(this,arguments));return _&&(this.onsuccess=this.onsuccess?ia(_,this.onsuccess):_),E&&(this.onerror=this.onerror?ia(E,this.onerror):E),b===void 0?T===void 0?void 0:T:g(b,T)}}function cl(o,h){return o===rt?h:function(){return h.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ii(o,h){return o===rt?h:function(){var v=o.apply(this,arguments);if(v&&typeof v.then=="function"){for(var b=this,_=arguments.length,E=new Array(_);_--;)E[_]=arguments[_];return v.then(function(){return h.apply(b,E)})}return h.apply(this,arguments)}}le.ModifyError=Ke,le.DexieError=Ee,le.BulkError=We;var En=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Lo(o){En=o}var si={},fn=100,li=typeof Promise>"u"?[]:(hn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[li=crypto.subtle.digest("SHA-512",new Uint8Array([0])),x(li),hn]:[hn,x(hn),hn]),hn=li[0],Xa=li[1],Xa=Xa&&Xa.then,va=hn&&hn.constructor,gr=!!li[2],oi=function(o,h){ui.push([o,h]),Wi&&(queueMicrotask(qo),Wi=!1)},Qi=!0,Wi=!0,Ua=[],ga=[],nn=vr,an={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rt,pgp:!1,env:{},finalize:rt},xe=an,ui=[],za=0,Ji=[];function ye(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=xe;if(typeof o!="function"){if(o!==si)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&sa(this,this._value)}else this._state=null,this._value=null,++h.ref,(function v(b,_){try{_(function(E){if(b._state===null){if(E===b)throw new TypeError("A promise cannot be resolved with itself.");var T=b._lib&&ba();E&&typeof E.then=="function"?v(b,function(O,M){E instanceof ye?E._then(O,M):E.then(O,M)}):(b._state=!0,b._value=E,di(b)),T&&Gn()}},sa.bind(null,b))}catch(E){sa(b,E)}})(this,o)}var br={get:function(){var o=xe,h=mi;function v(b,_){var E=this,T=!o.global&&(o!==xe||h!==mi),O=T&&!wn(),M=new ye(function(Y,U){La(E,new ci(Fi(b,o,T,O),Fi(_,o,T,O),Y,U,o))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return v.prototype=si,v},set:function(o){P(this,"then",o&&o.prototype===si?br:{get:function(){return o},set:br.set})}};function ci(o,h,v,b,_){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof h=="function"?h:null,this.resolve=v,this.reject=b,this.psd=_}function sa(o,h){var v,b;ga.push(h),o._state===null&&(v=o._lib&&ba(),h=nn(h),o._state=!1,o._value=h,b=o,Ua.some(function(_){return _._value===b._value})||Ua.push(b),di(o),v)&&Gn()}function di(o){var h=o._listeners;o._listeners=[];for(var v=0,b=h.length;v<b;++v)La(o,h[v]);var _=o._PSD;--_.ref||_.finalize(),za===0&&(++za,oi(function(){--za==0&&dl()},[]))}function La(o,h){if(o._state===null)o._listeners.push(h);else{var v=o._state?h.onFulfilled:h.onRejected;if(v===null)return(o._state?h.resolve:h.reject)(o._value);++h.psd.ref,++za,oi(Dc,[v,o,h])}}function Dc(o,h,v){try{var b,_=h._value;!h._state&&ga.length&&(ga=[]),b=En&&h._consoleTask?h._consoleTask.run(function(){return o(_)}):o(_),h._state||ga.indexOf(_)!==-1||(E=>{for(var T=Ua.length;T;)if(Ua[--T]._value===E._value)return Ua.splice(T,1)})(h),v.resolve(b)}catch(E){v.reject(E)}finally{--za==0&&dl(),--v.psd.ref||v.psd.finalize()}}function qo(){Cn(an,function(){ba()&&Gn()})}function ba(){var o=Qi;return Wi=Qi=!1,o}function Gn(){var o,h,v;do for(;0<ui.length;)for(o=ui,ui=[],v=o.length,h=0;h<v;++h){var b=o[h];b[0].apply(null,b[1])}while(0<ui.length);Wi=Qi=!0}function dl(){for(var o=Ua,h=(Ua=[],o.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)}),Ji.slice(0)),v=h.length;v;)h[--v]()}function fi(o){return new ye(si,!1,o)}function bt(o,h){var v=xe;return function(){var b=ba(),_=xe;try{return wa(v,!0),o.apply(this,arguments)}catch(E){h&&h(E)}finally{wa(_,!1),b&&Gn()}}}N(ye.prototype,{then:br,_then:function(o,h){La(this,new ci(null,null,o,h,xe))},catch:function(o){var h,v;return arguments.length===1?this.then(null,o):(h=o,v=arguments[1],typeof h=="function"?this.then(null,function(b){return(b instanceof h?v:fi)(b)}):this.then(null,function(b){return(b&&b.name===h?v:fi)(b)}))},finally:function(o){return this.then(function(h){return ye.resolve(o()).then(function(){return h})},function(h){return ye.resolve(o()).then(function(){return fi(h)})})},timeout:function(o,h){var v=this;return o<1/0?new ye(function(b,_){var E=setTimeout(function(){return _(new Oe.Timeout(h))},o);v.then(b,_).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&P(ye.prototype,Symbol.toStringTag,"Dexie.Promise"),an.env=hl(),N(ye,{all:function(){var o=Qe.apply(null,arguments).map(wr);return new ye(function(h,v){o.length===0&&h([]);var b=o.length;o.forEach(function(_,E){return ye.resolve(_).then(function(T){o[E]=T,--b||h(o)},v)})})},resolve:function(o){return o instanceof ye?o:o&&typeof o.then=="function"?new ye(function(h,v){o.then(h,v)}):new ye(si,!0,o)},reject:fi,race:function(){var o=Qe.apply(null,arguments).map(wr);return new ye(function(h,v){o.map(function(b){return ye.resolve(b).then(h,v)})})},PSD:{get:function(){return xe},set:function(o){return xe=o}},totalEchoes:{get:function(){return mi}},newPSD:wt,usePSD:Cn,scheduler:{get:function(){return oi},set:function(o){oi=o}},rejectionMapper:{get:function(){return nn},set:function(o){nn=o}},follow:function(o,h){return new ye(function(v,b){return wt(function(_,E){var T=xe;T.unhandleds=[],T.onunhandled=E,T.finalize=ia(function(){var O,M=this;O=function(){M.unhandleds.length===0?_():E(M.unhandleds[0])},Ji.push(function Y(){O(),Ji.splice(Ji.indexOf(Y),1)}),++za,oi(function(){--za==0&&dl()},[])},T.finalize),o()},h,v,b)})}}),va&&(va.allSettled&&P(ye,"allSettled",function(){var o=Qe.apply(null,arguments).map(wr);return new ye(function(h){o.length===0&&h([]);var v=o.length,b=new Array(v);o.forEach(function(_,E){return ye.resolve(_).then(function(T){return b[E]={status:"fulfilled",value:T}},function(T){return b[E]={status:"rejected",reason:T}}).then(function(){return--v||h(b)})})})}),va.any&&typeof AggregateError<"u"&&P(ye,"any",function(){var o=Qe.apply(null,arguments).map(wr);return new ye(function(h,v){o.length===0&&v(new AggregateError([]));var b=o.length,_=new Array(b);o.forEach(function(E,T){return ye.resolve(E).then(function(O){return h(O)},function(O){_[T]=O,--b||v(new AggregateError(_))})})})}),va.withResolvers)&&(ye.withResolvers=va.withResolvers);var Ut={awaits:0,echoes:0,id:0},fl=0,xr=[],hi=0,mi=0,xa=0;function wt(o,T,v,b){var _=xe,E=Object.create(_),T=(E.parent=_,E.ref=0,E.global=!1,E.id=++xa,an.env,E.env=gr?{Promise:ye,PromiseProp:{value:ye,configurable:!0,writable:!0},all:ye.all,race:ye.race,allSettled:ye.allSettled,any:ye.any,resolve:ye.resolve,reject:ye.reject}:{},T&&g(E,T),++_.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},Cn(E,o,v,b));return E.ref===0&&E.finalize(),T}function zt(){return Ut.id||(Ut.id=++fl),++Ut.awaits,Ut.echoes+=fn,Ut.id}function wn(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*fn,!0)}function wr(o){return Ut.echoes&&o&&o.constructor===va?(zt(),o.then(function(h){return wn(),h},function(h){return wn(),mt(h)})):o}function Mc(){var o=xr[xr.length-1];xr.pop(),wa(o,!1)}function wa(o,h){var v,b,_=xe;(h?!Ut.echoes||hi++&&o===xe:!hi||--hi&&o===xe)||queueMicrotask(h?(function(E){++mi,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),xr.push(xe),wa(E,!0)}).bind(null,o):Mc),o!==xe&&(xe=o,_===an&&(an.env=hl()),gr)&&(v=an.env.Promise,b=o.env,_.global||o.global)&&(Object.defineProperty(d,"Promise",b.PromiseProp),v.all=b.all,v.race=b.race,v.resolve=b.resolve,v.reject=b.reject,b.allSettled&&(v.allSettled=b.allSettled),b.any)&&(v.any=b.any)}function hl(){var o=d.Promise;return gr?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function Cn(o,h,v,b,_){var E=xe;try{return wa(o,!0),h(v,b,_)}finally{wa(E,!1)}}function Fi(o,h,v,b){return typeof o!="function"?o:function(){var _=xe;v&&zt(),wa(h,!0);try{return o.apply(this,arguments)}finally{wa(_,!1),b&&queueMicrotask(wn)}}}function _a(o){Promise===va&&Ut.echoes===0?hi===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Xa).indexOf("[native code]")===-1&&(zt=wn=rt);var mt=ye.reject,Rn="",mn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Lt="String expected.",qa=[],pi="__dbnames",la="readonly",Sa="readwrite";function Ba(o,h){return o?h?function(){return o.apply(this,arguments)&&h.apply(this,arguments)}:o:h}var ml={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yi(o){return typeof o!="string"||/\./.test(o)?function(h){return h}:function(h){return h[o]===void 0&&o in h&&delete(h=bn(h))[o],h}}function Bo(){throw Oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ve(o,h){try{var v=vi(o),b=vi(h);if(v!==b)return v==="Array"?1:b==="Array"?-1:v==="binary"?1:b==="binary"?-1:v==="string"?1:b==="string"?-1:v==="Date"?1:b!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return h<o?1:o<h?-1:0;case"binary":for(var _=Yn(o),E=Yn(h),T=_.length,O=E.length,M=T<O?T:O,Y=0;Y<M;++Y)if(_[Y]!==E[Y])return _[Y]<E[Y]?-1:1;return T===O?0:T<O?-1:1;case"Array":for(var U=o,D=h,q=U.length,$=D.length,z=q<$?q:$,L=0;L<z;++L){var I=Ve(U[L],D[L]);if(I!==0)return I}return q===$?0:q<$?-1:1}}catch{}return NaN}function vi(o){var h=typeof o;return h=="object"&&(ArrayBuffer.isView(o)||(h=xn(o))==="ArrayBuffer")?"binary":h}function Yn(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function rn(o,h,v){var b=o.schema.yProps;return b?(h&&0<v.numFailures&&(h=h.filter(function(_,E){return!v.failures[E]})),Promise.all(b.map(function(_){return _=_.updatesTable,h?o.db.table(_).where("k").anyOf(h).delete():o.db.table(_).clear()})).then(function(){return v})):v}$o.prototype.execute=function(o){var h=this["@@propmod"];if(h.add!==void 0){var v=h.add;if(y(v))return u(u([],y(o)?o:[],!0),v).sort();if(typeof v=="number")return(Number(o)||0)+v;if(typeof v=="bigint")try{return BigInt(o)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(h.remove!==void 0){var b=h.remove;if(y(b))return y(o)?o.filter(function(_){return!b.includes(_)}).sort():[];if(typeof b=="number")return Number(o)-b;if(typeof b=="bigint")try{return BigInt(o)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return v=(v=h.replacePrefix)==null?void 0:v[0],v&&typeof o=="string"&&o.startsWith(v)?h.replacePrefix[1]+o.substring(v.length):o};var _r=$o;function $o(o){this["@@propmod"]=o}function Zi(o,h){for(var v=m(h),b=v.length,_=!1,E=0;E<b;++E){var T=v[E],O=h[T],M=Se(o,T);O instanceof _r?(se(o,T,O.execute(M)),_=!0):M!==O&&(se(o,T,O),_=!0)}return _}lt.prototype._trans=function(o,h,v){var b=this._tx||xe.trans,_=this.name,E=En&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function T(Y,U,D){if(D.schema[_])return h(D.idbtrans,D);throw new Oe.NotFound("Table "+_+" not part of transaction")}var O=ba();try{var M=b&&b.db._novip===this.db._novip?b===xe.trans?b._promise(o,T,v):wt(function(){return b._promise(o,T,v)},{trans:b,transless:xe.transless||xe}):(function Y(U,D,q,$){if(U.idbdb&&(U._state.openComplete||xe.letThrough||U._vip)){var z=U._createTransaction(D,q,U._dbSchema);try{z.create(),U._state.PR1398_maxLoop=3}catch(L){return L.name===It.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return Y(U,D,q,$)})):mt(L)}return z._promise(D,function(L,I){return wt(function(){return xe.trans=z,$(L,I,z)})}).then(function(L){if(D==="readwrite")try{z.idbtrans.commit()}catch{}return D==="readonly"?L:z._completion.then(function(){return L})})}if(U._state.openComplete)return mt(new Oe.DatabaseClosed(U._state.dbOpenError));if(!U._state.isBeingOpened){if(!U._state.autoOpen)return mt(new Oe.DatabaseClosed);U.open().catch(rt)}return U._state.dbReadyPromise.then(function(){return Y(U,D,q,$)})})(this.db,o,[this.name],T);return E&&(M._consoleTask=E,M=M.catch(function(Y){return console.trace(Y),mt(Y)})),M}finally{O&&Gn()}},lt.prototype.get=function(o,h){var v=this;return o&&o.constructor===Object?this.where(o).first(h):o==null?mt(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return v.core.get({trans:b,key:o}).then(function(_){return v.hook.reading.fire(_)})}).then(h)},lt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(y(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var h=m(o);if(h.length===1)return this.where(h[0]).equals(o[h[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&h.every(function(Y){return 0<=O.keyPath.indexOf(Y)})){for(var M=0;M<h.length;++M)if(h.indexOf(O.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(O,M){return O.keyPath.length-M.keyPath.length})[0];if(v&&this.db._maxKey!==Rn)return T=v.keyPath.slice(0,h.length),this.where(T).equals(T.map(function(O){return o[O]}));!v&&En&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var b=this.schema.idxByName;function _(O,M){return Ve(O,M)===0}var T=h.reduce(function(U,M){var Y=U[0],U=U[1],D=b[M],q=o[M];return[Y||D,Y||!D?Ba(U,D&&D.multi?function($){return $=Se($,M),y($)&&$.some(function(z){return _(q,z)})}:function($){return _(q,Se($,M))}):U]},[null,null]),E=T[0],T=T[1];return E?this.where(E.name).equals(o[E.keyPath]).filter(T):v?this.filter(T):this.where(h).equals("")},lt.prototype.filter=function(o){return this.toCollection().and(o)},lt.prototype.count=function(o){return this.toCollection().count(o)},lt.prototype.offset=function(o){return this.toCollection().offset(o)},lt.prototype.limit=function(o){return this.toCollection().limit(o)},lt.prototype.each=function(o){return this.toCollection().each(o)},lt.prototype.toArray=function(o){return this.toCollection().toArray(o)},lt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},lt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,y(o)?"[".concat(o.join("+"),"]"):o))},lt.prototype.reverse=function(){return this.toCollection().reverse()},lt.prototype.mapToClass=function(o){for(var h=this.db,v=this.name,b=((this.schema.mappedClass=o).prototype instanceof Bo&&(o=(T=>{var O=U,M=T;if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function Y(){this.constructor=O}function U(){return T!==null&&T.apply(this,arguments)||this}return i(O,M),O.prototype=M===null?Object.create(M):(Y.prototype=M.prototype,new Y),Object.defineProperty(U.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),U.prototype.table=function(){return v},U})(o)),new Set),_=o.prototype;_;_=x(_))Object.getOwnPropertyNames(_).forEach(function(T){return b.add(T)});function E(T){if(!T)return T;var O,M=Object.create(o.prototype);for(O in T)if(!b.has(O))try{M[O]=T[O]}catch{}return M}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=E,this.hook("reading",E),o},lt.prototype.defineClass=function(){return this.mapToClass(function(o){g(this,o)})},lt.prototype.add=function(o,h){var v=this,b=this.schema.primKey,_=b.auto,E=b.keyPath,T=o;return E&&_&&(T=yi(E)(o)),this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"add",keys:h!=null?[h]:null,values:[T]})}).then(function(O){return O.numFailures?ye.reject(O.failures[0]):O.lastResult}).then(function(O){if(E)try{se(o,E,O)}catch{}return O})},lt.prototype.upsert=function(o,h){var v=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(_){return v.core.get({trans:_,key:o}).then(function(E){var T=E??{};return Zi(T,h),b&&se(T,b,o),v.core.mutate({trans:_,type:"put",values:[T],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[h]}}).then(function(O){return O.numFailures?ye.reject(O.failures[0]):!!E})})})},lt.prototype.update=function(o,h){return typeof o!="object"||y(o)?this.where(":id").equals(o).modify(h):(o=Se(o,this.schema.primKey.keyPath))===void 0?mt(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(h)},lt.prototype.put=function(o,h){var v=this,b=this.schema.primKey,_=b.auto,E=b.keyPath,T=o;return E&&_&&(T=yi(E)(o)),this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"put",values:[T],keys:h!=null?[h]:null})}).then(function(O){return O.numFailures?ye.reject(O.failures[0]):O.lastResult}).then(function(O){if(E)try{se(o,E,O)}catch{}return O})},lt.prototype.delete=function(o){var h=this;return this._trans("readwrite",function(v){return h.core.mutate({trans:v,type:"delete",keys:[o]}).then(function(b){return rn(h,[o],b)}).then(function(b){return b.numFailures?ye.reject(b.failures[0]):void 0})})},lt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(h){return o.core.mutate({trans:h,type:"deleteRange",range:ml}).then(function(v){return rn(o,null,v)})}).then(function(h){return h.numFailures?ye.reject(h.failures[0]):void 0})},lt.prototype.bulkGet=function(o){var h=this;return this._trans("readonly",function(v){return h.core.getMany({keys:o,trans:v}).then(function(b){return b.map(function(_){return h.hook.reading.fire(_)})})})},lt.prototype.bulkAdd=function(o,h,v){var b=this,_=Array.isArray(h)?h:void 0,E=(v=v||(_?void 0:h))?v.allKeys:void 0;return this._trans("readwrite",function(T){var O=b.schema.primKey,Y=O.auto,O=O.keyPath;if(O&&_)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==o.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,Y=O&&Y?o.map(yi(O)):o;return b.core.mutate({trans:T,type:"add",keys:_,values:Y,wantResults:E}).then(function(U){var D=U.numFailures,q=U.failures;if(D===0)return E?U.results:U.lastResult;throw new We("".concat(b.name,".bulkAdd(): ").concat(D," of ").concat(M," operations failed"),q)})})},lt.prototype.bulkPut=function(o,h,v){var b=this,_=Array.isArray(h)?h:void 0,E=(v=v||(_?void 0:h))?v.allKeys:void 0;return this._trans("readwrite",function(T){var O=b.schema.primKey,Y=O.auto,O=O.keyPath;if(O&&_)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==o.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var M=o.length,Y=O&&Y?o.map(yi(O)):o;return b.core.mutate({trans:T,type:"put",keys:_,values:Y,wantResults:E}).then(function(U){var D=U.numFailures,q=U.failures;if(D===0)return E?U.results:U.lastResult;throw new We("".concat(b.name,".bulkPut(): ").concat(D," of ").concat(M," operations failed"),q)})})},lt.prototype.bulkUpdate=function(o){var h=this,v=this.core,b=o.map(function(T){return T.key}),_=o.map(function(T){return T.changes}),E=[];return this._trans("readwrite",function(T){return v.getMany({trans:T,keys:b,cache:"clone"}).then(function(O){var M=[],Y=[],U=(o.forEach(function(D,q){var $=D.key,z=D.changes,L=O[q];if(L){for(var I=0,J=Object.keys(z);I<J.length;I++){var V=J[I],ae=z[V];if(V===h.schema.primKey.keyPath){if(Ve(ae,$)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else se(L,V,ae)}E.push(q),M.push($),Y.push(L)}}),M.length);return v.mutate({trans:T,type:"put",keys:M,values:Y,updates:{keys:b,changeSpecs:_}}).then(function(D){var q=D.numFailures,$=D.failures;if(q===0)return U;for(var z=0,L=Object.keys($);z<L.length;z++){var I,J=L[z],V=E[Number(J)];V!=null&&(I=$[J],delete $[J],$[V]=I)}throw new We("".concat(h.name,".bulkUpdate(): ").concat(q," of ").concat(U," operations failed"),$)})})})},lt.prototype.bulkDelete=function(o){var h=this,v=o.length;return this._trans("readwrite",function(b){return h.core.mutate({trans:b,type:"delete",keys:o}).then(function(_){return rn(h,o,_)})}).then(function(b){var _=b.numFailures,E=b.failures;if(_===0)return b.lastResult;throw new We("".concat(h.name,".bulkDelete(): ").concat(_," of ").concat(v," operations failed"),E)})};var pl=lt;function lt(){}function gi(o){function h(T,O){if(O){for(var M=arguments.length,Y=new Array(M-1);--M;)Y[M-1]=arguments[M];return v[T].subscribe.apply(null,Y),o}if(typeof T=="string")return v[T]}var v={};h.addEventType=E;for(var b=1,_=arguments.length;b<_;++b)E(arguments[b]);return h;function E(T,O,M){var Y,U;if(typeof T!="object")return O=O||cl,U={subscribers:[],fire:M=M||rt,subscribe:function(D){U.subscribers.indexOf(D)===-1&&(U.subscribers.push(D),U.fire=O(U.fire,D))},unsubscribe:function(D){U.subscribers=U.subscribers.filter(function(q){return q!==D}),U.fire=U.subscribers.reduce(O,M)}},v[T]=h[T]=U;m(Y=T).forEach(function(D){var q=Y[D];if(y(q))E(D,Y[D][0],Y[D][1]);else{if(q!=="asap")throw new Oe.InvalidArgument("Invalid event config");var $=E(D,vr,function(){for(var z=arguments.length,L=new Array(z);z--;)L[z]=arguments[z];$.subscribers.forEach(function(I){Me(function(){I.apply(null,L)})})})}})}}function Jt(o,h){return X(h).from({prototype:o}),h}function Ea(o,h){return!(o.filter||o.algorithm||o.or)&&(h?o.justLimit:!o.replayFilter)}function es(o,h){o.filter=Ba(o.filter,h)}function bi(o,h,v){var b=o.replayFilter;o.replayFilter=b?function(){return Ba(b(),h())}:h,o.justLimit=v&&!b}function oa(o,h){if(o.isPrimKey)return h.primaryKey;var v=h.getIndexByKeyPath(o.index);if(v)return v;throw new Oe.Schema("KeyPath "+o.index+" on object store "+h.name+" is not indexed")}function yl(o,h,v){var b=oa(o,h.schema);return h.openCursor({trans:v,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:b,range:o.range}})}function xi(o,h,v,b){var _,E,T=o.replayFilter?Ba(o.filter,o.replayFilter()):o.filter;return o.or?(_={},E=function(O,M,Y){var U,D;T&&!T(M,Y,function(q){return M.stop(q)},function(q){return M.fail(q)})||((D=""+(U=M.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(U)),j(_,D))||(_[D]=!0,h(O,M,Y))},Promise.all([o.or._iterate(E,v),$a(yl(o,b,v),o.algorithm,E,!o.keysOnly&&o.valueMapper)])):$a(yl(o,b,v),Ba(o.algorithm,T),h,!o.keysOnly&&o.valueMapper)}function $a(o,h,v,b){var _=bt(b?function(E,T,O){return v(b(E),T,O)}:v);return o.then(function(E){if(E)return E.start(function(){var T=function(){return E.continue()};h&&!h(E,function(O){return T=O},function(O){E.stop(O),T=rt},function(O){E.fail(O),T=rt})||_(E.value,E,function(O){return T=O}),T()})})}nt.prototype._read=function(o,h){var v=this._ctx;return v.error?v.table._trans(null,mt.bind(null,v.error)):v.table._trans("readonly",o).then(h)},nt.prototype._write=function(o){var h=this._ctx;return h.error?h.table._trans(null,mt.bind(null,h.error)):h.table._trans("readwrite",o,"locked")},nt.prototype._addAlgorithm=function(o){var h=this._ctx;h.algorithm=Ba(h.algorithm,o)},nt.prototype._iterate=function(o,h){return xi(this._ctx,o,h,this._ctx.table.core)},nt.prototype.clone=function(o){var h=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return o&&g(v,o),h._ctx=v,h},nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},nt.prototype.each=function(o){var h=this._ctx;return this._read(function(v){return xi(h,o,v,h.table.core)})},nt.prototype.count=function(o){var h=this;return this._read(function(v){var b,_=h._ctx,E=_.table.core;return Ea(_,!0)?E.count({trans:v,query:{index:oa(_,E.schema),range:_.range}}).then(function(T){return Math.min(T,_.limit)}):(b=0,xi(_,function(){return++b,!1},v,E).then(function(){return b}))}).then(o)},nt.prototype.sortBy=function(o,h){var v=o.split(".").reverse(),b=v[0],_=v.length-1;function E(M,Y){return Y?E(M[v[Y]],Y-1):M[b]}var T=this._ctx.dir==="next"?1:-1;function O(M,Y){return Ve(E(M,_),E(Y,_))*T}return this.toArray(function(M){return M.sort(O)}).then(h)},nt.prototype.toArray=function(o){var h=this;return this._read(function(v){var b,_,E,T=h._ctx;return T.dir==="next"&&Ea(T,!0)&&0<T.limit?(b=T.valueMapper,_=oa(T,T.table.core.schema),T.table.core.query({trans:v,limit:T.limit,values:!0,query:{index:_,range:T.range}}).then(function(O){return O=O.result,b?O.map(b):O})):(E=[],xi(T,function(O){return E.push(O)},v,T.table.core).then(function(){return E}))},o)},nt.prototype.offset=function(o){var h=this._ctx;return o<=0||(h.offset+=o,Ea(h)?bi(h,function(){var v=o;return function(b,_){return v===0||(v===1?--v:_(function(){b.advance(v),v=0}),!1)}}):bi(h,function(){var v=o;return function(){return--v<0}})),this},nt.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),bi(this._ctx,function(){var h=o;return function(v,b,_){return--h<=0&&b(_),0<=h}},!0),this},nt.prototype.until=function(o,h){return es(this._ctx,function(v,b,_){return!o(v.value)||(b(_),h)}),this},nt.prototype.first=function(o){return this.limit(1).toArray(function(h){return h[0]}).then(o)},nt.prototype.last=function(o){return this.reverse().first(o)},nt.prototype.filter=function(o){var h;return es(this._ctx,function(v){return o(v.value)}),(h=this._ctx).isMatch=Ba(h.isMatch,o),this},nt.prototype.and=function(o){return this.filter(o)},nt.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},nt.prototype.desc=function(){return this.reverse()},nt.prototype.eachKey=function(o){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(v,b){o(b.key,b)})},nt.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},nt.prototype.eachPrimaryKey=function(o){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(v,b){o(b.primaryKey,b)})},nt.prototype.keys=function(o){var h=this._ctx,v=(h.keysOnly=!h.isMatch,[]);return this.each(function(b,_){v.push(_.key)}).then(function(){return v}).then(o)},nt.prototype.primaryKeys=function(o){var h=this._ctx;if(h.dir==="next"&&Ea(h,!0)&&0<h.limit)return this._read(function(b){var _=oa(h,h.table.core.schema);return h.table.core.query({trans:b,values:!1,limit:h.limit,query:{index:_,range:h.range}})}).then(function(b){return b.result}).then(o);h.keysOnly=!h.isMatch;var v=[];return this.each(function(b,_){v.push(_.primaryKey)}).then(function(){return v}).then(o)},nt.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},nt.prototype.firstKey=function(o){return this.limit(1).keys(function(h){return h[0]}).then(o)},nt.prototype.lastKey=function(o){return this.reverse().firstKey(o)},nt.prototype.distinct=function(){var o,h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];return h&&h.multi&&(o={},es(this._ctx,function(b){var b=b.primaryKey.toString(),_=j(o,b);return o[b]=!0,!_})),this},nt.prototype.modify=function(o){var h=this,v=this._ctx;return this._write(function(b){function _(L,I){var J=I.failures;q+=L-I.numFailures;for(var V=0,ae=m(J);V<ae.length;V++){var ce=ae[V];D.push(J[ce])}}var E=typeof o=="function"?o:function(L){return Zi(L,o)},T=v.table.core,U=T.schema.primaryKey,O=U.outbound,M=U.extractKey,Y=200,U=h.db._options.modifyChunkSize,D=(U&&(Y=typeof U=="object"?U[T.name]||U["*"]||200:U),[]),q=0,$=[],z=o===vl;return h.clone().primaryKeys().then(function(L){function I(V){var ae=Math.min(Y,L.length-V),ce=L.slice(V,V+ae);return(z?Promise.resolve([]):T.getMany({trans:b,keys:ce,cache:"immutable"})).then(function(me){var pe=[],de=[],we=O?[]:null,ve=z?ce:[];if(!z)for(var fe=0;fe<ae;++fe){var _e=me[fe],Be={value:bn(_e),primKey:L[V+fe]};E.call(Be,Be.value,Be)!==!1&&(Be.value==null?ve.push(L[V+fe]):O||Ve(M(_e),M(Be.value))===0?(de.push(Be.value),O&&we.push(L[V+fe])):(ve.push(L[V+fe]),pe.push(Be.value)))}return Promise.resolve(0<pe.length&&T.mutate({trans:b,type:"add",values:pe}).then(function(Ie){for(var Re in Ie.failures)ve.splice(parseInt(Re),1);_(pe.length,Ie)})).then(function(){return(0<de.length||J&&typeof o=="object")&&T.mutate({trans:b,type:"put",keys:we,values:de,criteria:J,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<V}).then(function(Ie){return _(de.length,Ie)})}).then(function(){return(0<ve.length||J&&z)&&T.mutate({trans:b,type:"delete",keys:ve,criteria:J,isAdditionalChunk:0<V}).then(function(Ie){return rn(v.table,ve,Ie)}).then(function(Ie){return _(ve.length,Ie)})}).then(function(){return L.length>V+ae&&I(V+Y)})})}var J=Ea(v)&&v.limit===1/0&&(typeof o!="function"||z)&&{index:v.index,range:v.range};return I(0).then(function(){if(0<D.length)throw new Ke("Error modifying one or more objects",D,q,$);return L.length})})})},nt.prototype.delete=function(){var o=this._ctx,h=o.range;return!Ea(o)||o.table.schema.yProps||!o.isPrimKey&&h.type!==3?this.modify(vl):this._write(function(v){var b=o.table.core.schema.primaryKey,_=h;return o.table.core.count({trans:v,query:{index:b,range:_}}).then(function(E){return o.table.core.mutate({trans:v,type:"deleteRange",range:_}).then(function(M){var O=M.failures,M=M.numFailures;if(M)throw new Ke("Could not delete some values",Object.keys(O).map(function(Y){return O[Y]}),E-M);return E-M})})})};var Uc=nt;function nt(){}var vl=function(o,h){return h.value=null};function gl(o,h){return o<h?-1:o===h?0:1}function zc(o,h){return h<o?-1:o===h?0:1}function _n(o,h,v){return o=o instanceof Ha?new o.Collection(o):o,o._ctx.error=new(v||TypeError)(h),o}function ua(o){return new o.Collection(o,function(){return ts("")}).limit(0)}function jn($,h,v,b){var _,E,T,O,M,Y,U,D=v.length;if(!v.every(function(L){return typeof L=="string"}))return _n($,Lt);function q(L){_=L==="next"?function(J){return J.toUpperCase()}:function(J){return J.toLowerCase()},E=L==="next"?function(J){return J.toLowerCase()}:function(J){return J.toUpperCase()},T=L==="next"?gl:zc;var I=v.map(function(J){return{lower:E(J),upper:_(J)}}).sort(function(J,V){return T(J.lower,V.lower)});O=I.map(function(J){return J.upper}),M=I.map(function(J){return J.lower}),U=(Y=L)==="next"?"":b}q("next");var $=new $.Collection($,function(){return Vn(O[0],M[D-1]+b)}),z=($._ondirectionchange=function(L){q(L)},0);return $._addAlgorithm(function(L,I,J){var V=L.key;if(typeof V=="string"){var ae=E(V);if(h(ae,M,z))return!0;for(var ce=null,me=z;me<D;++me){var pe=((de,we,ve,fe,_e,Be)=>{for(var Ie=Math.min(de.length,fe.length),Re=-1,He=0;He<Ie;++He){var pt=we[He];if(pt!==fe[He])return _e(de[He],ve[He])<0?de.substr(0,He)+ve[He]+ve.substr(He+1):_e(de[He],fe[He])<0?de.substr(0,He)+fe[He]+ve.substr(He+1):0<=Re?de.substr(0,Re)+we[Re]+ve.substr(Re+1):null;_e(de[He],pt)<0&&(Re=He)}return Ie<fe.length&&Be==="next"?de+ve.substr(de.length):Ie<de.length&&Be==="prev"?de.substr(0,ve.length):Re<0?null:de.substr(0,Re)+fe[Re]+ve.substr(Re+1)})(V,ae,O[me],M[me],T,Y);pe===null&&ce===null?z=me+1:(ce===null||0<T(ce,pe))&&(ce=pe)}I(ce!==null?function(){L.continue(ce+U)}:J)}return!1}),$}function Vn(o,h,v,b){return{type:2,lower:o,upper:h,lowerOpen:v,upperOpen:b}}function ts(o){return{type:1,lower:o,upper:o}}Object.defineProperty(St.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),St.prototype.between=function(o,h,v,b){v=v!==!1,b=b===!0;try{return 0<this._cmp(o,h)||this._cmp(o,h)===0&&(v||b)&&(!v||!b)?ua(this):new this.Collection(this,function(){return Vn(o,h,!v,!b)})}catch{return _n(this,mn)}},St.prototype.equals=function(o){return o==null?_n(this,mn):new this.Collection(this,function(){return ts(o)})},St.prototype.above=function(o){return o==null?_n(this,mn):new this.Collection(this,function(){return Vn(o,void 0,!0)})},St.prototype.aboveOrEqual=function(o){return o==null?_n(this,mn):new this.Collection(this,function(){return Vn(o,void 0,!1)})},St.prototype.below=function(o){return o==null?_n(this,mn):new this.Collection(this,function(){return Vn(void 0,o,!1,!0)})},St.prototype.belowOrEqual=function(o){return o==null?_n(this,mn):new this.Collection(this,function(){return Vn(void 0,o)})},St.prototype.startsWith=function(o){return typeof o!="string"?_n(this,Lt):this.between(o,o+Rn,!0,!0)},St.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):jn(this,function(h,v){return h.indexOf(v[0])===0},[o],Rn)},St.prototype.equalsIgnoreCase=function(o){return jn(this,function(h,v){return h===v[0]},[o],"")},St.prototype.anyOfIgnoreCase=function(){var o=Qe.apply(tt,arguments);return o.length===0?ua(this):jn(this,function(h,v){return v.indexOf(h)!==-1},o,"")},St.prototype.startsWithAnyOfIgnoreCase=function(){var o=Qe.apply(tt,arguments);return o.length===0?ua(this):jn(this,function(h,v){return v.some(function(b){return h.indexOf(b)===0})},o,Rn)},St.prototype.anyOf=function(){var o,h,v=this,b=Qe.apply(tt,arguments),_=this._cmp;try{b.sort(_)}catch{return _n(this,mn)}return b.length===0?ua(this):((o=new this.Collection(this,function(){return Vn(b[0],b[b.length-1])}))._ondirectionchange=function(E){_=E==="next"?v._ascending:v._descending,b.sort(_)},h=0,o._addAlgorithm(function(E,T,O){for(var M=E.key;0<_(M,b[h]);)if(++h===b.length)return T(O),!1;return _(M,b[h])===0||(T(function(){E.continue(b[h])}),!1)}),o)},St.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},St.prototype.noneOf=function(){var o=Qe.apply(tt,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return _n(this,mn)}var h=o.reduce(function(v,b){return v?v.concat([[v[v.length-1][1],b]]):[[-1/0,b]]},null);return h.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},St.prototype.inAnyRange=function(o,J){var v=this,b=this._cmp,_=this._ascending,E=this._descending,T=this._min,O=this._max;if(o.length===0)return ua(this);if(!o.every(function(V){return V[0]!==void 0&&V[1]!==void 0&&_(V[0],V[1])<=0}))return _n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var M=!J||J.includeLowers!==!1,Y=J&&J.includeUppers===!0,U,D=_;function q(V,ae){return D(V[0],ae[0])}try{(U=o.reduce(function(V,ae){for(var ce=0,me=V.length;ce<me;++ce){var pe=V[ce];if(b(ae[0],pe[1])<0&&0<b(ae[1],pe[0])){pe[0]=T(pe[0],ae[0]),pe[1]=O(pe[1],ae[1]);break}}return ce===me&&V.push(ae),V},[])).sort(q)}catch{return _n(this,mn)}var $=0,z=Y?function(V){return 0<_(V,U[$][1])}:function(V){return 0<=_(V,U[$][1])},L=M?function(V){return 0<E(V,U[$][0])}:function(V){return 0<=E(V,U[$][0])},I=z,J=new this.Collection(this,function(){return Vn(U[0][0],U[U.length-1][1],!M,!Y)});return J._ondirectionchange=function(V){D=V==="next"?(I=z,_):(I=L,E),U.sort(q)},J._addAlgorithm(function(V,ae,ce){for(var me,pe=V.key;I(pe);)if(++$===U.length)return ae(ce),!1;return!z(me=pe)&&!L(me)||(v._cmp(pe,U[$][1])===0||v._cmp(pe,U[$][0])===0||ae(function(){D===_?V.continue(U[$][0]):V.continue(U[$][1])}),!1)}),J},St.prototype.startsWithAnyOf=function(){var o=Qe.apply(tt,arguments);return o.every(function(h){return typeof h=="string"})?o.length===0?ua(this):this.inAnyRange(o.map(function(h){return[h,h+Rn]})):_n(this,"startsWithAnyOf() only works with strings")};var Ha=St;function St(){}function Dn(o){return bt(function(h){return Pa(h),o(h.target.error),!1})}function Pa(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var Sr="storagemutated",Ka="x-storagemutated-1",Ft=gi(null,Sr),bl=(pn.prototype._lock=function(){return he(!xe.global),++this._reculock,this._reculock!==1||xe.global||(xe.lockOwnerFor=this),this},pn.prototype._unlock=function(){if(he(!xe.global),--this._reculock==0)for(xe.global||(xe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{Cn(o[1],o[0])}catch{}}return this},pn.prototype._locked=function(){return this._reculock&&xe.lockOwnerFor!==this},pn.prototype.create=function(o){var h=this;if(this.mode){var v=this.db.idbdb,b=this.db._state.dbOpenError;if(he(!this.idbtrans),!o&&!v)switch(b&&b.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(b);case"MissingAPIError":throw new Oe.MissingAPI(b.message,b);default:throw new Oe.OpenFailed(b)}if(!this.active)throw new Oe.TransactionInactive;he(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=bt(function(_){Pa(_),h._reject(o.error)}),o.onabort=bt(function(_){Pa(_),h.active&&h._reject(new Oe.Abort(o.error)),h.active=!1,h.on("abort").fire(_)}),o.oncomplete=bt(function(){h.active=!1,h._resolve(),"mutatedParts"in o&&Ft.storagemutated.fire(o.mutatedParts)})}return this},pn.prototype._promise=function(o,h,v){var b,_=this;return o==="readwrite"&&this.mode!=="readwrite"?mt(new Oe.ReadOnly("Transaction is readonly")):this.active?this._locked()?new ye(function(E,T){_._blockedFuncs.push([function(){_._promise(o,h,v).then(E,T)},xe])}):v?wt(function(){var E=new ye(function(T,O){_._lock();var M=h(T,O,_);M&&M.then&&M.then(T,O)});return E.finally(function(){return _._unlock()}),E._lib=!0,E}):((b=new ye(function(E,T){var O=h(E,T,_);O&&O.then&&O.then(E,T)}))._lib=!0,b):mt(new Oe.TransactionInactive)},pn.prototype._root=function(){return this.parent?this.parent._root():this},pn.prototype.waitFor=function(o){var h,v=this._root(),b=ye.resolve(o),_=(v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return b}):(v._waitingFor=b,v._waitingQueue=[],h=v.idbtrans.objectStore(v.storeNames[0]),(function E(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(h.get(-1/0).onsuccess=E)})()),v._waitingFor);return new ye(function(E,T){b.then(function(O){return v._waitingQueue.push(bt(E.bind(null,O)))},function(O){return v._waitingQueue.push(bt(T.bind(null,O)))}).finally(function(){v._waitingFor===_&&(v._waitingFor=null)})})},pn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},pn.prototype.table=function(o){var h=this._memoizedTables||(this._memoizedTables={});if(j(h,o))return h[o];var v=this.schema[o];if(v)return(v=new this.db.Table(o,v,this)).core=this.db.core.table(o),h[o]=v;throw new Oe.NotFound("Table "+o+" not part of transaction")},pn);function pn(){}function In(o,h,v,b,_,E,T,O){return{name:o,keyPath:h,unique:v,multi:b,auto:_,compound:E,src:(v&&!T?"&":"")+(b?"*":"")+(_?"++":"")+ns(h),type:O}}function ns(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Er(o,h,v){return{name:o,primKey:h,indexes:v,mappedClass:null,idxByName:(b=function(_){return[_.name,_]},v.reduce(function(_,E,T){return E=b(E,T),E&&(_[E[0]]=E[1]),_},{}))};var b}var jr=function(o){try{return o.only([[]]),jr=function(){return[[]]},[[]]}catch{return jr=function(){return Rn},Rn}};function kr(o){return o==null?function(){}:typeof o=="string"?(h=o).split(".").length===1?function(v){return v[h]}:function(v){return Se(v,h)}:function(v){return Se(v,o)};var h}function wi(o){return[].slice.call(o)}var Ho=0;function Ht(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function Ga(o,h,M){function b(z){if(z.type===3)return null;if(z.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=z.lower,q=z.upper,$=z.lowerOpen,z=z.upperOpen;return D===void 0?q===void 0?null:h.upperBound(q,!!z):q===void 0?h.lowerBound(D,!!$):h.bound(D,q,!!$,!!z)}function _(U){var D,q=U.name;return{name:q,schema:U,mutate:function($){var z=$.trans,L=$.type,I=$.keys,J=$.values,V=$.range;return new Promise(function(ae,ce){ae=bt(ae);var me=z.objectStore(q),pe=me.keyPath==null,de=L==="put"||L==="add";if(!de&&L!=="delete"&&L!=="deleteRange")throw new Error("Invalid operation type: "+L);var we,ve=(I||J||{length:1}).length;if(I&&J&&I.length!==J.length)throw new Error("Given keys array must have same length as given values array.");if(ve===0)return ae({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(ut){++Ie,Pa(ut)}var _e=[],Be=[],Ie=0;if(L==="deleteRange"){if(V.type===4)return ae({numFailures:Ie,failures:Be,results:[],lastResult:void 0});V.type===3?_e.push(we=me.clear()):_e.push(we=me.delete(b(V)))}else{var pe=de?pe?[J,I]:[J,null]:[I,null],Re=pe[0],He=pe[1];if(de)for(var pt=0;pt<ve;++pt)_e.push(we=He&&He[pt]!==void 0?me[L](Re[pt],He[pt]):me[L](Re[pt])),we.onerror=fe;else for(pt=0;pt<ve;++pt)_e.push(we=me[L](Re[pt])),we.onerror=fe}function vn(ut){ut=ut.target.result,_e.forEach(function(Oa,Rr){return Oa.error!=null&&(Be[Rr]=Oa.error)}),ae({numFailures:Ie,failures:Be,results:L==="delete"?I:_e.map(function(Oa){return Oa.result}),lastResult:ut})}we.onerror=function(ut){fe(ut),vn(ut)},we.onsuccess=vn})},getMany:function($){var z=$.trans,L=$.keys;return new Promise(function(I,J){I=bt(I);for(var V,ae=z.objectStore(q),ce=L.length,me=new Array(ce),pe=0,de=0,we=function(_e){_e=_e.target,me[_e._pos]=_e.result,++de===pe&&I(me)},ve=Dn(J),fe=0;fe<ce;++fe)L[fe]!=null&&((V=ae.get(L[fe]))._pos=fe,V.onsuccess=we,V.onerror=ve,++pe);pe===0&&I(me)})},get:function($){var z=$.trans,L=$.key;return new Promise(function(I,J){I=bt(I);var V=z.objectStore(q).get(L);V.onsuccess=function(ae){return I(ae.target.result)},V.onerror=Dn(J)})},query:(D=O,function($){return new Promise(function(z,L){z=bt(z);var I,J,V,de=$.trans,ae=$.values,ce=$.limit,pe=$.query,me=ce===1/0?void 0:ce,we=pe.index,pe=pe.range,de=de.objectStore(q),de=we.isPrimaryKey?de:de.index(we.name),we=b(pe);if(ce===0)return z({result:[]});D?((pe=ae?de.getAll(we,me):de.getAllKeys(we,me)).onsuccess=function(ve){return z({result:ve.target.result})},pe.onerror=Dn(L)):(I=0,J=!ae&&"openKeyCursor"in de?de.openKeyCursor(we):de.openCursor(we),V=[],J.onsuccess=function(ve){var fe=J.result;return!fe||(V.push(ae?fe.value:fe.primaryKey),++I===ce)?z({result:V}):void fe.continue()},J.onerror=Dn(L))})}),openCursor:function($){var z=$.trans,L=$.values,I=$.query,J=$.reverse,V=$.unique;return new Promise(function(ae,ce){ae=bt(ae);var de=I.index,me=I.range,pe=z.objectStore(q),pe=de.isPrimaryKey?pe:pe.index(de.name),de=J?V?"prevunique":"prev":V?"nextunique":"next",we=!L&&"openKeyCursor"in pe?pe.openKeyCursor(b(me),de):pe.openCursor(b(me),de);we.onerror=Dn(ce),we.onsuccess=bt(function(ve){var fe,_e,Be,Ie,Re=we.result;Re?(Re.___id=++Ho,Re.done=!1,fe=Re.continue.bind(Re),_e=(_e=Re.continuePrimaryKey)&&_e.bind(Re),Be=Re.advance.bind(Re),Ie=function(){throw new Error("Cursor not stopped")},Re.trans=z,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=bt(ce),Re.next=function(){var He=this,pt=1;return this.start(function(){return pt--?He.continue():He.stop()}).then(function(){return He})},Re.start=function(He){function pt(){if(we.result)try{He()}catch(ut){Re.fail(ut)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var vn=new Promise(function(ut,Oa){ut=bt(ut),we.onerror=Dn(Oa),Re.fail=Oa,Re.stop=function(Rr){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=Ie,ut(Rr)}});return we.onsuccess=bt(function(ut){we.onsuccess=pt,pt()}),Re.continue=fe,Re.continuePrimaryKey=_e,Re.advance=Be,pt(),vn},ae(Re)):ae(null)},ce)})},count:function($){var z=$.query,L=$.trans,I=z.index,J=z.range;return new Promise(function(V,ae){var ce=L.objectStore(q),ce=I.isPrimaryKey?ce:ce.index(I.name),me=b(J),me=me?ce.count(me):ce.count();me.onsuccess=bt(function(pe){return V(pe.target.result)}),me.onerror=Dn(ae)})}}}E=M,T=wi((M=o).objectStoreNames);var E,M={schema:{name:M.name,tables:T.map(function(U){return E.objectStore(U)}).map(function(U){var D=U.keyPath,q=U.autoIncrement,z=y(D),$={},z={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:z,keyPath:D,autoIncrement:q,unique:!0,extractKey:kr(D)},indexes:wi(U.indexNames).map(function(L){return U.index(L)}).map(function(V){var ae=V.name,I=V.unique,J=V.multiEntry,V=V.keyPath,ae={name:ae,compound:y(V),keyPath:V,unique:I,multiEntry:J,extractKey:kr(V)};return $[Ht(V)]=ae}),getIndexByKeyPath:function(L){return $[Ht(L)]}};return $[":id"]=z.primaryKey,D!=null&&($[Ht(D)]=z.primaryKey),z})},hasGetAll:0<T.length&&"getAll"in E.objectStore(T[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},T=M.schema,O=M.hasGetAll,M=T.tables.map(_),Y={};return M.forEach(function(U){return Y[U.name]=U}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(U){if(Y[U])return Y[U];throw new Error("Table '".concat(U,"' not found"))},MIN_KEY:-1/0,MAX_KEY:jr(h),schema:T}}function as(o,h,v,b){return v=v.IDBKeyRange,h=Ga(h,v,b),{dbcore:o.dbcore.reduce(function(_,E){return E=E.create,s(s({},_),E(_))},h)}}function ja(o,h){var v=h.db,v=as(o._middlewares,v,o._deps,h);o.core=v.dbcore,o.tables.forEach(function(b){var _=b.name;o.core.schema.tables.some(function(E){return E.name===_})&&(b.core=o.core.table(_),o[_]instanceof o.Table)&&(o[_].core=b.core)})}function rs(o,h,v,b){v.forEach(function(_){var E=b[_];h.forEach(function(T){var O=(function M(Y,U){return Z(Y,U)||(Y=x(Y))&&M(Y,U)})(T,_);(!O||"value"in O&&O.value===void 0)&&(T===o.Transaction.prototype||T instanceof o.Transaction?P(T,_,{get:function(){return this.table(_)},set:function(M){A(this,_,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):T[_]=new o.Table(_,E))})})}function _i(o,h){h.forEach(function(v){for(var b in v)v[b]instanceof o.Table&&delete v[b]})}function xl(o,h){return o._cfg.version-h._cfg.version}function Si(o,h,v,b){var _=o._dbSchema,E=(v.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=Er("$meta",Ko("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,_)),T=(E.create(v),E._completion.catch(b),E._reject.bind(E)),O=xe.transless||xe;wt(function(){if(xe.trans=E,xe.transless=O,h!==0)return ja(o,v),Y=h,((M=E).storeNames.includes("$meta")?M.table("$meta").get("version").then(function(U){return U??Y}):ye.resolve(Y)).then(function(I){var D=o,q=I,$=E,z=v,L=[],I=D._versions,J=D._dbSchema=Tr(0,D.idbdb,z);return(I=I.filter(function(V){return V._cfg.version>=q})).length===0?ye.resolve():(I.forEach(function(V){L.push(function(){var ae,ce,me,pe=J,de=V._cfg.dbschema,we=(os(D,pe,z),os(D,de,z),J=D._dbSchema=de,ss(pe,de)),ve=(we.add.forEach(function(fe){wl(z,fe[0],fe[1].primKey,fe[1].indexes)}),we.change.forEach(function(fe){if(fe.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var _e=z.objectStore(fe.name);fe.add.forEach(function(Be){return ls(_e,Be)}),fe.change.forEach(function(Be){_e.deleteIndex(Be.name),ls(_e,Be)}),fe.del.forEach(function(Be){return _e.deleteIndex(Be)})}),V._cfg.contentUpgrade);if(ve&&V._cfg.version>q)return ja(D,z),$._memoizedTables={},ae=ze(de),we.del.forEach(function(fe){ae[fe]=pe[fe]}),_i(D,[D.Transaction.prototype]),rs(D,[D.Transaction.prototype],m(ae),ae),$.schema=ae,(ce=H(ve))&&zt(),de=ye.follow(function(){var fe;(me=ve($))&&ce&&(fe=wn.bind(null,null),me.then(fe,fe))}),me&&typeof me.then=="function"?ye.resolve(me):de.then(function(){return me})}),L.push(function(ae){var ce,me,pe=V._cfg.dbschema;ce=pe,me=ae,[].slice.call(me.db.objectStoreNames).forEach(function(de){return ce[de]==null&&me.db.deleteObjectStore(de)}),_i(D,[D.Transaction.prototype]),rs(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),$.schema=D._dbSchema}),L.push(function(ae){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===V._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(ce){return ce!=="$meta"})):ae.objectStore("$meta").put(V._cfg.version,"version"))})}),(function V(){return L.length?ye.resolve(L.shift()($.idbtrans)).then(V):ye.resolve()})().then(function(){Po(J,z)}))}).catch(T);var M,Y;m(_).forEach(function(U){wl(v,U,_[U].primKey,_[U].indexes)}),ja(o,v),ye.follow(function(){return o.on.populate.fire(E)}).catch(T)})}function is(o,h){Po(o._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var v=Tr(0,o.idbdb,h);os(o,o._dbSchema,h);for(var b=0,_=ss(v,o._dbSchema).change;b<_.length;b++){var E=(T=>{if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=h.objectStore(T.name);T.add.forEach(function(M){En&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(M.src)),ls(O,M)})})(_[b]);if(typeof E=="object")return E.value}}function ss(o,h){var v,b={del:[],add:[],change:[]};for(v in o)h[v]||b.del.push(v);for(v in h){var _=o[v],E=h[v];if(_){var T={name:v,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||_.primKey.auto!==E.primKey.auto)T.recreate=!0,b.change.push(T);else{var O=_.idxByName,M=E.idxByName,Y=void 0;for(Y in O)M[Y]||T.del.push(Y);for(Y in M){var U=O[Y],D=M[Y];U?U.src!==D.src&&T.change.push(D):T.add.push(D)}(0<T.del.length||0<T.add.length||0<T.change.length)&&b.change.push(T)}}else b.add.push([v,E])}return b}function wl(o,h,v,b){var _=o.db.createObjectStore(h,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});b.forEach(function(E){return ls(_,E)})}function Po(o,h){m(o).forEach(function(v){h.db.objectStoreNames.contains(v)||(En&&console.debug("Dexie: Creating missing table",v),wl(h,v,o[v].primKey,o[v].indexes))})}function ls(o,h){o.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Tr(o,h,v){var b={};return G(h.objectStoreNames,0).forEach(function(_){for(var E=v.objectStore(_),T=In(ns(Y=E.keyPath),Y||"",!0,!1,!!E.autoIncrement,Y&&typeof Y!="string",!0),O=[],M=0;M<E.indexNames.length;++M){var U=E.index(E.indexNames[M]),Y=U.keyPath,U=In(U.name,Y,!!U.unique,!!U.multiEntry,!1,Y&&typeof Y!="string",!1);O.push(U)}b[_]=Er(_,T,O)}),b}function os(o,h,v){for(var b=v.db.objectStoreNames,_=0;_<b.length;++_){var E=b[_],T=v.objectStore(E);o._hasGetAll="getAll"in T;for(var O=0;O<T.indexNames.length;++O){var M,Y=T.indexNames[O],U=T.index(Y).keyPath,U=typeof U=="string"?U:"["+G(U).join("+")+"]";h[E]&&(M=h[E].idxByName[U])&&(M.name=Y,delete h[E].idxByName[U],h[E].idxByName[Y]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Ko(o){return o.split(",").map(function(h,v){var _=h.split(":"),b=(b=_[1])==null?void 0:b.trim(),_=(h=_[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return In(_,E||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),y(E),v===0,b)})}Or.prototype._createTableSchema=Er,Or.prototype._parseIndexSyntax=Ko,Or.prototype._parseStoresSpec=function(o,h){var v=this;m(o).forEach(function(b){if(o[b]!==null){var _=v._parseIndexSyntax(o[b]),E=_.shift();if(!E)throw new Oe.Schema("Invalid schema for table "+b+": "+o[b]);if(E.unique=!0,E.multi)throw new Oe.Schema("Primary key cannot be multiEntry*");_.forEach(function(T){if(T.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),E=v._createTableSchema(b,E,_),h[b]=E}})},Or.prototype.stores=function(v){var h=this.db,v=(this._cfg.storesSource=this._cfg.storesSource?g(this._cfg.storesSource,v):v,h._versions),b={},_={};return v.forEach(function(E){g(b,E._cfg.storesSource),_=E._cfg.dbschema={},E._parseStoresSpec(b,_)}),h._dbSchema=_,_i(h,[h._allTables,h,h.Transaction.prototype]),rs(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],m(_),_),h._storeNames=m(_),this},Or.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ii(this._cfg.contentUpgrade||rt,o),this};var Lc=Or;function Or(){}function _l(o,h){var v=o._dbNamesDB;return v||(v=o._dbNamesDB=new Xn(pi,{addons:[],indexedDB:o,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function us(o){return o&&typeof o.databases=="function"}function Sl(o){return wt(function(){return xe.letThrough=!0,o()})}function El(o){return!("from"in o)}var Zt=function(o,h){var v;if(!this)return v=new Zt,o&&"d"in o&&g(v,o),v;g(this,arguments.length?{d:1,from:o,to:1<arguments.length?h:o}:{d:0})};function Ei(o,h,v){var b=Ve(h,v);if(!isNaN(b)){if(0<b)throw RangeError();if(El(o))return g(o,{from:h,to:v,d:1});var b=o.l,_=o.r;if(Ve(v,o.from)<0)return b?Ei(b,h,v):o.l={from:h,to:v,d:1,l:null,r:null},Yo(o);if(0<Ve(h,o.to))return _?Ei(_,h,v):o.r={from:h,to:v,d:1,l:null,r:null},Yo(o);Ve(h,o.from)<0&&(o.from=h,o.l=null,o.d=_?_.d+1:1),0<Ve(v,o.to)&&(o.to=v,o.r=null,o.d=o.l?o.l.d+1:1),h=!o.r,b&&!o.l&&Ya(o,b),_&&h&&Ya(o,_)}}function Ya(o,h){El(h)||(function v(b,_){var E=_.from,T=_.l,O=_.r;Ei(b,E,_.to),T&&v(b,T),O&&v(b,O)})(o,h)}function Go(o,h){var v=cs(h),b=v.next();if(!b.done)for(var _=b.value,E=cs(o),T=E.next(_.from),O=T.value;!b.done&&!T.done;){if(Ve(O.from,_.to)<=0&&0<=Ve(O.to,_.from))return!0;Ve(_.from,O.from)<0?_=(b=v.next(O.from)).value:O=(T=E.next(_.from)).value}return!1}function cs(o){var h=El(o)?null:{s:0,n:o};return{next:function(v){for(var b=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,b)for(;h.n.l&&Ve(v,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!b||Ve(v,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function Yo(o){var h,v,b,_=(((_=o.r)==null?void 0:_.d)||0)-(((_=o.l)==null?void 0:_.d)||0),_=1<_?"r":_<-1?"l":"";_&&(h=_=="r"?"l":"r",v=s({},o),b=o[_],o.from=b.from,o.to=b.to,o[_]=b[_],v[_]=b[h],(o[h]=v).d=jl(v)),o.d=jl(o)}function jl(v){var h=v.r,v=v.l;return(h?v?Math.max(h.d,v.d):h.d:v?v.d:0)+1}function ds(o,h){return m(h).forEach(function(v){o[v]?Ya(o[v],h[v]):o[v]=(function b(_){var E,T,O={};for(E in _)j(_,E)&&(T=_[E],O[E]=!T||typeof T!="object"||Mt.has(T.constructor)?T:b(T));return O})(h[v])}),o}function kl(o,h){return o.all||h.all||Object.keys(o).some(function(v){return h[v]&&Go(h[v],o[v])})}N(Zt.prototype,((hn={add:function(o){return Ya(this,o),this},addKey:function(o){return Ei(this,o,o),this},addKeys:function(o){var h=this;return o.forEach(function(v){return Ei(h,v,v)}),this},hasKey:function(o){var h=cs(this).next(o).value;return h&&Ve(h.from,o)<=0&&0<=Ve(h.to,o)}})[ne]=function(){return cs(this)},hn));var Va={},Tl={},Ol=!1;function fs(o){ds(Tl,o),Ol||(Ol=!0,setTimeout(function(){Ol=!1,Nl(Tl,!(Tl={}))},0))}function Nl(o,h){h===void 0&&(h=!1);var v=new Set;if(o.all)for(var b=0,_=Object.values(Va);b<_.length;b++)Vo(O=_[b],o,v,h);else for(var E in o){var T,O,E=/^idb\:\/\/(.*)\/(.*)\//.exec(E);E&&(T=E[1],E=E[2],O=Va["idb://".concat(T,"/").concat(E)])&&Vo(O,o,v,h)}v.forEach(function(M){return M()})}function Vo(o,h,v,b){for(var _=[],E=0,T=Object.entries(o.queries.query);E<T.length;E++){for(var O=T[E],M=O[0],Y=[],U=0,D=O[1];U<D.length;U++){var q=D[U];kl(h,q.obsSet)?q.subscribers.forEach(function(I){return v.add(I)}):b&&Y.push(q)}b&&_.push([M,Y])}if(b)for(var $=0,z=_;$<z.length;$++){var L=z[$],M=L[0],Y=L[1];o.queries.query[M]=Y}}function qc(o){var h=o._state,v=o._deps.indexedDB;if(h.isBeingOpened||o.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?mt(h.dbOpenError):o});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var b=h.openCanceller,_=Math.round(10*o.verno),E=!1;function T(){if(h.openCanceller!==b)throw new Oe.DatabaseClosed("db.open() was cancelled")}function O(){return new ye(function(q,$){if(T(),!v)throw new Oe.MissingAPI;var z=o.name,L=h.autoSchema||!_?v.open(z):v.open(z,_);if(!L)throw new Oe.MissingAPI;L.onerror=Dn($),L.onblocked=bt(o._fireOnBlocked),L.onupgradeneeded=bt(function(I){var J;U=L.transaction,h.autoSchema&&!o._options.allowEmptyDB?(L.onerror=Pa,U.abort(),L.result.close(),(J=v.deleteDatabase(z)).onsuccess=J.onerror=bt(function(){$(new Oe.NoSuchDatabase("Database ".concat(z," doesnt exist")))})):(U.onerror=Dn($),J=I.oldVersion>Math.pow(2,62)?0:I.oldVersion,D=J<1,o.idbdb=L.result,E&&is(o,U),Si(o,J/10,U,$))},$),L.onsuccess=bt(function(){U=null;var I,J,V,ae,ce,me,pe=o.idbdb=L.result,de=G(pe.objectStoreNames);if(0<de.length)try{var we=pe.transaction((ce=de).length===1?ce[0]:ce,"readonly");if(h.autoSchema)me=pe,ae=we,(V=o).verno=me.version/10,ae=V._dbSchema=Tr(0,me,ae),V._storeNames=G(me.objectStoreNames,0),rs(V,[V._allTables],m(ae),ae);else if(os(o,o._dbSchema,we),J=we,((J=ss(Tr(0,(I=o).idbdb,J),I._dbSchema)).add.length||J.change.some(function(ve){return ve.add.length||ve.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),pe.close(),_=pe.version+1,E=!0,q(O());ja(o,we)}catch{}qa.push(o),pe.onversionchange=bt(function(ve){h.vcFired=!0,o.on("versionchange").fire(ve)}),pe.onclose=bt(function(){o.close({disableAutoOpen:!1})}),D&&(de=o._deps,ce=z,us(me=de.indexedDB)||ce===pi||_l(me,de.IDBKeyRange).put({name:ce}).catch(rt)),q()},$)}).catch(function(q){switch(q?.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<_)return _=0,O()}return ye.reject(q)})}var M,Y=h.dbReadyResolve,U=null,D=!1;return ye.race([b,(typeof navigator>"u"?ye.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(q){function $(){return indexedDB.databases().finally(q)}M=setInterval($,100),$()}).finally(function(){return clearInterval(M)}):Promise.resolve()).then(O)]).then(function(){return T(),h.onReadyBeingFired=[],ye.resolve(Sl(function(){return o.on.ready.fire(o.vip)})).then(function q(){var $;if(0<h.onReadyBeingFired.length)return $=h.onReadyBeingFired.reduce(ii,rt),h.onReadyBeingFired=[],ye.resolve(Sl(function(){return $(o.vip)})).then(q)})}).finally(function(){h.openCanceller===b&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(q){h.dbOpenError=q;try{U&&U.abort()}catch{}return b===h.openCanceller&&o._close(),mt(q)}).finally(function(){h.openComplete=!0,Y()}).then(function(){var q;return D&&(q={},o.tables.forEach(function($){$.schema.indexes.forEach(function(z){z.name&&(q["idb://".concat(o.name,"/").concat($.name,"/").concat(z.name)]=new Zt(-1/0,[[[]]]))}),q["idb://".concat(o.name,"/").concat($.name,"/")]=q["idb://".concat(o.name,"/").concat($.name,"/:dels")]=new Zt(-1/0,[[[]]])}),Ft(Sr).fire(q),Nl(q,!0)),o})}function ji(o){function h(E){return o.next(E)}var v=_(h),b=_(function(E){return o.throw(E)});function _(E){return function(O){var O=E(O),M=O.value;return O.done?M:M&&typeof M.then=="function"?M.then(v,b):y(M)?Promise.all(M).then(v,b):v(M)}}return _(h)()}function ka(o,h,v){for(var b=y(o)?o.slice():[o],_=0;_<v;++_)b.push(h);return b}var Bc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return s(s({},o),{table:function(b){var v=o.table(b),b=v.schema,_={},E=[];function T(q,$,z){var V=Ht(q),L=_[V]=_[V]||[],I=q==null?0:typeof q=="string"?1:q.length,J=0<$,V=s(s({},z),{name:J?"".concat(V,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:J,keyTail:$,keyLength:I,extractKey:kr(q),unique:!J&&z.unique});return L.push(V),V.isPrimaryKey||E.push(V),1<I&&T(I===2?q[0]:q.slice(0,I-1),$+1,z),L.sort(function(ae,ce){return ae.keyTail-ce.keyTail}),V}var O=T(b.primaryKey.keyPath,0,b.primaryKey);_[":id"]=[O];for(var M=0,Y=b.indexes;M<Y.length;M++){var U=Y[M];T(U.keyPath,0,U)}function D(q){var $,z=q.query.index;return z.isVirtual?s(s({},q),{query:{index:z.lowLevelIndex,range:($=q.query.range,z=z.keyTail,{type:$.type===1?2:$.type,lower:ka($.lower,$.lowerOpen?o.MAX_KEY:o.MIN_KEY,z),lowerOpen:!0,upper:ka($.upper,$.upperOpen?o.MIN_KEY:o.MAX_KEY,z),upperOpen:!0})}}):q}return s(s({},v),{schema:s(s({},b),{primaryKey:O,indexes:E,getIndexByKeyPath:function(q){return(q=_[Ht(q)])&&q[0]}}),count:function(q){return v.count(D(q))},query:function(q){return v.query(D(q))},openCursor:function(q){var $=q.query.index,z=$.keyTail,L=$.keyLength;return $.isVirtual?v.openCursor(D(q)).then(function(J){return J&&I(J)}):v.openCursor(q);function I(J){return Object.create(J,{continue:{value:function(V){V!=null?J.continue(ka(V,q.reverse?o.MAX_KEY:o.MIN_KEY,z)):q.unique?J.continue(J.key.slice(0,L).concat(q.reverse?o.MIN_KEY:o.MAX_KEY,z)):J.continue()}},continuePrimaryKey:{value:function(V,ae){J.continuePrimaryKey(ka(V,o.MAX_KEY,z),ae)}},primaryKey:{get:function(){return J.primaryKey}},key:{get:function(){var V=J.key;return L===1?V[0]:V.slice(0,L)}},value:{get:function(){return J.value}}})}}})}})}};function hs(o,h,v,b){return v=v||{},b=b||"",m(o).forEach(function(_){var E,T,O;j(h,_)?(E=o[_],T=h[_],typeof E=="object"&&typeof T=="object"&&E&&T?(O=xn(E))!==xn(T)?v[b+_]=h[_]:O==="Object"?hs(E,T,v,b+_+"."):E!==T&&(v[b+_]=h[_]):E!==T&&(v[b+_]=h[_])):v[b+_]=void 0}),m(h).forEach(function(_){j(o,_)||(v[b+_]=h[_])}),v}function ms(o,h){return h.type==="delete"?h.keys:h.keys||h.values.map(o.extractKey)}var Io={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return s(s({},o),{table:function(h){var v=o.table(h),b=v.schema.primaryKey;return s(s({},v),{mutate:function(_){var E=xe.trans,T=E.table(h).hook,O=T.deleting,M=T.creating,Y=T.updating;switch(_.type){case"add":if(M.fire===rt)break;return E._promise("readwrite",function(){return U(_)},!0);case"put":if(M.fire===rt&&Y.fire===rt)break;return E._promise("readwrite",function(){return U(_)},!0);case"delete":if(O.fire===rt)break;return E._promise("readwrite",function(){return U(_)},!0);case"deleteRange":if(O.fire===rt)break;return E._promise("readwrite",function(){return(function D(q,$,z){return v.query({trans:q,values:!1,query:{index:b,range:$},limit:z}).then(function(L){var I=L.result;return U({type:"delete",keys:I,trans:q}).then(function(J){return 0<J.numFailures?Promise.reject(J.failures[0]):I.length<z?{failures:[],numFailures:0,lastResult:void 0}:D(q,s(s({},$),{lower:I[I.length-1],lowerOpen:!0}),z)})})})(_.trans,_.range,1e4)},!0)}return v.mutate(_);function U(D){var q,$,z,L=xe.trans,I=D.keys||ms(b,D);if(I)return(D=D.type==="add"||D.type==="put"?s(s({},D),{keys:I}):s({},D)).type!=="delete"&&(D.values=u([],D.values)),D.keys&&(D.keys=u([],D.keys)),q=v,z=I,(($=D).type==="add"?Promise.resolve([]):q.getMany({trans:$.trans,keys:z,cache:"immutable"})).then(function(J){var V=I.map(function(ae,ce){var me,pe,de,we=J[ce],ve={onerror:null,onsuccess:null};return D.type==="delete"?O.fire.call(ve,ae,we,L):D.type==="add"||we===void 0?(me=M.fire.call(ve,ae,D.values[ce],L),ae==null&&me!=null&&(D.keys[ce]=ae=me,b.outbound||se(D.values[ce],b.keyPath,ae))):(me=hs(we,D.values[ce]),(pe=Y.fire.call(ve,me,ae,we,L))&&(de=D.values[ce],Object.keys(pe).forEach(function(fe){j(de,fe)?de[fe]=pe[fe]:se(de,fe,pe[fe])}))),ve});return v.mutate(D).then(function(ae){for(var ce=ae.failures,me=ae.results,pe=ae.numFailures,ae=ae.lastResult,de=0;de<I.length;++de){var we=(me||I)[de],ve=V[de];we==null?ve.onerror&&ve.onerror(ce[de]):ve.onsuccess&&ve.onsuccess(D.type==="put"&&J[de]?D.values[de]:we)}return{failures:ce,results:me,numFailures:pe,lastResult:ae}}).catch(function(ae){return V.forEach(function(ce){return ce.onerror&&ce.onerror(ae)}),Promise.reject(ae)})});throw new Error("Keys missing")}}})}})}};function Al(o,h,v){try{if(!h||h.keys.length<o.length)return null;for(var b=[],_=0,E=0;_<h.keys.length&&E<o.length;++_)Ve(h.keys[_],o[E])===0&&(b.push(v?bn(h.values[_]):h.values[_]),++E);return b.length===o.length?b:null}catch{return null}}var Xo={stack:"dbcore",level:-1,create:function(o){return{table:function(h){var v=o.table(h);return s(s({},v),{getMany:function(b){var _;return b.cache?(_=Al(b.keys,b.trans._cache,b.cache==="clone"))?ye.resolve(_):v.getMany(b).then(function(E){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?bn(E):E},E}):v.getMany(b)},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),v.mutate(b)}})}}}};function Ia(o,h){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Qo(o,h){switch(o){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $c={stack:"dbcore",level:0,name:"Observability",create:function(o){var h=o.schema.name,v=new Zt(o.MIN_KEY,o.MAX_KEY);return s(s({},o),{transaction:function(b,_,E){if(xe.subscr&&_!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(xe.querier));return o.transaction(b,_,E)},table:function(b){function _(I){var L,I=I.query;return[L=I.index,new Zt((L=(I=I.range).lower)!=null?L:o.MIN_KEY,(L=I.upper)!=null?L:o.MAX_KEY)]}var E=o.table(b),T=E.schema,O=T.primaryKey,M=T.indexes,Y=O.extractKey,U=O.outbound,D=O.autoIncrement&&M.filter(function(z){return z.compound&&z.keyPath.includes(O.keyPath)}),q=s(s({},E),{mutate:function(z){function L(_e){return _e="idb://".concat(h,"/").concat(b,"/").concat(_e),ce[_e]||(ce[_e]=new Zt)}var I,J,V,ae=z.trans,ce=z.mutatedParts||(z.mutatedParts={}),me=L(""),pe=L(":dels"),de=z.type,ve=z.type==="deleteRange"?[z.range]:z.type==="delete"?[z.keys]:z.values.length<50?[ms(O,z).filter(function(_e){return _e}),z.values]:[],we=ve[0],ve=ve[1],fe=z.trans._cache;return y(we)?(me.addKeys(we),(de=de==="delete"||we.length===ve.length?Al(we,fe):null)||pe.addKeys(we),(de||ve)&&(I=L,J=de,V=ve,T.indexes.forEach(function(_e){var Be=I(_e.name||"");function Ie(He){return He!=null?_e.extractKey(He):null}function Re(He){_e.multiEntry&&y(He)?He.forEach(function(pt){return Be.addKey(pt)}):Be.addKey(He)}(J||V).forEach(function(He,ut){var vn=J&&Ie(J[ut]),ut=V&&Ie(V[ut]);Ve(vn,ut)!==0&&(vn!=null&&Re(vn),ut!=null)&&Re(ut)})}))):we?(ve={from:(fe=we.lower)!=null?fe:o.MIN_KEY,to:(de=we.upper)!=null?de:o.MAX_KEY},pe.add(ve),me.add(ve)):(me.add(v),pe.add(v),T.indexes.forEach(function(_e){return L(_e.name).add(v)})),E.mutate(z).then(function(_e){return!we||z.type!=="add"&&z.type!=="put"||(me.addKeys(_e.results),D&&D.forEach(function(Be){for(var Ie=z.values.map(function(vn){return Be.extractKey(vn)}),Re=Be.keyPath.findIndex(function(vn){return vn===O.keyPath}),He=0,pt=_e.results.length;He<pt;++He)Ie[He][Re]=_e.results[He];L(Be.name).addKeys(Ie)})),ae.mutatedParts=ds(ae.mutatedParts||{},ce),_e})}}),$={get:function(z){return[O,new Zt(z.key)]},getMany:function(z){return[O,new Zt().addKeys(z.keys)]},count:_,query:_,openCursor:_};return m($).forEach(function(z){q[z]=function(L){var I=xe.subscr,J=!!I,V=Ia(xe,E)&&Qo(z,L)?L.obsSet={}:I;if(J){var ae,I=function(ve){return ve="idb://".concat(h,"/").concat(b,"/").concat(ve),V[ve]||(V[ve]=new Zt)},ce=I(""),me=I(":dels"),J=$[z](L),pe=J[0],J=J[1];if((z==="query"&&pe.isPrimaryKey&&!L.values?me:I(pe.name||"")).add(J),!pe.isPrimaryKey){if(z!=="count")return ae=z==="query"&&U&&L.values&&E.query(s(s({},L),{values:!1})),E[z].apply(this,arguments).then(function(ve){if(z==="query"){if(U&&L.values)return ae.then(function(Ie){return Ie=Ie.result,ce.addKeys(Ie),ve});var fe=L.values?ve.result.map(Y):ve.result;(L.values?ce:me).addKeys(fe)}else{var _e,Be;if(z==="openCursor")return Be=L.values,(_e=ve)&&Object.create(_e,{key:{get:function(){return me.addKey(_e.primaryKey),_e.key}},primaryKey:{get:function(){var Ie=_e.primaryKey;return me.addKey(Ie),Ie}},value:{get:function(){return Be&&ce.addKey(_e.primaryKey),_e.value}}})}return ve});me.add(v)}}return E[z].apply(this,arguments)}}),q}})}};function Wo(o,h,v){var b;return v.numFailures===0?h:h.type==="deleteRange"||(b=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1,v.numFailures===b)?null:(b=s({},h),y(b.keys)&&(b.keys=b.keys.filter(function(_,E){return!(E in v.failures)})),"values"in b&&y(b.values)&&(b.values=b.values.filter(function(_,E){return!(E in v.failures)})),b)}function ps(o,h){return v=o,((b=h).lower===void 0||(b.lowerOpen?0<Ve(v,b.lower):0<=Ve(v,b.lower)))&&(v=o,(b=h).upper===void 0||(b.upperOpen?Ve(v,b.upper)<0:Ve(v,b.upper)<=0));var v,b}function Cl(o,h,v,b,_,E){var T,O,M,Y,U,D;return!v||v.length===0||(T=h.query.index,O=T.multiEntry,M=h.query.range,Y=b.schema.primaryKey.extractKey,U=T.extractKey,D=(T.lowLevelIndex||T).extractKey,(b=v.reduce(function(q,$){var z=q,L=[];if($.type==="add"||$.type==="put")for(var I=new Zt,J=$.values.length-1;0<=J;--J){var V,ae=$.values[J],ce=Y(ae);!I.hasKey(ce)&&(V=U(ae),O&&y(V)?V.some(function(ve){return ps(ve,M)}):ps(V,M))&&(I.addKey(ce),L.push(ae))}switch($.type){case"add":var me=new Zt().addKeys(h.values?q.map(function(fe){return Y(fe)}):q),z=q.concat(h.values?L.filter(function(fe){return fe=Y(fe),!me.hasKey(fe)&&(me.addKey(fe),!0)}):L.map(function(fe){return Y(fe)}).filter(function(fe){return!me.hasKey(fe)&&(me.addKey(fe),!0)}));break;case"put":var pe=new Zt().addKeys($.values.map(function(fe){return Y(fe)}));z=q.filter(function(fe){return!pe.hasKey(h.values?Y(fe):fe)}).concat(h.values?L:L.map(function(fe){return Y(fe)}));break;case"delete":var de=new Zt().addKeys($.keys);z=q.filter(function(fe){return!de.hasKey(h.values?Y(fe):fe)});break;case"deleteRange":var we=$.range;z=q.filter(function(fe){return!ps(Y(fe),we)})}return z},o))===o)?o:(b.sort(function(q,$){return Ve(D(q),D($))||Ve(Y(q),Y($))}),h.limit&&h.limit<1/0&&(b.length>h.limit?b.length=h.limit:o.length===h.limit&&b.length<h.limit&&(_.dirty=!0)),E?Object.freeze(b):b)}function Nr(o,h){return Ve(o.lower,h.lower)===0&&Ve(o.upper,h.upper)===0&&!!o.lowerOpen==!!h.lowerOpen&&!!o.upperOpen==!!h.upperOpen}function ki(o,h){return((v,b,_,E)=>{if(v===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((v=Ve(v,b))===0){if(_&&E)return 0;if(_)return 1;if(E)return-1}return v})(o.lower,h.lower,o.lowerOpen,h.lowerOpen)<=0&&0<=((v,b,_,E)=>{if(v===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((v=Ve(v,b))===0){if(_&&E)return 0;if(_)return-1;if(E)return 1}return v})(o.upper,h.upper,o.upperOpen,h.upperOpen)}function Hc(o,h,v,b){o.subscribers.add(v),b.addEventListener("abort",function(){var _,E;o.subscribers.delete(v),o.subscribers.size===0&&(_=o,E=h,setTimeout(function(){_.subscribers.size===0&&Ce(E,_)},3e3))})}var ys={stack:"dbcore",level:0,name:"Cache",create:function(o){var h=o.schema.name;return s(s({},o),{transaction:function(v,b,_){var E,T,O=o.transaction(v,b,_);return b==="readwrite"&&(_=(E=new AbortController).signal,O.addEventListener("abort",(T=function(M){return function(){if(E.abort(),b==="readwrite"){for(var Y=new Set,U=0,D=v;U<D.length;U++){var q=D[U],$=Va["idb://".concat(h,"/").concat(q)];if($){var z=o.table(q),L=$.optimisticOps.filter(function(_e){return _e.trans===O});if(O._explicit&&M&&O.mutatedParts)for(var I=0,J=Object.values($.queries.query);I<J.length;I++)for(var V=0,ae=(pe=J[I]).slice();V<ae.length;V++)kl((de=ae[V]).obsSet,O.mutatedParts)&&(Ce(pe,de),de.subscribers.forEach(function(_e){return Y.add(_e)}));else if(0<L.length){$.optimisticOps=$.optimisticOps.filter(function(_e){return _e.trans!==O});for(var ce=0,me=Object.values($.queries.query);ce<me.length;ce++)for(var pe,de,we,ve=0,fe=(pe=me[ce]).slice();ve<fe.length;ve++)(de=fe[ve]).res!=null&&O.mutatedParts&&(M&&!de.dirty?(we=Object.isFrozen(de.res),we=Cl(de.res,de.req,L,z,de,we),de.dirty?(Ce(pe,de),de.subscribers.forEach(function(_e){return Y.add(_e)})):we!==de.res&&(de.res=we,de.promise=ye.resolve({result:we}))):(de.dirty&&Ce(pe,de),de.subscribers.forEach(function(_e){return Y.add(_e)})))}}}Y.forEach(function(_e){return _e()})}}})(!1),{signal:_}),O.addEventListener("error",T(!1),{signal:_}),O.addEventListener("complete",T(!0),{signal:_})),O},table:function(v){var b=o.table(v),_=b.schema.primaryKey;return s(s({},b),{mutate:function(E){var T,O=xe.trans;return!_.outbound&&O.db._options.cache!=="disabled"&&!O.explicit&&O.idbtrans.mode==="readwrite"&&(T=Va["idb://".concat(h,"/").concat(v)])?(O=b.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||ms(_,E).some(function(M){return M==null}))?(T.optimisticOps.push(E),E.mutatedParts&&fs(E.mutatedParts),O.then(function(M){0<M.numFailures&&(Ce(T.optimisticOps,E),(M=Wo(0,E,M))&&T.optimisticOps.push(M),E.mutatedParts)&&fs(E.mutatedParts)}),O.catch(function(){Ce(T.optimisticOps,E),E.mutatedParts&&fs(E.mutatedParts)})):O.then(function(M){var Y=Wo(0,s(s({},E),{values:E.values.map(function(U,D){var q;return M.failures[D]?U:(se(q=(q=_.keyPath)!=null&&q.includes(".")?bn(U):s({},U),_.keyPath,M.results[D]),q)})}),M);T.optimisticOps.push(Y),queueMicrotask(function(){return E.mutatedParts&&fs(E.mutatedParts)})}),O):b.mutate(E)},query:function(E){var T,O,M,Y,U,D,q;return Ia(xe,b)&&Qo("query",E)?(T=((M=xe.trans)==null?void 0:M.db._options.cache)==="immutable",O=(M=xe).requery,M=M.signal,D=(($,z,L,I)=>{var J=Va["idb://".concat($,"/").concat(z)];if(!J)return[];if(!($=J.queries[L]))return[null,!1,J,null];var V=$[(I.query?I.query.index.name:null)||""];if(!V)return[null,!1,J,null];switch(L){case"query":var ae=V.find(function(ce){return ce.req.limit===I.limit&&ce.req.values===I.values&&Nr(ce.req.query.range,I.query.range)});return ae?[ae,!0,J,V]:[V.find(function(ce){return("limit"in ce.req?ce.req.limit:1/0)>=I.limit&&(!I.values||ce.req.values)&&ki(ce.req.query.range,I.query.range)}),!1,J,V];case"count":return ae=V.find(function(ce){return Nr(ce.req.query.range,I.query.range)}),[ae,!!ae,J,V]}})(h,v,"query",E),q=D[0],Y=D[2],U=D[3],q&&D[1]?q.obsSet=E.obsSet:(D=b.query(E).then(function($){var z=$.result;if(q&&(q.res=z),T){for(var L=0,I=z.length;L<I;++L)Object.freeze(z[L]);Object.freeze(z)}else $.result=bn(z);return $}).catch(function($){return U&&q&&Ce(U,q),Promise.reject($)}),q={obsSet:E.obsSet,promise:D,subscribers:new Set,type:"query",req:E,dirty:!1},U?U.push(q):(U=[q],(Y=Y||(Va["idb://".concat(h,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=U)),Hc(q,U,O,M),q.promise.then(function($){return{result:Cl($.result,E,Y?.optimisticOps,b,q,T)}})):b.query(E)}})}})}};function Ti(o,h){return new Proxy(o,{get:function(v,b,_){return b==="db"?h:Reflect.get(v,b,_)}})}Et.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Oe.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var h=this._versions,v=h.filter(function(b){return b._cfg.version===o})[0];return v||(v=new this.Version(o),h.push(v),h.sort(xl),v.stores({}),this._state.autoSchema=!1),v},Et.prototype._whenReady=function(o){var h=this;return this.idbdb&&(this._state.openComplete||xe.letThrough||this._vip)?o():new ye(function(v,b){if(h._state.openComplete)return b(new Oe.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void b(new Oe.DatabaseClosed);h.open().catch(rt)}h._state.dbReadyPromise.then(v,b)}).then(o)},Et.prototype.use=function(_){var h=_.stack,v=_.create,b=_.level,_=_.name,E=(_&&this.unuse({stack:h,name:_}),this._middlewares[h]||(this._middlewares[h]=[]));return E.push({stack:h,create:v,level:b??10,name:_}),E.sort(function(T,O){return T.level-O.level}),this},Et.prototype.unuse=function(o){var h=o.stack,v=o.name,b=o.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(_){return b?_.create!==b:!!v&&_.name!==v})),this},Et.prototype.open=function(){var o=this;return Cn(an,function(){return qc(o)})},Et.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,h=qa.indexOf(this);if(0<=h&&qa.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new ye(function(v){o.dbReadyResolve=v}),o.openCanceller=new ye(function(v,b){o.cancelOpen=b}))},Et.prototype.close=function(h){var h=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,v=this._state;h?(v.isBeingOpened&&v.cancelOpen(new Oe.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new Oe.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},Et.prototype.delete=function(o){var h=this,v=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),b=this._state;return new ye(function(_,E){function T(){h.close(o);var O=h._deps.indexedDB.deleteDatabase(h.name);O.onsuccess=bt(function(){var M,Y,U;M=h._deps,Y=h.name,us(U=M.indexedDB)||Y===pi||_l(U,M.IDBKeyRange).delete(Y).catch(rt),_()}),O.onerror=Dn(E),O.onblocked=h._fireOnBlocked}if(v)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(T):T()})},Et.prototype.backendDB=function(){return this.idbdb},Et.prototype.isOpen=function(){return this.idbdb!==null},Et.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Et.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Et.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Et.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(h){return o._allTables[h]})},enumerable:!1,configurable:!0}),Et.prototype.transaction=function(){var o=(function(h,v,b){var _=arguments.length;if(_<2)throw new Oe.InvalidArgument("Too few arguments");for(var E=new Array(_-1);--_;)E[_-1]=arguments[_];return b=E.pop(),[h,Dt(E),b]}).apply(this,arguments);return this._transaction.apply(this,o)},Et.prototype._transaction=function(o,h,v){var b,_,E=this,T=xe.trans,O=(T&&T.db===this&&o.indexOf("!")===-1||(T=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(_=h.map(function(Y){if(Y=Y instanceof E.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),o=="r"||o===la)b=la;else{if(o!="rw"&&o!=Sa)throw new Oe.InvalidArgument("Invalid transaction mode: "+o);b=Sa}if(T){if(T.mode===la&&b===Sa){if(!O)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&_.forEach(function(Y){if(T&&T.storeNames.indexOf(Y)===-1){if(!O)throw new Oe.SubTransaction("Table "+Y+" not included in parent transaction.");T=null}}),O&&T&&!T.active&&(T=null)}}catch(Y){return T?T._promise(null,function(U,D){D(Y)}):mt(Y)}var M=(function Y(U,D,q,$,z){return ye.resolve().then(function(){var V=xe.transless||xe,L=U._createTransaction(D,q,U._dbSchema,$),V=(L.explicit=!0,{trans:L,transless:V});if($)L.idbtrans=$.idbtrans;else try{L.create(),L.idbtrans._explicit=!0,U._state.PR1398_maxLoop=3}catch(ae){return ae.name===It.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return Y(U,D,q,null,z)})):mt(ae)}var I,J=H(z),V=(J&&zt(),ye.follow(function(){var ae;(I=z.call(L,L))&&(J?(ae=wn.bind(null,null),I.then(ae,ae)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=ji(I)))},V));return(I&&typeof I.then=="function"?ye.resolve(I).then(function(ae){return L.active?ae:mt(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):V.then(function(){return I})).then(function(ae){return $&&L._resolve(),L._completion.then(function(){return ae})}).catch(function(ae){return L._reject(ae),mt(ae)})})}).bind(null,this,b,_,T,v);return T?T._promise(b,M,"lock"):xe.trans?Cn(xe.transless,function(){return E._whenReady(M)}):this._whenReady(M)},Et.prototype.table=function(o){if(j(this._allTables,o))return this._allTables[o];throw new Oe.InvalidTable("Table ".concat(o," does not exist"))};var Xn=Et;function Et(o,h){var v,b,_,E,T,O=this,M=(this._middlewares={},this.verno=0,Et.dependencies),M=(this._options=h=s({addons:Et.addons,autoOpen:!0,indexedDB:M.indexedDB,IDBKeyRange:M.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},h.addons),Y=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:rt,dbReadyPromise:null,cancelOpen:rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen}),U=(Y.dbReadyPromise=new ye(function(D){Y.dbReadyResolve=D}),Y.openCanceller=new ye(function(D,q){Y.cancelOpen=q}),this._state=Y,this.name=o,this.on=gi(this,"populate","blocked","versionchange","close",{ready:[ii,rt]}),this.once=function(D,q){var $=function(){for(var z=[],L=0;L<arguments.length;L++)z[L]=arguments[L];O.on(D).unsubscribe($),q.apply(O,z)};return O.on(D,$)},this.on.ready.subscribe=te(this.on.ready.subscribe,function(D){return function(q,$){Et.vip(function(){var z,L=O._state;L.openComplete?(L.dbOpenError||ye.resolve().then(q),$&&D(q)):L.onReadyBeingFired?(L.onReadyBeingFired.push(q),$&&D(q)):(D(q),z=O,$||D(function I(){z.on.ready.unsubscribe(q),z.on.ready.unsubscribe(I)}))})}}),this.Collection=(v=this,Jt(Uc.prototype,function(I,L){this.db=v;var $=ml,z=null;if(L)try{$=L()}catch(V){z=V}var L=I._ctx,I=L.table,J=I.hook.reading.fire;this._ctx={table:I,index:L.index,isPrimKey:!L.index||I.schema.primKey.keyPath&&L.index===I.schema.primKey.name,range:$,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:z,or:L.or,valueMapper:J!==vr?J:null}})),this.Table=(b=this,Jt(pl.prototype,function(D,q,$){this.db=b,this._tx=$,this.name=D,this.schema=q,this.hook=b._allTables[D]?b._allTables[D].hook:gi(null,{creating:[ul,rt],reading:[Ma,vr],updating:[zo,rt],deleting:[Rc,rt]})})),this.Transaction=(_=this,Jt(bl.prototype,function(D,q,$,z,L){var I=this;D!=="readonly"&&q.forEach(function(J){J=(J=$[J])==null?void 0:J.yProps,J&&(q=q.concat(J.map(function(V){return V.updatesTable})))}),this.db=_,this.mode=D,this.storeNames=q,this.schema=$,this.chromeTransactionDurability=z,this.idbtrans=null,this.on=gi(this,"complete","error","abort"),this.parent=L||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ye(function(J,V){I._resolve=J,I._reject=V}),this._completion.then(function(){I.active=!1,I.on.complete.fire()},function(J){var V=I.active;return I.active=!1,I.on.error.fire(J),I.parent?I.parent._reject(J):V&&I.idbtrans&&I.idbtrans.abort(),mt(J)})})),this.Version=(E=this,Jt(Lc.prototype,function(D){this.db=E,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(T=this,Jt(Ha.prototype,function(D,q,$){if(this.db=T,this._ctx={table:D,index:q===":id"?null:q,or:$},this._cmp=this._ascending=Ve,this._descending=function(z,L){return Ve(L,z)},this._max=function(z,L){return 0<Ve(z,L)?z:L},this._min=function(z,L){return Ve(z,L)<0?z:L},this._IDBKeyRange=T._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(O.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(O.name,"'. Closing db now to resume the delete request.")),O.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(O.name,"') was blocked")):console.warn("Upgrade '".concat(O.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=jr(h.IDBKeyRange),this._createTransaction=function(D,q,$,z){return new O.Transaction(D,q,$,O._options.chromeTransactionDurability,z)},this._fireOnBlocked=function(D){O.on("blocked").fire(D),qa.filter(function(q){return q.name===O.name&&q!==O&&!q._state.vcFired}).map(function(q){return q.on("versionchange").fire(D)})},this.use(Xo),this.use(ys),this.use($c),this.use(Bc),this.use(Io),new Proxy(this,{get:function(D,q,$){var z;return q==="_vip"||(q==="table"?function(L){return Ti(O.table(L),U)}:(z=Reflect.get(D,q,$))instanceof pl?Ti(z,U):q==="tables"?z.map(function(L){return Ti(L,U)}):q==="_createTransaction"?function(){return Ti(z.apply(this,arguments),U)}:z)}}));this.vip=U,M.forEach(function(D){return D(O)})}var Ar,Xa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Jo=(vs.prototype.subscribe=function(o,h,v){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:h,complete:v})},vs.prototype[Xa]=function(){return this},vs);function vs(o){this._subscribe=o}try{Ar={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch{Ar={indexedDB:null,IDBKeyRange:null}}function Fo(o){var h,v=!1,b=new Jo(function(_){var E=H(o),T,O=!1,M={},Y={},U={get closed(){return O},unsubscribe:function(){O||(O=!0,T&&T.abort(),D&&Ft.storagemutated.unsubscribe($))}},D=(_.start&&_.start(U),!1),q=function(){return _a(z)},$=function(L){ds(M,L),kl(Y,M)&&q()},z=function(){var L,I,J;!O&&Ar.indexedDB&&(M={},L={},T&&T.abort(),T=new AbortController,J=(V=>{var ae=ba();try{E&&zt();var ce=wt(o,V);return ce=E?ce.finally(wn):ce}finally{ae&&Gn()}})(I={subscr:L,signal:T.signal,requery:q,querier:o,trans:null}),Promise.resolve(J).then(function(V){v=!0,h=V,O||I.signal.aborted||(M={},(ae=>{for(var ce in ae)if(j(ae,ce))return;return 1})(Y=L)||D||(Ft(Sr,$),D=!0),_a(function(){return!O&&_.next&&_.next(V)}))},function(V){v=!1,["DatabaseClosedError","AbortError"].includes(V?.name)||O||_a(function(){O||_.error&&_.error(V)})}))};return setTimeout(q,0),U});return b.hasValue=function(){return v},b.getValue=function(){return h},b}var Qa=Xn;function Rl(o){var h=Ta;try{Ta=!0,Ft.storagemutated.fire(o),Nl(o,!0)}finally{Ta=h}}N(Qa,s(s({},le),{delete:function(o){return new Qa(o,{addons:[]}).delete()},exists:function(o){return new Qa(o,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return h=Qa.dependencies,v=h.indexedDB,h=h.IDBKeyRange,(us(v)?Promise.resolve(v.databases()).then(function(b){return b.map(function(_){return _.name}).filter(function(_){return _!==pi})}):_l(v,h).toCollection().primaryKeys()).then(o)}catch{return mt(new Oe.MissingAPI)}var h,v},defineClass:function(){return function(o){g(this,o)}},ignoreTransaction:function(o){return xe.trans?Cn(xe.transless,o):o()},vip:Sl,async:function(o){return function(){try{var h=ji(o.apply(this,arguments));return h&&typeof h.then=="function"?h:ye.resolve(h)}catch(v){return mt(v)}}},spawn:function(o,h,v){try{var b=ji(o.apply(v,h||[]));return b&&typeof b.then=="function"?b:ye.resolve(b)}catch(_){return mt(_)}},currentTransaction:{get:function(){return xe.trans||null}},waitFor:function(o,h){return o=ye.resolve(typeof o=="function"?Qa.ignoreTransaction(o):o).timeout(h||6e4),xe.trans?xe.trans.waitFor(o):o},Promise:ye,debug:{get:function(){return En},set:function(o){Lo(o)}},derive:X,extend:g,props:N,override:te,Events:gi,on:Ft,liveQuery:Fo,extendObservabilitySet:ds,getByKeyPath:Se,setByKeyPath:se,delByKeyPath:function(o,h){typeof h=="string"?se(o,h,void 0):"length"in h&&[].map.call(h,function(v){se(o,v,void 0)})},shallowClone:ze,deepClone:bn,getObjectDiff:hs,cmp:Ve,asap:Me,minKey:-1/0,addons:[],connections:qa,errnames:It,dependencies:Ar,cache:Va,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,h,v){return o+h/Math.pow(10,2*v)})})),Qa.maxKey=jr(Qa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ft(Sr,function(o){Ta||(o=new CustomEvent(Ka,{detail:o}),Ta=!0,dispatchEvent(o),Ta=!1)}),addEventListener(Ka,function(o){o=o.detail,Ta||Rl(o)}));var Cr,Ta=!1,yn=function(){};return typeof BroadcastChannel<"u"&&((yn=function(){(Cr=new BroadcastChannel(Ka)).onmessage=function(o){return o.data&&Rl(o.data)}})(),typeof Cr.unref=="function"&&Cr.unref(),Ft(Sr,function(o){Ta||Cr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Xn.disableBfCache&&o.persisted){En&&console.debug("Dexie: handling persisted pagehide"),Cr?.close();for(var h=0,v=qa;h<v.length;h++)v[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Xn.disableBfCache&&o.persisted&&(En&&console.debug("Dexie: handling persisted pageshow"),yn(),Rl({all:new Zt(-1/0,[[]])}))})),ye.rejectionMapper=function(o,h){return!o||o instanceof Ee||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ri[o.name]?o:(h=new ri[o.name](h||o.message,o),"stack"in o&&P(h,"stack",{get:function(){return this.inner.stack}}),h)},Lo(En),s(Xn,Object.freeze({__proto__:null,Dexie:Xn,Entity:Bo,PropModification:_r,RangeSet:Zt,add:function(o){return new _r({add:o})},cmp:Ve,default:Xn,liveQuery:Fo,mergeRanges:Ya,rangesOverlap:Go,remove:function(o){return new _r({remove:o})},replacePrefix:function(o,h){return new _r({replacePrefix:[o,h]})}}),{default:Xn}),Xn})})(vc)),vc.exports}var C1=A1();const ih=oh(C1),yv=Symbol.for("Dexie"),_c=globalThis[yv]||(globalThis[yv]=ih);if(ih.semVer!==_c.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ih.semVer} and ${_c.semVer}`);const{liveQuery:pj,mergeRanges:yj,rangesOverlap:vj,RangeSet:gj,cmp:bj,Entity:xj,PropModification:wj,replacePrefix:_j,add:Sj,remove:Ej,DexieYProvider:jj}=_c;class R1 extends _c{athlete_summary;app_settings;athlete_levels_lookup;personal_records;muscles;equipment;exercises;exercise_muscles;exercise_equipment;routines;routine_exercises;workouts;workout_logs;constructor(){super("FitnexDB"),this.version(1).stores({athlete_summary:"user_id",app_settings:"id",athlete_levels_lookup:"id, level_name",personal_records:"[user_id+exercise_id]",muscles:"id, name, parent",equipment:"id, name",exercises:"id, name",exercise_muscles:"[exercise_id+muscle_id], muscle_id",exercise_equipment:"[exercise_id+equipment_id], equipment_id",routines:"id, name",routine_exercises:"[routine_id+exercise_id], exercise_id",workouts:"id, user_id, start_time, is_synced",workout_logs:"id, workout_id, exercise_id,is_synced, [workout_id+exercise_id+set_number]"})}}const ke=new R1,D1={async syncSummary(r){const{data:n,error:i}=await ct.from("v_user_dashboard").select("*").eq("user_id",r).maybeSingle();if(i)throw i;return n?(await ke.athlete_summary.put(n),n):null}};let ic=!1;const tn={async syncLibrary(r=!1){if(ic&&!r)return;if(await ke.muscles.count()>0&&!r){ic=!0;return}const[i,s,u,d,m]=await Promise.all([ct.from("muscles").select("*"),ct.from("equipment").select("*"),ct.from("exercises").select("*"),ct.from("exercise_muscles").select("*"),ct.from("exercise_equipment").select("*")]);await ke.transaction("rw",[ke.muscles,ke.equipment,ke.exercises,ke.exercise_muscles,ke.exercise_equipment],async()=>{i.data&&await ke.muscles.bulkPut(i.data),s.data&&await ke.equipment.bulkPut(s.data),u.data&&await ke.exercises.bulkPut(u.data),d.data&&await ke.exercise_muscles.bulkPut(d.data),m.data&&await ke.exercise_equipment.bulkPut(m.data)}),ic=!0},async getActiveMuscles(){return await ke.muscles.filter(r=>r.status!==!1).toArray()},async getMuscleById(r){return await ke.muscles.get(r)},async getAllEquipment(){return await ke.equipment.toArray()},async getExercisesWithMeta(){const[r,n,i,s,u]=await Promise.all([ke.exercises.filter(d=>d.status!==!1).toArray(),ke.exercise_muscles.toArray(),ke.exercise_equipment.toArray(),ke.muscles.toArray(),ke.equipment.toArray()]);return r.map(d=>{const y=n.filter(S=>S.exercise_id===d.id).map(S=>{const j=s.find(A=>A.id===S.muscle_id),N=j?.parent?s.find(A=>A.id===j.parent):null;return{name:j?.name||"Unknown",parent_name:N?.name||null,role:S.role}}),g=i.find(S=>S.exercise_id===d.id),x=u.find(S=>S.id===g?.equipment_id);return{...d,all_muscles:y,equipment_name:x?.name||"None"}})},async getExerciseDetail(r){const[n,i,s,u,d]=await Promise.all([ke.exercises.get(r),ke.exercise_muscles.where("exercise_id").equals(r).toArray(),ke.exercise_equipment.where("exercise_id").equals(r).toArray(),ke.muscles.toArray(),ke.equipment.toArray()]);return n?{...n,muscles:i.map(m=>({id:m.muscle_id,name:u.find(y=>y.id===m.muscle_id)?.name||"Unknown",role:m.role})),equipmentId:s[0]?.equipment_id?.toString()||""}:null},async addMuscle(r,n){const i={name:r,parent:n||null},{data:s,error:u}=await ct.from("muscles").insert([i]).select().single();if(u)throw u;return await ke.muscles.put(s),s},async updateMuscle(r,n,i){const s={name:n,parent:i||null,updated_at:new Date().toISOString()},{data:u,error:d}=await ct.from("muscles").update(s).eq("id",r).select().single();if(d)throw d;await ke.muscles.put(u)},async archiveMuscle(r){const{data:n,error:i}=await ct.from("muscles").update({status:!1}).eq("id",r).select().single();if(i)throw i;await ke.muscles.put(n)},async addExercise(r,n,i){const{data:s,error:u}=await ct.from("exercises").insert([r]).select().single();if(u)throw u;await ke.exercises.put(s);const d=[];if(n.length>0){const m=n.map(y=>({exercise_id:s.id,muscle_id:y.id,role:y.role}));d.push(ct.from("exercise_muscles").insert(m)),d.push(ke.exercise_muscles.bulkPut(m))}if(i){const m={exercise_id:s.id,equipment_id:parseInt(i)};d.push(ct.from("exercise_equipment").insert([m])),d.push(ke.exercise_equipment.put(m))}return await Promise.all(d),s},async updateExercise(r,n,i,s){const{data:u,error:d}=await ct.from("exercises").update(n).eq("id",r).select().single();if(d)throw d;if(await ke.exercises.put(u),await Promise.all([ct.from("exercise_muscles").delete().eq("exercise_id",r),ke.exercise_muscles.where("exercise_id").equals(r).delete()]),i.length>0){const m=i.map(y=>({exercise_id:r,muscle_id:y.id,role:y.role}));await ct.from("exercise_muscles").insert(m),await ke.exercise_muscles.bulkPut(m)}if(await Promise.all([ct.from("exercise_equipment").delete().eq("exercise_id",r),ke.exercise_equipment.where("exercise_id").equals(r).delete()]),s){const m={exercise_id:r,equipment_id:parseInt(s)};await ct.from("exercise_equipment").insert([m]),await ke.exercise_equipment.put(m)}},async archiveExercise(r){const{data:n,error:i}=await ct.from("exercises").update({status:!1}).eq("id",r).select().single();if(i)throw i;await ke.exercises.put(n)},resetLock(){ic=!1}},yg=6048e5,M1=864e5,vv=Symbol.for("constructDateFrom");function mr(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&vv in r?r[vv](n):r instanceof Date?new r.constructor(n):new Date(n)}function aa(r,n){return mr(n||r,r)}function U1(r,n,i){const s=aa(r,i?.in);return isNaN(n)?mr(r,NaN):(n&&s.setDate(s.getDate()+n),s)}let z1={};function Cc(){return z1}function Ii(r,n){const i=Cc(),s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=aa(r,n?.in),d=u.getDay(),m=(d<s?7:0)+d-s;return u.setDate(u.getDate()-m),u.setHours(0,0,0,0),u}function Sc(r,n){return Ii(r,{...n,weekStartsOn:1})}function vg(r,n){const i=aa(r,n?.in),s=i.getFullYear(),u=mr(i,0);u.setFullYear(s+1,0,4),u.setHours(0,0,0,0);const d=Sc(u),m=mr(i,0);m.setFullYear(s,0,4),m.setHours(0,0,0,0);const y=Sc(m);return i.getTime()>=d.getTime()?s+1:i.getTime()>=y.getTime()?s:s-1}function gv(r){const n=aa(r),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+r-+i}function gg(r,...n){const i=mr.bind(null,n.find(s=>typeof s=="object"));return n.map(i)}function Ec(r,n){const i=aa(r,n?.in);return i.setHours(0,0,0,0),i}function L1(r,n,i){const[s,u]=gg(i?.in,r,n),d=Ec(s),m=Ec(u),y=+d-gv(d),g=+m-gv(m);return Math.round((y-g)/M1)}function q1(r,n){const i=vg(r,n),s=mr(r,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Sc(s)}function bv(r,n,i){const[s,u]=gg(i?.in,r,n);return+Ec(s)==+Ec(u)}function B1(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function $1(r){return!(!B1(r)&&typeof r!="number"||isNaN(+aa(r)))}function H1(r,n){const i=aa(r,n?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const P1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},K1=(r,n,i)=>{let s;const u=P1[r];return typeof u=="string"?s=u:n===1?s=u.one:s=u.other.replace("{{count}}",n.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};function Gf(r){return(n={})=>{const i=n.width?String(n.width):r.defaultWidth;return r.formats[i]||r.formats[r.defaultWidth]}}const G1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I1={date:Gf({formats:G1,defaultWidth:"full"}),time:Gf({formats:Y1,defaultWidth:"full"}),dateTime:Gf({formats:V1,defaultWidth:"full"})},X1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q1=(r,n,i,s)=>X1[r];function yo(r){return(n,i)=>{const s=i?.context?String(i.context):"standalone";let u;if(s==="formatting"&&r.formattingValues){const m=r.defaultFormattingWidth||r.defaultWidth,y=i?.width?String(i.width):m;u=r.formattingValues[y]||r.formattingValues[m]}else{const m=r.defaultWidth,y=i?.width?String(i.width):r.defaultWidth;u=r.values[y]||r.values[m]}const d=r.argumentCallback?r.argumentCallback(n):n;return u[d]}}const W1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Z1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nS=(r,n)=>{const i=Number(r),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},aS={ordinalNumber:nS,era:yo({values:W1,defaultWidth:"wide"}),quarter:yo({values:J1,defaultWidth:"wide",argumentCallback:r=>r-1}),month:yo({values:F1,defaultWidth:"wide"}),day:yo({values:Z1,defaultWidth:"wide"}),dayPeriod:yo({values:eS,defaultWidth:"wide",formattingValues:tS,defaultFormattingWidth:"wide"})};function vo(r){return(n,i={})=>{const s=i.width,u=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],d=n.match(u);if(!d)return null;const m=d[0],y=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(y)?iS(y,j=>j.test(m)):rS(y,j=>j.test(m));let x;x=r.valueCallback?r.valueCallback(g):g,x=i.valueCallback?i.valueCallback(x):x;const S=n.slice(m.length);return{value:x,rest:S}}}function rS(r,n){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&n(r[i]))return i}function iS(r,n){for(let i=0;i<r.length;i++)if(n(r[i]))return i}function sS(r){return(n,i={})=>{const s=n.match(r.matchPattern);if(!s)return null;const u=s[0],d=n.match(r.parsePattern);if(!d)return null;let m=r.valueCallback?r.valueCallback(d[0]):d[0];m=i.valueCallback?i.valueCallback(m):m;const y=n.slice(u.length);return{value:m,rest:y}}}const lS=/^(\d+)(th|st|nd|rd)?/i,oS=/\d+/i,uS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cS={any:[/^b/i,/^(a|c)/i]},dS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fS={any:[/1/i,/2/i,/3/i,/4/i]},hS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bS={ordinalNumber:sS({matchPattern:lS,parsePattern:oS,valueCallback:r=>parseInt(r,10)}),era:vo({matchPatterns:uS,defaultMatchWidth:"wide",parsePatterns:cS,defaultParseWidth:"any"}),quarter:vo({matchPatterns:dS,defaultMatchWidth:"wide",parsePatterns:fS,defaultParseWidth:"any",valueCallback:r=>r+1}),month:vo({matchPatterns:hS,defaultMatchWidth:"wide",parsePatterns:mS,defaultParseWidth:"any"}),day:vo({matchPatterns:pS,defaultMatchWidth:"wide",parsePatterns:yS,defaultParseWidth:"any"}),dayPeriod:vo({matchPatterns:vS,defaultMatchWidth:"any",parsePatterns:gS,defaultParseWidth:"any"})},xS={code:"en-US",formatDistance:K1,formatLong:I1,formatRelative:Q1,localize:aS,match:bS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wS(r,n){const i=aa(r,n?.in);return L1(i,H1(i))+1}function _S(r,n){const i=aa(r,n?.in),s=+Sc(i)-+q1(i);return Math.round(s/yg)+1}function bg(r,n){const i=aa(r,n?.in),s=i.getFullYear(),u=Cc(),d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,m=mr(n?.in||r,0);m.setFullYear(s+1,0,d),m.setHours(0,0,0,0);const y=Ii(m,n),g=mr(n?.in||r,0);g.setFullYear(s,0,d),g.setHours(0,0,0,0);const x=Ii(g,n);return+i>=+y?s+1:+i>=+x?s:s-1}function SS(r,n){const i=Cc(),s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=bg(r,n),d=mr(n?.in||r,0);return d.setFullYear(u,0,s),d.setHours(0,0,0,0),Ii(d,n)}function ES(r,n){const i=aa(r,n?.in),s=+Ii(i,n)-+SS(i,n);return Math.round(s/yg)+1}function ht(r,n){const i=r<0?"-":"",s=Math.abs(r).toString().padStart(n,"0");return i+s}const ti={y(r,n){const i=r.getFullYear(),s=i>0?i:1-i;return ht(n==="yy"?s%100:s,n.length)},M(r,n){const i=r.getMonth();return n==="M"?String(i+1):ht(i+1,2)},d(r,n){return ht(r.getDate(),n.length)},a(r,n){const i=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(r,n){return ht(r.getHours()%12||12,n.length)},H(r,n){return ht(r.getHours(),n.length)},m(r,n){return ht(r.getMinutes(),n.length)},s(r,n){return ht(r.getSeconds(),n.length)},S(r,n){const i=n.length,s=r.getMilliseconds(),u=Math.trunc(s*Math.pow(10,i-3));return ht(u,n.length)}},Qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xv={G:function(r,n,i){const s=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(s,{width:"abbreviated"});case"GGGGG":return i.era(s,{width:"narrow"});default:return i.era(s,{width:"wide"})}},y:function(r,n,i){if(n==="yo"){const s=r.getFullYear(),u=s>0?s:1-s;return i.ordinalNumber(u,{unit:"year"})}return ti.y(r,n)},Y:function(r,n,i,s){const u=bg(r,s),d=u>0?u:1-u;if(n==="YY"){const m=d%100;return ht(m,2)}return n==="Yo"?i.ordinalNumber(d,{unit:"year"}):ht(d,n.length)},R:function(r,n){const i=vg(r);return ht(i,n.length)},u:function(r,n){const i=r.getFullYear();return ht(i,n.length)},Q:function(r,n,i){const s=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ht(s,2);case"Qo":return i.ordinalNumber(s,{unit:"quarter"});case"QQQ":return i.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(s,{width:"narrow",context:"formatting"});default:return i.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,n,i){const s=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ht(s,2);case"qo":return i.ordinalNumber(s,{unit:"quarter"});case"qqq":return i.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(s,{width:"narrow",context:"standalone"});default:return i.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,n,i){const s=r.getMonth();switch(n){case"M":case"MM":return ti.M(r,n);case"Mo":return i.ordinalNumber(s+1,{unit:"month"});case"MMM":return i.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(s,{width:"narrow",context:"formatting"});default:return i.month(s,{width:"wide",context:"formatting"})}},L:function(r,n,i){const s=r.getMonth();switch(n){case"L":return String(s+1);case"LL":return ht(s+1,2);case"Lo":return i.ordinalNumber(s+1,{unit:"month"});case"LLL":return i.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(s,{width:"narrow",context:"standalone"});default:return i.month(s,{width:"wide",context:"standalone"})}},w:function(r,n,i,s){const u=ES(r,s);return n==="wo"?i.ordinalNumber(u,{unit:"week"}):ht(u,n.length)},I:function(r,n,i){const s=_S(r);return n==="Io"?i.ordinalNumber(s,{unit:"week"}):ht(s,n.length)},d:function(r,n,i){return n==="do"?i.ordinalNumber(r.getDate(),{unit:"date"}):ti.d(r,n)},D:function(r,n,i){const s=wS(r);return n==="Do"?i.ordinalNumber(s,{unit:"dayOfYear"}):ht(s,n.length)},E:function(r,n,i){const s=r.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},e:function(r,n,i,s){const u=r.getDay(),d=(u-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(d);case"ee":return ht(d,2);case"eo":return i.ordinalNumber(d,{unit:"day"});case"eee":return i.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(u,{width:"short",context:"formatting"});default:return i.day(u,{width:"wide",context:"formatting"})}},c:function(r,n,i,s){const u=r.getDay(),d=(u-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(d);case"cc":return ht(d,n.length);case"co":return i.ordinalNumber(d,{unit:"day"});case"ccc":return i.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(u,{width:"narrow",context:"standalone"});case"cccccc":return i.day(u,{width:"short",context:"standalone"});default:return i.day(u,{width:"wide",context:"standalone"})}},i:function(r,n,i){const s=r.getDay(),u=s===0?7:s;switch(n){case"i":return String(u);case"ii":return ht(u,n.length);case"io":return i.ordinalNumber(u,{unit:"day"});case"iii":return i.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(s,{width:"short",context:"formatting"});default:return i.day(s,{width:"wide",context:"formatting"})}},a:function(r,n,i){const u=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(r,n,i){const s=r.getHours();let u;switch(s===12?u=Qs.noon:s===0?u=Qs.midnight:u=s/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(r,n,i){const s=r.getHours();let u;switch(s>=17?u=Qs.evening:s>=12?u=Qs.afternoon:s>=4?u=Qs.morning:u=Qs.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(u,{width:"narrow",context:"formatting"});default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(r,n,i){if(n==="ho"){let s=r.getHours()%12;return s===0&&(s=12),i.ordinalNumber(s,{unit:"hour"})}return ti.h(r,n)},H:function(r,n,i){return n==="Ho"?i.ordinalNumber(r.getHours(),{unit:"hour"}):ti.H(r,n)},K:function(r,n,i){const s=r.getHours()%12;return n==="Ko"?i.ordinalNumber(s,{unit:"hour"}):ht(s,n.length)},k:function(r,n,i){let s=r.getHours();return s===0&&(s=24),n==="ko"?i.ordinalNumber(s,{unit:"hour"}):ht(s,n.length)},m:function(r,n,i){return n==="mo"?i.ordinalNumber(r.getMinutes(),{unit:"minute"}):ti.m(r,n)},s:function(r,n,i){return n==="so"?i.ordinalNumber(r.getSeconds(),{unit:"second"}):ti.s(r,n)},S:function(r,n){return ti.S(r,n)},X:function(r,n,i){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return _v(s);case"XXXX":case"XX":return Ki(s);default:return Ki(s,":")}},x:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"x":return _v(s);case"xxxx":case"xx":return Ki(s);default:return Ki(s,":")}},O:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+wv(s,":");default:return"GMT"+Ki(s,":")}},z:function(r,n,i){const s=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+wv(s,":");default:return"GMT"+Ki(s,":")}},t:function(r,n,i){const s=Math.trunc(+r/1e3);return ht(s,n.length)},T:function(r,n,i){return ht(+r,n.length)}};function wv(r,n=""){const i=r>0?"-":"+",s=Math.abs(r),u=Math.trunc(s/60),d=s%60;return d===0?i+String(u):i+String(u)+n+ht(d,2)}function _v(r,n){return r%60===0?(r>0?"-":"+")+ht(Math.abs(r)/60,2):Ki(r,n)}function Ki(r,n=""){const i=r>0?"-":"+",s=Math.abs(r),u=ht(Math.trunc(s/60),2),d=ht(s%60,2);return i+u+n+d}const Sv=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},xg=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},jS=(r,n)=>{const i=r.match(/(P+)(p+)?/)||[],s=i[1],u=i[2];if(!u)return Sv(r,n);let d;switch(s){case"P":d=n.dateTime({width:"short"});break;case"PP":d=n.dateTime({width:"medium"});break;case"PPP":d=n.dateTime({width:"long"});break;default:d=n.dateTime({width:"full"});break}return d.replace("{{date}}",Sv(s,n)).replace("{{time}}",xg(u,n))},kS={p:xg,P:jS},TS=/^D+$/,OS=/^Y+$/,NS=["D","DD","YY","YYYY"];function AS(r){return TS.test(r)}function CS(r){return OS.test(r)}function RS(r,n,i){const s=DS(r,n,i);if(console.warn(s),NS.includes(r))throw new RangeError(s)}function DS(r,n,i){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${s} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,US=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zS=/^'([^]*?)'?$/,LS=/''/g,qS=/[a-zA-Z]/;function sc(r,n,i){const s=Cc(),u=s.locale??xS,d=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,m=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,y=aa(r,i?.in);if(!$1(y))throw new RangeError("Invalid time value");let g=n.match(US).map(S=>{const j=S[0];if(j==="p"||j==="P"){const N=kS[j];return N(S,u.formatLong)}return S}).join("").match(MS).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const j=S[0];if(j==="'")return{isToken:!1,value:BS(S)};if(xv[j])return{isToken:!0,value:S};if(j.match(qS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:S}});u.localize.preprocessor&&(g=u.localize.preprocessor(y,g));const x={firstWeekContainsDate:d,weekStartsOn:m,locale:u};return g.map(S=>{if(!S.isToken)return S.value;const j=S.value;(CS(j)||AS(j))&&RS(j,n,String(r));const N=xv[j[0]];return N(y,j,u.localize,x)}).join("")}function BS(r){const n=r.match(zS);return n?n[1].replace(LS,"'"):r}let lc=!1;const wg={async syncRecentWorkouts(r,n=!1){if(lc&&!n)return;const i=Ii(new Date,{weekStartsOn:1}).toISOString();if(await ke.workouts.where("start_time").above(i).count()>0&&!n){lc=!0;return}const{data:u}=await ct.from("workouts").select("*").eq("user_id",r).gte("start_time",i);u&&await ke.workouts.bulkPut(u),lc=!0},resetLock(){lc=!1}};let oc=!1;const _g={async syncRoutine(r,n=!1){if(oc&&!n)return;if(await ke.routines.count()>0&&!n){oc=!0;return}const[s,u]=await Promise.all([ct.from("routines").select("*").eq("user_id",r),ct.from("routine_exercises").select("*")]);await ke.transaction("rw",[ke.routines,ke.routine_exercises],async()=>{s.data&&await ke.routines.bulkPut(s.data),u.data&&await ke.routine_exercises.bulkPut(u.data)}),oc=!0},resetLock(){oc=!1}};let uc=!1;const bh={async syncMetadata(r=!1){if(uc&&!r)return;if(await ke.athlete_levels_lookup.count()>0&&!r){uc=!0;return}const{data:i,error:s}=await ct.from("athlete_levels_lookup").select("*").order("display_order");if(s){console.error("Metadata sync error:",s);return}i&&(await ke.athlete_levels_lookup.bulkPut(i),uc=!0)},async updateLevel(r){return await ct.from("athlete_level").upsert(r)},resetLock(){uc=!1}},Sg=R.createContext(void 0),$S=({children:r})=>{const[n,i]=R.useState(null),[s,u]=R.useState(null),[d,m]=R.useState(!0),[y,g]=R.useState(null),x=async(N,A=!1)=>{g(null),m(!0);try{if(!A){const X=await ke.athlete_summary.get(N);if(X){u(X),m(!1);return}}const P=await D1.syncSummary(N);u(P)}catch(P){console.error("Fitnex Auth Error:",P),g(P.message||"Failed to sync athlete data"),u(null)}finally{m(!1)}};R.useEffect(()=>{const{data:{subscription:N}}=ct.auth.onAuthStateChange(async(A,P)=>{P?.user?(i(P.user.id),await x(P.user.id)):(i(null),u(null),m(!1))});return()=>N.unsubscribe()},[]);const S=async()=>{n&&await x(n,!0)},j=async()=>{try{const N=await ke.workout_logs.where("is_synced").equals(0).count();return N>0?{success:!1,message:`Wait! ${N} sets are not synced.`}:(tn.resetLock(),wg.resetLock(),_g.resetLock(),bh.resetLock(),await ct.auth.signOut(),await ke.delete(),i(null),u(null),window.location.href="/fitnex/login",{success:!0})}catch(N){return console.error("Sign-out error:",N),{success:!1,message:N.message}}};return p.jsx(Sg.Provider,{value:{user_id:n,athlete:s,loading:d,error:y,signOut:j,refreshAthlete:S},children:r})},ya=()=>{const r=R.useContext(Sg);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},el=({label:r,...n})=>p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1 ml-1",children:r}),p.jsx("input",{...n,className:"w-full h-12 bg-slate-900 border border-slate-800 rounded-xl px-4 focus:outline-none focus:ring-2 focus:ring-brand transition-all"})]}),Ev="/fitnex/logo.webp",HS=()=>{const r=Kn(),[n,i]=R.useState(""),[s,u]=R.useState(""),[d,m]=R.useState(!1),[y,g]=R.useState(null),x=async S=>{S.preventDefault(),m(!0),g(null);const{error:j}=await ct.auth.signInWithPassword({email:n,password:s});j?(g(j.message),m(!1)):r("/dashboard",{replace:!0})};return p.jsx("div",{className:"safe-ios-top h-screen w-full bg-black overflow-hidden animate-login",children:p.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row",children:[p.jsx("div",{className:"hidden lg:flex w-1/2 items-center justify-center bg-gradient-to-br from-brand to-brand/70",children:p.jsxs("div",{className:"flex flex-col items-center text-black space-y-3",children:[p.jsx("img",{src:Ev,className:"w-[300px]"}),p.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"TRACK-FIT"}),p.jsx("p",{className:"tracking-[0.35em] font-bold opacity-70",children:"PRO EDITION"})]})}),p.jsxs("div",{className:"flex lg:hidden h-full flex-col items-center justify-center px-6",children:[p.jsx("img",{src:Ev,className:"w-56 mb-6"}),p.jsxs("div",{className:"w-full max-w-sm",children:[p.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"h-px flex-1 bg-white/10"}),p.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),p.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),p.jsxs("form",{onSubmit:x,className:"space-y-4",children:[p.jsx(el,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),p.jsx(el,{label:"Password",type:"password",value:s,onChange:S=>u(S.target.value),placeholder:"",required:!0}),y&&p.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),p.jsx("button",{disabled:d,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:d?"Authenticating...":"Sign In"})]})]})]}),p.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center px-6",children:p.jsxs("div",{className:"w-full max-w-sm",children:[p.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),p.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"h-px flex-1 bg-white/10"}),p.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),p.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),p.jsxs("form",{onSubmit:x,className:"space-y-4",children:[p.jsx(el,{label:"Email Address",type:"email",value:n,onChange:S=>i(S.target.value),placeholder:"name@example.com",required:!0}),p.jsx(el,{label:"Password",type:"password",value:s,onChange:S=>u(S.target.value),placeholder:"",required:!0}),y&&p.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),p.jsx("button",{disabled:d,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:d?"Authenticating...":"Sign In"})]})]})})]})})},sh={async getLatestMetrics(){try{const{data:r,error:n}=await ct.from("v_latest_body_metrics").select("*").maybeSingle();if(n)throw console.error("Error fetching latest body metrics:",n.message),n;return r??null}catch(r){throw console.error("Unexpected error in getLatestMetrics:",r),r}},async updateMetrics(r){try{const{error:n}=await ct.from("body_metrics").upsert(r);if(n)throw console.error("Error updating body metrics:",n.message),n;return!0}catch(n){throw console.error("Unexpected error in updateMetrics:",n),n}}},Eg={async updateProfile(r){return await ct.from("user_profile").upsert(r)}},PS=()=>{const{refreshAthlete:r}=ya();return{saveOnboarding:async(i,s,u)=>{try{const m=(await Promise.all([Eg.updateProfile(i),sh.updateMetrics(s),bh.updateLevel(u)])).find(y=>y.error)?.error;if(m)throw new Error(m.message);return await r(),{success:!0}}catch(d){return console.error("Onboarding Service Error:",d),{success:!1,error:d.message}}}}};const jg=(...r)=>r.filter((n,i,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===i).join(" ").trim();const KS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const GS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,s)=>s?s.toUpperCase():i.toLowerCase());const jv=r=>{const n=GS(r);return n.charAt(0).toUpperCase()+n.slice(1)};var YS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VS=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const IS=R.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:d,iconNode:m,...y},g)=>R.createElement("svg",{ref:g,...YS,width:n,height:n,stroke:r,strokeWidth:s?Number(i)*24/Number(n):i,className:jg("lucide",u),...!d&&!VS(y)&&{"aria-hidden":"true"},...y},[...m.map(([x,S])=>R.createElement(x,S)),...Array.isArray(d)?d:[d]]));const Ae=(r,n)=>{const i=R.forwardRef(({className:s,...u},d)=>R.createElement(IS,{ref:d,iconNode:n,className:jg(`lucide-${KS(jv(r))}`,`lucide-${r}`,s),...u}));return i.displayName=jv(r),i};const XS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],QS=Ae("activity",XS);const WS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JS=Ae("arrow-left",WS);const FS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ZS=Ae("award",FS);const e2=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],kg=Ae("box",e2);const t2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n2=Ae("calendar",t2);const a2=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],r2=Ae("chart-no-axes-column",a2);const i2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xh=Ae("check",i2);const s2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mo=Ae("chevron-down",s2);const l2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],o2=Ae("chevron-left",l2);const u2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nl=Ae("chevron-right",u2);const c2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Tg=Ae("circle-alert",c2);const d2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],f2=Ae("circle-check",d2);const h2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],m2=Ae("circle-user",h2);const p2=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wh=Ae("clipboard-list",p2);const y2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],v2=Ae("clock",y2);const g2=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Ao=Ae("dumbbell",g2);const b2=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],x2=Ae("flame",b2);const w2=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],_2=Ae("git-commit-horizontal",w2);const S2=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],E2=Ae("git-compare",S2);const j2=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],Og=Ae("git-merge",j2);const k2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ng=Ae("globe",k2);const T2=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],O2=Ae("hash",T2);const N2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],A2=Ae("heart",N2);const C2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],R2=Ae("house",C2);const D2=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Ag=Ae("library",D2);const M2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],U2=Ae("loader-circle",M2);const z2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_h=Ae("lock",z2);const L2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cg=Ae("log-out",L2);const q2=[["path",{d:"M5 12h14",key:"1ays0h"}]],Rg=Ae("minus",q2);const B2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$2=Ae("moon",B2);const H2=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Dg=Ae("move",H2);const P2=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],K2=Ae("paintbrush",P2);const G2=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Y2=Ae("palette",G2);const V2=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],I2=Ae("percent",V2);const X2=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],Q2=Ae("pipette",X2);const W2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],J2=Ae("play",W2);const F2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mg=Ae("plus",F2);const Z2=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],lh=Ae("refresh-ccw",Z2);const eE=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ug=Ae("repeat",eE);const tE=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],zg=Ae("ruler",tE);const nE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sh=Ae("save",nE);const aE=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],Lg=Ae("scale",aE);const rE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eh=Ae("search",rE);const iE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sE=Ae("settings",iE);const lE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jh=Ae("sparkles",lE);const oE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qg=Ae("star",oE);const uE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cE=Ae("sun",uE);const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xi=Ae("target",dE);const fE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],kh=Ae("timer",fE);const hE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bg=Ae("trash-2",hE);const mE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pE=Ae("trending-up",mE);const yE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ll=Ae("trophy",yE);const vE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uo=Ae("user",vE);const gE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bE=Ae("users",gE);const xE=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],$g=Ae("weight",xE);const wE=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],_E=Ae("wind",wE);const SE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EE=Ae("x",SE);const jE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ol=Ae("zap",jE),kE=({value:r,onChange:n})=>{const i=[{id:"male",label:"Male",icon:p.jsx(Uo,{size:32})},{id:"female",label:"Female",icon:p.jsx(m2,{size:32})},{id:"other",label:"Other",icon:p.jsx(bE,{size:32})}];return p.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:i.map(s=>p.jsxs("button",{type:"button",onClick:()=>n(s.id),className:`flex items-center gap-6 p-6 rounded-3xl border-2 transition-all active:scale-95 ${r===s.id?"border-brand bg-brand/10 text-brand":"border-slate-800 bg-slate-900/50 text-slate-500"}`,children:[p.jsx("div",{className:`p-4 rounded-2xl ${r===s.id?"bg-brand text-white shadow-lg shadow-brand/30":"bg-slate-800"}`,children:s.icon}),p.jsx("span",{className:"text-xl font-bold uppercase tracking-tight",children:s.label})]},s.id))})},Yf=({min:r,max:n,value:i,onChange:s,unit:u})=>{const d=R.useRef(null),m=20,y=()=>{if(!d.current)return;const{scrollLeft:g}=d.current,x=Math.round(g/m),S=r+x;S!==i&&S>=r&&S<=n&&s(S)};return R.useEffect(()=>{d.current&&(d.current.scrollLeft=(i-r)*m)},[]),p.jsxs("div",{className:"flex flex-col items-center w-full py-6 select-none overflow-hidden",children:[p.jsxs("div",{className:"text-7xl font-black mb-4 flex items-baseline gap-2 tabular-nums",children:[i," ",p.jsx("span",{className:"text-2xl text-brand font-bold uppercase",children:u})]}),p.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 flex justify-center pointer-events-none z-20",children:p.jsx("div",{className:"w-1.5 h-24 bg-brand rounded-full shadow-[0_0_20px_rgba(14,165,233,0.8)]"})}),p.jsxs("div",{ref:d,onScroll:y,className:"w-full flex overflow-x-auto snap-x snap-mandatory no-scrollbar",children:[p.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginLeft:`-${m/2}px`}}),Array.from({length:n-r+1},(g,x)=>r+x).map(g=>p.jsxs("div",{className:"flex flex-col items-center justify-end flex-shrink-0 snap-center z-10",style:{width:`${m}px`},children:[p.jsx("div",{className:`w-1 rounded-full mb-3 transition-all duration-150 ${g===i?"bg-brand h-20 opacity-100 scale-x-150":g%5===0?"h-10 bg-slate-500 opacity-60":"h-6 bg-slate-800 opacity-40"}`}),g%5===0&&p.jsx("span",{className:`text-[10px] font-black transition-colors ${g===i?"text-brand":"text-slate-600"}`,children:g})]},g)),p.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginRight:`-${m/2}px`}})]})]})]})},TE=({value:r,onChange:n})=>{const[i,s]=R.useState([]);R.useEffect(()=>{(async()=>{const{data:m}=await ct.from("athlete_levels_lookup").select("*").eq("status",!0).order("display_order",{ascending:!0});m&&s(m)})()},[]);const u=d=>{const m=Math.floor(d/2);if(m===0)return"Beginner";if(m<30)return`${m} Day${m>1?"s":""} Experience`;const y=Math.floor(m/30.44);if(y<12)return`${y} Month${y>1?"s":""} Experience`;const g=Math.floor(y/12),x=y%12;return x===0?`${g} Year${g>1?"s":""} Experience`:`${g}y ${x}m Experience`};return p.jsxs("div",{className:"relative w-full h-[380px]",children:[p.jsx("div",{className:"h-full overflow-y-auto pr-2 space-y-4 no-scrollbar pb-10",children:i.map(d=>p.jsxs("button",{onClick:()=>n(d.level_name,d.min_points),className:`w-full flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-95 text-left ${r===d.level_name?"border-brand bg-brand/10 shadow-lg":"border-slate-800 bg-slate-900/40"}`,children:[p.jsx("div",{className:`p-3 rounded-2xl ${r===d.level_name?"bg-brand text-white":"bg-slate-800 text-slate-500"}`,children:d.multiplier>1.8?p.jsx(ll,{size:24}):d.multiplier>1.2?p.jsx(qg,{size:24}):p.jsx(ol,{size:24})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:`text-lg font-black block uppercase tracking-tight ${r===d.level_name?"text-white":"text-slate-300"}`,children:d.level_name}),p.jsx("span",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-wider",children:u(d.min_points)})]})]},d.id))}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black to-transparent pointer-events-none"})]})},OE=()=>{const{user_id:r,refreshProfile:n}=ya(),{saveOnboarding:i}=PS(),[s,u]=R.useState(1),[d,m]=R.useState(!1),[y,g]=R.useState({name:"",gender:"male",birthdate:"",height:175,current_weight:80,target_weight:75,target_workout_days:4,selected_level:"Novice",initial_points:0}),x=R.useMemo(()=>{const A=y.height/100,P=parseFloat((y.current_weight/(A*A)).toFixed(1));return P<18.5?{val:P,label:"Underweight",color:"text-yellow-500"}:P<25?{val:P,label:"Healthy",color:"text-brand"}:P<30?{val:P,label:"Overweight",color:"text-orange-500"}:{val:P,label:"Obese",color:"text-red-500"}},[y.height,y.current_weight]),S=y.current_weight-y.target_weight,j=R.useMemo(()=>S>0?`That's a ${S}kg loss plan!`:S<0?`Targeting a ${Math.abs(S)}kg gain!`:"Staying steady and strong!",[S]),N=async()=>{if(r){m(!0);try{await i({user_id:r,name:y.name,gender:y.gender,birthdate:y.birthdate,target_weight:y.target_weight,target_days_per_week:y.target_workout_days,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},y.current_weight,y.height,y.selected_level,y.initial_points),await n()}catch(A){console.error("Onboarding Error:",A)}finally{m(!1)}}};return p.jsxs("div",{className:"flex flex-col h-screen bg-transparent text-white pt-safe overflow-hidden",children:[p.jsx("div",{className:"flex-none h-1 w-full bg-slate-900/30",children:p.jsx("div",{className:"h-full bg-brand transition-all duration-700 shadow-[0_0_15px_#0ea5e9]",style:{width:`${s/6*100}%`}})}),p.jsx("div",{className:"flex-1 overflow-y-auto touch-pan-y no-scrollbar px-8 pt-8",children:p.jsxs("div",{className:"min-h-full flex flex-col",children:[s===1&&p.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[p.jsxs("header",{className:"space-y-1",children:[p.jsxs("h1",{className:"text-4xl font-black uppercase leading-tight italic tracking-tighter",children:["First, ",p.jsx("br",{})," the ",p.jsx("span",{className:"text-brand",children:"Basics"})]}),p.jsx("p",{className:"text-slate-400 font-medium italic",children:"What should we call you?"})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(el,{label:"FULL NAME",value:y.name,onChange:A=>g({...y,name:A.target.value}),placeholder:"John Doe"}),p.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Gender"}),p.jsx(kE,{value:y.gender,onChange:A=>g({...y,gender:A})}),p.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Birthday"}),p.jsx(el,{label:"BIRTH DATE",type:"date",value:y.birthdate,onChange:A=>g({...y,birthdate:A.target.value})})]})]}),s===2&&p.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[p.jsx(jh,{className:"mx-auto mb-4 text-brand animate-pulse",size:32}),p.jsxs("h1",{className:"text-3xl font-black uppercase italic tracking-tight",children:["Nice to meet you, ",p.jsx("br",{}),p.jsxs("span",{className:"text-brand",children:[y.name.split(" ")[0]||"Athlete","!"]})]}),p.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"How tall are you?"}),p.jsx(Yf,{min:100,max:250,value:y.height,unit:"cm",onChange:A=>g({...y,height:A})})]}),s===3&&p.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[p.jsx("h1",{className:"text-3xl font-black uppercase italic text-white tracking-tight",children:"Current Weight"}),p.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"Your starting point today"}),p.jsx(Yf,{min:30,max:200,value:y.current_weight,unit:"kg",onChange:A=>g({...y,current_weight:A})}),p.jsxs("div",{className:"mt-8 bg-slate-900/40 border border-slate-800 p-6 rounded-[2rem] flex justify-between items-center backdrop-blur-md",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest",children:"BMI Index"}),p.jsx("p",{className:`text-lg font-black italic ${x.color}`,children:x.label})]}),p.jsx("div",{className:"text-5xl font-black italic tabular-nums text-white",children:x.val})]})]}),s===4&&p.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[p.jsx(Xi,{className:"mx-auto mb-4 text-brand",size:40}),p.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Target Weight"}),p.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"What is your dream goal?"}),p.jsx(Yf,{min:30,max:200,value:y.target_weight,unit:"kg",onChange:A=>g({...y,target_weight:A})}),p.jsx("div",{className:"mt-8 py-3 px-8 bg-brand/10 border border-brand/20 rounded-full inline-block mx-auto animate-in zoom-in duration-500",children:p.jsx("span",{className:"text-brand font-black uppercase tracking-tighter text-xs italic",children:j})})]}),s===5&&p.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[p.jsx("h1",{className:"text-4xl font-black uppercase mb-4 leading-tight italic",children:"Commitment"}),p.jsx("p",{className:"text-slate-400 font-medium mb-12 italic",children:"How many days a week will you train?"}),p.jsx("div",{className:"flex justify-between items-center bg-slate-900/40 p-6 rounded-[2.5rem] border border-slate-800",children:[1,2,3,4,5,6,7].map(A=>p.jsx("button",{onClick:()=>g({...y,target_workout_days:A}),className:`w-10 h-10 rounded-full font-black transition-all ${y.target_workout_days===A?"bg-brand text-white scale-125 shadow-lg shadow-brand/40":"text-slate-600"}`,children:A},A))})]}),s===6&&p.jsxs("div",{className:"flex-1 flex flex-col justify-center py-6",children:[p.jsxs("header",{className:"text-center mb-8",children:[p.jsx(ll,{className:"mx-auto mb-2 text-brand",size:32}),p.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Experience"}),p.jsx("p",{className:"text-slate-400 font-medium italic",children:"Where should we start you off?"})]}),p.jsx(TE,{value:y.selected_level,onChange:(A,P)=>g({...y,selected_level:A,initial_points:P})})]}),p.jsx("div",{className:"h-6 flex-none"})]})}),p.jsxs("footer",{className:"flex-none px-8 pt-2 pb-10 flex gap-3 bg-transparent mt-auto",children:[s>1&&p.jsx("button",{onClick:()=>u(A=>A-1),className:"h-14 w-14 bg-slate-900/80 rounded-2xl border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:p.jsx(o2,{size:24})}),p.jsx("button",{onClick:s===6?N:()=>u(A=>A+1),disabled:d||s===1&&!y.name,className:"h-14 flex-1 bg-brand text-white rounded-2xl font-black uppercase tracking-widest italic shadow-lg shadow-brand/20 active:scale-[0.98] transition-all disabled:opacity-30",children:d?p.jsx(U2,{className:"animate-spin"}):p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("span",{children:s===6?"Finish":"Continue"}),s<6&&p.jsx(nl,{size:18,strokeWidth:3})]})})]})]})},Hg=R.createContext(void 0),NE=({children:r})=>{const[n,i]=R.useState(!1),s=()=>i(!0),u=()=>i(!1);return p.jsx(Hg.Provider,{value:{isSidebarOpen:n,openSidebar:s,closeSidebar:u},children:r})},Pg=()=>{const r=R.useContext(Hg);if(!r)throw new Error("useUI must be used within UIProvider");return r},AE=()=>{const{athlete:r}=ya(),{openSidebar:n}=Pg(),i=()=>{const u=new Date().getHours();return u<12?"Good morning,":u<17?"Good afternoon,":"Good evening,"},s=r?.name?r.name.split(" ")[0].charAt(0).toUpperCase()+r.name.split(" ")[0].slice(1).toLowerCase():"Athlete";return p.jsxs("header",{className:"pt-4 pb-4 space-y-6 ios-no-top",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsxs("p",{className:"flex items-center gap-1.5 text-brand font-black italic text-[11px] uppercase tracking-widest",children:[p.jsx(jh,{size:12,strokeWidth:3}),i()]}),p.jsxs("h1",{className:"text-2xl font-black text-white tracking-tight",children:[s,"!"]})]}),p.jsx("button",{className:"w-12 h-12 rounded-2xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:p.jsx(n2,{size:22})})]}),p.jsxs("button",{onClick:n,className:"w-full bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-5 rounded-[2.5rem] text-left transition-all active:scale-[0.98]",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-brand/10 rounded-xl",children:p.jsx(ll,{size:20,className:"text-brand"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Athlete Rank"}),p.jsx("p",{className:"text-lg font-black text-white uppercase italic",children:r?.current_level||"Novice"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Points"}),p.jsx("p",{className:"text-lg font-black text-brand italic",children:r?.level_points||0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-tighter",children:[p.jsx("span",{className:"text-slate-400",children:"Progress to next rank"}),p.jsxs("span",{className:"text-brand",children:[r?.level_completion_percent||0,"%"]})]}),p.jsx("div",{className:"h-2 w-full bg-black rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-brand transition-all duration-1000 shadow-[0_0_12px_var(--brand-primary)]",style:{width:`${r?.level_completion_percent||0}%`}})})]})]})]})},CE=()=>{const r=new Date,n=[new Date().toISOString()],i=R.useMemo(()=>{const s=Ii(r,{weekStartsOn:1});return Array.from({length:7}).map((u,d)=>U1(s,d))},[]);return p.jsx("section",{className:"mt-2",children:p.jsxs("div",{className:"bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-6 rounded-[2.5rem]",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Weekly Activity"}),p.jsx("div",{className:"px-3 py-1 bg-black/40 rounded-full border border-slate-800",children:p.jsxs("span",{className:"text-[10px] font-black uppercase text-brand italic",children:[sc(i[0],"MMM d"),"  ",sc(i[6],"MMM d")]})})]}),p.jsx("div",{className:"flex justify-between items-center",children:i.map(s=>{const u=bv(s,r),d=n.some(m=>bv(new Date(m),s));return p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter ${u?"text-brand":"text-slate-600"}`,children:sc(s,"EEE")}),p.jsxs("div",{className:"relative",children:[d?p.jsx("div",{className:"bg-brand rounded-full p-1 shadow-[0_0_15px_rgba(14,165,233,0.3)] animate-in zoom-in",children:p.jsx(f2,{size:20,className:"text-white"})}):p.jsx("div",{className:`w-9 h-9 rounded-2xl border-2 flex items-center justify-center transition-all ${u?"border-brand bg-brand/5 shadow-[0_0_10px_rgba(14,165,233,0.15)]":"border-slate-800 bg-black/40"}`,children:p.jsx("span",{className:`text-[11px] font-black ${u?"text-white":"text-slate-700"}`,children:sc(s,"d")})}),u&&!d&&p.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-brand rounded-full shadow-[0_0_5px_#0ea5e9] animate-pulse"})]})]},s.toString())})})]})})},RE=[{id:"strength",name:"Strength",icon:Ao,color:"bg-orange-500",bg:"from-orange-500/20"},{id:"hiit",name:"HIIT",icon:ol,color:"bg-yellow-500",bg:"from-yellow-500/20"},{id:"cardio",name:"Cardio",icon:A2,color:"bg-red-500",bg:"from-red-500/20"},{id:"endurance",name:"Endurance",icon:kh,color:"bg-blue-500",bg:"from-blue-500/20"},{id:"mobility",name:"Mobility",icon:_E,color:"bg-emerald-500",bg:"from-emerald-500/20"}],DE=()=>p.jsxs("section",{className:"mt-8 space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-end",children:[p.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Training Focus"}),p.jsx("button",{className:"text-[10px] font-black uppercase text-brand",children:"Explore All"})]}),p.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:RE.map(r=>p.jsxs("button",{className:"flex-shrink-0 group relative w-32 h-40 bg-gradient-to-br to-slate-950 border border-slate-800 rounded-[2rem] overflow-hidden transition-all active:scale-95",children:[p.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${r.bg} to-transparent opacity-40 group-hover:opacity-60 transition-opacity`}),p.jsxs("div",{className:"relative h-full flex flex-col items-center justify-between py-6",children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl ${r.color} flex items-center justify-center shadow-lg`,children:p.jsx(r.icon,{size:24,className:"text-black"})}),p.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white group-hover:text-brand transition-colors",children:r.name})]})]},r.id))})]}),ME=()=>p.jsxs("div",{className:"px-6 space-y-4 pb-6",children:[p.jsx(AE,{}),p.jsx(CE,{}),p.jsx(DE,{}),p.jsxs("section",{className:"mt-6 space-y-4",children:[p.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Recommended Today"}),p.jsxs("div",{className:"group relative w-full h-44 border border-slate-800 rounded-[2.5rem] overflow-hidden transition-all active:scale-[0.98]",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-30 group-hover:scale-110 transition-transform duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"}),p.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("span",{className:"text-[10px] font-black uppercase text-brand tracking-widest",children:"Advanced  45 Min"}),p.jsx("h4",{className:"text-xl font-black uppercase italic leading-none",children:"Full Body Power"})]}),p.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-black",children:p.jsx(ol,{size:20,fill:"currentColor"})})]})]})]})]}),UE=()=>{const r=Kn(),n=Da(),i=[{icon:R2,label:"Home",path:"/dashboard"},{icon:Ag,label:"Library",path:"/library"},{icon:wh,label:"Logs",path:"/logs"},{icon:r2,label:"Stats",path:"/stats"},{icon:Uo,label:"Profile",path:"/profile"}],s=R.useMemo(()=>i.findIndex(u=>u.path===n.pathname),[n.pathname]);return p.jsx("nav",{className:"pointer-events-none w-full h-full flex items-end justify-center pb-2",children:p.jsxs("div",{className:"pointer-events-auto relative w-[90%] max-w-sm bg-[var(--bg-surface)] backdrop-blur-sm border border-[var(--border-color)] rounded-full shadow-md px-3 py-2",children:[p.jsx("div",{className:"absolute top-2 left-3 h-10 w-[calc((100%-24px)/5)] bg-[var(--brand-primary)] rounded-full transition-transform duration-300 ease-out",style:{transform:`translateX(${s*100}%)`}}),p.jsx("div",{className:"relative flex items-center justify-between",children:i.map(u=>{const d=n.pathname===u.path;return p.jsxs("button",{onClick:()=>r(u.path),className:"flex flex-col items-center justify-center flex-1 active:scale-95 transition",children:[p.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${d?"text-white":"text-[var(--text-muted)]"}`,children:p.jsx(u.icon,{size:20,strokeWidth:2})}),p.jsx("span",{className:`text-[10px] font-extrabold uppercase tracking-wide mt-1 ${d?"text-[var(--brand-primary)]":"text-[var(--text-muted)] opacity-60"}`,children:u.label})]},u.path)})})]})})},kv=({isOpen:r,onClose:n,isStatic:i=!1})=>{const{athlete:s,signOut:u}=ya(),d=i?"w-full h-full bg-[var(--bg-main)] border-r border-[var(--border-color)]":`fixed top-0 left-0 bottom-0 w-80 bg-[var(--bg-main)] z-[70] border-r border-[var(--border-color)] transition-transform duration-300 ease-out ${r?"translate-x-0":"-translate-x-full"}`;return p.jsxs(p.Fragment,{children:[!i&&p.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),p.jsx("aside",{className:d,children:p.jsxs("div",{className:"flex flex-col h-full p-8",children:[!i&&p.jsx("button",{onClick:n,className:"self-end p-2 text-[var(--text-muted)] mb-4 active:scale-90 transition-transform",children:p.jsx(EE,{size:24})}),i&&p.jsx("div",{className:"mb-10 px-4",children:p.jsxs("h2",{className:"text-xl font-black italic tracking-tighter text-[var(--text-main)]",children:["TRACK",p.jsx("span",{className:"text-[var(--brand-primary)]",children:"FIT"})]})}),p.jsxs("div",{className:"flex items-center gap-4 mb-10 px-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--brand-primary)] bg-opacity-10 border border-[var(--brand-primary)] border-opacity-20 flex items-center justify-center text-[var(--brand-primary)] font-black text-xl italic",children:s?.name?.[0].toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-black text-[var(--text-main)] text-md truncate w-32",children:s?.name}),p.jsx("p",{className:"text-[10px] text-[var(--text-muted)] font-bold uppercase tracking-wider",children:"Athlete Profile"})]})]}),p.jsxs("nav",{className:"flex-1 space-y-1",children:[p.jsx(go,{icon:Uo,label:"My Profile"}),p.jsx(go,{icon:ll,label:"Rank Progress"}),p.jsx(go,{icon:zg,label:"Body Metrics"}),p.jsx(go,{icon:sE,label:"Settings"}),p.jsx(go,{icon:Ag,label:"Library"})]}),p.jsxs("button",{onClick:u,className:"flex items-center gap-3 p-4 w-full rounded-2xl bg-red-500/5 text-red-500 font-bold border border-red-500/10 active:scale-95 transition-all mt-auto",children:[p.jsx(Cg,{size:18}),p.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})]})},go=({icon:r,label:n})=>p.jsxs("button",{className:"w-full flex items-center justify-between p-4 rounded-2xl hover:bg-[var(--bg-surface)] transition-colors group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(r,{size:18,className:"text-[var(--text-muted)] group-hover:text-[var(--brand-primary)] transition-colors"}),p.jsx("span",{className:"text-sm font-bold text-[var(--text-muted)] group-hover:text-[var(--text-main)] transition-colors",children:n})]}),p.jsx(nl,{size:14,className:"text-[var(--border-color)]"})]}),Tv=80,zE=()=>{const{isSidebarOpen:r,closeSidebar:n}=Pg(),i=Da(),s=R.useRef(null);return R.useLayoutEffect(()=>{s.current&&(s.current.scrollTop=0),window.scrollTo(0,0)},[i.pathname]),p.jsxs("div",{className:"relative h-full text-[var(--text-main)] bg-[var(--bg-main)] overflow-hidden",children:[p.jsxs("div",{className:"flex h-full",children:[p.jsx("div",{className:"hidden lg:block w-72 h-full border-r border-[var(--border-color)]",children:p.jsx(kv,{isOpen:!0,onClose:()=>{},isStatic:!0})}),p.jsx("div",{className:"lg:hidden",children:p.jsx(kv,{isOpen:r,onClose:n})}),p.jsx("main",{ref:s,className:"flex-1 overflow-y-auto samsung-scroll safe-ios-top bg-[var(--bg-main)]",style:{paddingBottom:Tv+8},children:p.jsx(Xv,{})})]}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",style:{height:Tv},children:p.jsx(UE,{})})]})},LE=()=>p.jsx(NE,{children:p.jsx(zE,{})}),qE=()=>p.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-bg-main",children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx("div",{className:"text-brand-primary animate-pulse font-black italic text-4xl tracking-tighter",children:"FITNEX"}),p.jsx("div",{className:"h-1 w-12 bg-surface overflow-hidden rounded-full",children:p.jsx("div",{className:"h-full bg-brand-primary animate-progress-loading"})})]})}),BE=()=>{const{user_id:r}=ya(),[n,i]=R.useState(!1);return R.useEffect(()=>{(async()=>{if(r)try{await Promise.all([tn.syncLibrary(),wg.syncRecentWorkouts(r),_g.syncRoutine(r),bh.syncMetadata()]),i(!0)}catch(u){console.error("Sync Error:",u),i(!0)}})()},[r]),n?p.jsx(Xv,{}):p.jsx(qE,{})},$E=()=>{const{athlete:r,signOut:n}=ya(),i=Kn();return r?p.jsxs("div",{className:"page-container no-scrollbar px-6 pb-28 bg-[var(--bg-main)]",children:[p.jsx("header",{className:"flex justify-end pt-6 pb-2",children:p.jsx("button",{onClick:()=>n(),className:"p-3 bg-red-500/10 border border-red-500/15 rounded-2xl text-red-500 active:scale-90 transition-all",children:p.jsx(Cg,{size:18})})}),p.jsxs("section",{className:"flex flex-col items-center mb-10",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)] opacity-10 blur-2xl rounded-full"}),p.jsx("div",{className:"relative w-28 h-28 rounded-full bg-gradient-to-tr from-[var(--brand-primary)] to-orange-500 p-[3px]",children:p.jsx("div",{className:"w-full h-full rounded-full bg-[var(--bg-main)] border-[4px] border-[var(--bg-main)] flex items-center justify-center overflow-hidden",children:p.jsx("span",{className:"text-4xl font-black text-[var(--text-main)] italic tracking-tighter",children:r.name?.charAt(0)})})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase italic text-[var(--text-main)] leading-none",children:r.name}),p.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2",children:[p.jsx("span",{className:"h-[1px] w-6 bg-[var(--border-color)]"}),p.jsxs("p",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-[var(--brand-primary)] italic",children:["Level  ",r.current_level]}),p.jsx("span",{className:"h-[1px] w-6 bg-[var(--border-color)]"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2.5 mb-8",children:[p.jsx(cc,{label:"BMI",value:r.bmi||"0.0",icon:p.jsx(ol,{size:12})}),p.jsx(cc,{label:"Body Fat",value:`${r.body_fat_percent||"0"}%`,icon:p.jsx(I2,{size:12})}),p.jsx(cc,{label:"Lost",value:`${r.weight_lost||"0"}kg`,icon:p.jsx(x2,{size:12})}),p.jsx(cc,{label:"Goal",value:r.target_weight?`${r.target_weight}kg`:"",icon:p.jsx(Xi,{size:12})})]}),p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[var(--text-muted)] whitespace-nowrap",children:"Account Settings"}),p.jsx("div",{className:"h-[1px] w-full bg-[var(--divider-color)]"})]}),p.jsxs("nav",{className:"space-y-3",children:[p.jsx(dc,{label:"User Profile",sub:"Personal Identity & Goals",icon:p.jsx(Uo,{size:18}),onClick:()=>i("/profile/details")}),p.jsx(dc,{label:"Measurements",sub:"Vitals & Metrics Tracking",icon:p.jsx(Lg,{size:18}),onClick:()=>i("/profile/metrics")}),p.jsx(dc,{label:"Level Details",sub:"Rank Progress & Milestone",icon:p.jsx(ll,{size:18}),onClick:()=>i("/profile/level")}),p.jsx(dc,{label:"Themes & Appearance",sub:"Brand Color & Styles",icon:p.jsx(Y2,{size:18}),onClick:()=>i("/profile/theme")})]})]}):null},cc=({label:r,value:n,icon:i})=>p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-3 rounded-[1.2rem] flex items-center gap-3",children:[p.jsx("div",{className:"w-7 h-7 rounded-lg bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--brand-primary)]",children:i}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black italic text-[var(--text-main)] leading-none",children:n}),p.jsx("p",{className:"text-[8px] font-bold text-[var(--text-muted)] uppercase tracking-tight mt-0.5",children:r})]})]}),dc=({label:r,sub:n,icon:i,onClick:s})=>p.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[1.8rem] active:opacity-70 transition-all group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--text-muted)] group-active:text-[var(--brand-primary)]",children:i}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-[11px] font-black uppercase italic tracking-wider text-[var(--text-main)]",children:r}),p.jsx("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-tighter",children:n})]})]}),p.jsx(nl,{size:16,className:"text-[var(--text-muted)] group-active:text-[var(--brand-primary)]"})]}),pr=({title:r,children:n})=>{const i=Kn();return p.jsxs("div",{className:"relative bg-[var(--bg-main)] min-h-screen",children:[p.jsx("header",{className:"sticky top-0 z-40 bg-[var(--bg-main)] bg-opacity-90 backdrop-blur-md border-b border-[var(--border-color)] safe-ios-top",children:p.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[p.jsx("button",{onClick:()=>i(-1),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-[var(--bg-surface)] border border-[var(--border-color)] active:scale-90 transition-all text-[var(--text-main)]",children:p.jsx(JS,{size:20})}),p.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-sm font-black uppercase tracking-widest text-[var(--text-main)]",children:r}),p.jsx("div",{className:"w-10"})]})}),p.jsx("div",{className:"px-6 py-6 space-y-6",children:n})]})},HE=()=>{const{user_id:r,athlete:n,refreshAthlete:i}=ya(),[s,u]=R.useState(!1),[d,m]=R.useState({name:"",gender:"",birth_date:"",target_weight:"",target_days_per_week:"4"});R.useEffect(()=>{n&&m({name:n.name||"",gender:n.gender||"",birth_date:n.birthdate||"",target_weight:n.target_weight?.toString()||"",target_days_per_week:n.target_days_per_week?.toString()||"4"})},[n]);const y=async()=>{if(!r)return;u(!0);const g={user_id:r,name:d.name,gender:d.gender,birthdate:d.birth_date,target_weight:parseFloat(d.target_weight)||0,target_days_per_week:parseInt(d.target_days_per_week)||4,updated_at:new Date().toISOString()};try{await Eg.updateProfile(g),await i()}catch(x){console.error("Profile sync error:",x)}finally{u(!1)}};return p.jsx(pr,{title:"User Profile",children:p.jsxs("div",{className:"space-y-8 pb-32 px-1 bg-[var(--bg-main)]",children:[p.jsxs("section",{className:"space-y-4",children:[p.jsx(Ov,{icon:p.jsx(Uo,{size:14}),title:"Identity"}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[p.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Full Athlete Name"}),p.jsx("input",{type:"text",value:d.name,onChange:g=>m({...d,name:g.target.value}),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-full placeholder:text-[var(--text-dim)]",placeholder:"Full Name"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx(Nv,{label:"Gender",value:d.gender,options:["Male","Female","Other"],onChange:g=>m({...d,gender:g})}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[p.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Birth Date"}),p.jsx("input",{type:"date",value:d.birth_date,onChange:g=>m({...d,birth_date:g.target.value}),className:"bg-transparent border-none outline-none text-sm font-black uppercase text-[var(--text-main)] w-full invert-[0.8]"})]})]})]}),p.jsxs("section",{className:"space-y-4",children:[p.jsx(Ov,{icon:p.jsx(Xi,{size:14}),title:"Goals"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem]",children:[p.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:"Target Weight"}),p.jsxs("div",{className:"flex items-baseline gap-2",children:[p.jsx("input",{type:"text",inputMode:"decimal",value:d.target_weight,onChange:g=>m({...d,target_weight:g.target.value}),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-16",placeholder:"00"}),p.jsx("span",{className:"text-[var(--brand-primary)] font-black italic text-xs uppercase",children:"kg"})]})]}),p.jsx(Nv,{label:"Days / Week",value:d.target_days_per_week,options:["1","2","3","4","5","6","7"],onChange:g=>m({...d,target_days_per_week:g})})]})]}),p.jsx("div",{className:"pt-4",children:p.jsxs("button",{disabled:s,onClick:y,className:"w-full py-4 bg-[var(--brand-primary)] text-[var(--bg-main)] text-base font-black uppercase italic tracking-[0.1em] rounded-[1.5rem] flex items-center justify-center gap-2 active:scale-[0.97] transition-all disabled:opacity-50",children:[s?p.jsx(lh,{size:18,className:"animate-spin"}):p.jsx(Sh,{size:18}),s?"Updating...":"Update Profile"]})})]})})},Ov=({icon:r,title:n})=>p.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2 font-black uppercase tracking-[0.2em] text-[10px] text-[var(--text-muted)]",children:[p.jsx("div",{className:"text-[var(--brand-primary)]",children:r}),n]}),Nv=({label:r,value:n,options:i,onChange:s})=>p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[1.5rem] relative",children:[p.jsx("p",{className:"text-[10px] font-black text-[var(--text-muted)] uppercase mb-2 tracking-widest",children:r}),p.jsxs("select",{value:n,onChange:u=>s(u.target.value),className:"bg-transparent border-none outline-none text-xl font-black italic text-[var(--text-main)] w-full appearance-none pr-8 cursor-pointer",children:[!n&&p.jsx("option",{value:""}),i.map(u=>p.jsx("option",{value:u,className:"bg-black text-white",children:u},u))]}),p.jsx(Mo,{size:14,className:"absolute right-5 bottom-6 text-[var(--text-dim)] pointer-events-none"})]}),fc={weight:"",height:"",belly:"",waist:"",hips:"",chest:"",shoulder:"",neck:"",right_bicep:"",left_bicep:"",right_forearm:"",left_forearm:"",right_calf:"",left_calf:"",right_thigh:"",left_thigh:""},PE=()=>{const{user_id:r,refreshAthlete:n}=ya(),[i,s]=R.useState(!0),[u,d]=R.useState(!1),[m,y]=R.useState(fc);R.useEffect(()=>{(async()=>{try{const j=await sh.getLatestMetrics();if(j){const N={...fc};Object.keys(fc).forEach(A=>{const P=j[A];N[A]=P!=null?P.toString():""}),y(N)}}catch(j){console.error(j)}finally{s(!1)}})()},[]);const g=(S,j)=>{(j===""||/^[0-9]*\.?[0-9]*$/.test(j))&&y(N=>({...N,[S]:j}))},x=async()=>{if(!r)return;d(!0);const S={user_id:r,logdate:new Date().toISOString().split("T")[0],weight:parseFloat(m.weight)||0,height:parseFloat(m.height)||0};Object.keys(fc).forEach(j=>{if(j==="weight"||j==="height")return;const N=m[j];S[j]=N===""?null:parseFloat(N)});try{await sh.updateMetrics(S),await n()}finally{d(!1)}};return i?p.jsx(pr,{title:"Measurements",children:p.jsx("div",{className:"flex h-60 items-center justify-center",children:p.jsx(lh,{className:"animate-spin text-[var(--brand-primary)]",size:28})})}):p.jsx(pr,{title:"Measurements",children:p.jsxs("div",{className:"space-y-10 px-1 bg-[var(--bg-main)]",children:[p.jsxs("section",{children:[p.jsx(Vf,{icon:p.jsx(QS,{size:16}),title:"Core Vitals"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Av,{label:"Weight",value:m.weight,unit:"kg",icon:p.jsx(Lg,{size:16}),onChange:S=>g("weight",S)}),p.jsx(Av,{label:"Height",value:m.height,unit:"cm",icon:p.jsx(zg,{size:16}),onChange:S=>g("height",S)})]})]}),p.jsxs("section",{children:[p.jsx(Vf,{icon:p.jsx(Ao,{size:16}),title:"Torso"}),p.jsx("div",{className:"grid grid-cols-3 gap-3",children:["neck","shoulder","chest","belly","waist","hips"].map(S=>p.jsx(KE,{label:S,value:m[S],onChange:j=>g(S,j)},S))})]}),p.jsxs("section",{children:[p.jsx(Vf,{icon:p.jsx(E2,{size:16}),title:"Limb Symmetry"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(hc,{label:"Bicep",leftKey:"left_bicep",rightKey:"right_bicep",metrics:m,onUpdate:(S,j)=>g(S,j)}),p.jsx(hc,{label:"Forearm",leftKey:"left_forearm",rightKey:"right_forearm",metrics:m,onUpdate:(S,j)=>g(S,j)}),p.jsx(hc,{label:"Thigh",leftKey:"left_thigh",rightKey:"right_thigh",metrics:m,onUpdate:(S,j)=>g(S,j)}),p.jsx(hc,{label:"Calf",leftKey:"left_calf",rightKey:"right_calf",metrics:m,onUpdate:(S,j)=>g(S,j)})]})]}),p.jsx("div",{className:"pt-6",children:p.jsxs("button",{disabled:u,onClick:x,className:"w-full py-4 bg-[var(--brand-primary)] text-[var(--bg-main)] text-base font-black uppercase italic tracking-[0.1em] rounded-[1.5rem] flex items-center justify-center gap-2 active:scale-[0.97] transition-all disabled:opacity-50",children:[u?p.jsx(lh,{size:22,className:"animate-spin"}):p.jsx(Sh,{size:22}),u?"Updating...":"Update Athlete Data"]})})]})})},Vf=({icon:r,title:n})=>p.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 font-black uppercase tracking-[0.25em] text-[12px] text-[var(--text-muted)]",children:[p.jsx("div",{className:"text-[var(--brand-primary)]",children:r}),n]}),Av=({label:r,value:n,unit:i,icon:s,onChange:u})=>p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-5 rounded-[2rem]",children:[p.jsxs("div",{className:"flex justify-between items-start mb-3 text-[var(--brand-primary)]",children:[s,p.jsx("span",{className:"text-[10px] font-black text-[var(--text-dim)]",children:i})]}),p.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:d=>u(d.target.value),className:"bg-transparent border-none outline-none text-2xl font-black italic text-[var(--text-main)] w-full",placeholder:"0.0"}),p.jsx("p",{className:"text-[11px] font-bold text-[var(--text-dim)] uppercase mt-1.5",children:r})]}),KE=({label:r,value:n,onChange:i})=>p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-[1.5rem] text-center",children:[p.jsx("p",{className:"text-[9px] font-black text-[var(--text-dim)] uppercase mb-2",children:r}),p.jsx("input",{type:"text",inputMode:"decimal",value:n,onChange:s=>i(s.target.value),className:"bg-transparent border-none outline-none text-base font-black italic text-[var(--text-main)] w-full text-center",placeholder:""})]}),hc=({label:r,leftKey:n,rightKey:i,metrics:s,onUpdate:u})=>p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-20 text-[11px] font-black uppercase text-[var(--text-dim)] italic",children:r}),p.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[p.jsx("input",{type:"text",inputMode:"decimal",value:s[n],onChange:d=>u(n,d.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-2xl text-sm font-black italic text-[var(--text-main)] text-center",placeholder:"L"}),p.jsx("input",{type:"text",inputMode:"decimal",value:s[i],onChange:d=>u(i,d.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] p-4 rounded-2xl text-sm font-black italic text-[var(--text-main)] text-center",placeholder:"R"})]})]}),GE=()=>{const{athlete:r}=ya();return r?p.jsx(pr,{title:"Level Details",children:p.jsxs("div",{className:"space-y-8 pb-10 bg-[var(--bg-main)]",children:[p.jsxs("section",{className:"text-center pt-4",children:[p.jsxs("div",{className:"relative inline-block mb-6",children:[p.jsx("div",{className:"absolute inset-0 bg-[var(--brand-primary)] opacity-20 blur-3xl rounded-full"}),p.jsxs("div",{className:"relative w-32 h-32 rounded-[2.5rem] bg-[var(--bg-surface)] border border-[var(--border-color)] flex items-center justify-center",children:[p.jsx(ll,{size:48,className:"text-[var(--brand-primary)]",fill:"currentColor",fillOpacity:.1}),p.jsx("div",{className:"absolute -top-2 -right-2 bg-[var(--brand-primary)] text-[var(--bg-main)] w-10 h-10 rounded-xl flex items-center justify-center font-black italic border-4 border-[var(--bg-main)]",children:r.current_level?.charAt(0)})]})]}),p.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-[var(--text-main)]",children:r.current_level}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-[var(--text-muted)] mt-2",children:"Current Athlete Status"})]}),p.jsxs("section",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.5rem]",children:[p.jsxs("div",{className:"flex justify-between items-end mb-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-1",children:"Total Points"}),p.jsx("p",{className:"text-3xl font-black italic text-[var(--text-main)]",children:r.level_points})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--brand-primary)] mb-1",children:"Next Rank"}),p.jsxs("p",{className:"text-xl font-black italic text-[var(--text-muted)]",children:[r.level_end," PTS"]})]})]}),p.jsx("div",{className:"h-3 w-full bg-[var(--bg-main)] rounded-full overflow-hidden border border-[var(--border-color)]",children:p.jsx("div",{className:"h-full bg-[var(--brand-primary)] rounded-full transition-all duration-1000 shadow-[0_0_15px_var(--brand-primary)]",style:{width:`${r.level_completion_percent}%`}})}),p.jsxs("div",{className:"mt-4 flex justify-between items-center text-[10px] font-black italic uppercase text-[var(--text-muted)]",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(qg,{size:12,className:"text-[var(--brand-primary)]"}),p.jsxs("span",{children:[r.points_remaining," PTS Remaining"]})]}),p.jsxs("span",{className:"text-[var(--text-main)]",children:[r.level_completion_percent,"% Complete"]})]})]}),p.jsxs("section",{className:"space-y-3",children:[p.jsx(mc,{level:"Starter",points:"0-100",isReached:!0,isCurrent:r.current_level==="Starter"}),p.jsx(mc,{level:"Novice",points:"101-500",isReached:r.level_points>100,isCurrent:r.current_level==="Novice"}),p.jsx(mc,{level:"Warrior",points:"501-2000",isReached:r.level_points>500,isCurrent:r.current_level==="Warrior"}),p.jsx(mc,{level:"Elite",points:"2001+",isReached:r.level_points>2e3,isCurrent:r.current_level==="Elite"})]}),r.projected_next_level_date&&p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--brand-primary)] border-opacity-30 p-5 rounded-3xl flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[var(--brand-primary)] bg-opacity-10 flex items-center justify-center text-[var(--text-main)]",children:p.jsx(pE,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--brand-primary)]",children:"Estimated Rank Up"}),p.jsxs("p",{className:"text-sm font-bold text-[var(--text-main)] uppercase italic",children:["Around"," ",new Date(r.projected_next_level_date).toLocaleDateString("en-US",{month:"long",day:"numeric"})]})]})]})]})}):null},mc=({level:r,points:n,isReached:i,isCurrent:s})=>p.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${s?"bg-[var(--brand-primary)] bg-opacity-10 border-[var(--brand-primary)]":i?"bg-[var(--bg-surface)] border-[var(--border-color)] opacity-60":"bg-[var(--bg-main)] border-[var(--border-color)] opacity-30"}`,children:[p.jsxs("div",{className:"flex items-center gap-4 text-[var(--text-main)]",children:[p.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${i?"text-[var(--brand-primary)]":"text-[var(--text-muted)]"}`,children:i?p.jsx(ZS,{size:18}):p.jsx(_h,{size:18})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-black uppercase italic tracking-wide",children:r}),p.jsxs("p",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase",children:[n," PTS"]})]})]}),s&&p.jsx("span",{className:"bg-[var(--brand-primary)] text-[var(--bg-main)] text-[8px] font-black uppercase px-2 py-1 rounded-md",children:"Current"})]}),YE=[{name:"Fitnex Orange",hex:"#ff7f50"},{name:"Electric Blue",hex:"#3b82f6"},{name:"Cyber Green",hex:"#22c55e"},{name:"Neon Purple",hex:"#a855f7"},{name:"Crimson Red",hex:"#ef4444"},{name:"Solar Yellow",hex:"#eab308"}],VE=()=>{const[r,n]=R.useState(()=>document.documentElement.classList.contains("light-theme")?"light":"dark"),[i,s]=R.useState(()=>localStorage.getItem("fitnex-color")||"#ff7f50"),[u,d]=R.useState(i),m=()=>{const y=document.documentElement;localStorage.setItem("fitnex-theme",r),localStorage.setItem("fitnex-color",i),r==="light"?y.classList.add("light-theme"):y.classList.remove("light-theme"),y.style.setProperty("--brand-primary",i)};return R.useEffect(()=>{d(i)},[i]),p.jsx(pr,{title:"Appearance",children:p.jsxs("div",{className:"space-y-10 pb-10 bg-[var(--bg-main)]",children:[p.jsxs("section",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 text-[var(--brand-primary)]",children:[p.jsx(jh,{size:14}),p.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"Visual Mode"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx(Cv,{active:r==="dark",onClick:()=>n("dark"),label:"Dark",icon:p.jsx($2,{size:18}),desc:"OLED Saver"}),p.jsx(Cv,{active:r==="light",onClick:()=>n("light"),label:"Light",icon:p.jsx(cE,{size:18}),desc:"High Contrast"})]})]}),p.jsxs("section",{children:[p.jsxs("div",{className:"flex items-center gap-3 mb-5 px-2 text-[var(--brand-primary)]",children:[p.jsx(K2,{size:14}),p.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"Brand Accent"})]}),p.jsx("div",{className:"p-6 rounded-[2.5rem] mb-4 border border-[var(--border-color)] bg-[var(--bg-surface)]",children:p.jsx("div",{className:"grid grid-cols-3 gap-y-6 gap-x-4",children:YE.map(y=>p.jsx("button",{onClick:()=>s(y.hex),className:"flex flex-col items-center gap-2",children:p.jsx("div",{className:"w-12 h-12 rounded-2xl transition-all duration-300 flex items-center justify-center border-2",style:{backgroundColor:y.hex,borderColor:i.toLowerCase()===y.hex.toLowerCase()?"var(--text-main)":"transparent"},children:i.toLowerCase()===y.hex.toLowerCase()&&p.jsx(xh,{size:20,className:"text-white",strokeWidth:4})})},y.hex))})}),p.jsxs("div",{className:"grid grid-cols-12 gap-3 mt-4",children:[p.jsxs("div",{className:"col-span-8 relative",children:[p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]",children:p.jsx(O2,{size:14})}),p.jsx("input",{type:"text",value:u.replace("#",""),onChange:y=>{const g=`#${y.target.value}`;d(g),/^#[0-9A-F]{6}$/i.test(g)&&s(g)},className:"w-full border border-[var(--border-color)] rounded-2xl py-4 pl-10 pr-4 text-xs font-black uppercase bg-[var(--bg-surface)] text-[var(--text-main)] outline-none"})]}),p.jsxs("div",{className:"col-span-4 relative",children:[p.jsx("input",{type:"color",value:i,onChange:y=>s(y.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),p.jsx("div",{className:"w-full h-full border border-[var(--border-color)] rounded-2xl flex items-center justify-center text-[var(--text-muted)] bg-[var(--bg-surface)]",children:p.jsx(Q2,{size:18})})]})]})]}),p.jsx("div",{className:"pt-4",children:p.jsx("button",{onClick:m,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic tracking-widest rounded-[2rem] active:scale-[0.95] transition-all",children:"Apply Changes"})})]})})},Cv=({active:r,onClick:n,label:i,icon:s,desc:u})=>p.jsxs("button",{onClick:n,className:"p-5 rounded-[2rem] border transition-all text-left",style:{backgroundColor:r?"rgba(var(--brand-rgb, 255,127,80), 0.1)":"var(--bg-surface)",borderColor:r?"var(--brand-primary)":"var(--border-color)",color:r?"var(--brand-primary)":"var(--text-muted)"},children:[p.jsx("div",{className:"mb-3",children:s}),p.jsx("p",{className:"text-xs font-black uppercase italic tracking-widest leading-none mb-1",children:i}),p.jsx("p",{className:"text-[8px] font-bold uppercase opacity-50",children:u})]}),IE=({search:r})=>{const n=Kn(),[i,s]=R.useState([]),[u,d]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const S=await tn.getActiveMuscles();s(S.sort((j,N)=>j.name.localeCompare(N.name)))}catch(S){console.error("Failed to load muscles:",S)}finally{d(!1)}})()},[]);const m=r.toLowerCase().trim(),y=x=>i.filter(S=>S.parent===x),g=i.filter(x=>{if(x.parent)return!1;const S=x.name.toLowerCase().includes(m),N=y(x.id).some(A=>A.name.toLowerCase().includes(m));return S||N});return u?null:p.jsxs("div",{className:"space-y-6",children:[g.map(x=>{const S=y(x.id).filter(j=>m===""||j.name.toLowerCase().includes(m)||x.name.toLowerCase().includes(m));return p.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-1 duration-300",children:[p.jsxs("button",{onClick:()=>n(`/library/muscles/${x.id}`),className:"w-full flex items-center justify-between p-5 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[1.5rem] group active:scale-[0.98] transition-all",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black italic border transition-all ${x.name.toLowerCase().includes(m)&&m!==""?"bg-[var(--brand-primary)] border-[var(--brand-primary)] text-[var(--bg-main)]":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--brand-primary)]"}`,children:x.name.charAt(0)}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-sm font-black uppercase italic text-[var(--text-main)] group-hover:text-[var(--brand-primary)] transition-colors leading-none",children:x.name}),p.jsx("p",{className:"text-[9px] font-black text-[var(--text-muted)] uppercase tracking-widest mt-1",children:"Primary Group"})]})]}),p.jsx(nl,{size:16,className:"text-[var(--text-muted)] group-hover:text-[var(--brand-primary)] transition-colors"})]}),S.length>0&&p.jsx("div",{className:"ml-6 space-y-2 border-l-2 border-[var(--border-color)] pl-4",children:S.map(j=>p.jsxs("button",{onClick:()=>n(`/library/muscles/${j.id}`),className:"w-full flex items-center justify-between p-3.5 bg-[var(--bg-surface)] bg-opacity-40 border border-[var(--border-color)] rounded-xl group active:scale-[0.98] transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(_2,{size:14,className:j.name.toLowerCase().includes(m)&&m!==""?"text-[var(--brand-primary)]":"text-[var(--text-muted)]"}),p.jsx("p",{className:`text-[12px] font-bold uppercase italic transition-colors ${j.name.toLowerCase().includes(m)&&m!==""?"text-[var(--text-main)]":"text-[var(--text-muted)]"}`,children:j.name})]}),p.jsx(nl,{size:12,className:"text-[var(--text-muted)] group-hover:text-[var(--brand-primary)]"})]},j.id))})]},x.id)}),g.length===0&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-24 opacity-20",children:[p.jsx(Xi,{size:48,strokeWidth:1,className:"mb-4"}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"No Muscles Found"})]})]})},XE=({search:r})=>{const n=Kn(),[i,s]=R.useState([]),[u,d]=R.useState(!0);R.useEffect(()=>{tn.getExercisesWithMeta().then(g=>{s(g),d(!1)})},[]);const m=r.toLowerCase().trim(),y=i.filter(g=>{const x=g.name.toLowerCase().includes(m),S=g.all_muscles?.some(N=>N.name.toLowerCase().includes(m)||N.parent_name?.toLowerCase().includes(m)),j=g.equipment_name?.toLowerCase().includes(m);return x||S||j});return u?null:p.jsxs("div",{className:"space-y-3",children:[y.map(g=>p.jsxs("button",{onClick:()=>n(`/library/exercises/${g.id}`),className:"w-full flex items-center justify-between p-4 bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[2rem] active:scale-[0.98] transition-all group animate-in fade-in",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--brand-primary)] group-hover:bg-[var(--brand-primary)] group-hover:text-[var(--bg-main)] transition-all flex-shrink-0",children:p.jsx(Ao,{size:20})}),p.jsxs("div",{className:"text-left flex-1",children:[p.jsx("p",{className:"text-[13px] font-black uppercase italic text-[var(--text-main)] tracking-tight leading-tight mb-2",children:g.name}),p.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[p.jsx("span",{className:"text-[7px] font-black uppercase px-2 py-1 bg-[var(--bg-main)] border border-[var(--border-color)] text-[var(--text-muted)] rounded-md",children:g.equipment_name}),g.all_muscles?.map((x,S)=>p.jsx("div",{className:`flex items-center gap-1 px-2 py-1 rounded-md border ${x.role==="primary"?"border-orange-500/20 bg-orange-500/5 text-orange-500":x.role==="secondary"?"border-blue-500/20 bg-blue-500/5 text-blue-500":"border-emerald-500/20 bg-emerald-500/5 text-emerald-500"}`,children:p.jsx("span",{className:"text-[7px] font-black uppercase italic",children:x.name})},S))]})]})]}),p.jsx(nl,{size:16,className:"text-[var(--text-muted)] opacity-30 ml-2"})]},g.id)),y.length===0&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-20",children:[p.jsx(Ao,{size:48,strokeWidth:1,className:"mb-4"}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"No Results"})]})]})},QE=({search:r})=>{const[n,i]=R.useState([]);R.useEffect(()=>{(async()=>{const d=await ke.routines.toArray();i(d)})()},[]);const s=n.filter(u=>u.name.toLowerCase().includes(r.toLowerCase()));return p.jsxs("div",{className:"space-y-4",children:[s.map(u=>p.jsxs("div",{className:"relative overflow-hidden bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[2rem] p-6 group",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[var(--brand-primary)] opacity-5 blur-[50px] -mr-16 -mt-16 pointer-events-none"}),p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter text-[var(--text-main)]",children:u.name}),p.jsxs("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-[0.2em] mt-1",children:["Last Performed:"," ",u.last_used?new Date(u.last_used).toLocaleDateString():"Never"]})]}),p.jsx("div",{className:"p-3 rounded-2xl bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg shadow-[var(--brand-primary)]/20 active:scale-90 transition-all cursor-pointer",children:p.jsx(J2,{size:20,fill:"currentColor"})})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(wh,{size:14,className:"text-[var(--brand-primary)]"}),p.jsx("span",{className:"text-[11px] font-black italic text-[var(--text-main)] uppercase",children:"8 Exercises"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(v2,{size:14,className:"text-[var(--text-muted)]"}),p.jsx("span",{className:"text-[11px] font-black italic text-[var(--text-muted)] uppercase",children:"~45 Mins"})]})]})]},u.id)),s.length===0&&p.jsx("div",{className:"text-center py-20",children:p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)]",children:"No routines found"})})]})};let Rv="muscles";const WE=()=>{const r=Kn(),[n,i]=R.useState(Rv),[s,u]=R.useState(""),d=y=>{Rv=y,i(y),u("")},m=[{id:"muscles",label:"Muscles",icon:p.jsx(Xi,{size:14})},{id:"exercises",label:"Exercises",icon:p.jsx(Ao,{size:14})},{id:"routines",label:"Routines",icon:p.jsx(wh,{size:14})}];return p.jsxs("div",{className:"flex-1 flex flex-col bg-[var(--bg-main)]",children:[p.jsx("div",{className:"sticky top-0 z-30 bg-[var(--bg-main)] px-4 pt-6 pb-2",children:p.jsx("div",{className:"flex bg-[var(--bg-surface)] p-1.5 rounded-[1.8rem] border border-[var(--border-color)]",children:m.map(y=>p.jsxs("button",{onClick:()=>d(y.id),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-[1.4rem] transition-all duration-300 ${n===y.id?"bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg":"text-[var(--text-muted)] active:scale-95"}`,children:[y.icon,p.jsx("span",{className:"text-[11px] font-black uppercase italic tracking-tighter",children:y.label})]},y.id))})}),p.jsxs("div",{className:"px-4 pb-24",children:[p.jsxs("div",{className:"flex items-center gap-3 mt-4 mb-6",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]",children:p.jsx(Eh,{size:18})}),p.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:s,onChange:y=>u(y.target.value),className:"w-full bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-2xl py-4 pl-12 pr-4 text-sm font-bold text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)] transition-all"})]}),p.jsx("button",{onClick:()=>r(`/library/${n}/add`),className:"h-[58px] w-[58px] bg-[var(--brand-primary)] text-[var(--bg-main)] rounded-2xl flex items-center justify-center active:scale-90 transition-all shadow-lg shadow-[var(--brand-primary)]/20 flex-shrink-0",children:p.jsx(Mg,{size:24,strokeWidth:3})})]}),p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[n==="muscles"&&p.jsx(IE,{search:s}),n==="exercises"&&p.jsx(XE,{search:s}),n==="routines"&&p.jsx(QE,{search:s})]})]})]})},JE=()=>{const r=Kn(),[n,i]=R.useState([]),[s,u]=R.useState({name:"",parent_id:""}),[d,m]=R.useState(!1);R.useEffect(()=>{tn.getActiveMuscles().then(i)},[]);const y=async()=>{if(!(!s.name||d)){m(!0);try{await tn.addMuscle(s.name,s.parent_id),r(-1)}catch{alert("Error: Muscle name must be unique.")}finally{m(!1)}}};return p.jsx(pr,{title:"New Muscle",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2rem] space-y-6",children:[p.jsx("input",{autoFocus:!0,type:"text",value:s.name,onChange:g=>u({...s,name:g.target.value}),placeholder:"e.g. Upper Chest",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-xl font-black italic text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)]"}),p.jsxs("div",{className:"relative",children:[p.jsxs("label",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3",children:[p.jsx(Og,{size:12,className:"text-[var(--brand-primary)]"}),"Parent Group"]}),p.jsxs("select",{value:s.parent_id,onChange:g=>u({...s,parent_id:g.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-xs font-bold uppercase text-[var(--text-main)] outline-none appearance-none",children:[p.jsx("option",{value:"",children:"No Parent (Primary)"}),n.map(g=>p.jsx("option",{value:g.id,children:g.name},g.id))]}),p.jsx(Mo,{size:16,className:"absolute right-4 bottom-4 text-[var(--text-muted)] pointer-events-none"})]})]}),p.jsxs("button",{onClick:y,disabled:d,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic tracking-widest rounded-2xl flex items-center justify-center gap-2 active:scale-95 transition-all disabled:opacity-50",children:[p.jsx(Mg,{size:22,strokeWidth:3}),d?"Adding...":"Add to Library"]})]})})},FE=({isOpen:r,onConfirm:n,onCancel:i})=>r?p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6",children:[p.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:i}),p.jsxs("div",{className:"relative w-full max-w-sm bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[2.5rem] p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 mb-6",children:p.jsx(Tg,{size:28})}),p.jsx("h3",{className:"text-xl font-black uppercase italic text-[var(--text-main)] mb-2 tracking-tight",children:"Archive Muscle?"}),p.jsx("p",{className:"text-sm font-bold text-[var(--text-muted)] leading-relaxed mb-8",children:"This muscle will be hidden from the library but preserved in your history."}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("button",{onClick:n,className:"w-full py-4 bg-red-500 text-white rounded-2xl font-black uppercase italic tracking-widest active:scale-95 shadow-lg shadow-red-500/20",children:"Archive"}),p.jsx("button",{onClick:i,className:"w-full py-4 bg-transparent text-[var(--text-muted)] font-black uppercase italic text-[10px]",children:"Cancel"})]})]})]}):null,ZE=()=>{const{id:r}=Gv(),n=Kn(),[i,s]=R.useState(!0),[u,d]=R.useState(!1),[m,y]=R.useState([]),[g,x]=R.useState({name:"",parent_id:""});R.useEffect(()=>{(async()=>{if(!r)return;const[A,P]=await Promise.all([tn.getMuscleById(r),tn.getActiveMuscles()]);A&&x({name:A.name,parent_id:A.parent||""}),y(P.filter(X=>X.id!==r)),s(!1)})()},[r]);const S=async()=>{try{await tn.updateMuscle(r,g.name,g.parent_id),n(-1)}catch{alert("Update failed.")}},j=async()=>{try{await tn.archiveMuscle(r),n(-1)}catch{alert("Archive failed.")}};return i?null:p.jsxs(pr,{title:"Muscle Settings",children:[p.jsxs("div",{className:"flex flex-col gap-6 pb-20",children:[p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-8 shadow-sm",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3 block",children:[p.jsx(Xi,{size:12,className:"inline mr-1"})," Display Name"]}),p.jsx("input",{type:"text",value:g.name,onChange:N=>x({...g,name:N.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-xl font-black italic text-[var(--text-main)] outline-none focus:border-[var(--brand-primary)]"})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-[var(--text-muted)] mb-3 block",children:[p.jsx(Og,{size:12,className:"inline mr-1"})," Parent Group"]}),p.jsxs("select",{value:g.parent_id,onChange:N=>x({...g,parent_id:N.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-4 px-4 text-xs font-black uppercase italic text-[var(--text-main)] outline-none appearance-none",children:[p.jsx("option",{value:"",children:"No Parent (Primary)"}),m.map(N=>p.jsx("option",{value:N.id,children:N.name},N.id))]}),p.jsx(Mo,{size:16,className:"absolute right-4 bottom-4 text-[var(--text-muted)] pointer-events-none"})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:S,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic rounded-2xl flex items-center justify-center gap-2 active:scale-95 shadow-xl shadow-[var(--brand-primary)]/10",children:[p.jsx(Sh,{size:20})," Save Changes"]}),p.jsxs("button",{onClick:()=>d(!0),className:"w-full py-5 bg-red-500/10 text-red-500 font-black uppercase italic rounded-2xl flex items-center justify-center gap-2 border border-red-500/20 active:scale-95",children:[p.jsx(Bg,{size:20})," Archive Muscle"]})]})]}),p.jsx(FE,{isOpen:u,onConfirm:j,onCancel:()=>d(!1)})]})},ej=()=>{const r=Kn(),{user_id:n}=ya(),[i,s]=R.useState({muscles:[],equipment:[]}),[u,d]=R.useState(""),[m,y]=R.useState(""),[g,x]=R.useState(!1),[S,j]=R.useState(""),[N,A]=R.useState([]),[P,X]=R.useState({reps:!0,weight:!0,bodyweight:!1,distance:!1,duration:!1});R.useEffect(()=>{(async()=>{const[te,he]=await Promise.all([tn.getActiveMuscles(),tn.getAllEquipment()]);s({muscles:te,equipment:he})})()},[]);const Z=(G,te)=>{A(he=>{const Me=he.find(Se=>Se.id===G.id);return Me&&Me.role===te?he.filter(Se=>Se.id!==G.id):Me?he.map(Se=>Se.id===G.id?{...Se,role:te}:Se):[...he,{id:G.id,name:G.name,role:te}]}),d("")},ie=async()=>{if(!(!m||!n))try{const G={name:m,...P,is_public:g,added_by:n};await tn.addExercise(G,N,S||null),r(-1)}catch{alert("Error saving exercise.")}};return p.jsx(pr,{title:"New Exercise",children:p.jsxs("div",{className:"flex flex-col gap-6 pb-24",children:[p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-6 shadow-sm",children:[p.jsx("input",{autoFocus:!0,type:"text",value:m,onChange:G=>y(G.target.value),placeholder:"EXERCISE NAME",className:"w-full bg-transparent text-2xl font-black italic text-[var(--text-main)] outline-none uppercase tracking-tighter placeholder:opacity-10"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>x(!1),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all flex items-center justify-center gap-2 ${g?"text-[var(--text-muted)] border-[var(--border-color)]":"bg-[var(--text-main)] text-[var(--bg-main)]"}`,children:[p.jsx(_h,{size:12})," Private"]}),p.jsxs("button",{onClick:()=>x(!0),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all flex items-center justify-center gap-2 ${g?"bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg":"text-[var(--text-muted)] border-[var(--border-color)]"}`,children:[p.jsx(Ng,{size:12})," Public"]})]})]}),p.jsx("div",{className:"grid grid-cols-5 gap-2",children:[{id:"reps",icon:p.jsx(Ug,{size:16})},{id:"weight",icon:p.jsx($g,{size:16})},{id:"bodyweight",icon:p.jsx(ol,{size:16})},{id:"distance",icon:p.jsx(Dg,{size:16})},{id:"duration",icon:p.jsx(kh,{size:16})}].map(G=>p.jsxs("button",{onClick:()=>X({...P,[G.id]:!P[G.id]}),className:`flex flex-col items-center justify-center py-5 rounded-[1.4rem] border-2 transition-all gap-2 ${P[G.id]?"border-[var(--brand-primary)] bg-[var(--brand-primary)]/5 text-[var(--brand-primary)]":"border-[var(--border-color)] bg-[var(--bg-surface)] text-[var(--text-muted)]"}`,children:[G.icon,p.jsx("span",{className:"text-[7px] font-black uppercase",children:G.id})]},G.id))}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-4",children:[p.jsxs("label",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-[var(--text-muted)] flex items-center gap-2",children:[p.jsx(kg,{size:12})," Equipment"]}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:S,onChange:G=>j(G.target.value),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-4.5 px-5 text-xs font-black uppercase italic text-[var(--text-main)] outline-none appearance-none",children:[p.jsx("option",{value:"",children:" NO EQUIPMENT "}),p.jsx("option",{value:"bodyweight_id",children:"BODYWEIGHT ONLY"}),i.equipment.map(G=>p.jsx("option",{value:G.id,children:G.name},G.id))]}),p.jsx(Mo,{size:16,className:"absolute right-5 top-1/2 -translate-y-1/2 text-[var(--text-muted)] pointer-events-none"})]})]}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-5",children:[p.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-[var(--text-muted)]",children:"Muscle Targets"}),p.jsxs("div",{className:"relative",children:[p.jsx(Eh,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]"}),p.jsx("input",{type:"text",value:u,onChange:G=>d(G.target.value),placeholder:"SEARCH...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-4 pl-12 text-xs font-bold outline-none focus:border-[var(--brand-primary)]"}),u&&p.jsx("div",{className:"absolute top-[110%] left-0 w-full bg-[var(--bg-surface)] border-2 border-[var(--border-color)] rounded-[2rem] shadow-2xl z-50 overflow-hidden max-h-72 overflow-y-auto backdrop-blur-xl",children:i.muscles.filter(G=>G.name.toLowerCase().includes(u.toLowerCase())).map(G=>p.jsxs("div",{className:"p-5 border-b border-[var(--border-color)] last:border-0 hover:bg-[var(--bg-main)] space-y-4",children:[p.jsx("span",{className:"text-[12px] font-black uppercase italic text-[var(--text-main)] block",children:G.name}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx("button",{onClick:()=>Z(G,"primary"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-orange-500/10 text-orange-500 border border-orange-500/20 active:scale-90 transition-all",children:"Primary"}),p.jsx("button",{onClick:()=>Z(G,"secondary"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-blue-500/10 text-blue-500 border border-blue-500/20 active:scale-90 transition-all",children:"Secondary"}),p.jsx("button",{onClick:()=>Z(G,"stabilizer"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 active:scale-90 transition-all",children:"Stabilizer"})]})]},G.id))})]}),p.jsx("div",{className:"space-y-2",children:N.map(G=>p.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${G.role==="primary"?"border-orange-500/20 bg-orange-500/[0.03]":G.role==="secondary"?"border-blue-500/20 bg-blue-500/[0.03]":"border-emerald-500/20 bg-emerald-500/[0.03]"}`,children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[11px] font-black uppercase italic text-[var(--text-main)]",children:G.name}),p.jsx("span",{className:`text-[8px] font-black uppercase tracking-[0.2em] mt-0.5 opacity-60 ${G.role==="primary"?"text-orange-500":G.role==="secondary"?"text-blue-500":"text-emerald-500"}`,children:G.role})]}),p.jsx("button",{onClick:()=>A(te=>te.filter(he=>he.id!==G.id)),className:"w-8 h-8 rounded-full bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--text-muted)]",children:p.jsx(Rg,{size:14})})]},G.id))})]}),p.jsxs("button",{onClick:ie,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic rounded-3xl shadow-xl shadow-[var(--brand-primary)]/20 active:scale-[0.97] transition-all flex items-center justify-center gap-3 tracking-widest",children:[p.jsx(xh,{size:20,strokeWidth:4})," CONFIRM EXERCISE"]})]})})},tj=({isOpen:r,onConfirm:n,onCancel:i})=>r?p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6",children:[p.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",onClick:i}),p.jsxs("div",{className:"relative w-full max-w-sm bg-[var(--bg-surface)] border border-[var(--border-color)] rounded-[2.5rem] p-8 shadow-2xl animate-in zoom-in-95 duration-200",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 mb-6 mx-auto",children:p.jsx(Tg,{size:32})}),p.jsx("h3",{className:"text-xl font-black uppercase italic text-[var(--text-main)] mb-2 tracking-tight text-center",children:"Archive Exercise?"}),p.jsx("p",{className:"text-sm font-bold text-[var(--text-muted)] leading-relaxed mb-8 text-center px-4",children:"This will hide the exercise from your library. Past workout data will be preserved."}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx("button",{onClick:n,className:"w-full py-5 bg-red-500 text-white rounded-2xl font-black uppercase italic tracking-widest active:scale-95 shadow-lg shadow-red-500/20 transition-all",children:"Archive Now"}),p.jsx("button",{onClick:i,className:"w-full py-3 text-[var(--text-muted)] font-black uppercase italic text-[10px] tracking-widest hover:text-[var(--text-main)] transition-colors",children:"Cancel Action"})]})]})]}):null,nj=()=>{const{id:r}=Gv(),n=Kn(),[i,s]=R.useState(!0),[u,d]=R.useState(!1),[m,y]=R.useState({muscles:[],equipment:[]}),[g,x]=R.useState(""),[S,j]=R.useState(""),[N,A]=R.useState(!1),[P,X]=R.useState(""),[Z,ie]=R.useState([]),[G,te]=R.useState({reps:!0,weight:!0,bodyweight:!1,distance:!1,duration:!1});R.useEffect(()=>{(async()=>{if(!r)return;const[ze,Xe,Dt]=await Promise.all([tn.getExerciseDetail(r),tn.getActiveMuscles(),tn.getAllEquipment()]);ze&&(j(ze.name),A(ze.is_public),X(ze.equipmentId),ie(ze.muscles),te({reps:ze.reps,weight:ze.weight,bodyweight:ze.bodyweight,distance:ze.distance,duration:ze.duration})),y({muscles:Xe,equipment:Dt}),s(!1)})()},[r]);const he=(se,ze)=>{ie(Xe=>{const Dt=Xe.find(Mt=>Mt.id===se.id);return Dt&&Dt.role===ze?Xe.filter(Mt=>Mt.id!==se.id):Dt?Xe.map(Mt=>Mt.id===se.id?{...Mt,role:ze}:Mt):[...Xe,{id:se.id,name:se.name,role:ze}]}),x("")},Me=async()=>{try{const se={name:S,...G,is_public:N,updated_at:new Date().toISOString()};await tn.updateExercise(r,se,Z,P||null),n(-1)}catch{alert("Update failed.")}},Se=async()=>{try{await tn.archiveExercise(r),n(-1)}catch{alert("Archive failed.")}};return i?null:p.jsxs(pr,{title:"Edit Exercise",children:[p.jsxs("div",{className:"flex flex-col gap-6 pb-24",children:[p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-6 shadow-sm",children:[p.jsx("input",{type:"text",value:S,onChange:se=>j(se.target.value),className:"w-full bg-transparent text-2xl font-black italic text-[var(--text-main)] outline-none uppercase tracking-tighter"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:()=>A(!1),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all flex items-center justify-center gap-2 ${N?"text-[var(--text-muted)] border-[var(--border-color)]":"bg-[var(--text-main)] text-[var(--bg-main)]"}`,children:[p.jsx(_h,{size:12})," Private"]}),p.jsxs("button",{onClick:()=>A(!0),className:`flex-1 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all flex items-center justify-center gap-2 ${N?"bg-[var(--brand-primary)] text-[var(--bg-main)] shadow-lg shadow-[var(--brand-primary)]/20":"text-[var(--text-muted)] border-[var(--border-color)]"}`,children:[p.jsx(Ng,{size:12})," Public"]})]})]}),p.jsx("div",{className:"grid grid-cols-5 gap-2",children:[{id:"reps",icon:p.jsx(Ug,{size:16})},{id:"weight",icon:p.jsx($g,{size:16})},{id:"bodyweight",icon:p.jsx(ol,{size:16})},{id:"distance",icon:p.jsx(Dg,{size:16})},{id:"duration",icon:p.jsx(kh,{size:16})}].map(se=>p.jsxs("button",{onClick:()=>te({...G,[se.id]:!G[se.id]}),className:`flex flex-col items-center justify-center py-5 rounded-[1.4rem] border-2 transition-all gap-2 ${G[se.id]?"border-[var(--brand-primary)] bg-[var(--brand-primary)]/5 text-[var(--brand-primary)]":"border-[var(--border-color)] bg-[var(--bg-surface)] text-[var(--text-muted)]"}`,children:[se.icon,p.jsx("span",{className:"text-[7px] font-black uppercase",children:se.id})]},se.id))}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-4",children:[p.jsxs("label",{className:"text-[9px] font-black uppercase tracking-widest text-[var(--text-muted)] flex items-center gap-2",children:[p.jsx(kg,{size:12})," Equipment"]}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:P,onChange:se=>X(se.target.value),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-4.5 px-5 text-xs font-black uppercase italic text-[var(--text-main)] outline-none appearance-none transition-all focus:border-[var(--brand-primary)]",children:[p.jsx("option",{value:"",children:" NO EQUIPMENT "}),p.jsx("option",{value:"bodyweight_id",children:"BODYWEIGHT ONLY"}),m.equipment.map(se=>p.jsx("option",{value:se.id,children:se.name},se.id))]}),p.jsx(Mo,{size:16,className:"absolute right-5 top-1/2 -translate-y-1/2 text-[var(--text-muted)] pointer-events-none"})]})]}),p.jsxs("div",{className:"bg-[var(--bg-surface)] border border-[var(--border-color)] p-6 rounded-[2.2rem] space-y-5",children:[p.jsxs("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-[var(--text-muted)] flex items-center gap-2",children:[p.jsx(Xi,{size:12})," Target Muscles"]}),p.jsxs("div",{className:"relative",children:[p.jsx(Eh,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)]"}),p.jsx("input",{type:"text",value:g,onChange:se=>x(se.target.value),placeholder:"SEARCH...",className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-4 pl-12 text-xs font-bold outline-none focus:border-[var(--brand-primary)] transition-all"}),g&&p.jsx("div",{className:"absolute top-[110%] left-0 w-full bg-[var(--bg-surface)] border-2 border-[var(--border-color)] rounded-[2rem] shadow-2xl z-50 overflow-hidden max-h-72 overflow-y-auto backdrop-blur-xl",children:m.muscles.filter(se=>se.name.toLowerCase().includes(g.toLowerCase())).map(se=>p.jsxs("div",{className:"p-5 border-b border-[var(--border-color)] last:border-0 hover:bg-[var(--bg-main)] space-y-4",children:[p.jsx("span",{className:"text-[12px] font-black uppercase italic text-[var(--text-main)] block tracking-tight",children:se.name}),p.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[p.jsx("button",{onClick:()=>he(se,"primary"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-orange-500/10 text-orange-500 border border-orange-500/20 active:scale-90 transition-all",children:"Primary"}),p.jsx("button",{onClick:()=>he(se,"secondary"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-blue-500/10 text-blue-500 border border-blue-500/20 active:scale-90 transition-all",children:"Secondary"}),p.jsx("button",{onClick:()=>he(se,"stabilizer"),className:"py-3 rounded-xl text-[8px] font-black uppercase bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 active:scale-90 transition-all",children:"Stabilizer"})]})]},se.id))})]}),p.jsx("div",{className:"space-y-2",children:Z.map(se=>p.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${se.role==="primary"?"border-orange-500/20 bg-orange-500/[0.03]":se.role==="secondary"?"border-blue-500/20 bg-blue-500/[0.03]":"border-emerald-500/20 bg-emerald-500/[0.03]"}`,children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[11px] font-black uppercase italic text-[var(--text-main)]",children:se.name}),p.jsx("span",{className:`text-[8px] font-black uppercase tracking-[0.2em] mt-0.5 opacity-60 ${se.role==="primary"?"text-orange-500":se.role==="secondary"?"text-blue-500":"text-emerald-500"}`,children:se.role})]}),p.jsx("button",{onClick:()=>ie(ze=>ze.filter(Xe=>Xe.id!==se.id)),className:"w-8 h-8 rounded-full bg-[var(--bg-main)] border border-[var(--border-color)] flex items-center justify-center text-[var(--text-muted)] hover:text-red-500 active:scale-90 transition-all",children:p.jsx(Rg,{size:14})})]},se.id))})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:Me,className:"w-full py-5 bg-[var(--brand-primary)] text-[var(--bg-main)] font-black uppercase italic rounded-3xl shadow-lg flex items-center justify-center gap-3 tracking-widest active:scale-95 transition-all shadow-xl shadow-[var(--brand-primary)]/20",children:[p.jsx(xh,{size:20,strokeWidth:4})," UPDATE EXERCISE"]}),p.jsxs("button",{onClick:()=>d(!0),className:"w-full py-5 bg-red-500/10 text-red-500 font-black uppercase italic rounded-3xl flex items-center justify-center gap-3 tracking-widest active:scale-95 transition-all border border-red-500/20",children:[p.jsx(Bg,{size:20})," ARCHIVE"]})]})]}),p.jsx(tj,{isOpen:u,onConfirm:Se,onCancel:()=>d(!1)})]})},aj=()=>{const{user_id:r,athlete:n,loading:i}=ya();return i?p.jsx("div",{className:"h-screen w-full bg-[var(--bg-main)] flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 border-4 border-[var(--brand-primary)] border-t-transparent rounded-full animate-spin"}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[var(--text-muted)] animate-pulse",children:"Establishing Link..."})]})}):p.jsxs(vx,{children:[!r&&p.jsxs(p.Fragment,{children:[p.jsx(Qt,{path:"/login",element:p.jsx(HS,{})}),p.jsx(Qt,{path:"*",element:p.jsx(Uf,{to:"/login",replace:!0})})]}),r&&!n&&p.jsxs(p.Fragment,{children:[p.jsx(Qt,{path:"/onboarding",element:p.jsx(OE,{})}),p.jsx(Qt,{path:"*",element:p.jsx(Uf,{to:"/onboarding",replace:!0})})]}),r&&n&&p.jsxs(Qt,{element:p.jsx(BE,{}),children:[p.jsxs(Qt,{element:p.jsx(LE,{}),children:[p.jsx(Qt,{path:"/dashboard",element:p.jsx(ME,{})}),p.jsx(Qt,{path:"/profile",element:p.jsx($E,{})}),p.jsx(Qt,{path:"/library",element:p.jsx(WE,{})})]}),p.jsx(Qt,{path:"/profile/details",element:p.jsx(HE,{})}),p.jsx(Qt,{path:"/profile/metrics",element:p.jsx(PE,{})}),p.jsx(Qt,{path:"/profile/level",element:p.jsx(GE,{})}),p.jsx(Qt,{path:"/profile/theme",element:p.jsx(VE,{})}),p.jsx(Qt,{path:"/library/muscles/add",element:p.jsx(JE,{})}),p.jsx(Qt,{path:"/library/muscles/:id",element:p.jsx(ZE,{})}),p.jsx(Qt,{path:"/library/exercises/add",element:p.jsx(ej,{})}),p.jsx(Qt,{path:"/library/exercises/:id",element:p.jsx(nj,{})}),p.jsx(Qt,{path:"*",element:p.jsx(Uf,{to:"/dashboard",replace:!0})})]})]})};function rj(){function r(){R.useEffect(()=>{let n=0,i=0;const s=d=>{n=d.touches[0].clientX,i=d.touches[0].clientY},u=d=>{const m=Math.abs(d.touches[0].clientX-n),y=Math.abs(d.touches[0].clientY-i);m>y&&m>10&&(n<30||n>window.innerWidth-30)&&d.preventDefault()};return document.addEventListener("touchstart",s,{passive:!1}),document.addEventListener("touchmove",u,{passive:!1}),()=>{document.removeEventListener("touchstart",s),document.removeEventListener("touchmove",u)}},[])}return r(),p.jsx("div",{className:"app-root min-h-screen bg-[var(--bg-main)] text-[var(--text-main)] overflow-x-hidden selection:bg-[var(--brand-primary)] selection:text-[var(--bg-main)]",children:p.jsx(aj,{})})}const ij="modulepreload",sj=function(r){return"/fitnex/"+r},Dv={},lj=function(n,i,s){let u=Promise.resolve();if(i&&i.length>0){let x=function(S){return Promise.all(S.map(j=>Promise.resolve(j).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};var m=x;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),g=y?.nonce||y?.getAttribute("nonce");u=x(i.map(S=>{if(S=sj(S),S in Dv)return;Dv[S]=!0;const j=S.endsWith(".css"),N=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${N}`))return;const A=document.createElement("link");if(A.rel=j?"stylesheet":ij,j||(A.as="script"),A.crossOrigin="",A.href=S,g&&A.setAttribute("nonce",g),document.head.appendChild(A),j)return new Promise((P,X)=>{A.addEventListener("load",P),A.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${S}`)))})}))}function d(y){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=y,window.dispatchEvent(g),!g.defaultPrevented)throw y}return u.then(y=>{for(const g of y||[])g.status==="rejected"&&d(g.reason);return n().catch(d)})};function oj(r={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:s,onRegistered:u,onRegisteredSW:d,onRegisterError:m}=r;let y,g;const x=async(j=!0)=>{await g};async function S(){if("serviceWorker"in navigator){if(y=await lj(async()=>{const{Workbox:j}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:j}},[]).then(({Workbox:j})=>new j("/fitnex/sw.js",{scope:"/fitnex/",type:"classic"})).catch(j=>{m?.(j)}),!y)return;y.addEventListener("activated",j=>{(j.isUpdate||j.isExternal)&&window.location.reload()}),y.addEventListener("installed",j=>{j.isUpdate||s?.()}),y.register({immediate:n}).then(j=>{d?d("/fitnex/sw.js",j):u?.(j)}).catch(j=>{m?.(j)})}}return g=S(),x}const uj=R.createContext(void 0),cj=({children:r})=>{const[n,i]=R.useState("dark"),[s,u]=R.useState("#ff7f50");R.useEffect(()=>{(async()=>{const S=await ke.app_settings.get("global");S?(d(S.theme),m(S.brandColor),i(S.theme),u(S.brandColor)):(d("dark"),m("#ff7f50"))})()},[]);const d=x=>{const S=window.document.documentElement;x==="light"?S.classList.add("light-theme"):S.classList.remove("light-theme")},m=x=>{document.documentElement.style.setProperty("--brand-primary",x)},y=async x=>{i(x),d(x),await ke.app_settings.put({id:"global",theme:x,brandColor:s,unitSystem:"metric"})},g=async x=>{u(x),m(x),await ke.app_settings.put({id:"global",theme:n,brandColor:x,unitSystem:"metric"})};return p.jsx(uj.Provider,{value:{theme:n,brandColor:s,setTheme:y,setBrandColor:g},children:r})},dj=R.createContext(void 0),fj=({children:r})=>{const[n,i]=R.useState(null),[s,u]=R.useState([]);R.useEffect(()=>{(async()=>{const S=await ke.workouts.where("finish_time").equals("").first();if(S){const j=await ke.workout_logs.where("workout_id").equals(S.id).toArray();i(S),u(j)}})()},[]);const d=async(x,S)=>{const j={...x,is_synced:0},N=S.map(A=>({...A,is_synced:0}));await ke.workouts.put(j),N.length>0&&await ke.workout_logs.bulkPut(N),i(j),u(N)},m=async x=>{const S={...x,is_synced:0};await ke.workout_logs.put(S),u(j=>j.map(N=>N.id===x.id?S:N))},y=async x=>{if(!n)return;const S={...n,notes:x,finish_time:new Date().toISOString(),updated_at:new Date().toISOString()};await ke.workouts.put(S),i(null),u([])},g=async()=>{n&&(await ke.workout_logs.where("workout_id").equals(n.id).delete(),await ke.workouts.delete(n.id),i(null),u([]))};return p.jsx(dj.Provider,{value:{activeWorkout:n,activeLogs:s,isOngoing:!!n,startWorkout:d,updateLog:m,finishWorkout:y,discardWorkout:g},children:r})};function Th(){const r=window.visualViewport?.height||window.innerHeight;document.documentElement.style.setProperty("--app-height",`${r}px`)}Th();window.visualViewport?.addEventListener("resize",Th);window.addEventListener("orientationchange",Th);const hj=oj({immediate:!0,onNeedRefresh(){hj(!0)},onOfflineReady(){console.log("App ready offline")}});"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()});g0.createRoot(document.getElementById("root")).render(p.jsx(c0.StrictMode,{children:p.jsx(Hx,{basename:"/fitnex",children:p.jsx($S,{children:p.jsx(cj,{children:p.jsx(fj,{children:p.jsx(rj,{})})})})})}));
