(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hh={exports:{}},io={};var ry;function v0(){if(ry)return io;ry=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:r,type:l,key:m,ref:c!==void 0?c:null,props:f}}return io.Fragment=n,io.jsx=i,io.jsxs=i,io}var iy;function b0(){return iy||(iy=1,hh.exports=v0()),hh.exports}var T=b0(),dh={exports:{}},qe={};var sy;function _0(){if(sy)return qe;sy=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),C=Symbol.iterator;function j(H){return H===null||typeof H!="object"?null:(H=C&&H[C]||H["@@iterator"],typeof H=="function"?H:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,F={};function le(H,ie,ve){this.props=H,this.context=ie,this.refs=F,this.updater=ve||Y}le.prototype.isReactComponent={},le.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},le.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function ae(){}ae.prototype=le.prototype;function re(H,ie,ve){this.props=H,this.context=ie,this.refs=F,this.updater=ve||Y}var _e=re.prototype=new ae;_e.constructor=re,W(_e,le.prototype),_e.isPureReactComponent=!0;var Ue=Array.isArray;function Ae(){}var pe={H:null,A:null,T:null,S:null},et=Object.prototype.hasOwnProperty;function lt(H,ie,ve){var xe=ve.ref;return{$$typeof:r,type:H,key:ie,ref:xe!==void 0?xe:null,props:ve}}function mn(H,ie){return lt(H.type,ie,H.props)}function An(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function zt(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ie[ve]})}var pn=/\/+/g;function ea(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?zt(""+H.key):ie.toString(36)}function yn(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Ae,Ae):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ee(H,ie,ve,xe,Be){var He=typeof H;(He==="undefined"||He==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(He){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case r:case n:Ve=!0;break;case x:return Ve=H._init,ee(Ve(H._payload),ie,ve,xe,Be)}}if(Ve)return Be=Be(H),Ve=xe===""?"."+ea(H,0):xe,Ue(Be)?(ve="",Ve!=null&&(ve=Ve.replace(pn,"$&/")+"/"),ee(Be,ie,ve,"",function(Oe){return Oe})):Be!=null&&(An(Be)&&(Be=mn(Be,ve+(Be.key==null||H&&H.key===Be.key?"":(""+Be.key).replace(pn,"$&/")+"/")+Ve)),ie.push(Be)),1;Ve=0;var Kt=xe===""?".":xe+":";if(Ue(H))for(var At=0;At<H.length;At++)xe=H[At],He=Kt+ea(xe,At),Ve+=ee(xe,ie,ve,He,Be);else if(At=j(H),typeof At=="function")for(H=At.call(H),At=0;!(xe=H.next()).done;)xe=xe.value,He=Kt+ea(xe,At++),Ve+=ee(xe,ie,ve,He,Be);else if(He==="object"){if(typeof H.then=="function")return ee(yn(H),ie,ve,xe,Be);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ge(H,ie,ve){if(H==null)return H;var xe=[],Be=0;return ee(H,xe,"","",function(He){return ie.call(ve,He,Be++)}),xe}function je(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var We=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ye={map:ge,forEach:function(H,ie,ve){ge(H,function(){ie.apply(this,arguments)},ve)},count:function(H){var ie=0;return ge(H,function(){ie++}),ie},toArray:function(H){return ge(H,function(ie){return ie})||[]},only:function(H){if(!An(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return qe.Activity=O,qe.Children=Ye,qe.Component=le,qe.Fragment=i,qe.Profiler=c,qe.PureComponent=re,qe.StrictMode=l,qe.Suspense=v,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,qe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return pe.H.useMemoCache(H)}},qe.cache=function(H){return function(){return H.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(H,ie,ve){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var xe=W({},H.props),Be=H.key;if(ie!=null)for(He in ie.key!==void 0&&(Be=""+ie.key),ie)!et.call(ie,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&ie.ref===void 0||(xe[He]=ie[He]);var He=arguments.length-2;if(He===1)xe.children=ve;else if(1<He){for(var Ve=Array(He),Kt=0;Kt<He;Kt++)Ve[Kt]=arguments[Kt+2];xe.children=Ve}return lt(H.type,Be,xe)},qe.createContext=function(H){return H={$$typeof:m,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:f,_context:H},H},qe.createElement=function(H,ie,ve){var xe,Be={},He=null;if(ie!=null)for(xe in ie.key!==void 0&&(He=""+ie.key),ie)et.call(ie,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Be[xe]=ie[xe]);var Ve=arguments.length-2;if(Ve===1)Be.children=ve;else if(1<Ve){for(var Kt=Array(Ve),At=0;At<Ve;At++)Kt[At]=arguments[At+2];Be.children=Kt}if(H&&H.defaultProps)for(xe in Ve=H.defaultProps,Ve)Be[xe]===void 0&&(Be[xe]=Ve[xe]);return lt(H,He,Be)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(H){return{$$typeof:y,render:H}},qe.isValidElement=An,qe.lazy=function(H){return{$$typeof:x,_payload:{_status:-1,_result:H},_init:je}},qe.memo=function(H,ie){return{$$typeof:_,type:H,compare:ie===void 0?null:ie}},qe.startTransition=function(H){var ie=pe.T,ve={};pe.T=ve;try{var xe=H(),Be=pe.S;Be!==null&&Be(ve,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(Ae,We)}catch(He){We(He)}finally{ie!==null&&ve.types!==null&&(ie.types=ve.types),pe.T=ie}},qe.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},qe.use=function(H){return pe.H.use(H)},qe.useActionState=function(H,ie,ve){return pe.H.useActionState(H,ie,ve)},qe.useCallback=function(H,ie){return pe.H.useCallback(H,ie)},qe.useContext=function(H){return pe.H.useContext(H)},qe.useDebugValue=function(){},qe.useDeferredValue=function(H,ie){return pe.H.useDeferredValue(H,ie)},qe.useEffect=function(H,ie){return pe.H.useEffect(H,ie)},qe.useEffectEvent=function(H){return pe.H.useEffectEvent(H)},qe.useId=function(){return pe.H.useId()},qe.useImperativeHandle=function(H,ie,ve){return pe.H.useImperativeHandle(H,ie,ve)},qe.useInsertionEffect=function(H,ie){return pe.H.useInsertionEffect(H,ie)},qe.useLayoutEffect=function(H,ie){return pe.H.useLayoutEffect(H,ie)},qe.useMemo=function(H,ie){return pe.H.useMemo(H,ie)},qe.useOptimistic=function(H,ie){return pe.H.useOptimistic(H,ie)},qe.useReducer=function(H,ie,ve){return pe.H.useReducer(H,ie,ve)},qe.useRef=function(H){return pe.H.useRef(H)},qe.useState=function(H){return pe.H.useState(H)},qe.useSyncExternalStore=function(H,ie,ve){return pe.H.useSyncExternalStore(H,ie,ve)},qe.useTransition=function(){return pe.H.useTransition()},qe.version="19.2.4",qe}var ly;function Yh(){return ly||(ly=1,dh.exports=_0()),dh.exports}var I=Yh();const w0=Gh(I);var mh={exports:{}},so={},ph={exports:{}},yh={};var oy;function S0(){return oy||(oy=1,(function(r){function n(ee,ge){var je=ee.length;ee.push(ge);e:for(;0<je;){var We=je-1>>>1,Ye=ee[We];if(0<c(Ye,ge))ee[We]=ge,ee[je]=Ye,je=We;else break e}}function i(ee){return ee.length===0?null:ee[0]}function l(ee){if(ee.length===0)return null;var ge=ee[0],je=ee.pop();if(je!==ge){ee[0]=je;e:for(var We=0,Ye=ee.length,H=Ye>>>1;We<H;){var ie=2*(We+1)-1,ve=ee[ie],xe=ie+1,Be=ee[xe];if(0>c(ve,je))xe<Ye&&0>c(Be,ve)?(ee[We]=Be,ee[xe]=je,We=xe):(ee[We]=ve,ee[ie]=je,We=ie);else if(xe<Ye&&0>c(Be,je))ee[We]=Be,ee[xe]=je,We=xe;else break e}}return ge}function c(ee,ge){var je=ee.sortIndex-ge.sortIndex;return je!==0?je:ee.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var v=[],_=[],x=1,O=null,C=3,j=!1,Y=!1,W=!1,F=!1,le=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(ee){for(var ge=i(_);ge!==null;){if(ge.callback===null)l(_);else if(ge.startTime<=ee)l(_),ge.sortIndex=ge.expirationTime,n(v,ge);else break;ge=i(_)}}function Ue(ee){if(W=!1,_e(ee),!Y)if(i(v)!==null)Y=!0,Ae||(Ae=!0,zt());else{var ge=i(_);ge!==null&&yn(Ue,ge.startTime-ee)}}var Ae=!1,pe=-1,et=5,lt=-1;function mn(){return F?!0:!(r.unstable_now()-lt<et)}function An(){if(F=!1,Ae){var ee=r.unstable_now();lt=ee;var ge=!0;try{e:{Y=!1,W&&(W=!1,ae(pe),pe=-1),j=!0;var je=C;try{t:{for(_e(ee),O=i(v);O!==null&&!(O.expirationTime>ee&&mn());){var We=O.callback;if(typeof We=="function"){O.callback=null,C=O.priorityLevel;var Ye=We(O.expirationTime<=ee);if(ee=r.unstable_now(),typeof Ye=="function"){O.callback=Ye,_e(ee),ge=!0;break t}O===i(v)&&l(v),_e(ee)}else l(v);O=i(v)}if(O!==null)ge=!0;else{var H=i(_);H!==null&&yn(Ue,H.startTime-ee),ge=!1}}break e}finally{O=null,C=je,j=!1}ge=void 0}}finally{ge?zt():Ae=!1}}}var zt;if(typeof re=="function")zt=function(){re(An)};else if(typeof MessageChannel<"u"){var pn=new MessageChannel,ea=pn.port2;pn.port1.onmessage=An,zt=function(){ea.postMessage(null)}}else zt=function(){le(An,0)};function yn(ee,ge){pe=le(function(){ee(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var ge=3;break;default:ge=C}var je=C;C=ge;try{return ee()}finally{C=je}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(ee,ge){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var je=C;C=ee;try{return ge()}finally{C=je}},r.unstable_scheduleCallback=function(ee,ge,je){var We=r.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?We+je:We):je=We,ee){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=je+Ye,ee={id:x++,callback:ge,priorityLevel:ee,startTime:je,expirationTime:Ye,sortIndex:-1},je>We?(ee.sortIndex=je,n(_,ee),i(v)===null&&ee===i(_)&&(W?(ae(pe),pe=-1):W=!0,yn(Ue,je-We))):(ee.sortIndex=Ye,n(v,ee),Y||j||(Y=!0,Ae||(Ae=!0,zt()))),ee},r.unstable_shouldYield=mn,r.unstable_wrapCallback=function(ee){var ge=C;return function(){var je=C;C=ge;try{return ee.apply(this,arguments)}finally{C=je}}}})(yh)),yh}var uy;function x0(){return uy||(uy=1,ph.exports=S0()),ph.exports}var gh={exports:{}},dn={};var cy;function E0(){if(cy)return dn;cy=1;var r=Yh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(v,_,x){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:O==null?null:""+O,children:v,containerInfo:_,implementation:x}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,dn.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,x)},dn.flushSync=function(v){var _=m.T,x=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=x,l.d.f()}},dn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},dn.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},dn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,O=y(x,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:C,fetchPriority:j}):x==="script"&&l.d.X(v,{crossOrigin:O,integrity:C,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},dn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,O=y(x,_.crossOrigin);l.d.L(v,x,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},dn.requestFormReset=function(v){l.d.r(v)},dn.unstable_batchedUpdates=function(v,_){return v(_)},dn.useFormState=function(v,_,x){return m.H.useFormState(v,_,x)},dn.useFormStatus=function(){return m.H.useHostTransitionStatus()},dn.version="19.2.4",dn}var fy;function T0(){if(fy)return gh.exports;fy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),gh.exports=E0(),gh.exports}var hy;function O0(){if(hy)return so;hy=1;var r=x0(),n=Yh(),i=T0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(l(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return v(u),e;if(h===s)return v(u),t;h=h.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=h;else{for(var b=!1,E=u.child;E;){if(E===a){b=!0,a=u,s=h;break}if(E===s){b=!0,s=u,a=h;break}E=E.sibling}if(!b){for(E=h.child;E;){if(E===a){b=!0,a=h,s=u;break}if(E===s){b=!0,s=h,a=u;break}E=E.sibling}if(!b)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var O=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),mn=Symbol.for("react.memo_cache_sentinel"),An=Symbol.iterator;function zt(e){return e===null||typeof e!="object"?null:(e=An&&e[An]||e["@@iterator"],typeof e=="function"?e:null)}var pn=Symbol.for("react.client.reference");function ea(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case le:return"Profiler";case F:return"StrictMode";case Ue:return"Suspense";case Ae:return"SuspenseList";case lt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case re:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case et:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}var yn=Array.isArray,ee=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je={pending:!1,data:null,method:null,action:null},We=[],Ye=-1;function H(e){return{current:e}}function ie(e){0>Ye||(e.current=We[Ye],We[Ye]=null,Ye--)}function ve(e,t){Ye++,We[Ye]=e.current,e.current=t}var xe=H(null),Be=H(null),He=H(null),Ve=H(null);function Kt(e,t){switch(ve(He,t),ve(Be,e),ve(xe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ap(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ap(t),e=kp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(xe),ve(xe,e)}function At(){ie(xe),ie(Be),ie(He)}function Oe(e){e.memoizedState!==null&&ve(Ve,e);var t=xe.current,a=kp(t,e.type);t!==a&&(ve(Be,e),ve(xe,a))}function ei(e){Be.current===e&&(ie(xe),ie(Be)),Ve.current===e&&(ie(Ve),to._currentValue=je)}var tt,dr;function Ca(e){if(tt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);tt=t&&t[1]||"",dr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+dr}var ta=!1;function al(e,t){if(!e||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var J=Z}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(Z){J=Z}e.call(oe.prototype)}}else{try{throw Error()}catch(Z){J=Z}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&J&&typeof Z.stack=="string")return[Z.stack,J.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),b=h[0],E=h[1];if(b&&E){var R=b.split(`
`),X=E.split(`
`);for(u=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(s===R.length||u===X.length)for(s=R.length-1,u=X.length-1;1<=s&&0<=u&&R[s]!==X[u];)u--;for(;1<=s&&0<=u;s--,u--)if(R[s]!==X[u]){if(s!==1||u!==1)do if(s--,u--,0>u||R[s]!==X[u]){var ne=`
`+R[s].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=s&&0<=u);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ca(a):""}function gc(e,t){switch(e.tag){case 26:case 27:case 5:return Ca(e.type);case 16:return Ca("Lazy");case 13:return e.child!==t&&t!==null?Ca("Suspense Fallback"):Ca("Suspense");case 19:return Ca("SuspenseList");case 0:case 15:return al(e.type,!1);case 11:return al(e.type.render,!1);case 1:return al(e.type,!0);case 31:return Ca("Activity");default:return""}}function ko(e){try{var t="",a=null;do t+=gc(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var rl=Object.prototype.hasOwnProperty,ti=r.unstable_scheduleCallback,_n=r.unstable_cancelCallback,jo=r.unstable_shouldYield,ni=r.unstable_requestPaint,ln=r.unstable_now,ai=r.unstable_getCurrentPriorityLevel,on=r.unstable_ImmediatePriority,ma=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,ri=r.unstable_LowPriority,Ki=r.unstable_IdlePriority,Gi=r.log,Na=r.unstable_setDisableYieldValue,pa=null,Jt=null;function Wt(e){if(typeof Gi=="function"&&Na(e),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(pa,e)}catch{}}var be=Math.clz32?Math.clz32:Yi,ii=Math.log,Da=Math.LN2;function Yi(e){return e>>>=0,e===0?32:31-(ii(e)/Da|0)|0}var me=256,pr=262144,si=4194304;function na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?u=na(s):(b&=E,b!==0?u=na(b):a||(a=E&~e,a!==0&&(u=na(a))))):(E=s&~h,E!==0?u=na(E):b!==0?u=na(b):a||(a=s&~e,a!==0&&(u=na(a)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:u}function Ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=si;return si<<=1,(si&62914560)===0&&(si=4194304),e}function ya(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Hn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function il(e,t,a,s,u,h){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,X=e.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-be(a),oe=1<<ne;E[ne]=0,R[ne]=-1;var J=X[ne];if(J!==null)for(X[ne]=null,ne=0;ne<J.length;ne++){var Z=J[ne];Z!==null&&(Z.lane&=-536870913)}a&=~oe}s!==0&&oi(e,s,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~t))}function oi(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-be(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function yt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-be(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function Ct(e,t){var a=t&-t;return a=(a&42)!==0?1:sl(a),(a&(e.suspendedLanes|t))!==0?0:a}function sl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ui(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:Wp(e.type))}function ci(e,t){var a=ge.p;try{return ge.p=e,t()}finally{ge.p=a}}var ga=Math.random().toString(36).slice(2),vt="__reactFiber$"+ga,Nt="__reactProps$"+ga,gn="__reactContainer$"+ga,gr="__reactEvents$"+ga,bc="__reactListeners$"+ga,va="__reactHandles$"+ga,ll="__reactResources$"+ga,kn="__reactMarker$"+ga;function Vi(e){delete e[vt],delete e[Nt],delete e[gr],delete e[bc],delete e[va]}function ba(e){var t=e[vt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[gn]||a[vt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Up(e);e!==null;){if(a=e[vt])return a;e=Up(e)}return t}e=a,a=e.parentNode}return null}function ft(e){if(e=e[vt]||e[gn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function jn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function un(e){var t=e[ll];return t||(t=e[ll]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Dt(e){e[kn]=!0}var Ua=new Set,fi={};function aa(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(fi[e]=t,e=0;e<t.length;e++)Ua.add(t[e])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},hi={};function Co(e){return rl.call(hi,e)?!0:rl.call(ol,e)?!1:za.test(e)?hi[e]=!0:(ol[e]=!0,!1)}function Ke(e,t,a){if(Co(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function di(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function $n(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function No(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ii(e){if(!e._valueTracker){var t=vr(e)?"checked":"value";e._valueTracker=No(e,t,""+e[t])}}function ul(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=vr(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function rt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mi=/[\n"\\]/g;function Vt(e){return e.replace(mi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wa(e,t,a,s,u,h,b,E){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?pi(e,b,Zt(t)):a!=null?pi(e,b,Zt(a)):s!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Zt(E):e.removeAttribute("name")}function Xi(e,t,a,s,u,h,b,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Ii(e);return}a=a!=null?""+Zt(a):"",t=t!=null?""+Zt(t):a,E||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),Ii(e)}function pi(e,t,a){t==="number"&&rt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ra(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Zt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function cl(e,t,a){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Zt(a):""}function yi(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(yn(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Zt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Ii(e)}function Ba(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ze(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||_c.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function fl(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&Ze(e,u,s)}else for(var h in t)t.hasOwnProperty(h)&&Ze(e,h,t[h])}function hl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return vn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Pn=null;function Qi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,wt=null;function Rn(e){var t=ft(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[Nt]||null;if(!u)throw Error(l(90));wa(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&ul(s)}break e;case"textarea":cl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ra(e,!!a.multiple,t,!1)}}}var qa=!1;function br(e,t,a){if(qa)return e(t,a);qa=!0;try{var s=e(t);return s}finally{if(qa=!1,(La!==null||wt!==null)&&(wu(),La&&(t=La,e=wt,wt=La=null,Rn(t),e)))for(t=0;t<e.length;t++)Rn(e[t])}}function Ha(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Nt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=!1;if(It)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){dl=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{dl=!1}var Kn=null,Ji=null,_r=null;function wr(){if(_r)return _r;var e,t=Ji,a=t.length,s,u="value"in Kn?Kn.value:Kn.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var b=a-e;for(s=1;s<=b&&t[a-s]===u[h-s];s++);return _r=u.slice(e,1<s?1-s:void 0)}function Sr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Do(){return!1}function Bt(e){function t(a,s,u,h,b){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?gi:Do,this.isPropagationStopped=Do,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Bt($a),Sa=O({},$a,{view:0,detail:0}),Zi=Bt(Sa),vi,ml,bi,Fi=O({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(vi=e.screenX-bi.screenX,ml=e.screenY-bi.screenY):ml=vi=0,bi=e),vi)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),es=Bt(Fi),pl=O({},Fi,{dataTransfer:0}),Mo=Bt(pl),ts=O({},Sa,{relatedTarget:0}),xr=Bt(ts),ns=O({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Uo=Bt(ns),Sc=O({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Er=Bt(Sc),yl=O({},$a,{data:0}),as=Bt(yl),gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _i(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xt[e])?!!t[e]:!1}function Pa(){return _i}var zo=O({},Sa,{key:function(e){if(e.key){var t=gl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rs=Bt(zo),Bo=O({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Bt(Bo),is=O({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),_l=Bt(is),Ka=O({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),wl=Bt(Ka),Sl=O({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ss=Bt(Sl),xl=O({},$a,{newState:0,oldState:0}),Lo=Bt(xl),xc=[9,13,27,32],wi=It&&"CompositionEvent"in window,xa=null;It&&"documentMode"in document&&(xa=document.documentMode);var Ec=It&&"TextEvent"in window&&!xa,ls=It&&(!wi||xa&&8<xa&&11>=xa),os=" ",qo=!1;function El(e,t){switch(e){case"keyup":return xc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function $o(e,t){switch(e){case"compositionend":return Ho(t);case"keypress":return t.which!==32?null:(qo=!0,os);case"textInput":return e=t.data,e===os&&qo?null:e;default:return null}}function Tc(e,t){if(Ga)return e==="compositionend"||!wi&&El(e,t)?(e=wr(),_r=Ji=Kn=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ls&&t.locale!=="ko"?null:t.data;default:return null}}var Po={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Po[e.type]:t==="textarea"}function Tl(e,t,a,s){La?wt?wt.push(s):wt=[s]:La=s,t=ku(t,"onChange"),0<t.length&&(a=new Wi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Tr=null,Si=null;function Oc(e){wp(e,0)}function cs(e){var t=jn(e);if(ul(t))return e}function xi(e,t){if(e==="change")return t}var Gn=!1;if(It){var St;if(It){var Or="oninput"in document;if(!Or){var Ya=document.createElement("div");Ya.setAttribute("oninput","return;"),Or=typeof Ya.oninput=="function"}St=Or}else St=!1;Gn=St&&(!document.documentMode||9<document.documentMode)}function Ko(){Tr&&(Tr.detachEvent("onpropertychange",fs),Si=Tr=null)}function fs(e){if(e.propertyName==="value"&&cs(Si)){var t=[];Tl(t,Si,e,Qi(e)),br(Oc,t)}}function Go(e,t,a){e==="focusin"?(Ko(),Tr=t,Si=a,Tr.attachEvent("onpropertychange",fs)):e==="focusout"&&Ko()}function Va(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(Si)}function Ol(e,t){if(e==="click")return cs(t)}function Ar(e,t){if(e==="input"||e==="change")return cs(t)}function Ea(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:Ea;function o(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!rl.call(t,u)||!fn(e[u],t[u]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var a=d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=d(a)}}function g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=rt(e.document)}return t}function S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var A=It&&"documentMode"in document&&11>=document.documentMode,k=null,D=null,P=null,M=!1;function N(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;M||k==null||k!==rt(s)||(s=k,"selectionStart"in s&&S(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),P&&o(P,s)||(P=s,s=ku(D,"onSelect"),0<s.length&&(t=new Wi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=k)))}function B(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var q={animationend:B("Animation","AnimationEnd"),animationiteration:B("Animation","AnimationIteration"),animationstart:B("Animation","AnimationStart"),transitionrun:B("Transition","TransitionRun"),transitionstart:B("Transition","TransitionStart"),transitioncancel:B("Transition","TransitionCancel"),transitionend:B("Transition","TransitionEnd")},U={},z={};It&&(z=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function G(e){if(U[e])return U[e];if(!q[e])return e;var t=q[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in z)return U[e]=t[a];return e}var Q=G("animationend"),K=G("animationiteration"),te=G("animationstart"),ue=G("transitionrun"),he=G("transitionstart"),de=G("transitioncancel"),ce=G("transitionend"),we=new Map,ye="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ye.push("scrollEnd");function fe(e,t){we.set(e,t),aa(t,[e])}var Se=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ze=[],Ge=0,Re=0;function Le(){for(var e=Ge,t=Re=Ge=0;t<e;){var a=ze[t];ze[t++]=null;var s=ze[t];ze[t++]=null;var u=ze[t];ze[t++]=null;var h=ze[t];if(ze[t++]=null,s!==null&&u!==null){var b=s.pending;b===null?u.next=u:(u.next=b.next,b.next=u),s.pending=u}h!==0&&Ta(a,u,h)}}function ht(e,t,a,s){ze[Ge++]=e,ze[Ge++]=t,ze[Ge++]=a,ze[Ge++]=s,Re|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function hn(e,t,a,s){return ht(e,t,a,s),kr(e)}function st(e,t){return ht(e,null,null,t),kr(e)}function Ta(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,s=h.alternate,s!==null&&(s.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-be(a),e=h.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),h):null}function kr(e){if(50<Xl)throw Xl=0,zf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hs={};function ev(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,a,s){return new ev(e,t,a,s)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ia(e,t){var a=e.alternate;return a===null?(a=Cn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ad(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yo(e,t,a,s,u,h){var b=0;if(s=e,typeof e=="function")Ac(e)&&(b=1);else if(typeof e=="string")b=i0(e,a,xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case lt:return e=Cn(31,a,t,u),e.elementType=lt,e.lanes=h,e;case W:return Ei(a.children,u,h,t);case F:b=8,u|=24;break;case le:return e=Cn(12,a,t,u|2),e.elementType=le,e.lanes=h,e;case Ue:return e=Cn(13,a,t,u),e.elementType=Ue,e.lanes=h,e;case Ae:return e=Cn(19,a,t,u),e.elementType=Ae,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:b=10;break e;case ae:b=9;break e;case _e:b=11;break e;case pe:b=14;break e;case et:b=16,s=null;break e}b=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Cn(b,a,t,u),t.elementType=e,t.type=s,t.lanes=h,t}function Ei(e,t,a,s){return e=Cn(7,e,s,t),e.lanes=a,e}function kc(e,t,a){return e=Cn(6,e,null,t),e.lanes=a,e}function rd(e){var t=Cn(18,null,null,0);return t.stateNode=e,t}function jc(e,t,a){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var id=new WeakMap;function Yn(e,t){if(typeof e=="object"&&e!==null){var a=id.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ko(t)},id.set(e,t),t)}return{value:e,source:t,stack:ko(t)}}var ds=[],ms=0,Vo=null,Al=0,Vn=[],In=0,jr=null,Oa=1,Aa="";function Xa(e,t){ds[ms++]=Al,ds[ms++]=Vo,Vo=e,Al=t}function sd(e,t,a){Vn[In++]=Oa,Vn[In++]=Aa,Vn[In++]=jr,jr=e;var s=Oa;e=Aa;var u=32-be(s)-1;s&=~(1<<u),a+=1;var h=32-be(t)+u;if(30<h){var b=u-u%5;h=(s&(1<<b)-1).toString(32),s>>=b,u-=b,Oa=1<<32-be(t)+u|a<<u|s,Aa=h+e}else Oa=1<<h|a<<u|s,Aa=e}function Rc(e){e.return!==null&&(Xa(e,1),sd(e,1,0))}function Cc(e){for(;e===Vo;)Vo=ds[--ms],ds[ms]=null,Al=ds[--ms],ds[ms]=null;for(;e===jr;)jr=Vn[--In],Vn[In]=null,Aa=Vn[--In],Vn[In]=null,Oa=Vn[--In],Vn[In]=null}function ld(e,t){Vn[In++]=Oa,Vn[In++]=Aa,Vn[In++]=jr,Oa=t.id,Aa=t.overflow,jr=e}var Ft=null,xt=null,Fe=!1,Rr=null,Xn=!1,Nc=Error(l(519));function Cr(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Yn(t,e)),Nc}function od(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[vt]=e,t[Nt]=s,a){case"dialog":Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":case"embed":Xe("load",t);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Xe(Jl[a],t);break;case"source":Xe("error",t);break;case"img":case"image":case"link":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"input":Xe("invalid",t),Xi(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Xe("invalid",t);break;case"textarea":Xe("invalid",t),yi(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Tp(t.textContent,a)?(s.popover!=null&&(Xe("beforetoggle",t),Xe("toggle",t)),s.onScroll!=null&&Xe("scroll",t),s.onScrollEnd!=null&&Xe("scrollend",t),s.onClick!=null&&(t.onclick=wn),t=!0):t=!1,t||Cr(e,!0)}function ud(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ft=Ft.return}}function ps(e){if(e!==Ft)return!1;if(!Fe)return ud(e),Fe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&xt&&Cr(e),ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));xt=Mp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));xt=Mp(e)}else t===27?(t=xt,Yr(e.type)?(e=nh,nh=null,xt=e):xt=t):xt=Ft?Jn(e.stateNode.nextSibling):null;return!0}function Ti(){xt=Ft=null,Fe=!1}function Dc(){var e=Rr;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),Rr=null),e}function kl(e){Rr===null?Rr=[e]:Rr.push(e)}var Mc=H(null),Oi=null,Qa=null;function Nr(e,t,a){ve(Mc,t._currentValue),t._currentValue=a}function Ja(e){e._currentValue=Mc.current,ie(Mc)}function Uc(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function zc(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var b=u.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=u;for(var R=0;R<t.length;R++)if(E.context===t[R]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Uc(h.return,a,e),s||(b=null);break e}h=E.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(l(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),Uc(b,a,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function ys(e,t,a,s){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(l(387));if(b=b.memoizedProps,b!==null){var E=u.type;fn(u.pendingProps.value,b.value)||(e!==null?e.push(E):e=[E])}}else if(u===Ve.current){if(b=u.alternate,b===null)throw Error(l(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(to):e=[to])}u=u.return}e!==null&&zc(t,e,a,s),t.flags|=262144}function Io(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Oi=e,Qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return cd(Oi,e)}function Xo(e,t){return Oi===null&&Ai(e),cd(e,t)}function cd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Qa===null){if(e===null)throw Error(l(308));Qa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qa=Qa.next=t;return a}var tv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nv=r.unstable_scheduleCallback,av=r.unstable_NormalPriority,Lt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new tv,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&nv(av,function(){e.controller.abort()})}var Rl=null,Lc=0,gs=0,vs=null;function rv(e,t){if(Rl===null){var a=Rl=[];Lc=0,gs=Pf(),vs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Lc++,t.then(fd,fd),t}function fd(){if(--Lc===0&&Rl!==null){vs!==null&&(vs.status="fulfilled");var e=Rl;Rl=null,gs=0,vs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var hd=ee.S;ee.S=function(e,t){Qm=ln(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&rv(e,t),hd!==null&&hd(e,t)};var ki=H(null);function qc(){var e=ki.current;return e!==null?e:gt.pooledCache}function Qo(e,t){t===null?ve(ki,ki.current):ve(ki,t.pool)}function dd(){var e=qc();return e===null?null:{parent:Lt._currentValue,pool:e}}var bs=Error(l(460)),Hc=Error(l(474)),Jo=Error(l(542)),Wo={then:function(){}};function md(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(wn,wn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e;default:if(typeof t.status=="string")t.then(wn,wn);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gd(e),e}throw Ri=t,bs}}function ji(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ri=a,bs):a}}var Ri=null;function yd(){if(Ri===null)throw Error(l(459));var e=Ri;return Ri=null,e}function gd(e){if(e===bs||e===Jo)throw Error(l(483))}var _s=null,Cl=0;function Zo(e){var t=Cl;return Cl+=1,_s===null&&(_s=[]),pd(_s,e,t)}function Nl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fo(e,t){throw t.$$typeof===C?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vd(e){function t($,L){if(e){var V=$.deletions;V===null?($.deletions=[L],$.flags|=16):V.push(L)}}function a($,L){if(!e)return null;for(;L!==null;)t($,L),L=L.sibling;return null}function s($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function u($,L){return $=Ia($,L),$.index=0,$.sibling=null,$}function h($,L,V){return $.index=V,e?(V=$.alternate,V!==null?(V=V.index,V<L?($.flags|=67108866,L):V):($.flags|=67108866,L)):($.flags|=1048576,L)}function b($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,L,V,se){return L===null||L.tag!==6?(L=kc(V,$.mode,se),L.return=$,L):(L=u(L,V),L.return=$,L)}function R($,L,V,se){var Ce=V.type;return Ce===W?ne($,L,V.props.children,se,V.key):L!==null&&(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===et&&ji(Ce)===L.type)?(L=u(L,V.props),Nl(L,V),L.return=$,L):(L=Yo(V.type,V.key,V.props,null,$.mode,se),Nl(L,V),L.return=$,L)}function X($,L,V,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==V.containerInfo||L.stateNode.implementation!==V.implementation?(L=jc(V,$.mode,se),L.return=$,L):(L=u(L,V.children||[]),L.return=$,L)}function ne($,L,V,se,Ce){return L===null||L.tag!==7?(L=Ei(V,$.mode,se,Ce),L.return=$,L):(L=u(L,V),L.return=$,L)}function oe($,L,V){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=kc(""+L,$.mode,V),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return V=Yo(L.type,L.key,L.props,null,$.mode,V),Nl(V,L),V.return=$,V;case Y:return L=jc(L,$.mode,V),L.return=$,L;case et:return L=ji(L),oe($,L,V)}if(yn(L)||zt(L))return L=Ei(L,$.mode,V,null),L.return=$,L;if(typeof L.then=="function")return oe($,Zo(L),V);if(L.$$typeof===re)return oe($,Xo($,L),V);Fo($,L)}return null}function J($,L,V,se){var Ce=L!==null?L.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Ce!==null?null:E($,L,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return V.key===Ce?R($,L,V,se):null;case Y:return V.key===Ce?X($,L,V,se):null;case et:return V=ji(V),J($,L,V,se)}if(yn(V)||zt(V))return Ce!==null?null:ne($,L,V,se,null);if(typeof V.then=="function")return J($,L,Zo(V),se);if(V.$$typeof===re)return J($,L,Xo($,V),se);Fo($,V)}return null}function Z($,L,V,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(V)||null,E(L,$,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return $=$.get(se.key===null?V:se.key)||null,R(L,$,se,Ce);case Y:return $=$.get(se.key===null?V:se.key)||null,X(L,$,se,Ce);case et:return se=ji(se),Z($,L,V,se,Ce)}if(yn(se)||zt(se))return $=$.get(V)||null,ne(L,$,se,Ce,null);if(typeof se.then=="function")return Z($,L,V,Zo(se),Ce);if(se.$$typeof===re)return Z($,L,V,Xo(L,se),Ce);Fo(L,se)}return null}function Ee($,L,V,se){for(var Ce=null,nt=null,Te=L,Pe=L=0,Je=null;Te!==null&&Pe<V.length;Pe++){Te.index>Pe?(Je=Te,Te=null):Je=Te.sibling;var at=J($,Te,V[Pe],se);if(at===null){Te===null&&(Te=Je);break}e&&Te&&at.alternate===null&&t($,Te),L=h(at,L,Pe),nt===null?Ce=at:nt.sibling=at,nt=at,Te=Je}if(Pe===V.length)return a($,Te),Fe&&Xa($,Pe),Ce;if(Te===null){for(;Pe<V.length;Pe++)Te=oe($,V[Pe],se),Te!==null&&(L=h(Te,L,Pe),nt===null?Ce=Te:nt.sibling=Te,nt=Te);return Fe&&Xa($,Pe),Ce}for(Te=s(Te);Pe<V.length;Pe++)Je=Z(Te,$,Pe,V[Pe],se),Je!==null&&(e&&Je.alternate!==null&&Te.delete(Je.key===null?Pe:Je.key),L=h(Je,L,Pe),nt===null?Ce=Je:nt.sibling=Je,nt=Je);return e&&Te.forEach(function(Jr){return t($,Jr)}),Fe&&Xa($,Pe),Ce}function Ne($,L,V,se){if(V==null)throw Error(l(151));for(var Ce=null,nt=null,Te=L,Pe=L=0,Je=null,at=V.next();Te!==null&&!at.done;Pe++,at=V.next()){Te.index>Pe?(Je=Te,Te=null):Je=Te.sibling;var Jr=J($,Te,at.value,se);if(Jr===null){Te===null&&(Te=Je);break}e&&Te&&Jr.alternate===null&&t($,Te),L=h(Jr,L,Pe),nt===null?Ce=Jr:nt.sibling=Jr,nt=Jr,Te=Je}if(at.done)return a($,Te),Fe&&Xa($,Pe),Ce;if(Te===null){for(;!at.done;Pe++,at=V.next())at=oe($,at.value,se),at!==null&&(L=h(at,L,Pe),nt===null?Ce=at:nt.sibling=at,nt=at);return Fe&&Xa($,Pe),Ce}for(Te=s(Te);!at.done;Pe++,at=V.next())at=Z(Te,$,Pe,at.value,se),at!==null&&(e&&at.alternate!==null&&Te.delete(at.key===null?Pe:at.key),L=h(at,L,Pe),nt===null?Ce=at:nt.sibling=at,nt=at);return e&&Te.forEach(function(y0){return t($,y0)}),Fe&&Xa($,Pe),Ce}function pt($,L,V,se){if(typeof V=="object"&&V!==null&&V.type===W&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case j:e:{for(var Ce=V.key;L!==null;){if(L.key===Ce){if(Ce=V.type,Ce===W){if(L.tag===7){a($,L.sibling),se=u(L,V.props.children),se.return=$,$=se;break e}}else if(L.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===et&&ji(Ce)===L.type){a($,L.sibling),se=u(L,V.props),Nl(se,V),se.return=$,$=se;break e}a($,L);break}else t($,L);L=L.sibling}V.type===W?(se=Ei(V.props.children,$.mode,se,V.key),se.return=$,$=se):(se=Yo(V.type,V.key,V.props,null,$.mode,se),Nl(se,V),se.return=$,$=se)}return b($);case Y:e:{for(Ce=V.key;L!==null;){if(L.key===Ce)if(L.tag===4&&L.stateNode.containerInfo===V.containerInfo&&L.stateNode.implementation===V.implementation){a($,L.sibling),se=u(L,V.children||[]),se.return=$,$=se;break e}else{a($,L);break}else t($,L);L=L.sibling}se=jc(V,$.mode,se),se.return=$,$=se}return b($);case et:return V=ji(V),pt($,L,V,se)}if(yn(V))return Ee($,L,V,se);if(zt(V)){if(Ce=zt(V),typeof Ce!="function")throw Error(l(150));return V=Ce.call(V),Ne($,L,V,se)}if(typeof V.then=="function")return pt($,L,Zo(V),se);if(V.$$typeof===re)return pt($,L,Xo($,V),se);Fo($,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,L!==null&&L.tag===6?(a($,L.sibling),se=u(L,V),se.return=$,$=se):(a($,L),se=kc(V,$.mode,se),se.return=$,$=se),b($)):a($,L)}return function($,L,V,se){try{Cl=0;var Ce=pt($,L,V,se);return _s=null,Ce}catch(Te){if(Te===bs||Te===Jo)throw Te;var nt=Cn(29,Te,null,$.mode);return nt.lanes=se,nt.return=$,nt}}}var Ci=vd(!0),bd=vd(!1),Dr=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(it&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=kr(e),Ta(e,null,a),t}return ht(e,s,t,a),kr(e)}function Dl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,yt(e,a)}}function Kc(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Gc=!1;function Ml(){if(Gc){var e=vs;if(e!==null)throw e}}function Ul(e,t,a,s){Gc=!1;var u=e.updateQueue;Dr=!1;var h=u.firstBaseUpdate,b=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var R=E,X=R.next;R.next=null,b===null?h=X:b.next=X,b=R;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,E=ne.lastBaseUpdate,E!==b&&(E===null?ne.firstBaseUpdate=X:E.next=X,ne.lastBaseUpdate=R))}if(h!==null){var oe=u.baseState;b=0,ne=X=R=null,E=h;do{var J=E.lane&-536870913,Z=J!==E.lane;if(Z?(Qe&J)===J:(s&J)===J){J!==0&&J===gs&&(Gc=!0),ne!==null&&(ne=ne.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=e,Ne=E;J=t;var pt=a;switch(Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){oe=Ee.call(pt,oe,J);break e}oe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,J=typeof Ee=="function"?Ee.call(pt,oe,J):Ee,J==null)break e;oe=O({},oe,J);break e;case 2:Dr=!0}}J=E.callback,J!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=u.callbacks,Z===null?u.callbacks=[J]:Z.push(J))}else Z={lane:J,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ne===null?(X=ne=Z,R=oe):ne=ne.next=Z,b|=J;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;Z=E,E=Z.next,Z.next=null,u.lastBaseUpdate=Z,u.shared.pending=null}}while(!0);ne===null&&(R=oe),u.baseState=R,u.firstBaseUpdate=X,u.lastBaseUpdate=ne,h===null&&(u.shared.lanes=0),Hr|=b,e.lanes=b,e.memoizedState=oe}}function _d(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function wd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_d(a[e],t)}var ws=H(null),eu=H(0);function Sd(e,t){e=ir,ve(eu,e),ve(ws,t),ir=e|t.baseLanes}function Yc(){ve(eu,ir),ve(ws,ws.current)}function Vc(){ir=eu.current,ie(ws),ie(eu)}var Nn=H(null),Qn=null;function zr(e){var t=e.alternate;ve(Mt,Mt.current&1),ve(Nn,e),Qn===null&&(t===null||ws.current!==null||t.memoizedState!==null)&&(Qn=e)}function Ic(e){ve(Mt,Mt.current),ve(Nn,e),Qn===null&&(Qn=e)}function xd(e){e.tag===22?(ve(Mt,Mt.current),ve(Nn,e),Qn===null&&(Qn=e)):Br()}function Br(){ve(Mt,Mt.current),ve(Nn,Nn.current)}function Dn(e){ie(Nn),Qn===e&&(Qn=null),ie(Mt)}var Mt=H(0);function tu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||eh(a)||th(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,$e=null,dt=null,qt=null,nu=!1,Ss=!1,Ni=!1,au=0,zl=0,xs=null,sv=0;function kt(){throw Error(l(321))}function Xc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!fn(e[a],t[a]))return!1;return!0}function Qc(e,t,a,s,u,h){return Wa=h,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ee.H=e===null||e.memoizedState===null?sm:ff,Ni=!1,h=a(s,u),Ni=!1,Ss&&(h=Td(t,a,s,u)),Ed(e),h}function Ed(e){ee.H=ql;var t=dt!==null&&dt.next!==null;if(Wa=0,qt=dt=$e=null,nu=!1,zl=0,xs=null,t)throw Error(l(300));e===null||Ht||(e=e.dependencies,e!==null&&Io(e)&&(Ht=!0))}function Td(e,t,a,s){$e=e;var u=0;do{if(Ss&&(xs=null),zl=0,Ss=!1,25<=u)throw Error(l(301));if(u+=1,qt=dt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}ee.H=lm,h=t(a,s)}while(Ss);return h}function lv(){var e=ee.H,t=e.useState()[0];return t=typeof t.then=="function"?Bl(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&($e.flags|=1024),t}function Jc(){var e=au!==0;return au=0,e}function Wc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Zc(e){if(nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nu=!1}Wa=0,qt=dt=$e=null,Ss=!1,zl=au=0,xs=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?$e.memoizedState=qt=e:qt=qt.next=e,qt}function Ut(){if(dt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=qt===null?$e.memoizedState:qt.next;if(t!==null)qt=t,dt=e;else{if(e===null)throw $e.alternate===null?Error(l(467)):Error(l(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?$e.memoizedState=qt=e:qt=qt.next=e}return qt}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var t=zl;return zl+=1,xs===null&&(xs=[]),e=pd(xs,e,t),t=$e,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,ee.H=t===null||t.memoizedState===null?sm:ff),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===re)return en(e)}throw Error(l(438,String(e)))}function Fc(e){var t=null,a=$e.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=$e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ru(),$e.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=mn;return t.index++,a}function Za(e,t){return typeof t=="function"?t(e):t}function su(e){var t=Ut();return ef(t,dt,e)}function ef(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,h=s.pending;if(h!==null){if(u!==null){var b=u.next;u.next=h.next,h.next=b}t.baseQueue=u=h,s.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var E=b=null,R=null,X=t,ne=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Qe&oe)===oe:(Wa&oe)===oe){var J=X.revertLane;if(J===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===gs&&(ne=!0);else if((Wa&J)===J){X=X.next,J===gs&&(ne=!0);continue}else oe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(E=R=oe,b=h):R=R.next=oe,$e.lanes|=J,Hr|=J;oe=X.action,Ni&&a(h,oe),h=X.hasEagerState?X.eagerState:a(h,oe)}else J={lane:oe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},R===null?(E=R=J,b=h):R=R.next=J,$e.lanes|=oe,Hr|=oe;X=X.next}while(X!==null&&X!==t);if(R===null?b=h:R.next=E,!fn(h,e.memoizedState)&&(Ht=!0,ne&&(a=vs,a!==null)))throw a;e.memoizedState=h,e.baseState=b,e.baseQueue=R,s.lastRenderedState=h}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tf(e){var t=Ut(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var b=u=u.next;do h=e(h,b.action),b=b.next;while(b!==u);fn(h,t.memoizedState)||(Ht=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,s]}function Od(e,t,a){var s=$e,u=Ut(),h=Fe;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=t();var b=!fn((dt||u).memoizedState,a);if(b&&(u.memoizedState=a,Ht=!0),u=u.queue,rf(jd.bind(null,s,u,e),[e]),u.getSnapshot!==t||b||qt!==null&&qt.memoizedState.tag&1){if(s.flags|=2048,Es(9,{destroy:void 0},kd.bind(null,s,u,a,t),null),gt===null)throw Error(l(349));h||(Wa&127)!==0||Ad(s,t,a)}return a}function Ad(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$e.updateQueue,t===null?(t=ru(),$e.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function kd(e,t,a,s){t.value=a,t.getSnapshot=s,Rd(t)&&Cd(e)}function jd(e,t,a){return a(function(){Rd(t)&&Cd(e)})}function Rd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!fn(e,a)}catch{return!0}}function Cd(e){var t=st(e,2);t!==null&&On(t,e,2)}function nf(e){var t=bn();if(typeof e=="function"){var a=e;if(e=a(),Ni){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},t}function Nd(e,t,a,s){return e.baseState=a,ef(e,dt,typeof s=="function"?s:Za)}function ov(e,t,a,s,u){if(uu(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};ee.T!==null?a(!0):h.isTransition=!1,s(h),a=t.pending,a===null?(h.next=t.pending=h,Dd(t,h)):(h.next=a.next,t.pending=a.next=h)}}function Dd(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var h=ee.T,b={};ee.T=b;try{var E=a(u,s),R=ee.S;R!==null&&R(b,E),Md(e,t,E)}catch(X){af(e,t,X)}finally{h!==null&&b.types!==null&&(h.types=b.types),ee.T=h}}else try{h=a(u,s),Md(e,t,h)}catch(X){af(e,t,X)}}function Md(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ud(e,t,s)},function(s){return af(e,t,s)}):Ud(e,t,a)}function Ud(e,t,a){t.status="fulfilled",t.value=a,zd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Dd(e,a)))}function af(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,zd(t),t=t.next;while(t!==s)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Ld(e,t){if(Fe){var a=gt.formState;if(a!==null){e:{var s=$e;if(Fe){if(xt){t:{for(var u=xt,h=Xn;u.nodeType!==8;){if(!h){u=null;break t}if(u=Jn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){xt=Jn(u.nextSibling),s=u.data==="F!";break e}}Cr(s)}s=!1}s&&(t=a[0])}}return a=bn(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},a.queue=s,a=am.bind(null,$e,s),s.dispatch=a,s=nf(!1),h=cf.bind(null,$e,!1,s.queue),s=bn(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=ov.bind(null,$e,u,h,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function qd(e){var t=Ut();return Hd(t,dt,e)}function Hd(e,t,a){if(t=ef(e,t,Bd)[0],e=su(Za)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Bl(t)}catch(b){throw b===bs?Jo:b}else s=t;t=Ut();var u=t.queue,h=u.dispatch;return a!==t.memoizedState&&($e.flags|=2048,Es(9,{destroy:void 0},uv.bind(null,u,a),null)),[s,h,e]}function uv(e,t){e.action=t}function $d(e){var t=Ut(),a=dt;if(a!==null)return Hd(t,a,e);Ut(),t=t.memoizedState,a=Ut();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Es(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=$e.updateQueue,t===null&&(t=ru(),$e.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Pd(){return Ut().memoizedState}function lu(e,t,a,s){var u=bn();$e.flags|=e,u.memoizedState=Es(1|t,{destroy:void 0},a,s===void 0?null:s)}function ou(e,t,a,s){var u=Ut();s=s===void 0?null:s;var h=u.memoizedState.inst;dt!==null&&s!==null&&Xc(s,dt.memoizedState.deps)?u.memoizedState=Es(t,h,a,s):($e.flags|=e,u.memoizedState=Es(1|t,h,a,s))}function Kd(e,t){lu(8390656,8,e,t)}function rf(e,t){ou(2048,8,e,t)}function cv(e){$e.flags|=4;var t=$e.updateQueue;if(t===null)t=ru(),$e.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Gd(e){var t=Ut().memoizedState;return cv({ref:t,nextImpl:e}),function(){if((it&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return ou(4,2,e,t)}function Vd(e,t){return ou(4,4,e,t)}function Id(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xd(e,t,a){a=a!=null?a.concat([e]):null,ou(4,4,Id.bind(null,t,e),a)}function sf(){}function Qd(e,t){var a=Ut();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Xc(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Jd(e,t){var a=Ut();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Xc(t,s[1]))return s[0];if(s=e(),Ni){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s}function lf(e,t,a){return a===void 0||(Wa&1073741824)!==0&&(Qe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Wm(),$e.lanes|=e,Hr|=e,a)}function Wd(e,t,a,s){return fn(a,t)?a:ws.current!==null?(e=lf(e,a,s),fn(e,t)||(Ht=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(Qe&261930)===0?(Ht=!0,e.memoizedState=a):(e=Wm(),$e.lanes|=e,Hr|=e,t)}function Zd(e,t,a,s,u){var h=ge.p;ge.p=h!==0&&8>h?h:8;var b=ee.T,E={};ee.T=E,cf(e,!1,t,a);try{var R=u(),X=ee.S;if(X!==null&&X(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ne=iv(R,s);Ll(e,t,ne,zn(e))}else Ll(e,t,s,zn(e))}catch(oe){Ll(e,t,{then:function(){},status:"rejected",reason:oe},zn())}finally{ge.p=h,b!==null&&E.types!==null&&(b.types=E.types),ee.T=b}}function fv(){}function of(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=Fd(e).queue;Zd(e,u,t,je,a===null?fv:function(){return em(e),a(s)})}function Fd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:je,baseState:je,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:je},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function em(e){var t=Fd(e);t.next===null&&(t=e.alternate.memoizedState),Ll(e,t.next.queue,{},zn())}function uf(){return en(to)}function tm(){return Ut().memoizedState}function nm(){return Ut().memoizedState}function hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=zn();e=Mr(a);var s=Ur(t,e,a);s!==null&&(On(s,t,a),Dl(s,t,a)),t={cache:Bc()},e.payload=t;return}t=t.return}}function dv(e,t,a){var s=zn();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uu(e)?rm(t,a):(a=hn(e,t,a,s),a!==null&&(On(a,e,s),im(a,t,s)))}function am(e,t,a){var s=zn();Ll(e,t,a,s)}function Ll(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(e))rm(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,E=h(b,a);if(u.hasEagerState=!0,u.eagerState=E,fn(E,b))return ht(e,t,u,0),gt===null&&Le(),!1}catch{}if(a=hn(e,t,u,s),a!==null)return On(a,e,s),im(a,t,s),!0}return!1}function cf(e,t,a,s){if(s={lane:2,revertLane:Pf(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uu(e)){if(t)throw Error(l(479))}else t=hn(e,a,s,2),t!==null&&On(t,e,2)}function uu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function rm(e,t){Ss=nu=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function im(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,yt(e,a)}}var ql={readContext:en,use:iu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};ql.useEffectEvent=kt;var sm={readContext:en,use:iu,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:Kd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,lu(4194308,4,Id.bind(null,t,e),a)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){lu(4,2,e,t)},useMemo:function(e,t){var a=bn();t=t===void 0?null:t;var s=e();if(Ni){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=bn();if(a!==void 0){var u=a(t);if(Ni){Wt(!0);try{a(t)}finally{Wt(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=dv.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:function(e){e=nf(e);var t=e.queue,a=am.bind(null,$e,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:sf,useDeferredValue:function(e,t){var a=bn();return lf(a,e,t)},useTransition:function(){var e=nf(!1);return e=Zd.bind(null,$e,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=$e,u=bn();if(Fe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),gt===null)throw Error(l(349));(Qe&127)!==0||Ad(s,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,Kd(jd.bind(null,s,h,e),[e]),s.flags|=2048,Es(9,{destroy:void 0},kd.bind(null,s,h,a,t),null),a},useId:function(){var e=bn(),t=gt.identifierPrefix;if(Fe){var a=Aa,s=Oa;a=(s&~(1<<32-be(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=au++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=sv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uf,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=bn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=cf.bind(null,$e,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fc,useCacheRefresh:function(){return bn().memoizedState=hv.bind(null,$e)},useEffectEvent:function(e){var t=bn(),a={impl:e};return t.memoizedState=a,function(){if((it&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},ff={readContext:en,use:iu,useCallback:Qd,useContext:en,useEffect:rf,useImperativeHandle:Xd,useInsertionEffect:Yd,useLayoutEffect:Vd,useMemo:Jd,useReducer:su,useRef:Pd,useState:function(){return su(Za)},useDebugValue:sf,useDeferredValue:function(e,t){var a=Ut();return Wd(a,dt.memoizedState,e,t)},useTransition:function(){var e=su(Za)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Od,useId:tm,useHostTransitionStatus:uf,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var a=Ut();return Nd(a,dt,e,t)},useMemoCache:Fc,useCacheRefresh:nm};ff.useEffectEvent=Gd;var lm={readContext:en,use:iu,useCallback:Qd,useContext:en,useEffect:rf,useImperativeHandle:Xd,useInsertionEffect:Yd,useLayoutEffect:Vd,useMemo:Jd,useReducer:tf,useRef:Pd,useState:function(){return tf(Za)},useDebugValue:sf,useDeferredValue:function(e,t){var a=Ut();return dt===null?lf(a,e,t):Wd(a,dt.memoizedState,e,t)},useTransition:function(){var e=tf(Za)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Od,useId:tm,useHostTransitionStatus:uf,useFormState:$d,useActionState:$d,useOptimistic:function(e,t){var a=Ut();return dt!==null?Nd(a,dt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:nm};lm.useEffectEvent=Gd;function hf(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:O({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var df={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=zn(),u=Mr(s);u.payload=t,a!=null&&(u.callback=a),t=Ur(e,u,s),t!==null&&(On(t,e,s),Dl(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=zn(),u=Mr(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ur(e,u,s),t!==null&&(On(t,e,s),Dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=zn(),s=Mr(a);s.tag=2,t!=null&&(s.callback=t),t=Ur(e,s,a),t!==null&&(On(t,e,a),Dl(t,e,a))}};function om(e,t,a,s,u,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):t.prototype&&t.prototype.isPureReactComponent?!o(a,s)||!o(u,h):!0}function um(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&df.enqueueReplaceState(t,t.state,null)}function Di(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=O({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function cm(e){Se(e)}function fm(e){console.error(e)}function hm(e){Se(e)}function cu(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function dm(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mf(e,t,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(e,t)},a}function mm(e){return e=Mr(e),e.tag=3,e}function pm(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;e.payload=function(){return u(h)},e.callback=function(){dm(t,a,s)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){dm(t,a,s),typeof u!="function"&&($r===null?$r=new Set([this]):$r.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function mv(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&ys(t,a,u,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Su():a.alternate===null&&jt===0&&(jt=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===Wo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),qf(e,s,u)),!1;case 22:return a.flags|=65536,s===Wo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),qf(e,s,u)),!1}throw Error(l(435,a.tag))}return qf(e,s,u),Su(),!1}if(Fe)return t=Nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==Nc&&(e=Error(l(422),{cause:s}),kl(Yn(e,a)))):(s!==Nc&&(t=Error(l(423),{cause:s}),kl(Yn(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Yn(s,a),u=mf(e.stateNode,s,u),Kc(e,u),jt!==4&&(jt=2)),!1;var h=Error(l(520),{cause:s});if(h=Yn(h,a),Il===null?Il=[h]:Il.push(h),jt!==4&&(jt=2),t===null)return!0;s=Yn(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=mf(a.stateNode,s,e),Kc(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&($r===null||!$r.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=mm(u),pm(u,e,a,s),Kc(a,u),!1}a=a.return}while(a!==null);return!1}var pf=Error(l(461)),Ht=!1;function tn(e,t,a,s){t.child=e===null?bd(t,null,a,s):Ci(t,e.child,a,s)}function ym(e,t,a,s,u){a=a.render;var h=t.ref;if("ref"in s){var b={};for(var E in s)E!=="ref"&&(b[E]=s[E])}else b=s;return Ai(t),s=Qc(e,t,a,b,h,u),E=Jc(),e!==null&&!Ht?(Wc(e,t,u),Fa(e,t,u)):(Fe&&E&&Rc(t),t.flags|=1,tn(e,t,s,u),t.child)}function gm(e,t,a,s,u){if(e===null){var h=a.type;return typeof h=="function"&&!Ac(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,vm(e,t,h,s,u)):(e=Yo(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!xf(e,u)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:o,a(b,s)&&e.ref===t.ref)return Fa(e,t,u)}return t.flags|=1,e=Ia(h,s),e.ref=t.ref,e.return=t,t.child=e}function vm(e,t,a,s,u){if(e!==null){var h=e.memoizedProps;if(o(h,s)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=s=h,xf(e,u))(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,Fa(e,t,u)}return yf(e,t,a,s,u)}function bm(e,t,a,s){var u=s.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~h}else s=0,t.child=null;return _m(e,t,h,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qo(t,h!==null?h.cachePool:null),h!==null?Sd(t,h):Yc(),xd(t);else return s=t.lanes=536870912,_m(e,t,h!==null?h.baseLanes|a:a,a,s)}else h!==null?(Qo(t,h.cachePool),Sd(t,h),Br(),t.memoizedState=null):(e!==null&&Qo(t,null),Yc(),Br());return tn(e,t,u,a),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _m(e,t,a,s,u){var h=qc();return h=h===null?null:{parent:Lt._currentValue,pool:h},t.memoizedState={baseLanes:a,cachePool:h},e!==null&&Qo(t,null),Yc(),xd(t),e!==null&&ys(e,t,s,!0),t.childLanes=u,null}function fu(e,t){return t=du({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wm(e,t,a){return Ci(t,e.child,null,a),e=fu(t,t.pendingProps),e.flags|=2,Dn(t),t.memoizedState=null,e}function pv(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Fe){if(s.mode==="hidden")return e=fu(t,s),t.lanes=536870912,Hl(null,e);if(Ic(t),(e=xt)?(e=Dp(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jr!==null?{id:Oa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=rd(e),a.return=t,t.child=a,Ft=t,xt=null)):e=null,e===null)throw Cr(t);return t.lanes=536870912,null}return fu(t,s)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Ic(t),u)if(t.flags&256)t.flags&=-257,t=wm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ht||ys(e,t,a,!1),u=(a&e.childLanes)!==0,Ht||u){if(s=gt,s!==null&&(b=Ct(s,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,st(e,b),On(s,e,b),pf;Su(),t=wm(e,t,a)}else e=h.treeContext,xt=Jn(b.nextSibling),Ft=t,Fe=!0,Rr=null,Xn=!1,e!==null&&ld(t,e),t=fu(t,s),t.flags|=4096;return t}return e=Ia(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function hu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function yf(e,t,a,s,u){return Ai(t),a=Qc(e,t,a,s,void 0,u),s=Jc(),e!==null&&!Ht?(Wc(e,t,u),Fa(e,t,u)):(Fe&&s&&Rc(t),t.flags|=1,tn(e,t,a,u),t.child)}function Sm(e,t,a,s,u,h){return Ai(t),t.updateQueue=null,a=Td(t,s,a,u),Ed(e),s=Jc(),e!==null&&!Ht?(Wc(e,t,h),Fa(e,t,h)):(Fe&&s&&Rc(t),t.flags|=1,tn(e,t,a,h),t.child)}function xm(e,t,a,s,u){if(Ai(t),t.stateNode===null){var h=hs,b=a.contextType;typeof b=="object"&&b!==null&&(h=en(b)),h=new a(s,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=df,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=s,h.state=t.memoizedState,h.refs={},$c(t),b=a.contextType,h.context=typeof b=="object"&&b!==null?en(b):hs,h.state=t.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(hf(t,a,b,s),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&df.enqueueReplaceState(h,h.state,null),Ul(t,s,h,u),Ml(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){h=t.stateNode;var E=t.memoizedProps,R=Di(a,E);h.props=R;var X=h.context,ne=a.contextType;b=hs,typeof ne=="object"&&ne!==null&&(b=en(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ne||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||X!==b)&&um(t,h,s,b),Dr=!1;var J=t.memoizedState;h.state=J,Ul(t,s,h,u),Ml(),X=t.memoizedState,E||J!==X||Dr?(typeof oe=="function"&&(hf(t,a,oe,s),X=t.memoizedState),(R=Dr||om(t,a,R,s,J,X,b))?(ne||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=X),h.props=s,h.state=X,h.context=b,s=R):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Pc(e,t),b=t.memoizedProps,ne=Di(a,b),h.props=ne,oe=t.pendingProps,J=h.context,X=a.contextType,R=hs,typeof X=="object"&&X!==null&&(R=en(X)),E=a.getDerivedStateFromProps,(X=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==oe||J!==R)&&um(t,h,s,R),Dr=!1,J=t.memoizedState,h.state=J,Ul(t,s,h,u),Ml();var Z=t.memoizedState;b!==oe||J!==Z||Dr||e!==null&&e.dependencies!==null&&Io(e.dependencies)?(typeof E=="function"&&(hf(t,a,E,s),Z=t.memoizedState),(ne=Dr||om(t,a,ne,s,J,Z,R)||e!==null&&e.dependencies!==null&&Io(e.dependencies))?(X||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Z,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Z,R)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Z),h.props=s,h.state=Z,h.context=R,s=ne):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),s=!1)}return h=s,hu(e,t),s=(t.flags&128)!==0,h||s?(h=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&s?(t.child=Ci(t,e.child,null,u),t.child=Ci(t,null,a,u)):tn(e,t,a,u),t.memoizedState=h.state,e=t.child):e=Fa(e,t,u),e}function Em(e,t,a,s){return Ti(),t.flags|=256,tn(e,t,a,s),t.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:dd()}}function bf(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Un),e}function Tm(e,t,a){var s=t.pendingProps,u=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),b&&(u=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Fe){if(u?zr(t):Br(),(e=xt)?(e=Dp(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jr!==null?{id:Oa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},a=rd(e),a.return=t,t.child=a,Ft=t,xt=null)):e=null,e===null)throw Cr(t);return th(e)?t.lanes=32:t.lanes=536870912,null}var E=s.children;return s=s.fallback,u?(Br(),u=t.mode,E=du({mode:"hidden",children:E},u),s=Ei(s,u,a,null),E.return=t,s.return=t,E.sibling=s,t.child=E,s=t.child,s.memoizedState=vf(a),s.childLanes=bf(e,b,a),t.memoizedState=gf,Hl(null,s)):(zr(t),_f(t,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(h)t.flags&256?(zr(t),t.flags&=-257,t=wf(e,t,a)):t.memoizedState!==null?(Br(),t.child=e.child,t.flags|=128,t=null):(Br(),E=s.fallback,u=t.mode,s=du({mode:"visible",children:s.children},u),E=Ei(E,u,a,null),E.flags|=2,s.return=t,E.return=t,s.sibling=E,t.child=s,Ci(t,e.child,null,a),s=t.child,s.memoizedState=vf(a),s.childLanes=bf(e,b,a),t.memoizedState=gf,t=Hl(null,s));else if(zr(t),th(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var X=b.dgst;b=X,s=Error(l(419)),s.stack="",s.digest=b,kl({value:s,source:null,stack:null}),t=wf(e,t,a)}else if(Ht||ys(e,t,a,!1),b=(a&e.childLanes)!==0,Ht||b){if(b=gt,b!==null&&(s=Ct(b,a),s!==0&&s!==R.retryLane))throw R.retryLane=s,st(e,s),On(b,e,s),pf;eh(E)||Su(),t=wf(e,t,a)}else eh(E)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,xt=Jn(E.nextSibling),Ft=t,Fe=!0,Rr=null,Xn=!1,e!==null&&ld(t,e),t=_f(t,s.children),t.flags|=4096);return t}return u?(Br(),E=s.fallback,u=t.mode,R=e.child,X=R.sibling,s=Ia(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,X!==null?E=Ia(X,E):(E=Ei(E,u,a,null),E.flags|=2),E.return=t,s.return=t,s.sibling=E,t.child=s,Hl(null,s),s=t.child,E=e.child.memoizedState,E===null?E=vf(a):(u=E.cachePool,u!==null?(R=Lt._currentValue,u=u.parent!==R?{parent:R,pool:R}:u):u=dd(),E={baseLanes:E.baseLanes|a,cachePool:u}),s.memoizedState=E,s.childLanes=bf(e,b,a),t.memoizedState=gf,Hl(e.child,s)):(zr(t),a=e.child,e=a.sibling,a=Ia(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=a,t.memoizedState=null,a)}function _f(e,t){return t=du({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function du(e,t){return e=Cn(22,e,null,t),e.lanes=0,e}function wf(e,t,a){return Ci(t,e.child,null,a),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Om(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Uc(e.return,t,a)}function Sf(e,t,a,s,u,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:h}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=s,b.tail=a,b.tailMode=u,b.treeForkCount=h)}function Am(e,t,a){var s=t.pendingProps,u=s.revealOrder,h=s.tail;s=s.children;var b=Mt.current,E=(b&2)!==0;if(E?(b=b&1|2,t.flags|=128):b&=1,ve(Mt,b),tn(e,t,s,a),s=Fe?Al:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Om(e,a,t);else if(e.tag===19)Om(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&tu(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Sf(t,!1,u,a,h,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&tu(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Sf(t,!0,a,null,h,s);break;case"together":Sf(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Hr|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ys(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=Ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function xf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Io(e)))}function yv(e,t,a){switch(t.tag){case 3:Kt(t,t.stateNode.containerInfo),Nr(t,Lt,e.memoizedState.cache),Ti();break;case 27:case 5:Oe(t);break;case 4:Kt(t,t.stateNode.containerInfo);break;case 10:Nr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ic(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(zr(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Tm(e,t,a):(zr(t),e=Fa(e,t,a),e!==null?e.sibling:null);zr(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(ys(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return Am(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ve(Mt,Mt.current),s)break;return null;case 22:return t.lanes=0,bm(e,t,a,t.pendingProps);case 24:Nr(t,Lt,e.memoizedState.cache)}return Fa(e,t,a)}function km(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ht=!0;else{if(!xf(e,a)&&(t.flags&128)===0)return Ht=!1,yv(e,t,a);Ht=(e.flags&131072)!==0}else Ht=!1,Fe&&(t.flags&1048576)!==0&&sd(t,Al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ji(t.elementType),t.type=e,typeof e=="function")Ac(e)?(s=Di(e,s),t.tag=1,t=xm(null,t,e,s,a)):(t.tag=0,t=yf(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===_e){t.tag=11,t=ym(null,t,e,s,a);break e}else if(u===pe){t.tag=14,t=gm(null,t,e,s,a);break e}}throw t=ea(e)||e,Error(l(306,t,""))}}return t;case 0:return yf(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=Di(s,t.pendingProps),xm(e,t,s,u,a);case 3:e:{if(Kt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var h=t.memoizedState;u=h.element,Pc(e,t),Ul(t,s,null,a);var b=t.memoizedState;if(s=b.cache,Nr(t,Lt,s),s!==h.cache&&zc(t,[Lt],a,!0),Ml(),s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Em(e,t,s,a);break e}else if(s!==u){u=Yn(Error(l(424)),t),kl(u),t=Em(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Jn(e.firstChild),Ft=t,Fe=!0,Rr=null,Xn=!0,a=bd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ti(),s===u){t=Fa(e,t,a);break e}tn(e,t,s,a)}t=t.child}return t;case 26:return hu(e,t),e===null?(a=qp(t.type,null,t.pendingProps,null))?t.memoizedState=a:Fe||(a=t.type,e=t.pendingProps,s=ju(He.current).createElement(a),s[vt]=t,s[Nt]=e,nn(s,a,e),Dt(s),t.stateNode=s):t.memoizedState=qp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),e===null&&Fe&&(s=t.stateNode=zp(t.type,t.pendingProps,He.current),Ft=t,Xn=!0,u=xt,Yr(t.type)?(nh=u,xt=Jn(s.firstChild)):xt=u),tn(e,t,t.pendingProps.children,a),hu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Fe&&((u=s=xt)&&(s=Vv(s,t.type,t.pendingProps,Xn),s!==null?(t.stateNode=s,Ft=t,xt=Jn(s.firstChild),Xn=!1,u=!0):u=!1),u||Cr(t)),Oe(t),u=t.type,h=t.pendingProps,b=e!==null?e.memoizedProps:null,s=h.children,Wf(u,h)?s=null:b!==null&&Wf(u,b)&&(t.flags|=32),t.memoizedState!==null&&(u=Qc(e,t,lv,null,null,a),to._currentValue=u),hu(e,t),tn(e,t,s,a),t.child;case 6:return e===null&&Fe&&((e=a=xt)&&(a=Iv(a,t.pendingProps,Xn),a!==null?(t.stateNode=a,Ft=t,xt=null,e=!0):e=!1),e||Cr(t)),null;case 13:return Tm(e,t,a);case 4:return Kt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ci(t,null,s,a):tn(e,t,s,a),t.child;case 11:return ym(e,t,t.type,t.pendingProps,a);case 7:return tn(e,t,t.pendingProps,a),t.child;case 8:return tn(e,t,t.pendingProps.children,a),t.child;case 12:return tn(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Nr(t,t.type,s.value),tn(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,Ai(t),u=en(u),s=s(u),t.flags|=1,tn(e,t,s,a),t.child;case 14:return gm(e,t,t.type,t.pendingProps,a);case 15:return vm(e,t,t.type,t.pendingProps,a);case 19:return Am(e,t,a);case 31:return pv(e,t,a);case 22:return bm(e,t,a,t.pendingProps);case 24:return Ai(t),s=en(Lt),e===null?(u=qc(),u===null&&(u=gt,h=Bc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),t.memoizedState={parent:s,cache:u},$c(t),Nr(t,Lt,u)):((e.lanes&a)!==0&&(Pc(e,t),Ul(t,null,null,a),Ml()),u=e.memoizedState,h=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Nr(t,Lt,s)):(s=h.cache,Nr(t,Lt,s),s!==u.cache&&zc(t,[Lt],a,!0))),tn(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function er(e){e.flags|=4}function Ef(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(tp())e.flags|=8192;else throw Ri=Wo,Hc}else e.flags&=-16777217}function jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gp(t))if(tp())e.flags|=8192;else throw Ri=Wo,Hc}function mu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ro():536870912,e.lanes|=t,ks|=t)}function $l(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function gv(e,t,a){var s=t.pendingProps;switch(Cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Et(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ja(Lt),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ps(t)?er(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Et(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(er(t),h!==null?(Et(t),jm(t,h)):(Et(t),Ef(t,u,null,s,a))):h?h!==e.memoizedState?(er(t),Et(t),jm(t,h)):(Et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&er(t),Et(t),Ef(t,u,e,s,a)),null;case 27:if(ei(t),a=He.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Et(t),null}e=xe.current,ps(t)?od(t):(e=zp(u,s,a),t.stateNode=e,er(t))}return Et(t),null;case 5:if(ei(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Et(t),null}if(h=xe.current,ps(t))od(t);else{var b=ju(He.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?b.createElement("select",{is:s.is}):b.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?b.createElement(u,{is:s.is}):b.createElement(u)}}h[vt]=t,h[Nt]=s;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=h;e:switch(nn(h,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&er(t)}}return Et(t),Ef(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&er(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=He.current,ps(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=Ft,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[vt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Tp(e.nodeValue,a)),e||Cr(t,!0)}else e=ju(e).createTextNode(s),e[vt]=t,t.stateNode=e}return Et(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=ps(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[vt]=t}else Ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Dn(t),t):(Dn(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Et(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ps(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[vt]=t}else Ti(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),u=!1}else u=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Dn(t),t):(Dn(t),null)}return Dn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),mu(t,t.updateQueue),Et(t),null);case 4:return At(),e===null&&Vf(t.stateNode.containerInfo),Et(t),null;case 10:return Ja(t.type),Et(t),null;case 19:if(ie(Mt),s=t.memoizedState,s===null)return Et(t),null;if(u=(t.flags&128)!==0,h=s.rendering,h===null)if(u)$l(s,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=tu(e),h!==null){for(t.flags|=128,$l(s,!1),e=h.updateQueue,t.updateQueue=e,mu(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ad(a,e),a=a.sibling;return ve(Mt,Mt.current&1|2),Fe&&Xa(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ln()>bu&&(t.flags|=128,u=!0,$l(s,!1),t.lanes=4194304)}else{if(!u)if(e=tu(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,mu(t,e),$l(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Fe)return Et(t),null}else 2*ln()-s.renderingStartTime>bu&&a!==536870912&&(t.flags|=128,u=!0,$l(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(e=s.last,e!==null?e.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ln(),e.sibling=null,a=Mt.current,ve(Mt,u?a&1|2:a&1),Fe&&Xa(t,s.treeForkCount),e):(Et(t),null);case 22:case 23:return Dn(t),Vc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),a=t.updateQueue,a!==null&&mu(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ie(ki),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ja(Lt),Et(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function vv(e,t){switch(Cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ja(Lt),At(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ei(t),null;case 31:if(t.memoizedState!==null){if(Dn(t),t.alternate===null)throw Error(l(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(Mt),null;case 4:return At(),null;case 10:return Ja(t.type),null;case 22:case 23:return Dn(t),Vc(),e!==null&&ie(ki),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ja(Lt),null;case 25:return null;default:return null}}function Rm(e,t){switch(Cc(t),t.tag){case 3:Ja(Lt),At();break;case 26:case 27:case 5:ei(t);break;case 4:At();break;case 31:t.memoizedState!==null&&Dn(t);break;case 13:Dn(t);break;case 19:ie(Mt);break;case 10:Ja(t.type);break;case 22:case 23:Dn(t),Vc(),e!==null&&ie(ki);break;case 24:Ja(Lt)}}function Pl(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var h=a.create,b=a.inst;s=h(),b.destroy=s}a=a.next}while(a!==u)}}catch(E){ut(t,t.return,E)}}function Lr(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&e)===e){var b=s.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,u=t;var R=a,X=E;try{X()}catch(ne){ut(u,R,ne)}}}s=s.next}while(s!==h)}}catch(ne){ut(t,t.return,ne)}}function Cm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{wd(t,a)}catch(s){ut(e,e.return,s)}}}function Nm(e,t,a){a.props=Di(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){ut(e,t,s)}}function Kl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){ut(e,t,u)}}function ka(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){ut(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ut(e,t,u)}else a.current=null}function Dm(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){ut(e,e.return,u)}}function Tf(e,t,a){try{var s=e.stateNode;Hv(s,e.type,a,t),s[Nt]=t}catch(u){ut(e,e.return,u)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yr(e.type)||e.tag===4}function Of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=wn));else if(s!==4&&(s===27&&Yr(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Af(e,t,a),e=e.sibling;e!==null;)Af(e,t,a),e=e.sibling}function pu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Yr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(pu(e,t,a),e=e.sibling;e!==null;)pu(e,t,a),e=e.sibling}function Um(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);nn(t,s,a),t[vt]=e,t[Nt]=a}catch(h){ut(e,e.return,h)}}var tr=!1,$t=!1,kf=!1,zm=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function bv(e,t){if(e=e.containerInfo,Qf=zu,e=w(e),S(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,E=-1,R=-1,X=0,ne=0,oe=e,J=null;t:for(;;){for(var Z;oe!==a||u!==0&&oe.nodeType!==3||(E=b+u),oe!==h||s!==0&&oe.nodeType!==3||(R=b+s),oe.nodeType===3&&(b+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)J=oe,oe=Z;for(;;){if(oe===e)break t;if(J===a&&++X===u&&(E=b),J===h&&++ne===s&&(R=b),(Z=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=Z}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:e,selectionRange:a},zu=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,u=h.memoizedProps,h=h.memoizedState,s=a.stateNode;try{var Ee=Di(a.type,u);e=s.getSnapshotBeforeUpdate(Ee,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){ut(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ff(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function Bm(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ar(e,a),s&4&&Pl(5,a);break;case 1:if(ar(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(b){ut(a,a.return,b)}else{var u=Di(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(a,a.return,b)}}s&64&&Cm(a),s&512&&Kl(a,a.return);break;case 3:if(ar(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{wd(e,t)}catch(b){ut(a,a.return,b)}}break;case 27:t===null&&s&4&&Um(a);case 26:case 5:ar(e,a),t===null&&s&4&&Dm(a),s&512&&Kl(a,a.return);break;case 12:ar(e,a);break;case 31:ar(e,a),s&4&&Hm(e,a);break;case 13:ar(e,a),s&4&&$m(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kv.bind(null,a),Xv(e,a))));break;case 22:if(s=a.memoizedState!==null||tr,!s){t=t!==null&&t.memoizedState!==null||$t,u=tr;var h=$t;tr=s,($t=t)&&!h?rr(e,a,(a.subtreeFlags&8772)!==0):ar(e,a),tr=u,$t=h}break;case 30:break;default:ar(e,a)}}function Lm(e){var t=e.alternate;t!==null&&(e.alternate=null,Lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Sn=!1;function nr(e,t,a){for(a=a.child;a!==null;)qm(e,t,a),a=a.sibling}function qm(e,t,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:$t||ka(a,t),nr(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$t||ka(a,t);var s=Tt,u=Sn;Yr(a.type)&&(Tt=a.stateNode,Sn=!1),nr(e,t,a),Zl(a.stateNode),Tt=s,Sn=u;break;case 5:$t||ka(a,t);case 6:if(s=Tt,u=Sn,Tt=null,nr(e,t,a),Tt=s,Sn=u,Tt!==null)if(Sn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(h){ut(a,t,h)}else try{Tt.removeChild(a.stateNode)}catch(h){ut(a,t,h)}break;case 18:Tt!==null&&(Sn?(e=Tt,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):Cp(Tt,a.stateNode));break;case 4:s=Tt,u=Sn,Tt=a.stateNode.containerInfo,Sn=!0,nr(e,t,a),Tt=s,Sn=u;break;case 0:case 11:case 14:case 15:Lr(2,a,t),$t||Lr(4,a,t),nr(e,t,a);break;case 1:$t||(ka(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Nm(a,t,s)),nr(e,t,a);break;case 21:nr(e,t,a);break;case 22:$t=(s=$t)||a.memoizedState!==null,nr(e,t,a),$t=s;break;default:nr(e,t,a)}}function Hm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zs(e)}catch(a){ut(t,t.return,a)}}}function $m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){ut(t,t.return,a)}}function _v(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zm),t;default:throw Error(l(435,e.tag))}}function yu(e,t){var a=_v(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=jv.bind(null,e,s);s.then(u,u)}})}function xn(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],h=e,b=t,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(Yr(E.type)){Tt=E.stateNode,Sn=!1;break e}break;case 5:Tt=E.stateNode,Sn=!1;break e;case 3:case 4:Tt=E.stateNode.containerInfo,Sn=!0;break e}E=E.return}if(Tt===null)throw Error(l(160));qm(h,b,u),Tt=null,Sn=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pm(t,e),t=t.sibling}var sa=null;function Pm(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(t,e),En(e),s&4&&(Lr(3,e,e.return),Pl(3,e),Lr(5,e,e.return));break;case 1:xn(t,e),En(e),s&512&&($t||a===null||ka(a,a.return)),s&64&&tr&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=sa;if(xn(t,e),En(e),s&512&&($t||a===null||ka(a,a.return)),s&4){var h=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":h=u.getElementsByTagName("title")[0],(!h||h[kn]||h[vt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(s),u.head.insertBefore(h,u.querySelector("head > title"))),nn(h,s,a),h[vt]=e,Dt(h),s=h;break e;case"link":var b=Pp("link","href",u).get(s+(a.href||""));if(b){for(var E=0;E<b.length;E++)if(h=b[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(E,1);break t}}h=u.createElement(s),nn(h,s,a),u.head.appendChild(h);break;case"meta":if(b=Pp("meta","content",u).get(s+(a.content||""))){for(E=0;E<b.length;E++)if(h=b[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(E,1);break t}}h=u.createElement(s),nn(h,s,a),u.head.appendChild(h);break;default:throw Error(l(468,s))}h[vt]=e,Dt(h),s=h}e.stateNode=s}else Kp(u,e.type,e.stateNode);else e.stateNode=$p(u,s,e.memoizedProps);else h!==s?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,s===null?Kp(u,e.type,e.stateNode):$p(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Tf(e,e.memoizedProps,a.memoizedProps)}break;case 27:xn(t,e),En(e),s&512&&($t||a===null||ka(a,a.return)),a!==null&&s&4&&Tf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xn(t,e),En(e),s&512&&($t||a===null||ka(a,a.return)),e.flags&32){u=e.stateNode;try{Ba(u,"")}catch(Ee){ut(e,e.return,Ee)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,Tf(e,u,a!==null?a.memoizedProps:u)),s&1024&&(kf=!0);break;case 6:if(xn(t,e),En(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Ee){ut(e,e.return,Ee)}}break;case 3:if(Nu=null,u=sa,sa=Ru(t.containerInfo),xn(t,e),sa=u,En(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(Ee){ut(e,e.return,Ee)}kf&&(kf=!1,Km(e));break;case 4:s=sa,sa=Ru(e.stateNode.containerInfo),xn(t,e),En(e),sa=s;break;case 12:xn(t,e),En(e);break;case 31:xn(t,e),En(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 13:xn(t,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vu=ln()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 22:u=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,X=tr,ne=$t;if(tr=X||u,$t=ne||R,xn(t,e),$t=ne,tr=X,En(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||R||tr||$t||Mi(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(h=R.stateNode,u)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=R.stateNode;var oe=R.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ee){ut(R,R.return,Ee)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(Ee){ut(R,R.return,Ee)}}}else if(t.tag===18){if(a===null){R=t;try{var Z=R.stateNode;u?Np(Z,!0):Np(R.stateNode,!1)}catch(Ee){ut(R,R.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,yu(e,a))));break;case 19:xn(t,e),En(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,yu(e,s)));break;case 30:break;case 21:break;default:xn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Mm(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,h=Of(e);pu(e,h,u);break;case 5:var b=a.stateNode;a.flags&32&&(Ba(b,""),a.flags&=-33);var E=Of(e);pu(e,E,b);break;case 3:case 4:var R=a.stateNode.containerInfo,X=Of(e);Af(e,X,R);break;default:throw Error(l(161))}}catch(ne){ut(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Km(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ar(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bm(e,t.alternate,t),t=t.sibling}function Mi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Lr(4,t,t.return),Mi(t);break;case 1:ka(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Nm(t,t.return,a),Mi(t);break;case 27:Zl(t.stateNode);case 26:case 5:ka(t,t.return),Mi(t);break;case 22:t.memoizedState===null&&Mi(t);break;case 30:Mi(t);break;default:Mi(t)}e=e.sibling}}function rr(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,h=t,b=h.flags;switch(h.tag){case 0:case 11:case 15:rr(u,h,a),Pl(4,h);break;case 1:if(rr(u,h,a),s=h,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){ut(s,s.return,X)}if(s=h,u=s.updateQueue,u!==null){var E=s.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)_d(R[u],E)}catch(X){ut(s,s.return,X)}}a&&b&64&&Cm(h),Kl(h,h.return);break;case 27:Um(h);case 26:case 5:rr(u,h,a),a&&s===null&&b&4&&Dm(h),Kl(h,h.return);break;case 12:rr(u,h,a);break;case 31:rr(u,h,a),a&&b&4&&Hm(u,h);break;case 13:rr(u,h,a),a&&b&4&&$m(u,h);break;case 22:h.memoizedState===null&&rr(u,h,a),Kl(h,h.return);break;case 30:break;default:rr(u,h,a)}t=t.sibling}}function jf(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jl(a))}function Rf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e))}function la(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,a,s),t=t.sibling}function Gm(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,a,s),u&2048&&Pl(9,t);break;case 1:la(e,t,a,s);break;case 3:la(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e)));break;case 12:if(u&2048){la(e,t,a,s),e=t.stateNode;try{var h=t.memoizedProps,b=h.id,E=h.onPostCommit;typeof E=="function"&&E(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ut(t,t.return,R)}}else la(e,t,a,s);break;case 31:la(e,t,a,s);break;case 13:la(e,t,a,s);break;case 23:break;case 22:h=t.stateNode,b=t.alternate,t.memoizedState!==null?h._visibility&2?la(e,t,a,s):Gl(e,t):h._visibility&2?la(e,t,a,s):(h._visibility|=2,Ts(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&jf(b,t);break;case 24:la(e,t,a,s),u&2048&&Rf(t.alternate,t);break;default:la(e,t,a,s)}}function Ts(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,b=t,E=a,R=s,X=b.flags;switch(b.tag){case 0:case 11:case 15:Ts(h,b,E,R,u),Pl(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?Ts(h,b,E,R,u):Gl(h,b):(ne._visibility|=2,Ts(h,b,E,R,u)),u&&X&2048&&jf(b.alternate,b);break;case 24:Ts(h,b,E,R,u),u&&X&2048&&Rf(b.alternate,b);break;default:Ts(h,b,E,R,u)}t=t.sibling}}function Gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:Gl(a,s),u&2048&&jf(s.alternate,s);break;case 24:Gl(a,s),u&2048&&Rf(s.alternate,s);break;default:Gl(a,s)}t=t.sibling}}var Yl=8192;function Os(e,t,a){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Ym(e,t,a),e=e.sibling}function Ym(e,t,a){switch(e.tag){case 26:Os(e,t,a),e.flags&Yl&&e.memoizedState!==null&&s0(a,sa,e.memoizedState,e.memoizedProps);break;case 5:Os(e,t,a);break;case 3:case 4:var s=sa;sa=Ru(e.stateNode.containerInfo),Os(e,t,a),sa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Yl,Yl=16777216,Os(e,t,a),Yl=s):Os(e,t,a));break;default:Os(e,t,a)}}function Vm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Qt=s,Xm(s,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Im(e),e=e.sibling}function Im(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gu(e)):Vl(e);break;default:Vl(e)}}function gu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Qt=s,Xm(s,e)}Vm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Lr(8,t,t.return),gu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,gu(t));break;default:gu(t)}e=e.sibling}}function Xm(e,t){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:jl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Qt=s;else e:for(a=e;Qt!==null;){s=Qt;var u=s.sibling,h=s.return;if(Lm(s),s===a){Qt=null;break e}if(u!==null){u.return=h,Qt=u;break e}Qt=h}}}var wv={getCacheForType:function(e){var t=en(Lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return en(Lt).controller.signal}},Sv=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Ie=null,Qe=0,ot=0,Mn=null,qr=!1,As=!1,Cf=!1,ir=0,jt=0,Hr=0,Ui=0,Nf=0,Un=0,ks=0,Il=null,Tn=null,Df=!1,vu=0,Qm=0,bu=1/0,_u=null,$r=null,Gt=0,Pr=null,js=null,sr=0,Mf=0,Uf=null,Jm=null,Xl=0,zf=null;function zn(){return(it&2)!==0&&Qe!==0?Qe&-Qe:ee.T!==null?Pf():ui()}function Wm(){if(Un===0)if((Qe&536870912)===0||Fe){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Un=e}else Un=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Un}function On(e,t,a){(e===gt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),Kr(e,Qe,Un,!1)),Hn(e,a),((it&2)===0||e!==gt)&&(e===gt&&((it&2)===0&&(Ui|=a),jt===4&&Kr(e,Qe,Un,!1)),ja(e))}function Zm(e,t,a){if((it&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ma(e,t),u=s?Tv(e,t):Lf(e,t,!0),h=s;do{if(u===0){As&&!s&&Kr(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!xv(a)){u=Lf(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var E=e;u=Il;var R=E.current.memoizedState.isDehydrated;if(R&&(Rs(E,b).flags|=256),b=Lf(E,b,!1),b!==2){if(Cf&&!R){E.errorRecoveryDisabledLanes|=h,Ui|=h,u=4;break e}h=Tn,Tn=u,h!==null&&(Tn===null?Tn=h:Tn.push.apply(Tn,h))}u=b}if(h=!1,u!==2)continue}}if(u===1){Rs(e,0),Kr(e,t,0,!0);break}e:{switch(s=e,h=u,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Kr(s,t,Un,!qr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=vu+300-ln(),10<u)){if(Kr(s,t,Un,!qr),li(s,0,!0)!==0)break e;sr=t,s.timeoutHandle=jp(Fm.bind(null,s,a,Tn,_u,Df,t,Un,Ui,ks,qr,h,"Throttled",-0,0),u);break e}Fm(s,a,Tn,_u,Df,t,Un,Ui,ks,qr,h,null,-0,0)}}break}while(!0);ja(e)}function Fm(e,t,a,s,u,h,b,E,R,X,ne,oe,J,Z){if(e.timeoutHandle=-1,oe=t.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Ym(t,h,oe);var Ee=(h&62914560)===h?vu-ln():(h&4194048)===h?Qm-ln():0;if(Ee=l0(oe,Ee),Ee!==null){sr=h,e.cancelPendingCommit=Ee(lp.bind(null,e,t,h,a,s,u,b,E,R,ne,oe,null,J,Z)),Kr(e,h,b,!X);return}}lp(e,t,h,a,s,u,b,E,R)}function xv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],h=u.getSnapshot;u=u.value;try{if(!fn(h(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t,a,s){t&=~Nf,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var h=31-be(u),b=1<<h;s[h]=-1,u&=~b}a!==0&&oi(e,a,t)}function wu(){return(it&6)===0?(Ql(0),!1):!0}function Bf(){if(Ie!==null){if(ot===0)var e=Ie.return;else e=Ie,Qa=Oi=null,Zc(e),_s=null,Cl=0,e=Ie;for(;e!==null;)Rm(e.alternate,e),e=e.return;Ie=null}}function Rs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sr=0,Bf(),gt=e,Ie=a=Ia(e.current,null),Qe=t,ot=0,Mn=null,qr=!1,As=Ma(e,t),Cf=!1,ks=Un=Nf=Ui=Hr=jt=0,Tn=Il=null,Df=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-be(s),h=1<<u;t|=e[u],s&=~h}return ir=t,Le(),a}function ep(e,t){$e=null,ee.H=ql,t===bs||t===Jo?(t=yd(),ot=3):t===Hc?(t=yd(),ot=4):ot=t===pf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,Ie===null&&(jt=1,cu(e,Yn(t,e.current)))}function tp(){var e=Nn.current;return e===null?!0:(Qe&4194048)===Qe?Qn===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?e===Qn:!1}function np(){var e=ee.H;return ee.H=ql,e===null?ql:e}function ap(){var e=ee.A;return ee.A=wv,e}function Su(){jt=4,qr||(Qe&4194048)!==Qe&&Nn.current!==null||(As=!0),(Hr&134217727)===0&&(Ui&134217727)===0||gt===null||Kr(gt,Qe,Un,!1)}function Lf(e,t,a){var s=it;it|=2;var u=np(),h=ap();(gt!==e||Qe!==t)&&(_u=null,Rs(e,t)),t=!1;var b=jt;e:do try{if(ot!==0&&Ie!==null){var E=Ie,R=Mn;switch(ot){case 8:Bf(),b=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(t=!0);var X=ot;if(ot=0,Mn=null,Cs(e,E,R,X),a&&As){b=0;break e}break;default:X=ot,ot=0,Mn=null,Cs(e,E,R,X)}}Ev(),b=jt;break}catch(ne){ep(e,ne)}while(!0);return t&&e.shellSuspendCounter++,Qa=Oi=null,it=s,ee.H=u,ee.A=h,Ie===null&&(gt=null,Qe=0,Le()),b}function Ev(){for(;Ie!==null;)rp(Ie)}function Tv(e,t){var a=it;it|=2;var s=np(),u=ap();gt!==e||Qe!==t?(_u=null,bu=ln()+500,Rs(e,t)):As=Ma(e,t);e:do try{if(ot!==0&&Ie!==null){t=Ie;var h=Mn;t:switch(ot){case 1:ot=0,Mn=null,Cs(e,t,h,1);break;case 2:case 9:if(md(h)){ot=0,Mn=null,ip(t);break}t=function(){ot!==2&&ot!==9||gt!==e||(ot=7),ja(e)},h.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:md(h)?(ot=0,Mn=null,ip(t)):(ot=0,Mn=null,Cs(e,t,h,7));break;case 5:var b=null;switch(Ie.tag){case 26:b=Ie.memoizedState;case 5:case 27:var E=Ie;if(b?Gp(b):E.stateNode.complete){ot=0,Mn=null;var R=E.sibling;if(R!==null)Ie=R;else{var X=E.return;X!==null?(Ie=X,xu(X)):Ie=null}break t}}ot=0,Mn=null,Cs(e,t,h,5);break;case 6:ot=0,Mn=null,Cs(e,t,h,6);break;case 8:Bf(),jt=6;break e;default:throw Error(l(462))}}Ov();break}catch(ne){ep(e,ne)}while(!0);return Qa=Oi=null,ee.H=s,ee.A=u,it=a,Ie!==null?0:(gt=null,Qe=0,Le(),jt)}function Ov(){for(;Ie!==null&&!jo();)rp(Ie)}function rp(e){var t=km(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?xu(e):Ie=t}function ip(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sm(a,t,t.pendingProps,t.type,void 0,Qe);break;case 11:t=Sm(a,t,t.pendingProps,t.type.render,t.ref,Qe);break;case 5:Zc(t);default:Rm(a,t),t=Ie=ad(t,ir),t=km(a,t,ir)}e.memoizedProps=e.pendingProps,t===null?xu(e):Ie=t}function Cs(e,t,a,s){Qa=Oi=null,Zc(t),_s=null,Cl=0;var u=t.return;try{if(mv(e,u,t,a,Qe)){jt=1,cu(e,Yn(a,e.current)),Ie=null;return}}catch(h){if(u!==null)throw Ie=u,h;jt=1,cu(e,Yn(a,e.current)),Ie=null;return}t.flags&32768?(Fe||s===1?e=!0:As||(Qe&536870912)!==0?e=!1:(qr=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nn.current,s!==null&&s.tag===13&&(s.flags|=16384))),sp(t,e)):xu(t)}function xu(e){var t=e;do{if((t.flags&32768)!==0){sp(t,qr);return}e=t.return;var a=gv(t.alternate,t,ir);if(a!==null){Ie=a;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);jt===0&&(jt=5)}function sp(e,t){do{var a=vv(e.alternate,e);if(a!==null){a.flags&=32767,Ie=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=a}while(e!==null);jt=6,Ie=null}function lp(e,t,a,s,u,h,b,E,R){e.cancelPendingCommit=null;do Eu();while(Gt!==0);if((it&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=Re,il(e,a,h,b,E,R),e===gt&&(Ie=gt=null,Qe=0),js=t,Pr=e,sr=a,Mf=h,Uf=u,Jm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rv(mr,function(){return hp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null,u=ge.p,ge.p=2,b=it,it|=4;try{bv(e,t,a)}finally{it=b,ge.p=u,ee.T=s}}Gt=1,op(),up(),cp()}}function op(){if(Gt===1){Gt=0;var e=Pr,t=js,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var s=ge.p;ge.p=2;var u=it;it|=4;try{Pm(t,e);var h=Jf,b=w(e.containerInfo),E=h.focusedElem,R=h.selectionRange;if(b!==E&&E&&E.ownerDocument&&g(E.ownerDocument.documentElement,E)){if(R!==null&&S(E)){var X=R.start,ne=R.end;if(ne===void 0&&(ne=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(ne,E.value.length);else{var oe=E.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var Z=J.getSelection(),Ee=E.textContent.length,Ne=Math.min(R.start,Ee),pt=R.end===void 0?Ne:Math.min(R.end,Ee);!Z.extend&&Ne>pt&&(b=pt,pt=Ne,Ne=b);var $=p(E,Ne),L=p(E,pt);if($&&L&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var V=oe.createRange();V.setStart($.node,$.offset),Z.removeAllRanges(),Ne>pt?(Z.addRange(V),Z.extend(L.node,L.offset)):(V.setEnd(L.node,L.offset),Z.addRange(V))}}}}for(oe=[],Z=E;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<oe.length;E++){var se=oe[E];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}zu=!!Qf,Jf=Qf=null}finally{it=u,ge.p=s,ee.T=a}}e.current=t,Gt=2}}function up(){if(Gt===2){Gt=0;var e=Pr,t=js,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var s=ge.p;ge.p=2;var u=it;it|=4;try{Bm(e,t.alternate,t)}finally{it=u,ge.p=s,ee.T=a}}Gt=3}}function cp(){if(Gt===4||Gt===3){Gt=0,ni();var e=Pr,t=js,a=sr,s=Jm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,js=Pr=null,fp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&($r=null),yr(a),t=t.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(pa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=ee.T,u=ge.p,ge.p=2,ee.T=null;try{for(var h=e.onRecoverableError,b=0;b<s.length;b++){var E=s[b];h(E.value,{componentStack:E.stack})}}finally{ee.T=t,ge.p=u}}(sr&3)!==0&&Eu(),ja(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===zf?Xl++:(Xl=0,zf=e):Xl=0,Ql(0)}}function fp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jl(t)))}function Eu(){return op(),up(),cp(),hp()}function hp(){if(Gt!==5)return!1;var e=Pr,t=Mf;Mf=0;var a=yr(sr),s=ee.T,u=ge.p;try{ge.p=32>a?32:a,ee.T=null,a=Uf,Uf=null;var h=Pr,b=sr;if(Gt=0,js=Pr=null,sr=0,(it&6)!==0)throw Error(l(331));var E=it;if(it|=4,Im(h.current),Gm(h,h.current,b,a),it=E,Ql(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(pa,h)}catch{}return!0}finally{ge.p=u,ee.T=s,fp(e,t)}}function dp(e,t,a){t=Yn(a,t),t=mf(e.stateNode,t,2),e=Ur(e,t,2),e!==null&&(Hn(e,2),ja(e))}function ut(e,t,a){if(e.tag===3)dp(e,e,a);else for(;t!==null;){if(t.tag===3){dp(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($r===null||!$r.has(s))){e=Yn(a,e),a=mm(2),s=Ur(t,a,2),s!==null&&(pm(a,s,t,e),Hn(s,2),ja(s));break}}t=t.return}}function qf(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Sv;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(Cf=!0,u.add(a),e=Av.bind(null,e,t,a),t.then(e,e))}function Av(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,gt===e&&(Qe&a)===a&&(jt===4||jt===3&&(Qe&62914560)===Qe&&300>ln()-vu?(it&2)===0&&Rs(e,0):Nf|=a,ks===Qe&&(ks=0)),ja(e)}function mp(e,t){t===0&&(t=Ro()),e=st(e,t),e!==null&&(Hn(e,t),ja(e))}function kv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mp(e,a)}function jv(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),mp(e,a)}function Rv(e,t){return ti(e,t)}var Tu=null,Ns=null,Hf=!1,Ou=!1,$f=!1,Gr=0;function ja(e){e!==Ns&&e.next===null&&(Ns===null?Tu=Ns=e:Ns=Ns.next=e),Ou=!0,Hf||(Hf=!0,Nv())}function Ql(e,t){if(!$f&&Ou){$f=!0;do for(var a=!1,s=Tu;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var h=0;else{var b=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-be(42|e)+1)-1,h&=u&~(b&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,vp(s,h))}else h=Qe,h=li(s,s===gt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Ma(s,h)||(a=!0,vp(s,h));s=s.next}while(a);$f=!1}}function Cv(){pp()}function pp(){Ou=Hf=!1;var e=0;Gr!==0&&Pv()&&(e=Gr);for(var t=ln(),a=null,s=Tu;s!==null;){var u=s.next,h=yp(s,t);h===0?(s.next=null,a===null?Tu=u:a.next=u,u===null&&(Ns=a)):(a=s,(e!==0||(h&3)!==0)&&(Ou=!0)),s=u}Gt!==0&&Gt!==5||Ql(e),Gr!==0&&(Gr=0)}function yp(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-be(h),E=1<<b,R=u[b];R===-1?((E&a)===0||(E&s)!==0)&&(u[b]=vc(E,t)):R<=t&&(e.expiredLanes|=E),h&=~E}if(t=gt,a=Qe,a=li(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&_n(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ma(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&_n(s),yr(a)){case 2:case 8:a=ma;break;case 32:a=mr;break;case 268435456:a=Ki;break;default:a=mr}return s=gp.bind(null,e),a=ti(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&_n(s),e.callbackPriority=2,e.callbackNode=null,2}function gp(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Eu()&&e.callbackNode!==a)return null;var s=Qe;return s=li(e,e===gt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Zm(e,s,t),yp(e,ln()),e.callbackNode!=null&&e.callbackNode===a?gp.bind(null,e):null)}function vp(e,t){if(Eu())return null;Zm(e,t,!0)}function Nv(){Gv(function(){(it&6)!==0?ti(on,Cv):pp()})}function Pf(){if(Gr===0){var e=gs;e===0&&(e=me,me<<=1,(me&261888)===0&&(me=256)),Gr=e}return Gr}function bp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function _p(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Dv(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var h=bp((u[Nt]||null).action),b=s.submitter;b&&(t=(t=b[Nt]||null)?bp(t.formAction):b.getAttribute("formAction"),t!==null&&(h=t,b=null));var E=new Wi("action","action",null,s,u);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Gr!==0){var R=b?_p(u,b):new FormData(u);of(a,{pending:!0,data:R,method:u.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=b?_p(u,b):new FormData(u),of(a,{pending:!0,data:R,method:u.method,action:h},h,R))},currentTarget:u}]})}}for(var Kf=0;Kf<ye.length;Kf++){var Gf=ye[Kf],Mv=Gf.toLowerCase(),Uv=Gf[0].toUpperCase()+Gf.slice(1);fe(Mv,"on"+Uv)}fe(Q,"onAnimationEnd"),fe(K,"onAnimationIteration"),fe(te,"onAnimationStart"),fe("dblclick","onDoubleClick"),fe("focusin","onFocus"),fe("focusout","onBlur"),fe(ue,"onTransitionRun"),fe(he,"onTransitionStart"),fe(de,"onTransitionCancel"),fe(ce,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function wp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var b=s.length-1;0<=b;b--){var E=s[b],R=E.instance,X=E.currentTarget;if(E=E.listener,R!==h&&u.isPropagationStopped())break e;h=E,u.currentTarget=X;try{h(u)}catch(ne){Se(ne)}u.currentTarget=null,h=R}else for(b=0;b<s.length;b++){if(E=s[b],R=E.instance,X=E.currentTarget,E=E.listener,R!==h&&u.isPropagationStopped())break e;h=E,u.currentTarget=X;try{h(u)}catch(ne){Se(ne)}u.currentTarget=null,h=R}}}}function Xe(e,t){var a=t[gr];a===void 0&&(a=t[gr]=new Set);var s=e+"__bubble";a.has(s)||(Sp(t,e,2,!1),a.add(s))}function Yf(e,t,a){var s=0;t&&(s|=4),Sp(a,e,s,t)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Vf(e){if(!e[Au]){e[Au]=!0,Ua.forEach(function(a){a!=="selectionchange"&&(zv.has(a)||Yf(a,!1,e),Yf(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Au]||(t[Au]=!0,Yf("selectionchange",!1,t))}}function Sp(e,t,a,s){switch(Wp(t)){case 2:var u=c0;break;case 8:u=f0;break;default:u=lh}a=u.bind(null,t,a,e),u=void 0,!dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function If(e,t,a,s,u){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var E=s.stateNode.containerInfo;if(E===u)break;if(b===4)for(b=s.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;E!==null;){if(b=ba(E),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){s=h=b;continue e}E=E.parentNode}}s=s.return}br(function(){var X=h,ne=Qi(a),oe=[];e:{var J=we.get(e);if(J!==void 0){var Z=Wi,Ee=e;switch(e){case"keypress":if(Sr(a)===0)break e;case"keydown":case"keyup":Z=rs;break;case"focusin":Ee="focus",Z=xr;break;case"focusout":Ee="blur",Z=xr;break;case"beforeblur":case"afterblur":Z=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_l;break;case Q:case K:case te:Z=Uo;break;case ce:Z=wl;break;case"scroll":case"scrollend":Z=Zi;break;case"wheel":Z=ss;break;case"copy":case"cut":case"paste":Z=Er;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bl;break;case"toggle":case"beforetoggle":Z=Lo}var Ne=(t&4)!==0,pt=!Ne&&(e==="scroll"||e==="scrollend"),$=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var L=X,V;L!==null;){var se=L;if(V=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||V===null||$===null||(se=Ha(L,$),se!=null&&Ne.push(Wl(L,se,V))),pt)break;L=L.return}0<Ne.length&&(J=new Z(J,Ee,null,a,ne),oe.push({event:J,listeners:Ne}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",J&&a!==Pn&&(Ee=a.relatedTarget||a.fromElement)&&(ba(Ee)||Ee[gn]))break e;if((Z||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,Z?(Ee=a.relatedTarget||a.toElement,Z=X,Ee=Ee?ba(Ee):null,Ee!==null&&(pt=f(Ee),Ne=Ee.tag,Ee!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ee=null)):(Z=null,Ee=X),Z!==Ee)){if(Ne=es,se="onMouseLeave",$="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=bl,se="onPointerLeave",$="onPointerEnter",L="pointer"),pt=Z==null?J:jn(Z),V=Ee==null?J:jn(Ee),J=new Ne(se,L+"leave",Z,a,ne),J.target=pt,J.relatedTarget=V,se=null,ba(ne)===X&&(Ne=new Ne($,L+"enter",Ee,a,ne),Ne.target=V,Ne.relatedTarget=pt,se=Ne),pt=se,Z&&Ee)t:{for(Ne=Bv,$=Z,L=Ee,V=0,se=$;se;se=Ne(se))V++;se=0;for(var Ce=L;Ce;Ce=Ne(Ce))se++;for(;0<V-se;)$=Ne($),V--;for(;0<se-V;)L=Ne(L),se--;for(;V--;){if($===L||L!==null&&$===L.alternate){Ne=$;break t}$=Ne($),L=Ne(L)}Ne=null}else Ne=null;Z!==null&&xp(oe,J,Z,Ne,!1),Ee!==null&&pt!==null&&xp(oe,pt,Ee,Ne,!0)}}e:{if(J=X?jn(X):window,Z=J.nodeName&&J.nodeName.toLowerCase(),Z==="select"||Z==="input"&&J.type==="file")var nt=xi;else if(us(J))if(Gn)nt=Ar;else{nt=Va;var Te=Go}else Z=J.nodeName,!Z||Z.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&hl(X.elementType)&&(nt=xi):nt=Ol;if(nt&&(nt=nt(e,X))){Tl(oe,nt,a,ne);break e}Te&&Te(e,J,X),e==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&pi(J,"number",J.value)}switch(Te=X?jn(X):window,e){case"focusin":(us(Te)||Te.contentEditable==="true")&&(k=Te,D=X,P=null);break;case"focusout":P=D=k=null;break;case"mousedown":M=!0;break;case"contextmenu":case"mouseup":case"dragend":M=!1,N(oe,a,ne);break;case"selectionchange":if(A)break;case"keydown":case"keyup":N(oe,a,ne)}var Pe;if(wi)e:{switch(e){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ga?El(e,a)&&(Je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(ls&&a.locale!=="ko"&&(Ga||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ga&&(Pe=wr()):(Kn=ne,Ji="value"in Kn?Kn.value:Kn.textContent,Ga=!0)),Te=ku(X,Je),0<Te.length&&(Je=new as(Je,e,null,a,ne),oe.push({event:Je,listeners:Te}),Pe?Je.data=Pe:(Pe=Ho(a),Pe!==null&&(Je.data=Pe)))),(Pe=Ec?$o(e,a):Tc(e,a))&&(Je=ku(X,"onBeforeInput"),0<Je.length&&(Te=new as("onBeforeInput","beforeinput",null,a,ne),oe.push({event:Te,listeners:Je}),Te.data=Pe)),Dv(oe,e,X,a,ne)}wp(oe,t)})}function Wl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ku(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Ha(e,a),u!=null&&s.unshift(Wl(e,u,h)),u=Ha(e,t),u!=null&&s.push(Wl(e,u,h))),e.tag===3)return s;e=e.return}return[]}function Bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xp(e,t,a,s,u){for(var h=t._reactName,b=[];a!==null&&a!==s;){var E=a,R=E.alternate,X=E.stateNode;if(E=E.tag,R!==null&&R===s)break;E!==5&&E!==26&&E!==27||X===null||(R=X,u?(X=Ha(a,h),X!=null&&b.unshift(Wl(a,X,R))):u||(X=Ha(a,h),X!=null&&b.push(Wl(a,X,R)))),a=a.return}b.length!==0&&e.push({event:t,listeners:b})}var Lv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function Ep(e){return(typeof e=="string"?e:""+e).replace(Lv,`
`).replace(qv,"")}function Tp(e,t){return t=Ep(t),Ep(e)===t}function mt(e,t,a,s,u,h){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ba(e,""+s);break;case"className":di(e,"class",s);break;case"tabIndex":di(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":di(e,a,s);break;case"style":fl(e,s,h);break;case"data":if(t!=="object"){di(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ia(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&mt(e,t,"name",u.name,u,null),mt(e,t,"formEncType",u.formEncType,u,null),mt(e,t,"formMethod",u.formMethod,u,null),mt(e,t,"formTarget",u.formTarget,u,null)):(mt(e,t,"encType",u.encType,u,null),mt(e,t,"method",u.method,u,null),mt(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ia(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=wn);break;case"onScroll":s!=null&&Xe("scroll",e);break;case"onScrollEnd":s!=null&&Xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ia(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Xe("beforetoggle",e),Xe("toggle",e),Ke(e,"popover",s);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ke(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wc.get(a)||a,Ke(e,a,s))}}function Xf(e,t,a,s,u,h){switch(a){case"style":fl(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ba(e,s):(typeof s=="number"||typeof s=="bigint")&&Ba(e,""+s);break;case"onScroll":s!=null&&Xe("scroll",e);break;case"onScrollEnd":s!=null&&Xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),h=e[Nt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof s=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ke(e,a,s)}}}function nn(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",e),Xe("load",e);var s=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:mt(e,t,h,b,a,null)}}u&&mt(e,t,"srcSet",a.srcSet,a,null),s&&mt(e,t,"src",a.src,a,null);return;case"input":Xe("invalid",e);var E=h=b=u=null,R=null,X=null;for(s in a)if(a.hasOwnProperty(s)){var ne=a[s];if(ne!=null)switch(s){case"name":u=ne;break;case"type":b=ne;break;case"checked":R=ne;break;case"defaultChecked":X=ne;break;case"value":h=ne;break;case"defaultValue":E=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(l(137,t));break;default:mt(e,t,s,ne,a,null)}}Xi(e,h,E,R,X,b,u,!1);return;case"select":Xe("invalid",e),s=b=h=null;for(u in a)if(a.hasOwnProperty(u)&&(E=a[u],E!=null))switch(u){case"value":h=E;break;case"defaultValue":b=E;break;case"multiple":s=E;default:mt(e,t,u,E,a,null)}t=h,a=b,e.multiple=!!s,t!=null?ra(e,!!s,t,!1):a!=null&&ra(e,!!s,a,!0);return;case"textarea":Xe("invalid",e),h=u=s=null;for(b in a)if(a.hasOwnProperty(b)&&(E=a[b],E!=null))switch(b){case"value":s=E;break;case"defaultValue":u=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:mt(e,t,b,E,a,null)}yi(e,s,u,h);return;case"option":for(R in a)a.hasOwnProperty(R)&&(s=a[R],s!=null)&&(R==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":mt(e,t,R,s,a,null));return;case"dialog":Xe("beforetoggle",e),Xe("toggle",e),Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":Xe("load",e);break;case"video":case"audio":for(s=0;s<Jl.length;s++)Xe(Jl[s],e);break;case"image":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"embed":case"source":case"link":Xe("error",e),Xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in a)if(a.hasOwnProperty(X)&&(s=a[X],s!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:mt(e,t,X,s,a,null)}return;default:if(hl(t)){for(ne in a)a.hasOwnProperty(ne)&&(s=a[ne],s!==void 0&&Xf(e,t,ne,s,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(s=a[E],s!=null&&mt(e,t,E,s,a,null))}function Hv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,b=null,E=null,R=null,X=null,ne=null;for(Z in a){var oe=a[Z];if(a.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":R=oe;default:s.hasOwnProperty(Z)||mt(e,t,Z,null,s,oe)}}for(var J in s){var Z=s[J];if(oe=a[J],s.hasOwnProperty(J)&&(Z!=null||oe!=null))switch(J){case"type":h=Z;break;case"name":u=Z;break;case"checked":X=Z;break;case"defaultChecked":ne=Z;break;case"value":b=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,t));break;default:Z!==oe&&mt(e,t,J,Z,s,oe)}}wa(e,b,E,R,X,ne,h,u);return;case"select":Z=b=E=J=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":Z=R;default:s.hasOwnProperty(h)||mt(e,t,h,null,s,R)}for(u in s)if(h=s[u],R=a[u],s.hasOwnProperty(u)&&(h!=null||R!=null))switch(u){case"value":J=h;break;case"defaultValue":E=h;break;case"multiple":b=h;default:h!==R&&mt(e,t,u,h,s,R)}t=E,a=b,s=Z,J!=null?ra(e,!!a,J,!1):!!s!=!!a&&(t!=null?ra(e,!!a,t,!0):ra(e,!!a,a?[]:"",!1));return;case"textarea":Z=J=null;for(E in a)if(u=a[E],a.hasOwnProperty(E)&&u!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:mt(e,t,E,null,s,u)}for(b in s)if(u=s[b],h=a[b],s.hasOwnProperty(b)&&(u!=null||h!=null))switch(b){case"value":J=u;break;case"defaultValue":Z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==h&&mt(e,t,b,u,s,h)}cl(e,J,Z);return;case"option":for(var Ee in a)J=a[Ee],a.hasOwnProperty(Ee)&&J!=null&&!s.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:mt(e,t,Ee,null,s,J));for(R in s)J=s[R],Z=a[R],s.hasOwnProperty(R)&&J!==Z&&(J!=null||Z!=null)&&(R==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":mt(e,t,R,J,s,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)J=a[Ne],a.hasOwnProperty(Ne)&&J!=null&&!s.hasOwnProperty(Ne)&&mt(e,t,Ne,null,s,J);for(X in s)if(J=s[X],Z=a[X],s.hasOwnProperty(X)&&J!==Z&&(J!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(l(137,t));break;default:mt(e,t,X,J,s,Z)}return;default:if(hl(t)){for(var pt in a)J=a[pt],a.hasOwnProperty(pt)&&J!==void 0&&!s.hasOwnProperty(pt)&&Xf(e,t,pt,void 0,s,J);for(ne in s)J=s[ne],Z=a[ne],!s.hasOwnProperty(ne)||J===Z||J===void 0&&Z===void 0||Xf(e,t,ne,J,s,Z);return}}for(var $ in a)J=a[$],a.hasOwnProperty($)&&J!=null&&!s.hasOwnProperty($)&&mt(e,t,$,null,s,J);for(oe in s)J=s[oe],Z=a[oe],!s.hasOwnProperty(oe)||J===Z||J==null&&Z==null||mt(e,t,oe,J,s,Z)}function Op(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],h=u.transferSize,b=u.initiatorType,E=u.duration;if(h&&E&&Op(b)){for(b=0,E=u.responseEnd,s+=1;s<a.length;s++){var R=a[s],X=R.startTime;if(X>E)break;var ne=R.transferSize,oe=R.initiatorType;ne&&Op(oe)&&(R=R.responseEnd,b+=ne*(R<E?1:(E-X)/(R-X)))}if(--s,t+=8*(h+b)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qf=null,Jf=null;function ju(e){return e.nodeType===9?e:e.ownerDocument}function Ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zf=null;function Pv(){var e=window.event;return e&&e.type==="popstate"?e===Zf?!1:(Zf=e,!0):(Zf=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,Rp=typeof Promise=="function"?Promise:void 0,Gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rp<"u"?function(e){return Rp.resolve(null).then(e).catch(Yv)}:jp;function Yv(e){setTimeout(function(){throw e})}function Yr(e){return e==="head"}function Cp(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),zs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Zl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Zl(a);for(var h=a.firstChild;h;){var b=h.nextSibling,E=h.nodeName;h[kn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&Zl(e.ownerDocument.body);a=u}while(a);zs(t)}function Np(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Ff(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ff(a),Vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vv(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Jn(e.nextSibling),e===null)break}return null}function Iv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jn(e.nextSibling),e===null))return null;return e}function Dp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jn(e.nextSibling),e===null))return null;return e}function eh(e){return e.data==="$?"||e.data==="$~"}function th(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nh=null;function Mp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Jn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function zp(e,t,a){switch(t=ju(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Zl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vi(e)}var Wn=new Map,Bp=new Set;function Ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var lr=ge.d;ge.d={f:Qv,r:Jv,D:Wv,C:Zv,L:Fv,m:e0,X:n0,S:t0,M:a0};function Qv(){var e=lr.f(),t=wu();return e||t}function Jv(e){var t=ft(e);t!==null&&t.tag===5&&t.type==="form"?em(t):lr.r(e)}var Ds=typeof document>"u"?null:document;function Lp(e,t,a){var s=Ds;if(s&&typeof t=="string"&&t){var u=Vt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Bp.has(u)||(Bp.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),nn(t,"link",e),Dt(t),s.head.appendChild(t)))}}function Wv(e){lr.D(e),Lp("dns-prefetch",e,null)}function Zv(e,t){lr.C(e,t),Lp("preconnect",e,t)}function Fv(e,t,a){lr.L(e,t,a);var s=Ds;if(s&&e&&t){var u='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Vt(a.imageSizes)+'"]')):u+='[href="'+Vt(e)+'"]';var h=u;switch(t){case"style":h=Ms(e);break;case"script":h=Us(e)}Wn.has(h)||(e=O({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Wn.set(h,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Fl(h))||t==="script"&&s.querySelector(eo(h))||(t=s.createElement("link"),nn(t,"link",e),Dt(t),s.head.appendChild(t)))}}function e0(e,t){lr.m(e,t);var a=Ds;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',h=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Us(e)}if(!Wn.has(h)&&(e=O({rel:"modulepreload",href:e},t),Wn.set(h,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eo(h)))return}s=a.createElement("link"),nn(s,"link",e),Dt(s),a.head.appendChild(s)}}}function t0(e,t,a){lr.S(e,t,a);var s=Ds;if(s&&e){var u=un(s).hoistableStyles,h=Ms(e);t=t||"default";var b=u.get(h);if(!b){var E={loading:0,preload:null};if(b=s.querySelector(Fl(h)))E.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Wn.get(h))&&ah(e,a);var R=b=s.createElement("link");Dt(R),nn(R,"link",e),R._p=new Promise(function(X,ne){R.onload=X,R.onerror=ne}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(b,t,s)}b={type:"stylesheet",instance:b,count:1,state:E},u.set(h,b)}}}function n0(e,t){lr.X(e,t);var a=Ds;if(a&&e){var s=un(a).hoistableScripts,u=Us(e),h=s.get(u);h||(h=a.querySelector(eo(u)),h||(e=O({src:e,async:!0},t),(t=Wn.get(u))&&rh(e,t),h=a.createElement("script"),Dt(h),nn(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function a0(e,t){lr.M(e,t);var a=Ds;if(a&&e){var s=un(a).hoistableScripts,u=Us(e),h=s.get(u);h||(h=a.querySelector(eo(u)),h||(e=O({src:e,async:!0,type:"module"},t),(t=Wn.get(u))&&rh(e,t),h=a.createElement("script"),Dt(h),nn(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(u,h))}}function qp(e,t,a,s){var u=(u=He.current)?Ru(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ms(a.href),a=un(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ms(a.href);var h=un(u).hoistableStyles,b=h.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=u.querySelector(Fl(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Wn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(e,a),h||r0(u,e,a,b.state))),t&&s===null)throw Error(l(528,""));return b}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Us(a),a=un(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ms(e){return'href="'+Vt(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function Hp(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),nn(t,"link",a),Dt(t),e.head.appendChild(t))}function Us(e){return'[src="'+Vt(e)+'"]'}function eo(e){return"script[async]"+e}function $p(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(s)return t.instance=s,Dt(s),s;var u=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Dt(s),nn(s,"style",u),Cu(s,a.precedence,e),t.instance=s;case"stylesheet":u=Ms(a.href);var h=e.querySelector(Fl(u));if(h)return t.state.loading|=4,t.instance=h,Dt(h),h;s=Hp(a),(u=Wn.get(u))&&ah(s,u),h=(e.ownerDocument||e).createElement("link"),Dt(h);var b=h;return b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),nn(h,"link",s),t.state.loading|=4,Cu(h,a.precedence,e),t.instance=h;case"script":return h=Us(a.src),(u=e.querySelector(eo(h)))?(t.instance=u,Dt(u),u):(s=a,(u=Wn.get(h))&&(s=O({},a),rh(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),Dt(u),nn(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Cu(s,a.precedence,e));return t.instance}function Cu(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,h=u,b=0;b<s.length;b++){var E=s[b];if(E.dataset.precedence===t)h=E;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ah(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nu=null;function Pp(e,t,a){if(Nu===null){var s=new Map,u=Nu=new Map;u.set(a,s)}else u=Nu,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[kn]||h[vt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(t)||"";b=e+b;var E=s.get(b);E?E.push(h):s.set(b,[h])}}return s}function Kp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function i0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function s0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Ms(s.href),h=t.querySelector(Fl(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Du.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=h,Dt(h);return}h=t.ownerDocument||t,s=Hp(s),(u=Wn.get(u))&&ah(s,u),h=h.createElement("link"),Dt(h);var b=h;b._p=new Promise(function(E,R){b.onload=E,b.onerror=R}),nn(h,"link",s),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Du.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ih=0;function l0(e,t){return e.stylesheets&&e.count===0&&Uu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&ih===0&&(ih=62500*$v());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function Uu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(o0,e),Mu=null,Du.call(e))}function o0(e,t){if(!(t.state.loading&4)){var a=Mu.get(e);if(a)var s=a.get(null);else{a=new Map,Mu.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var b=u[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),s=b)}s&&a.set(null,s)}u=t.instance,b=u.getAttribute("data-precedence"),h=a.get(b)||s,h===s&&a.set(null,u),a.set(b,u),this.count++,s=Du.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var to={$$typeof:re,Provider:null,Consumer:null,_currentValue:je,_currentValue2:je,_threadCount:0};function u0(e,t,a,s,u,h,b,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Yp(e,t,a,s,u,h,b,E,R,X,ne,oe){return e=new u0(e,t,a,b,R,X,ne,oe,E),t=1,h===!0&&(t|=24),h=Cn(3,null,null,t),e.current=h,h.stateNode=e,t=Bc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:s,isDehydrated:a,cache:t},$c(h),e}function Vp(e){return e?(e=hs,e):hs}function Ip(e,t,a,s,u,h){u=Vp(u),s.context===null?s.context=u:s.pendingContext=u,s=Mr(t),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=Ur(e,s,t),a!==null&&(On(a,e,t),Dl(a,e,t))}function Xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function sh(e,t){Xp(e,t),(e=e.alternate)&&Xp(e,t)}function Qp(e){if(e.tag===13||e.tag===31){var t=st(e,67108864);t!==null&&On(t,e,67108864),sh(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var t=zn();t=sl(t);var a=st(e,t);a!==null&&On(a,e,t),sh(e,t)}}var zu=!0;function c0(e,t,a,s){var u=ee.T;ee.T=null;var h=ge.p;try{ge.p=2,lh(e,t,a,s)}finally{ge.p=h,ee.T=u}}function f0(e,t,a,s){var u=ee.T;ee.T=null;var h=ge.p;try{ge.p=8,lh(e,t,a,s)}finally{ge.p=h,ee.T=u}}function lh(e,t,a,s){if(zu){var u=oh(s);if(u===null)If(e,t,s,Bu,a),Zp(e,s);else if(d0(u,e,t,a,s))s.stopPropagation();else if(Zp(e,s),t&4&&-1<h0.indexOf(e)){for(;u!==null;){var h=ft(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=na(h.pendingLanes);if(b!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var R=1<<31-be(b);E.entanglements[1]|=R,b&=~R}ja(h),(it&6)===0&&(bu=ln()+500,Ql(0))}}break;case 31:case 13:E=st(h,2),E!==null&&On(E,h,2),wu(),sh(h,2)}if(h=oh(s),h===null&&If(e,t,s,Bu,a),h===u)break;u=h}u!==null&&s.stopPropagation()}else If(e,t,s,null,a)}}function oh(e){return e=Qi(e),uh(e)}var Bu=null;function uh(e){if(Bu=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bu=e,null}function Wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case on:return 2;case ma:return 8;case mr:case ri:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var ch=!1,Vr=null,Ir=null,Xr=null,no=new Map,ao=new Map,Qr=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(t.pointerId)}}function ro(e,t,a,s,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},t!==null&&(t=ft(t),t!==null&&Qp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function d0(e,t,a,s,u){switch(t){case"focusin":return Vr=ro(Vr,e,t,a,s,u),!0;case"dragenter":return Ir=ro(Ir,e,t,a,s,u),!0;case"mouseover":return Xr=ro(Xr,e,t,a,s,u),!0;case"pointerover":var h=u.pointerId;return no.set(h,ro(no.get(h)||null,e,t,a,s,u)),!0;case"gotpointercapture":return h=u.pointerId,ao.set(h,ro(ao.get(h)||null,e,t,a,s,u)),!0}return!1}function Fp(e){var t=ba(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,ci(e.priority,function(){Jp(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,ci(e.priority,function(){Jp(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=oh(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Pn=s,a.target.dispatchEvent(s),Pn=null}else return t=ft(a),t!==null&&Qp(t),e.blockedOn=a,!1;t.shift()}return!0}function ey(e,t,a){Lu(e)&&a.delete(t)}function m0(){ch=!1,Vr!==null&&Lu(Vr)&&(Vr=null),Ir!==null&&Lu(Ir)&&(Ir=null),Xr!==null&&Lu(Xr)&&(Xr=null),no.forEach(ey),ao.forEach(ey)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m0)))}var Hu=null;function ty(e){Hu!==e&&(Hu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(uh(s||a)===null)continue;break}var h=ft(a);h!==null&&(e.splice(t,3),t-=3,of(h,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function zs(e){function t(R){return qu(R,e)}Vr!==null&&qu(Vr,e),Ir!==null&&qu(Ir,e),Xr!==null&&qu(Xr,e),no.forEach(t),ao.forEach(t);for(var a=0;a<Qr.length;a++){var s=Qr[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Fp(a),a.blockedOn===null&&Qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],h=a[s+1],b=u[Nt]||null;if(typeof h=="function")b||ty(a);else if(b){var E=null;if(h&&h.hasAttribute("formAction")){if(u=h,b=h[Nt]||null)E=b.formAction;else if(uh(u)!==null)continue}else E=b.action;typeof E=="function"?a[s+1]=E:(a.splice(s,3),s-=3),ty(a)}}}function ny(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function fh(e){this._internalRoot=e}$u.prototype.render=fh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=zn();Ip(a,s,e,t,null,null)},$u.prototype.unmount=fh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ip(e.current,2,null,e,null,null),wu(),t[gn]=null}};function $u(e){this._internalRoot=e}$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=ui();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qr.length&&t!==0&&t<Qr[a].priority;a++);Qr.splice(a,0,e),a===0&&Fp(e)}};var ay=n.version;if(ay!=="19.2.4")throw Error(l(527,ay,"19.2.4"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=_(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var p0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{pa=Pu.inject(p0),Jt=Pu}catch{}}return so.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,s="",u=cm,h=fm,b=hm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=Yp(e,1,!1,null,null,a,s,null,u,h,b,ny),e[gn]=t.current,Vf(e),new fh(t)},so.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var s=!1,u="",h=cm,b=fm,E=hm,R=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),t=Yp(e,1,!0,t,a??null,s,u,R,h,b,E,ny),t.context=Vp(null),a=t.current,s=zn(),s=sl(s),u=Mr(s),u.callback=null,Ur(a,u,s),a=s,t.current.lanes=a,Hn(t,a),ja(t),e[gn]=t.current,Vf(e),new $u(t)},so.version="19.2.4",so}var dy;function A0(){if(dy)return mh.exports;dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),mh.exports=O0(),mh.exports}var k0=A0();const j0=Gh(k0);var my="popstate";function R0(r={}){function n(l,c){let{pathname:f,search:m,hash:y}=l.location;return Ch("",{pathname:f,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:po(c)}return N0(n,i,null,r)}function Ot(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function ha(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function C0(){return Math.random().toString(36).substring(2,10)}function py(r,n){return{usr:r.state,key:r.key,idx:n}}function Ch(r,n,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?Ws(n):n,state:i,key:n&&n.key||l||C0()}}function po({pathname:r="/",search:n="",hash:i=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ws(r){let n={};if(r){let i=r.indexOf("#");i>=0&&(n.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(n.search=r.substring(l),r=r.substring(0,l)),r&&(n.pathname=r)}return n}function N0(r,n,i,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,m=c.history,y="POP",v=null,_=x();_==null&&(_=0,m.replaceState({...m.state,idx:_},""));function x(){return(m.state||{idx:null}).idx}function O(){y="POP";let F=x(),le=F==null?null:F-_;_=F,v&&v({action:y,location:W.location,delta:le})}function C(F,le){y="PUSH";let ae=Ch(W.location,F,le);_=x()+1;let re=py(ae,_),_e=W.createHref(ae);try{m.pushState(re,"",_e)}catch(Ue){if(Ue instanceof DOMException&&Ue.name==="DataCloneError")throw Ue;c.location.assign(_e)}f&&v&&v({action:y,location:W.location,delta:1})}function j(F,le){y="REPLACE";let ae=Ch(W.location,F,le);_=x();let re=py(ae,_),_e=W.createHref(ae);m.replaceState(re,"",_e),f&&v&&v({action:y,location:W.location,delta:0})}function Y(F){return D0(F)}let W={get action(){return y},get location(){return r(c,m)},listen(F){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(my,O),v=F,()=>{c.removeEventListener(my,O),v=null}},createHref(F){return n(c,F)},createURL:Y,encodeLocation(F){let le=Y(F);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:C,replace:j,go(F){return m.go(F)}};return W}function D0(r,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:po(r);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function rg(r,n,i="/"){return M0(r,n,i,!1)}function M0(r,n,i,l){let c=typeof n=="string"?Ws(n):n,f=cr(c.pathname||"/",i);if(f==null)return null;let m=ig(r);U0(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let _=V0(f);y=G0(m[v],_,l)}return y}function ig(r,n=[],i=[],l="",c=!1){let f=(m,y,v=c,_)=>{let x={relativePath:_===void 0?m.path||"":_,caseSensitive:m.caseSensitive===!0,childrenIndex:y,route:m};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&v)return;Ot(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let O=ur([l,x.relativePath]),C=i.concat(x);m.children&&m.children.length>0&&(Ot(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${O}".`),ig(m.children,n,C,O,v)),!(m.path==null&&!m.index)&&n.push({path:O,score:P0(O,m.index),routesMeta:C})};return r.forEach((m,y)=>{if(m.path===""||!m.path?.includes("?"))f(m,y);else for(let v of sg(m.path))f(m,y,!0,v)}),n}function sg(r){let n=r.split("/");if(n.length===0)return[];let[i,...l]=n,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let m=sg(l.join("/")),y=[];return y.push(...m.map(v=>v===""?f:[f,v].join("/"))),c&&y.push(...m),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function U0(r){r.sort((n,i)=>n.score!==i.score?i.score-n.score:K0(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var z0=/^:[\w-]+$/,B0=3,L0=2,q0=1,H0=10,$0=-2,yy=r=>r==="*";function P0(r,n){let i=r.split("/"),l=i.length;return i.some(yy)&&(l+=$0),n&&(l+=L0),i.filter(c=>!yy(c)).reduce((c,f)=>c+(z0.test(f)?B0:f===""?q0:H0),l)}function K0(r,n){return r.length===n.length&&r.slice(0,-1).every((l,c)=>l===n[c])?r[r.length-1]-n[n.length-1]:0}function G0(r,n,i=!1){let{routesMeta:l}=r,c={},f="/",m=[];for(let y=0;y<l.length;++y){let v=l[y],_=y===l.length-1,x=f==="/"?n:n.slice(f.length)||"/",O=ac({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},x),C=v.route;if(!O&&_&&i&&!l[l.length-1].route.index&&(O=ac({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!O)return null;Object.assign(c,O.params),m.push({params:c,pathname:ur([f,O.pathname]),pathnameBase:J0(ur([f,O.pathnameBase])),route:C}),O.pathnameBase!=="/"&&(f=ur([f,O.pathnameBase]))}return m}function ac(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=Y0(r.path,r.caseSensitive,r.end),c=n.match(i);if(!c)return null;let f=c[0],m=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:l.reduce((_,{paramName:x,isOptional:O},C)=>{if(x==="*"){let Y=y[C]||"";m=f.slice(0,f.length-Y.length).replace(/(.)\/+$/,"$1")}const j=y[C];return O&&!j?_[x]=void 0:_[x]=(j||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:m,pattern:r}}function Y0(r,n=!1,i=!0){ha(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(l.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function V0(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ha(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function cr(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function X0(r,n="/"){let{pathname:i,search:l="",hash:c=""}=typeof r=="string"?Ws(r):r,f;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?f=gy(i.substring(1),"/"):f=gy(i,n)):f=n,{pathname:f,search:W0(l),hash:Z0(c)}}function gy(r,n){let i=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function vh(r,n,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q0(r){return r.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Vh(r){let n=Q0(r);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function Ih(r,n,i,l=!1){let c;typeof r=="string"?c=Ws(r):(c={...r},Ot(!c.pathname||!c.pathname.includes("?"),vh("?","pathname","search",c)),Ot(!c.pathname||!c.pathname.includes("#"),vh("#","pathname","hash",c)),Ot(!c.search||!c.search.includes("#"),vh("#","search","hash",c)));let f=r===""||c.pathname==="",m=f?"/":c.pathname,y;if(m==null)y=i;else{let O=n.length-1;if(!l&&m.startsWith("..")){let C=m.split("/");for(;C[0]==="..";)C.shift(),O-=1;c.pathname=C.join("/")}y=O>=0?n[O]:"/"}let v=X0(c,y),_=m&&m!=="/"&&m.endsWith("/"),x=(f||m===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(_||x)&&(v.pathname+="/"),v}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),J0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Z0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,F0=class{constructor(r,n,i,l=!1){this.status=r,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function eb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function tb(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function og(r,n){let i=r;if(typeof i!="string"||!I0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let l=i,c=!1;if(lg)try{let f=new URL(window.location.href),m=i.startsWith("//")?new URL(f.protocol+i):new URL(i),y=cr(m.pathname,n);m.origin===f.origin&&y!=null?i=y+m.search+m.hash:c=!0}catch{ha(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ug=["POST","PUT","PATCH","DELETE"];new Set(ug);var nb=["GET",...ug];new Set(nb);var Zs=I.createContext(null);Zs.displayName="DataRouter";var cc=I.createContext(null);cc.displayName="DataRouterState";var ab=I.createContext(!1),cg=I.createContext({isTransitioning:!1});cg.displayName="ViewTransition";var rb=I.createContext(new Map);rb.displayName="Fetchers";var ib=I.createContext(null);ib.displayName="Await";var qn=I.createContext(null);qn.displayName="Navigation";var Eo=I.createContext(null);Eo.displayName="Location";var da=I.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var Xh=I.createContext(null);Xh.displayName="RouteError";var fg="REACT_ROUTER_ERROR",sb="REDIRECT",lb="ROUTE_ERROR_RESPONSE";function ob(r){if(r.startsWith(`${fg}:${sb}:{`))try{let n=JSON.parse(r.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function ub(r){if(r.startsWith(`${fg}:${lb}:{`))try{let n=JSON.parse(r.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new F0(n.status,n.statusText,n.data)}catch{}}function cb(r,{relative:n}={}){Ot(Fs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=I.useContext(qn),{hash:c,pathname:f,search:m}=To(r,{relative:n}),y=f;return i!=="/"&&(y=f==="/"?i:ur([i,f])),l.createHref({pathname:y,search:m,hash:c})}function Fs(){return I.useContext(Eo)!=null}function Ra(){return Ot(Fs(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Eo).location}var hg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dg(r){I.useContext(qn).static||I.useLayoutEffect(r)}function el(){let{isDataRoute:r}=I.useContext(da);return r?Tb():fb()}function fb(){Ot(Fs(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(Zs),{basename:n,navigator:i}=I.useContext(qn),{matches:l}=I.useContext(da),{pathname:c}=Ra(),f=JSON.stringify(Vh(l)),m=I.useRef(!1);return dg(()=>{m.current=!0}),I.useCallback((v,_={})=>{if(ha(m.current,hg),!m.current)return;if(typeof v=="number"){i.go(v);return}let x=Ih(v,JSON.parse(f),c,_.relative==="path");r==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:ur([n,x.pathname])),(_.replace?i.replace:i.push)(x,_.state,_)},[n,i,f,c,r])}var hb=I.createContext(null);function db(r){let n=I.useContext(da).outlet;return I.useMemo(()=>n&&I.createElement(hb.Provider,{value:r},n),[n,r])}function To(r,{relative:n}={}){let{matches:i}=I.useContext(da),{pathname:l}=Ra(),c=JSON.stringify(Vh(i));return I.useMemo(()=>Ih(r,JSON.parse(c),l,n==="path"),[r,c,l,n])}function mb(r,n){return mg(r,n)}function mg(r,n,i,l,c){Ot(Fs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=I.useContext(qn),{matches:m}=I.useContext(da),y=m[m.length-1],v=y?y.params:{},_=y?y.pathname:"/",x=y?y.pathnameBase:"/",O=y&&y.route;{let ae=O&&O.path||"";yg(_,!O||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let C=Ra(),j;if(n){let ae=typeof n=="string"?Ws(n):n;Ot(x==="/"||ae.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),j=ae}else j=C;let Y=j.pathname||"/",W=Y;if(x!=="/"){let ae=x.replace(/^\//,"").split("/");W="/"+Y.replace(/^\//,"").split("/").slice(ae.length).join("/")}let F=rg(r,{pathname:W});ha(O||F!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ha(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=bb(F&&F.map(ae=>Object.assign({},ae,{params:Object.assign({},v,ae.params),pathname:ur([x,f.encodeLocation?f.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?x:ur([x,f.encodeLocation?f.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),m,i,l,c);return n&&le?I.createElement(Eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},le):le}function pb(){let r=Eb(),n=eb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:f},"ErrorBoundary")," or"," ",I.createElement("code",{style:f},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},n),i?I.createElement("pre",{style:c},i):null,m)}var yb=I.createElement(pb,null),pg=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=ub(r.digest);i&&(r=i)}let n=r!==void 0?I.createElement(da.Provider,{value:this.props.routeContext},I.createElement(Xh.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?I.createElement(gb,{error:r},n):n}};pg.contextType=ab;var bh=new WeakMap;function gb({children:r,error:n}){let{basename:i}=I.useContext(qn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=ob(n.digest);if(l){let c=bh.get(n);if(c)throw c;let f=og(l.location,i);if(lg&&!bh.get(n))if(f.isExternal||l.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:l.replace}));throw bh.set(n,m),m}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return r}function vb({routeContext:r,match:n,children:i}){let l=I.useContext(Zs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(da.Provider,{value:r},i)}function bb(r,n=[],i=null,l=null,c=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let f=r,m=i?.errors;if(m!=null){let x=f.findIndex(O=>O.route.id&&m?.[O.route.id]!==void 0);Ot(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let y=!1,v=-1;if(i)for(let x=0;x<f.length;x++){let O=f[x];if((O.route.HydrateFallback||O.route.hydrateFallbackElement)&&(v=x),O.route.id){let{loaderData:C,errors:j}=i,Y=O.route.loader&&!C.hasOwnProperty(O.route.id)&&(!j||j[O.route.id]===void 0);if(O.route.lazy||Y){y=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}let _=i&&l?(x,O)=>{l(x,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:tb(i.matches),errorInfo:O})}:void 0;return f.reduceRight((x,O,C)=>{let j,Y=!1,W=null,F=null;i&&(j=m&&O.route.id?m[O.route.id]:void 0,W=O.route.errorElement||yb,y&&(v<0&&C===0?(yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,F=null):v===C&&(Y=!0,F=O.route.hydrateFallbackElement||null)));let le=n.concat(f.slice(0,C+1)),ae=()=>{let re;return j?re=W:Y?re=F:O.route.Component?re=I.createElement(O.route.Component,null):O.route.element?re=O.route.element:re=x,I.createElement(vb,{match:O,routeContext:{outlet:x,matches:le,isDataRoute:i!=null},children:re})};return i&&(O.route.ErrorBoundary||O.route.errorElement||C===0)?I.createElement(pg,{location:i.location,revalidation:i.revalidation,component:W,error:j,children:ae(),routeContext:{outlet:null,matches:le,isDataRoute:!0},onError:_}):ae()},null)}function Qh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(r){let n=I.useContext(Zs);return Ot(n,Qh(r)),n}function wb(r){let n=I.useContext(cc);return Ot(n,Qh(r)),n}function Sb(r){let n=I.useContext(da);return Ot(n,Qh(r)),n}function Jh(r){let n=Sb(r),i=n.matches[n.matches.length-1];return Ot(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function xb(){return Jh("useRouteId")}function Eb(){let r=I.useContext(Xh),n=wb("useRouteError"),i=Jh("useRouteError");return r!==void 0?r:n.errors?.[i]}function Tb(){let{router:r}=_b("useNavigate"),n=Jh("useNavigate"),i=I.useRef(!1);return dg(()=>{i.current=!0}),I.useCallback(async(c,f={})=>{ha(i.current,hg),i.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:n,...f}))},[r,n])}var vy={};function yg(r,n,i){!n&&!vy[r]&&(vy[r]=!0,ha(!1,i))}I.memo(Ob);function Ob({routes:r,future:n,state:i,onError:l}){return mg(r,void 0,i,l,n)}function Ab({to:r,replace:n,state:i,relative:l}){Ot(Fs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=I.useContext(qn);ha(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=I.useContext(da),{pathname:m}=Ra(),y=el(),v=Ih(r,Vh(f),m,l==="path"),_=JSON.stringify(v);return I.useEffect(()=>{y(JSON.parse(_),{replace:n,state:i,relative:l})},[y,_,l,n,i]),null}function gg(r){return db(r.context)}function Zn(r){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kb({basename:r="/",children:n=null,location:i,navigationType:l="POP",navigator:c,static:f=!1,unstable_useTransitions:m}){Ot(!Fs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),v=I.useMemo(()=>({basename:y,navigator:c,static:f,unstable_useTransitions:m,future:{}}),[y,c,f,m]);typeof i=="string"&&(i=Ws(i));let{pathname:_="/",search:x="",hash:O="",state:C=null,key:j="default"}=i,Y=I.useMemo(()=>{let W=cr(_,y);return W==null?null:{location:{pathname:W,search:x,hash:O,state:C,key:j},navigationType:l}},[y,_,x,O,C,j,l]);return ha(Y!=null,`<Router basename="${y}"> is not able to match the URL "${_}${x}${O}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:I.createElement(qn.Provider,{value:v},I.createElement(Eo.Provider,{children:n,value:Y}))}function jb({children:r,location:n}){return mb(Nh(r),n)}function Nh(r,n=[]){let i=[];return I.Children.forEach(r,(l,c)=>{if(!I.isValidElement(l))return;let f=[...n,c];if(l.type===I.Fragment){i.push.apply(i,Nh(l.props.children,f));return}Ot(l.type===Zn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Nh(l.props.children,f)),i.push(m)}),i}var ec="get",tc="application/x-www-form-urlencoded";function fc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Rb(r){return fc(r)&&r.tagName.toLowerCase()==="button"}function Cb(r){return fc(r)&&r.tagName.toLowerCase()==="form"}function Nb(r){return fc(r)&&r.tagName.toLowerCase()==="input"}function Db(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Mb(r,n){return r.button===0&&(!n||n==="_self")&&!Db(r)}var Ku=null;function Ub(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _h(r){return r!=null&&!zb.has(r)?(ha(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):r}function Bb(r,n){let i,l,c,f,m;if(Cb(r)){let y=r.getAttribute("action");l=y?cr(y,n):null,i=r.getAttribute("method")||ec,c=_h(r.getAttribute("enctype"))||tc,f=new FormData(r)}else if(Rb(r)||Nb(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(l=v?cr(v,n):null,i=r.getAttribute("formmethod")||y.getAttribute("method")||ec,c=_h(r.getAttribute("formenctype"))||_h(y.getAttribute("enctype"))||tc,f=new FormData(y,r),!Ub()){let{name:_,type:x,value:O}=r;if(x==="image"){let C=_?`${_}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else _&&f.append(_,O)}}else{if(fc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ec,l=null,c=tc,m=r}return f&&c==="text/plain"&&(m=f,f=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wh(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Lb(r,n,i,l){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${l}`:c.pathname=`${c.pathname}.${l}`:c.pathname==="/"?c.pathname=`_root.${l}`:n&&cr(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${l}`,c}async function qb(r,n){if(r.id in n)return n[r.id];try{let i=await import(r.module);return n[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $b(r,n,i){let l=await Promise.all(r.map(async c=>{let f=n.routes[c.route.id];if(f){let m=await qb(f,i);return m.links?m.links():[]}return[]}));return Yb(l.flat(1).filter(Hb).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function by(r,n,i,l,c,f){let m=(v,_)=>i[_]?v.route.id!==i[_].route.id:!0,y=(v,_)=>i[_].pathname!==v.pathname||i[_].route.path?.endsWith("*")&&i[_].params["*"]!==v.params["*"];return f==="assets"?n.filter((v,_)=>m(v,_)||y(v,_)):f==="data"?n.filter((v,_)=>{let x=l.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(m(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let O=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function Pb(r,n,{includeHydrateFallback:i}={}){return Kb(r.map(l=>{let c=n.routes[l.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function Kb(r){return[...new Set(r)]}function Gb(r){let n={},i=Object.keys(r).sort();for(let l of i)n[l]=r[l];return n}function Yb(r,n){let i=new Set;return new Set(n),r.reduce((l,c)=>{let f=JSON.stringify(Gb(c));return i.has(f)||(i.add(f),l.push({key:f,link:c})),l},[])}function vg(){let r=I.useContext(Zs);return Wh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vb(){let r=I.useContext(cc);return Wh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zh=I.createContext(void 0);Zh.displayName="FrameworkContext";function bg(){let r=I.useContext(Zh);return Wh(r,"You must render this element inside a <HydratedRouter> element"),r}function Ib(r,n){let i=I.useContext(Zh),[l,c]=I.useState(!1),[f,m]=I.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:x,onTouchStart:O}=n,C=I.useRef(null);I.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let W=le=>{le.forEach(ae=>{m(ae.isIntersecting)})},F=new IntersectionObserver(W,{threshold:.5});return C.current&&F.observe(C.current),()=>{F.disconnect()}}},[r]),I.useEffect(()=>{if(l){let W=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(W)}}},[l]);let j=()=>{c(!0)},Y=()=>{c(!1),m(!1)};return i?r!=="intent"?[f,C,{}]:[f,C,{onFocus:lo(y,j),onBlur:lo(v,Y),onMouseEnter:lo(_,j),onMouseLeave:lo(x,Y),onTouchStart:lo(O,j)}]:[!1,C,{}]}function lo(r,n){return i=>{r&&r(i),i.defaultPrevented||n(i)}}function Xb({page:r,...n}){let{router:i}=vg(),l=I.useMemo(()=>rg(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?I.createElement(Jb,{page:r,matches:l,...n}):null}function Qb(r){let{manifest:n,routeModules:i}=bg(),[l,c]=I.useState([]);return I.useEffect(()=>{let f=!1;return $b(r,n,i).then(m=>{f||c(m)}),()=>{f=!0}},[r,n,i]),l}function Jb({page:r,matches:n,...i}){let l=Ra(),{future:c,manifest:f,routeModules:m}=bg(),{basename:y}=vg(),{loaderData:v,matches:_}=Vb(),x=I.useMemo(()=>by(r,n,_,f,l,"data"),[r,n,_,f,l]),O=I.useMemo(()=>by(r,n,_,f,l,"assets"),[r,n,_,f,l]),C=I.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let W=new Set,F=!1;if(n.forEach(ae=>{let re=f.routes[ae.route.id];!re||!re.hasLoader||(!x.some(_e=>_e.route.id===ae.route.id)&&ae.route.id in v&&m[ae.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:W.add(ae.route.id))}),W.size===0)return[];let le=Lb(r,y,c.unstable_trailingSlashAwareDataRequests,"data");return F&&W.size>0&&le.searchParams.set("_routes",n.filter(ae=>W.has(ae.route.id)).map(ae=>ae.route.id).join(",")),[le.pathname+le.search]},[y,c.unstable_trailingSlashAwareDataRequests,v,l,f,x,n,r,m]),j=I.useMemo(()=>Pb(O,f),[O,f]),Y=Qb(O);return I.createElement(I.Fragment,null,C.map(W=>I.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...i})),j.map(W=>I.createElement("link",{key:W,rel:"modulepreload",href:W,...i})),Y.map(({key:W,link:F})=>I.createElement("link",{key:W,nonce:i.nonce,...F,crossOrigin:F.crossOrigin??i.crossOrigin})))}function Wb(...r){return n=>{r.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.13.0")}catch{}function Fb({basename:r,children:n,unstable_useTransitions:i,window:l}){let c=I.useRef();c.current==null&&(c.current=R0({window:l,v5Compat:!0}));let f=c.current,[m,y]=I.useState({action:f.action,location:f.location}),v=I.useCallback(_=>{i===!1?y(_):I.startTransition(()=>y(_))},[i]);return I.useLayoutEffect(()=>f.listen(v),[f,v]),I.createElement(kb,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i})}var _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wg=I.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:c,reloadDocument:f,replace:m,state:y,target:v,to:_,preventScrollReset:x,viewTransition:O,unstable_defaultShouldRevalidate:C,...j},Y){let{basename:W,unstable_useTransitions:F}=I.useContext(qn),le=typeof _=="string"&&_g.test(_),ae=og(_,W);_=ae.to;let re=cb(_,{relative:c}),[_e,Ue,Ae]=Ib(l,j),pe=a_(_,{replace:m,state:y,target:v,preventScrollReset:x,relative:c,viewTransition:O,unstable_defaultShouldRevalidate:C,unstable_useTransitions:F});function et(mn){n&&n(mn),mn.defaultPrevented||pe(mn)}let lt=I.createElement("a",{...j,...Ae,href:ae.absoluteURL||re,onClick:ae.isExternal||f?n:et,ref:Wb(Y,Ue),target:v,"data-discover":!le&&i==="render"?"true":void 0});return _e&&!le?I.createElement(I.Fragment,null,lt,I.createElement(Xb,{page:re})):lt});wg.displayName="Link";var e_=I.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:c=!1,style:f,to:m,viewTransition:y,children:v,..._},x){let O=To(m,{relative:_.relative}),C=Ra(),j=I.useContext(cc),{navigator:Y,basename:W}=I.useContext(qn),F=j!=null&&o_(O)&&y===!0,le=Y.encodeLocation?Y.encodeLocation(O).pathname:O.pathname,ae=C.pathname,re=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,le=le.toLowerCase()),re&&W&&(re=cr(re,W)||re);const _e=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let Ue=ae===le||!c&&ae.startsWith(le)&&ae.charAt(_e)==="/",Ae=re!=null&&(re===le||!c&&re.startsWith(le)&&re.charAt(le.length)==="/"),pe={isActive:Ue,isPending:Ae,isTransitioning:F},et=Ue?n:void 0,lt;typeof l=="function"?lt=l(pe):lt=[l,Ue?"active":null,Ae?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let mn=typeof f=="function"?f(pe):f;return I.createElement(wg,{..._,"aria-current":et,className:lt,ref:x,style:mn,to:m,viewTransition:y},typeof v=="function"?v(pe):v)});e_.displayName="NavLink";var t_=I.forwardRef(({discover:r="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:c,state:f,method:m=ec,action:y,onSubmit:v,relative:_,preventScrollReset:x,viewTransition:O,unstable_defaultShouldRevalidate:C,...j},Y)=>{let{unstable_useTransitions:W}=I.useContext(qn),F=s_(),le=l_(y,{relative:_}),ae=m.toLowerCase()==="get"?"get":"post",re=typeof y=="string"&&_g.test(y),_e=Ue=>{if(v&&v(Ue),Ue.defaultPrevented)return;Ue.preventDefault();let Ae=Ue.nativeEvent.submitter,pe=Ae?.getAttribute("formmethod")||m,et=()=>F(Ae||Ue.currentTarget,{fetcherKey:n,method:pe,navigate:i,replace:c,state:f,relative:_,preventScrollReset:x,viewTransition:O,unstable_defaultShouldRevalidate:C});W&&i!==!1?I.startTransition(()=>et()):et()};return I.createElement("form",{ref:Y,method:ae,action:le,onSubmit:l?v:_e,...j,"data-discover":!re&&r==="render"?"true":void 0})});t_.displayName="Form";function n_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sg(r){let n=I.useContext(Zs);return Ot(n,n_(r)),n}function a_(r,{target:n,replace:i,state:l,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=el(),x=Ra(),O=To(r,{relative:f});return I.useCallback(C=>{if(Mb(C,n)){C.preventDefault();let j=i!==void 0?i:po(x)===po(O),Y=()=>_(r,{replace:j,state:l,preventScrollReset:c,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:y});v?I.startTransition(()=>Y()):Y()}},[x,_,O,i,l,n,r,c,f,m,y,v])}var r_=0,i_=()=>`__${String(++r_)}__`;function s_(){let{router:r}=Sg("useSubmit"),{basename:n}=I.useContext(qn),i=xb(),l=r.fetch,c=r.navigate;return I.useCallback(async(f,m={})=>{let{action:y,method:v,encType:_,formData:x,body:O}=Bb(f,n);if(m.navigate===!1){let C=m.fetcherKey||i_();await l(C,i,m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:x,body:O,formMethod:m.method||v,formEncType:m.encType||_,flushSync:m.flushSync})}else await c(m.action||y,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:x,body:O,formMethod:m.method||v,formEncType:m.encType||_,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[l,c,n,i])}function l_(r,{relative:n}={}){let{basename:i}=I.useContext(qn),l=I.useContext(da);Ot(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...To(r||".",{relative:n})},m=Ra();if(r==null){f.search=m.search;let y=new URLSearchParams(f.search),v=y.getAll("index");if(v.some(x=>x==="")){y.delete("index"),v.filter(O=>O).forEach(O=>y.append("index",O));let x=y.toString();f.search=x?`?${x}`:""}}return(!r||r===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:ur([i,f.pathname])),po(f)}function o_(r,{relative:n}={}){let i=I.useContext(cg);Ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Sg("useViewTransitionState"),c=To(r,{relative:n});if(!i.isTransitioning)return!1;let f=cr(i.currentLocation.pathname,l)||i.currentLocation.pathname,m=cr(i.nextLocation.pathname,l)||i.nextLocation.pathname;return ac(c.pathname,m)!=null||ac(c.pathname,f)!=null}function hc(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(i[l[c]]=r[l[c]]);return i}function u_(r,n,i,l){function c(f){return f instanceof i?f:new i(function(m){m(f)})}return new(i||(i=Promise))(function(f,m){function y(x){try{_(l.next(x))}catch(O){m(O)}}function v(x){try{_(l.throw(x))}catch(O){m(O)}}function _(x){x.done?f(x.value):c(x.value).then(y,v)}_((l=l.apply(r,n||[])).next())})}const c_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class Fh extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class f_ extends Fh{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class _y extends Fh{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class wy extends Fh{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Dh;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Dh||(Dh={}));class h_{constructor(n,{headers:i={},customFetch:l,region:c=Dh.Any}={}){this.url=n,this.headers=i,this.region=c,this.fetch=c_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return u_(this,arguments,void 0,function*(i,l={}){var c;let f,m;try{const{headers:y,method:v,body:_,signal:x,timeout:O}=l;let C={},{region:j}=l;j||(j=this.region);const Y=new URL(`${this.url}/${i}`);j&&j!=="any"&&(C["x-region"]=j,Y.searchParams.set("forceFunctionRegion",j));let W;_&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(C["Content-Type"]="application/octet-stream",W=_):typeof _=="string"?(C["Content-Type"]="text/plain",W=_):typeof FormData<"u"&&_ instanceof FormData?W=_:(C["Content-Type"]="application/json",W=JSON.stringify(_)):_&&typeof _!="string"&&!(typeof Blob<"u"&&_ instanceof Blob)&&!(_ instanceof ArrayBuffer)&&!(typeof FormData<"u"&&_ instanceof FormData)?W=JSON.stringify(_):W=_;let F=x;O&&(m=new AbortController,f=setTimeout(()=>m.abort(),O),x?(F=m.signal,x.addEventListener("abort",()=>m.abort())):F=m.signal);const le=yield this.fetch(Y.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},C),this.headers),y),body:W,signal:F}).catch(Ue=>{throw new f_(Ue)}),ae=le.headers.get("x-relay-error");if(ae&&ae==="true")throw new _y(le);if(!le.ok)throw new wy(le);let re=((c=le.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),_e;return re==="application/json"?_e=yield le.json():re==="application/octet-stream"||re==="application/pdf"?_e=yield le.blob():re==="text/event-stream"?_e=le:re==="multipart/form-data"?_e=yield le.formData():_e=yield le.text(),{data:_e,error:null,response:le}}catch(y){return{data:null,error:y,response:y instanceof wy||y instanceof _y?y.context:void 0}}finally{f&&clearTimeout(f)}})}}var d_=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},m_=class{constructor(r){var n,i,l;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(l=r.urlLengthLimit)!==null&&l!==void 0?l:8e3,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let m=null,y=null,v=null,_=f.status,x=f.statusText;if(f.ok){var O,C;if(i.method!=="HEAD"){var j;const le=await f.text();le===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((j=i.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?y=le:y=JSON.parse(le))}const W=(O=i.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),F=(C=f.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");W&&F&&F.length>1&&(v=parseInt(F[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,_=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var Y;const W=await f.text();try{m=JSON.parse(W),Array.isArray(m)&&f.status===404&&(y=[],m=null,_=200,x="OK")}catch{f.status===404&&W===""?(_=204,x="No Content"):m={message:W}}if(m&&i.isMaybeSingle&&(!(m==null||(Y=m.details)===null||Y===void 0)&&Y.includes("0 rows"))&&(m=null,_=200,x="OK"),m&&i.shouldThrowOnError)throw new d_(m)}return{error:m,data:y,count:v,status:_,statusText:x}});return this.shouldThrowOnError||(c=c.catch(f=>{var m;let y="",v="",_="";const x=f?.cause;if(x){var O,C,j,Y;const le=(O=x?.message)!==null&&O!==void 0?O:"",ae=(C=x?.code)!==null&&C!==void 0?C:"";y=`${(j=f?.name)!==null&&j!==void 0?j:"FetchError"}: ${f?.message}`,y+=`

Caused by: ${(Y=x?.name)!==null&&Y!==void 0?Y:"Error"}: ${le}`,ae&&(y+=` (${ae})`),x?.stack&&(y+=`
${x.stack}`)}else{var W;y=(W=f?.stack)!==null&&W!==void 0?W:""}const F=this.url.toString().length;return f?.name==="AbortError"||f?.code==="ABORT_ERR"?(_="",v="Request was aborted (timeout or manual cancellation)",F>this.urlLengthLimit&&(v+=`. Note: Your request URL is ${F} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(x?.name==="HeadersOverflowError"||x?.code==="UND_ERR_HEADERS_OVERFLOW")&&(_="",v="HTTP headers exceeded server limits (typically 16KB)",F>this.urlLengthLimit&&(v+=`. Your request URL is ${F} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(m=f?.name)!==null&&m!==void 0?m:"FetchError"}: ${f?.message}`,details:y,hint:v,code:_},data:null,count:null,status:0,statusText:""}})),c.then(r,n)}returns(){return this}overrideTypes(){return this}},p_=class extends m_{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(f,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var m;const y=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const Sy=new RegExp("[,()]");var Gs=class extends p_{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Sy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&Sy.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${c}fts${f}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},y_=class{constructor(r,{headers:n={},schema:i,fetch:l,urlLengthLimit:c=8e3}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:l}=n??{},c=i?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(_=>/\s/.test(_)&&!f?"":(_==='"'&&(f=!f),_)).join(""),{url:y,headers:v}=this.cloneRequestState();return y.searchParams.set("select",m),l&&v.append("Prefer",`count=${l}`),new Gs({method:c,url:y,headers:v,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const c="POST",{url:f,headers:m}=this.cloneRequestState();if(n&&m.append("Prefer",`count=${n}`),i||m.append("Prefer","missing=default"),Array.isArray(r)){const y=r.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);f.searchParams.set("columns",v.join(","))}}return new Gs({method:c,url:f,headers:m,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var f;const m="POST",{url:y,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&y.searchParams.set("on_conflict",n),l&&v.append("Prefer",`count=${l}`),c||v.append("Prefer","missing=default"),Array.isArray(r)){const _=r.reduce((x,O)=>x.concat(Object.keys(O)),[]);if(_.length>0){const x=[...new Set(_)].map(O=>`"${O}"`);y.searchParams.set("columns",x.join(","))}}return new Gs({method:m,url:y,headers:v,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(r,{count:n}={}){var i;const l="PATCH",{url:c,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new Gs({method:l,url:c,headers:f,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:r}={}){var n;const i="DELETE",{url:l,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new Gs({method:i,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}};function yo(r){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yo(r)}function g_(r,n){if(yo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(yo(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function v_(r){var n=g_(r,"string");return yo(n)=="symbol"?n:n+""}function b_(r,n,i){return(n=v_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function xy(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Gu(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?xy(Object(i),!0).forEach(function(l){b_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):xy(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}var __=class xg{constructor(n,{headers:i={},schema:l,fetch:c,timeout:f,urlLengthLimit:m=8e3}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.urlLengthLimit=m;const y=c??globalThis.fetch;f!==void 0&&f>0?this.fetch=(v,_)=>{const x=new AbortController,O=setTimeout(()=>x.abort(),f),C=_?.signal;if(C){if(C.aborted)return clearTimeout(O),y(v,_);const j=()=>{clearTimeout(O),x.abort()};return C.addEventListener("abort",j,{once:!0}),y(v,Gu(Gu({},_),{},{signal:x.signal})).finally(()=>{clearTimeout(O),C.removeEventListener("abort",j)})}return y(v,Gu(Gu({},_),{},{signal:x.signal})).finally(()=>clearTimeout(O))}:this.fetch=y}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new y_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(n){return new xg(this.url,{headers:this.headers,schema:n,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(n,i={},{head:l=!1,get:c=!1,count:f}={}){var m;let y;const v=new URL(`${this.url}/rpc/${n}`);let _;const x=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(x)),O=l&&Object.values(i).some(x);O?(y="POST",_=i):l||c?(y=l?"HEAD":"GET",Object.entries(i).filter(([j,Y])=>Y!==void 0).map(([j,Y])=>[j,Array.isArray(Y)?`{${Y.join(",")}}`:`${Y}`]).forEach(([j,Y])=>{v.searchParams.append(j,Y)})):(y="POST",_=i);const C=new Headers(this.headers);return O?C.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&C.set("Prefer",`count=${f}`),new Gs({method:y,url:v,headers:C,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch,urlLengthLimit:this.urlLengthLimit})}};class w_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const c=l.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const S_="2.95.3",x_=`realtime-js/${S_}`,E_="1.0.0",Eg="2.0.0",Ey=Eg,Mh=1e4,T_=1e3,O_=100;var Zr;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Zr||(Zr={}));var Yt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Yt||(Yt={}));var ca;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ca||(ca={}));var Uh;(function(r){r.websocket="websocket"})(Uh||(Uh={}));var Hi;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Hi||(Hi={}));class A_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var i,l;const c=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},m=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,i,l){var c,f;const m=n.topic,y=(c=n.ref)!==null&&c!==void 0?c:"",v=(f=n.join_ref)!==null&&f!==void 0?f:"",_=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},O=Object.keys(x).length===0?"":JSON.stringify(x);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(O.length>255)throw new Error(`metadata length ${O.length} exceeds maximum of 255`);const C=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+y.length+m.length+_.length+O.length,j=new ArrayBuffer(this.HEADER_LENGTH+C);let Y=new DataView(j),W=0;Y.setUint8(W++,this.KINDS.userBroadcastPush),Y.setUint8(W++,v.length),Y.setUint8(W++,y.length),Y.setUint8(W++,m.length),Y.setUint8(W++,_.length),Y.setUint8(W++,O.length),Y.setUint8(W++,i),Array.from(v,le=>Y.setUint8(W++,le.charCodeAt(0))),Array.from(y,le=>Y.setUint8(W++,le.charCodeAt(0))),Array.from(m,le=>Y.setUint8(W++,le.charCodeAt(0))),Array.from(_,le=>Y.setUint8(W++,le.charCodeAt(0))),Array.from(O,le=>Y.setUint8(W++,le.charCodeAt(0)));var F=new Uint8Array(j.byteLength+l.byteLength);return F.set(new Uint8Array(j),0),F.set(new Uint8Array(l),j.byteLength),F.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,f,m,y,v]=l;return i({join_ref:c,ref:f,topic:m,event:y,payload:v})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,c)}_decodeUserBroadcast(n,i,l){const c=i.getUint8(1),f=i.getUint8(2),m=i.getUint8(3),y=i.getUint8(4);let v=this.HEADER_LENGTH+4;const _=l.decode(n.slice(v,v+c));v=v+c;const x=l.decode(n.slice(v,v+f));v=v+f;const O=l.decode(n.slice(v,v+m));v=v+m;const C=n.slice(v,n.byteLength),j=y===this.JSON_ENCODING?JSON.parse(l.decode(C)):C,Y={type:this.BROADCAST_EVENT,event:x,payload:j};return m>0&&(Y.meta=JSON.parse(O)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:Y}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}let Tg=class{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var bt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(bt||(bt={}));const Ty=(r,n,i={})=>{var l;const c=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((f,m)=>(f[m]=k_(m,r,n,c),f),{}):{}},k_=(r,n,i,l)=>{const c=n.find(y=>y.name===r),f=c?.type,m=i[r];return f&&!l.includes(f)?Og(f,m):zh(m)},Og=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return N_(n,i)}switch(r){case bt.bool:return j_(n);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return R_(n);case bt.json:case bt.jsonb:return C_(n);case bt.timestamp:return D_(n);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return zh(n);default:return zh(n)}},zh=r=>r,j_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},R_=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},C_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},N_=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let f;const m=r.slice(1,i);try{f=JSON.parse("["+m+"]")}catch{f=m?m.split(","):[]}return f.map(y=>Og(n,y))}return r},D_=r=>typeof r=="string"?r.replace(" ","T"):r,Ag=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class wh{constructor(n,i,l={},c=Mh){this.channel=n,this.event=i,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Oy;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Oy||(Oy={}));class ho{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ho.syncState(this.state,c,f,m),this.pendingDiffs.forEach(v=>{this.state=ho.syncDiff(this.state,v,f,m)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},c=>{const{onJoin:f,onLeave:m,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ho.syncDiff(this.state,c,f,m),y())}),this.onJoin((c,f,m)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:m})}),this.onLeave((c,f,m)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,c){const f=this.cloneDeep(n),m=this.transformState(i),y={},v={};return this.map(f,(_,x)=>{m[_]||(v[_]=x)}),this.map(m,(_,x)=>{const O=f[_];if(O){const C=x.map(F=>F.presence_ref),j=O.map(F=>F.presence_ref),Y=x.filter(F=>j.indexOf(F.presence_ref)<0),W=O.filter(F=>C.indexOf(F.presence_ref)<0);Y.length>0&&(y[_]=Y),W.length>0&&(v[_]=W)}else y[_]=x}),this.syncDiff(f,{joins:y,leaves:v},l,c)}static syncDiff(n,i,l,c){const{joins:f,leaves:m}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(f,(y,v)=>{var _;const x=(_=n[y])!==null&&_!==void 0?_:[];if(n[y]=this.cloneDeep(v),x.length>0){const O=n[y].map(j=>j.presence_ref),C=x.filter(j=>O.indexOf(j.presence_ref)<0);n[y].unshift(...C)}l(y,x,v)}),this.map(m,(y,v)=>{let _=n[y];if(!_)return;const x=v.map(O=>O.presence_ref);_=_.filter(O=>x.indexOf(O.presence_ref)<0),n[y]=_,c(y,_,v),_.length===0&&delete n[y]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const c=n[l];return"metas"in c?i[l]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):i[l]=c,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ay;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Ay||(Ay={}));var mo;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(mo||(mo={}));var or;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class Is{constructor(n,i={config:{}},l){var c,f;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new wh(this,ca.join,this.params,this.timeout),this.rejoinTimer=new Tg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(m,y)=>{this._trigger(this._replyEventName(y),m)}),this.presence=new ho(this),this.broadcastEndpointURL=Ag(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:m,presence:y,private:v}}=this.params,_=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[mo.PRESENCE]&&this.bindings[mo.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,O={},C={broadcast:m,presence:Object.assign(Object.assign({},y),{enabled:x}),postgres_changes:_,private:v};this.socket.accessTokenValue&&(O.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(or.CHANNEL_ERROR,j)),this._onClose(()=>n?.(or.CLOSED)),this.updateJoinPayload(Object.assign({config:C},O)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:j})=>{var Y;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){n?.(or.SUBSCRIBED);return}else{const W=this.bindings.postgres_changes,F=(Y=W?.length)!==null&&Y!==void 0?Y:0,le=[];for(let ae=0;ae<F;ae++){const re=W[ae],{filter:{event:_e,schema:Ue,table:Ae,filter:pe}}=re,et=j&&j[ae];if(et&&et.event===_e&&Is.isFilterValueEqual(et.schema,Ue)&&Is.isFilterValueEqual(et.table,Ae)&&Is.isFilterValueEqual(et.filter,pe))le.push(Object.assign(Object.assign({},re),{id:et.id}));else{this.unsubscribe(),this.state=Yt.errored,n?.(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=le,n&&n(or.SUBSCRIBED);return}}).receive("error",j=>{this.state=Yt.errored,n?.(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===Yt.joined&&n===mo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var c;if(i==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(y.status===202)return{success:!0};let v=y.statusText;try{const _=await y.json();v=_.error||_.message||v}catch{}return Promise.reject(new Error(v))}async send(n,i={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:m}=n,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:m,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var m,y,v;const _=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(y=(m=this.params)===null||m===void 0?void 0:m.config)===null||y===void 0?void 0:y.broadcast)===null||v===void 0)&&v.ack)&&f("ok"),_.receive("ok",()=>f("ok")),_.receive("error",()=>f("error")),_.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Yt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new wh(this,ca.leave,{},n),l.receive("ok",()=>{i(),c("ok")}).receive("timeout",()=>{i(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const c=new AbortController,f=setTimeout(()=>c.abort(),l),m=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:c.signal}));return clearTimeout(f),m}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new wh(this,n,i,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>O_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var c,f;const m=n.toLocaleLowerCase(),{close:y,error:v,leave:_,join:x}=ca;if(l&&[y,v,_,x].indexOf(m)>=0&&l!==this._joinRef())return;let C=this._onMessage(m,i,l);if(i&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var Y,W,F;return((Y=j.filter)===null||Y===void 0?void 0:Y.event)==="*"||((F=(W=j.filter)===null||W===void 0?void 0:W.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===m}).map(j=>j.callback(C,l)):(f=this.bindings[m])===null||f===void 0||f.filter(j=>{var Y,W,F,le,ae,re;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in j){const _e=j.id,Ue=(Y=j.filter)===null||Y===void 0?void 0:Y.event;return _e&&((W=i.ids)===null||W===void 0?void 0:W.includes(_e))&&(Ue==="*"||Ue?.toLocaleLowerCase()===((F=i.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const _e=(ae=(le=j?.filter)===null||le===void 0?void 0:le.event)===null||ae===void 0?void 0:ae.toLocaleLowerCase();return _e==="*"||_e===((re=i?.event)===null||re===void 0?void 0:re.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===m}).map(j=>{if(typeof C=="object"&&"ids"in C){const Y=C.data,{schema:W,table:F,commit_timestamp:le,type:ae,errors:re}=Y;C=Object.assign(Object.assign({},{schema:W,table:F,commit_timestamp:le,eventType:ae,new:{},old:{},errors:re}),this._getPayloadRecords(Y))}j.callback(C,l)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const c=n.toLocaleLowerCase(),f={type:c,filter:i,callback:l};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&Is.isEqual(c.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ca.close,{},n)}_onError(n){this._on(ca.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Ty(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Ty(n.columns,n.old_record)),i}}const Sh=()=>{},Yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M_=[1e3,2e3,5e3,1e4],U_=1e4,z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B_{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mh,this.transport=null,this.heartbeatIntervalMs=Yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sh,this.ref=0,this.reconnectTimer=null,this.vsn=Ey,this.logger=Sh,this.conn=null,this.sendBuffer=[],this.serializer=new A_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Uh.websocket}`,this.httpEndpoint=Ag(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return i==="ok"&&this._remove(n),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Hi.Connecting;case Zr.open:return Hi.Open;case Zr.closing:return Hi.Closing;default:return Hi.Closed}}isConnected(){return this.connectionState()===Hi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(f=>f.topic===l);if(c)return c;{const f=new Is(`realtime:${n}`,i,this);return this.channels.push(f),f}}push(n){const{topic:i,event:l,payload:c,ref:f}=n,m=()=>{this.encode(n,y=>{var v;(v=this.conn)===null||v===void 0||v.send(y)})};this.log("push",`${i} ${l} (${f})`,c),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(T_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const _=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",_)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:f,ref:m}=i,y=m?`(${m})`:"",v=f.status||"";this.log("receive",`${v} ${l} ${c} ${y}`.trim(),f),this.channels.filter(_=>_._isMember(l)).forEach(_=>_._trigger(c,f,m)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zr.open||this.conn.readyState===Zr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(ca.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(i);return`${n}${l}${c}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([z_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(c=>{const f={access_token:i,version:x_};i&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(ca.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Tg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,c,f,m,y,v,_,x,O,C,j;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Mh,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:Yu.HEARTBEAT_INTERVAL,this.worker=(f=n?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(y=n?.heartbeatCallback)!==null&&y!==void 0?y:Sh,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:Ey,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=n?.reconnectAfterMs)!==null&&_!==void 0?_:(Y=>M_[Y-1]||U_),this.vsn){case E_:this.encode=(x=n?.encode)!==null&&x!==void 0?x:((Y,W)=>W(JSON.stringify(Y))),this.decode=(O=n?.decode)!==null&&O!==void 0?O:((Y,W)=>W(JSON.parse(Y)));break;case Eg:this.encode=(C=n?.encode)!==null&&C!==void 0?C:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var go=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function L_(r,n,i){const l=new URL(n,r);if(i)for(const[c,f]of Object.entries(i))f!==void 0&&l.searchParams.set(c,f);return l.toString()}async function q_(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function H_(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:c,body:f,headers:m}){const y=L_(r.baseUrl,l,c),v=await q_(r.auth),_=await n(y,{method:i,headers:{...f?{"Content-Type":"application/json"}:{},...v,...m},body:f?JSON.stringify(f):void 0}),x=await _.text(),O=(_.headers.get("content-type")||"").includes("application/json"),C=O&&x?JSON.parse(x):x;if(!_.ok){const j=O?C:void 0,Y=j?.error;throw new go(Y?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:Y?.type,icebergCode:Y?.code,details:j})}return{status:_.status,headers:_.headers,data:C}}}}function Vu(r){return r.join("")}var $_=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Vu(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vu(r.namespace)}`}),!0}catch(n){if(n instanceof go&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof go&&i.status===409)return;throw i}}};function Bs(r){return r.join("")}var P_=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bs(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof go&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof go&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},K_=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=H_({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new $_(this.client,n),this.tableOps=new P_(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},dc=class extends Error{constructor(r,n="storage",i,l){super(r),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=l}};function mc(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Iu=class extends dc{constructor(r,n,i,l="storage"){super(r,l,n,i),this.name=l==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kg=class extends dc{constructor(r,n,i="storage"){super(r,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const G_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Y_=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Bh=r=>{if(Array.isArray(r))return r.map(i=>Bh(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const c=i.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[c]=Bh(l)}),n},V_=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function vo(r){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vo(r)}function I_(r,n){if(vo(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(vo(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function X_(r){var n=I_(r,"string");return vo(n)=="symbol"?n:n+""}function Q_(r,n,i){return(n=X_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function ky(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Me(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?ky(Object(i),!0).forEach(function(l){Q_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ky(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const jy=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},J_=async(r,n,i,l)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const c=r,f=c.status||500;if(typeof c.json=="function")c.json().then(m=>{const y=m?.statusCode||m?.code||f+"";n(new Iu(jy(m),f,y,l))}).catch(()=>{if(l==="vectors"){const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}else{const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}});else{const m=f+"";n(new Iu(c.statusText||`HTTP ${f} error`,f,m,l))}}else n(new kg(jy(r),r,l))},W_=(r,n,i,l)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"||r==="HEAD"||!l?Me(Me({},c),i):(Y_(l)?(c.headers=Me({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),Me(Me({},c),i))};async function oo(r,n,i,l,c,f,m){return new Promise((y,v)=>{r(i,W_(n,l,c,f)).then(_=>{if(!_.ok)throw _;if(l?.noResolveJson)return _;if(m==="vectors"){const x=_.headers.get("content-type");if(_.headers.get("content-length")==="0"||_.status===204)return{};if(!x||!x.includes("application/json"))return{}}return _.json()}).then(_=>y(_)).catch(_=>J_(_,v,l,m))})}function jg(r="storage"){return{get:async(n,i,l,c)=>oo(n,"GET",i,l,c,void 0,r),post:async(n,i,l,c,f)=>oo(n,"POST",i,c,f,l,r),put:async(n,i,l,c,f)=>oo(n,"PUT",i,c,f,l,r),head:async(n,i,l,c)=>oo(n,"HEAD",i,Me(Me({},l),{},{noResolveJson:!0}),c,void 0,r),remove:async(n,i,l,c,f)=>oo(n,"DELETE",i,c,f,l,r)}}const Z_=jg("storage"),{get:bo,post:ua,put:Lh,head:F_,remove:ed}=Z_,Ln=jg("vectors");var tl=class{constructor(r,n={},i,l="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.fetch=G_(i),this.namespace=l}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var n=this;try{return{data:await r(),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(mc(i))return{data:null,error:i};throw i}}},ew=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mc(n))return{data:null,error:n};throw n}}};let Rg;Rg=Symbol.toStringTag;var tw=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Rg]="BlobDownloadBuilder",this.promise=null}asStream(){return new ew(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mc(n))return{data:null,error:n};throw n}}};const nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aw=class extends tl{constructor(r,n={},i,l){super(r,n,l,"storage"),this.bucketId=i}async uploadOrUpdate(r,n,i,l){var c=this;return c.handleOperation(async()=>{let f;const m=Me(Me({},Ry),l);let y=Me(Me({},c.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const v=m.metadata;typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),v&&f.append("metadata",c.encodeMetadata(v)),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.has("cacheControl")||f.append("cacheControl",m.cacheControl),v&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(v))):(f=i,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType,v&&(y["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!m.duplex&&(m.duplex="half")),l?.headers&&(y=Me(Me({},y),l.headers));const _=c._removeEmptyFolders(n),x=c._getFinalPath(_),O=await(r=="PUT"?Lh:ua)(c.fetch,`${c.url}/object/${x}`,f,Me({headers:y},m?.duplex?{duplex:m.duplex}:{}));return{path:_,id:O.Id,fullPath:O.Key}})}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var c=this;const f=c._removeEmptyFolders(r),m=c._getFinalPath(f),y=new URL(c.url+`/object/upload/sign/${m}`);return y.searchParams.set("token",n),c.handleOperation(async()=>{let v;const _=Me({upsert:Ry.upsert},l),x=Me(Me({},c.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",_.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",_.cacheControl)):(v=i,x["cache-control"]=`max-age=${_.cacheControl}`,x["content-type"]=_.contentType),{path:f,fullPath:(await Lh(c.fetch,y.toString(),v,{headers:x})).Key}})}async createSignedUploadUrl(r,n){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(r);const c=Me({},i.headers);n?.upsert&&(c["x-upsert"]="true");const f=await ua(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:c}),m=new URL(i.url+f.url),y=m.searchParams.get("token");if(!y)throw new dc("No token returned by API");return{signedUrl:m.toString(),path:r,token:y}})}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;return l.handleOperation(async()=>await ua(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}))}async copy(r,n,i){var l=this;return l.handleOperation(async()=>({path:(await ua(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key}))}async createSignedUrl(r,n,i){var l=this;return l.handleOperation(async()=>{let c=l._getFinalPath(r),f=await ua(l.fetch,`${l.url}/object/sign/${c}`,Me({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const m=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${l.url}${f.signedURL}${m}`)}})}async createSignedUrls(r,n,i){var l=this;return l.handleOperation(async()=>{const c=await ua(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c.map(m=>Me(Me({},m),{},{signedUrl:m.signedURL?encodeURI(`${l.url}${m.signedURL}${f}`):null}))})}download(r,n,i){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(n?.transform||{}),f=c?`?${c}`:"",m=this._getFinalPath(r),y=()=>bo(this.fetch,`${this.url}/${l}/${m}${f}`,{headers:this.headers,noResolveJson:!0},i);return new tw(y,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);return n.handleOperation(async()=>Bh(await bo(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})))}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await F_(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(mc(l)&&l instanceof kg){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const f=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${y}`)}}}async remove(r){var n=this;return n.handleOperation(async()=>await ed(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}))}async list(r,n,i){var l=this;return l.handleOperation(async()=>{const c=Me(Me(Me({},nw),n),{},{prefix:r||""});return await ua(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},i)})}async listV2(r,n){var i=this;return i.handleOperation(async()=>{const l=Me({},r);return await ua(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const rw="2.95.3",Oo={"X-Client-Info":`storage-js/${rw}`};var iw=class extends tl{constructor(r,n={},i,l){const c=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),m=Me(Me({},Oo),n);super(f,m,i,"storage")}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=n.listBucketOptionsToQueryString(r);return await bo(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers})})}async getBucket(r){var n=this;return n.handleOperation(async()=>await bo(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}))}async createBucket(r,n={public:!1}){var i=this;return i.handleOperation(async()=>await ua(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async updateBucket(r,n){var i=this;return i.handleOperation(async()=>await Lh(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(r){var n=this;return n.handleOperation(async()=>await ua(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await ed(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},sw=class extends tl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),n);super(l,c,i,"storage")}async createBucket(r){var n=this;return n.handleOperation(async()=>await ua(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}))}async listBuckets(r){var n=this;return n.handleOperation(async()=>{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return await bo(n.fetch,c,{headers:n.headers})})}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await ed(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}))}from(r){var n=this;if(!V_(r))throw new dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new K_({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(c,f){const m=c[f];return typeof m!="function"?m:async(...y)=>{try{return{data:await m.apply(c,y),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}}}})}},lw=class extends tl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async createIndex(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{})}async getIndex(r,n){var i=this;return i.handleOperation(async()=>await Ln.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}))}async listIndexes(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}))}async deleteIndex(r,n){var i=this;return i.handleOperation(async()=>await Ln.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{})}},ow=class extends tl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async putVectors(r){var n=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{})}async getVectors(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}))}async listVectors(r){var n=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}))}async queryVectors(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}))}async deleteVectors(r){var n=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{})}},uw=class extends tl{constructor(r,n={},i){const l=r.replace(/\/$/,""),c=Me(Me({},Oo),{},{"Content-Type":"application/json"},n);super(l,c,i,"vectors")}async createBucket(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}async getBucket(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}))}async listBuckets(r={}){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}))}async deleteBucket(r){var n=this;return n.handleOperation(async()=>await Ln.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{})}},cw=class extends uw{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new fw(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},fw=class extends lw{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new hw(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},hw=class extends ow{constructor(r,n,i,l,c){super(r,n,c),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,Me(Me({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},dw=class extends iw{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new aw(this.url,this.headers,r,this.fetch)}get vectors(){return new cw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sw(this.url+"/iceberg",this.headers,this.fetch)}};const Cg="2.95.3",Ys=30*1e3,qh=3,xh=qh*Ys,mw="http://localhost:9999",pw="supabase.auth.token",yw={"X-Client-Info":`gotrue-js/${Cg}`},Hh="X-Supabase-Api-Version",Ng={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vw=600*1e3;class _o extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ke(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class bw extends _o{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function _w(r){return ke(r)&&r.name==="AuthApiError"}class $i extends _o{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class hr extends _o{constructor(n,i,l,c){super(n,l,c),this.name=i,this.status=l}}class Bn extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eh(r){return ke(r)&&r.name==="AuthSessionMissingError"}class Ls extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xu extends hr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends hr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ww(r){return ke(r)&&r.name==="AuthImplicitGrantRedirectError"}class Cy extends hr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sw extends hr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $h extends hr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Th(r){return ke(r)&&r.name==="AuthRetryableFetchError"}class Ny extends hr{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Ph extends hr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dy=` 	
\r=`.split(""),xw=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Dy.length;n+=1)r[Dy[n].charCodeAt(0)]=-2;for(let n=0;n<rc.length;n+=1)r[rc[n].charCodeAt(0)]=n;return r})();function My(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(rc[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(rc[l]),n.queuedBits-=6}}function Dg(r,n,i){const l=xw[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Uy(r){const n=[],i=m=>{n.push(String.fromCodePoint(m))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=m=>{Ow(m,l,i)};for(let m=0;m<r.length;m+=1)Dg(r.charCodeAt(m),c,f);return n.join("")}function Ew(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Tw(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|c)+65536,i+=1}Ew(l,n)}}function Ow(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Qs(r){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<r.length;c+=1)Dg(r.charCodeAt(c),i,l);return new Uint8Array(n)}function Aw(r){const n=[];return Tw(r,i=>n.push(i)),new Uint8Array(n)}function Pi(r){const n=[],i={queue:0,queuedBits:0},l=c=>{n.push(c)};return r.forEach(c=>My(c,i,l)),My(null,i,l),n.join("")}function kw(r){return Math.round(Date.now()/1e3)+r}function jw(){return Symbol("auth-callback")}const rn=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},Mg=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function Rw(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((c,f)=>{n[f]=c})}catch{}return i.searchParams.forEach((l,c)=>{n[c]=l}),n}const Ug=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Cw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Vs=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Bi=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},an=async(r,n)=>{await r.removeItem(n)};class pc{constructor(){this.promise=new pc.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}pc.promiseConstructor=Promise;function Ju(r){const n=r.split(".");if(n.length!==3)throw new Ph("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!gw.test(n[l]))throw new Ph("JWT not in base64url format");return{header:JSON.parse(Uy(n[0])),payload:JSON.parse(Uy(n[1])),signature:Qs(n[2]),raw:{header:n[0],payload:n[1]}}}async function Nw(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function Dw(r,n){return new Promise((l,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const m=await r(f);if(!n(f,null,m)){l(m);return}}catch(m){if(!n(f,m)){c(m);return}}})()})}function Mw(r){return("0"+r.toString(16)).substr(-2)}function Uw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let c="";for(let f=0;f<56;f++)c+=i.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,Mw).join("")}async function zw(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),c=new Uint8Array(l);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function Bw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await zw(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(r,n,i=!1){const l=Uw();let c=l;i&&(c+="/PASSWORD_RECOVERY"),await Vs(r,`${n}-code-verifier`,c);const f=await Bw(l);return[f,l===f?"plain":"s256"]}const Lw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qw(r){const n=r.headers.get(Hh);if(!n||!n.match(Lw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Hw(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function $w(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hs(r){if(!Pw.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oh(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kw(r,n){return new Proxy(r,{get:(i,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,c)}})}function zy(r){return JSON.parse(JSON.stringify(r))}const Li=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Gw=[502,503,504];async function By(r){var n;if(!Cw(r))throw new $h(Li(r),0);if(Gw.includes(r.status))throw new $h(Li(r),r.status);let i;try{i=await r.json()}catch(f){throw new $i(Li(f),f)}let l;const c=qw(r);if(c&&c.getTime()>=Ng["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Ny(Li(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Bn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((f,m)=>f&&typeof m=="string",!0))throw new Ny(Li(i),r.status,i.weak_password.reasons);throw new bw(Li(i),r.status||500,l)}const Yw=(r,n,i,l)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),i))};async function De(r,n,i,l){var c;const f=Object.assign({},l?.headers);f[Hh]||(f[Hh]=Ng["2024-01-01"].name),l?.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const m=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(m.redirect_to=l.redirectTo);const y=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",v=await Vw(r,n,i+y,{headers:f,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function Vw(r,n,i,l,c,f){const m=Yw(n,l,c,f);let y;try{y=await r(i,Object.assign({},m))}catch(v){throw console.error(v),new $h(Li(v),0)}if(y.ok||await By(y),l?.noResolveJson)return y;try{return await y.json()}catch(v){await By(v)}}function oa(r){var n;let i=null;Qw(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=kw(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function Ly(r){const n=oa(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Fr(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function Iw(r){return{data:r,error:null}}function Xw(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f}=r,m=hc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:n,email_otp:i,hashed_token:l,redirect_to:c,verification_type:f},v=Object.assign({},m);return{data:{properties:y,user:v},error:null}}function qy(r){return r}function Qw(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ah=["global","local","others"];class Jw{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Ug(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Ah[0]){if(Ah.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ah.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ke(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Fr})}catch(l){if(ke(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=hc(n,["options"]),c=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Xw,redirectTo:i?.redirectTo})}catch(i){if(ke(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Fr})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,c,f,m,y,v;try{const _={nextPage:null,lastPage:0,total:0},x=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:qy});if(x.error)throw x.error;const O=await x.json(),C=(m=x.headers.get("x-total-count"))!==null&&m!==void 0?m:0,j=(v=(y=x.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return j.length>0&&(j.forEach(Y=>{const W=parseInt(Y.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(Y.split(";")[1].split("=")[1]);_[`${F}Page`]=W}),_.total=parseInt(C)),{data:Object.assign(Object.assign({},O),_),error:null}}catch(_){if(ke(_))return{data:{users:[]},error:_};throw _}}async getUserById(n){Hs(n);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Fr})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Hs(n);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Fr})}catch(l){if(ke(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Hs(n);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Fr})}catch(l){if(ke(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Hs(n.userId);try{const{data:i,error:l}=await De(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:i,error:l}}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Hs(n.userId),Hs(n.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,c,f,m,y,v;try{const _={nextPage:null,lastPage:0,total:0},x=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:qy});if(x.error)throw x.error;const O=await x.json(),C=(m=x.headers.get("x-total-count"))!==null&&m!==void 0?m:0,j=(v=(y=x.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return j.length>0&&(j.forEach(Y=>{const W=parseInt(Y.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(Y.split(";")[1].split("=")[1]);_[`${F}Page`]=W}),_.total=parseInt(C)),{data:Object.assign(Object.assign({},O),_),error:null}}catch(_){if(ke(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ke(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ke(i))return{data:null,error:i};throw i}}}function Hy(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const $s={debug:!!(globalThis&&Mg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ww extends zg{}async function Zw(r,n,i){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await i()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(n===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ww(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if($s.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Fw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bg(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function e1(r){return parseInt(r,16)}function t1(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function n1(r){var n;const{chainId:i,domain:l,expirationTime:c,issuedAt:f=new Date,nonce:m,notBefore:y,requestId:v,resources:_,scheme:x,uri:O,version:C}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!O)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(C!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${C}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const j=Bg(r.address),Y=x?`${x}://${l}`:l,W=r.statement?`${r.statement}
`:"",F=`${Y} wants you to sign in with your Ethereum account:
${j}

${W}`;let le=`URI: ${O}
Version: ${C}
Chain ID: ${i}${m?`
Nonce: ${m}`:""}
Issued At: ${f.toISOString()}`;if(c&&(le+=`
Expiration Time: ${c.toISOString()}`),y&&(le+=`
Not Before: ${y.toISOString()}`),v&&(le+=`
Request ID: ${v}`),_){let ae=`
Resources:`;for(const re of _){if(!re||typeof re!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${re}`);ae+=`
- ${re}`}le+=ae}return`${F}
${le}`}class Pt extends Error{constructor({message:n,code:i,cause:l,name:c}){var f;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=c??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=i}}class ic extends Pt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function a1({error:r,options:n}){var i,l,c;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=f.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new Pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return f.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const m=window.location.hostname;if(Lg(m)){if(f.rp.id!==m)return new Pt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function r1({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Lg(l)){if(i.rpId!==l)return new Pt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class i1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const s1=new i1;function l1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,c=hc(r,["challenge","user","excludeCredentials"]),f=Qs(n).buffer,m=Object.assign(Object.assign({},i),{id:Qs(i.id).buffer}),y=Object.assign(Object.assign({},c),{challenge:f,user:m});if(l&&l.length>0){y.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const _=l[v];y.excludeCredentials[v]=Object.assign(Object.assign({},_),{id:Qs(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return y}function o1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=hc(r,["challenge","allowCredentials"]),c=Qs(n).buffer,f=Object.assign(Object.assign({},l),{challenge:c});if(i&&i.length>0){f.allowCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const y=i[m];f.allowCredentials[m]=Object.assign(Object.assign({},y),{id:Qs(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function u1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Pi(new Uint8Array(r.response.attestationObject)),clientDataJSON:Pi(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function c1(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Pi(new Uint8Array(c.authenticatorData)),clientDataJSON:Pi(new Uint8Array(c.clientDataJSON)),signature:Pi(new Uint8Array(c.signature)),userHandle:c.userHandle?Pi(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Lg(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $y(){var r,n;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function f1(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",n)}:{data:null,error:new ic("Empty credential response",n)}}catch(n){return{data:null,error:a1({error:n,options:r})}}}async function h1(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ic("Browser returned unexpected credential type",n)}:{data:null,error:new ic("Empty credential response",n)}}catch(n){return{data:null,error:r1({error:n,options:r})}}}const d1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},m1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sc(...r){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),i=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of r)if(c)for(const f in c){const m=c[f];if(m!==void 0)if(Array.isArray(m))l[f]=m;else if(i(m))l[f]=m;else if(n(m)){const y=l[f];n(y)?l[f]=sc(y,m):l[f]=sc(m)}else l[f]=m}return l}function p1(r,n){return sc(d1,r,n||{})}function y1(r,n){return sc(m1,r,n||{})}class g1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:c},f){var m;try{const{data:y,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!y)return{data:null,error:v};const _=c??s1.createNewAbortSignal();if(y.webauthn.type==="create"){const{user:x}=y.webauthn.credential_options.publicKey;if(!x.name){const O=l;if(O)x.name=`${x.id}:${O}`;else{const j=(await this.client.getUser()).data.user,Y=((m=j?.user_metadata)===null||m===void 0?void 0:m.name)||j?.email||j?.id||"User";x.name=`${x.id}:${Y}`}}x.displayName||(x.displayName=x.name)}switch(y.webauthn.type){case"create":{const x=p1(y.webauthn.credential_options.publicKey,f?.create),{data:O,error:C}=await f1({publicKey:x,signal:_});return O?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:O}},error:null}:{data:null,error:C}}case"request":{const x=y1(y.webauthn.credential_options.publicKey,f?.request),{data:O,error:C}=await h1(Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:x,signal:_}));return O?{data:{factorId:n,challengeId:y.id,webauthn:{type:y.webauthn.type,credential_response:O}},error:null}:{data:null,error:C}}}}catch(y){return ke(y)?{data:null,error:y}:{data:null,error:new $i("Unexpected error in challenge",y)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new _o("rpId is required for WebAuthn authentication")};try{if(!$y())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:c},{request:f});if(!m)return{data:null,error:y};const{webauthn:v}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:l,credential_response:v.credential_response}})}catch(m){return ke(m)?{data:null,error:m}:{data:null,error:new $i("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!i)return{data:null,error:new _o("rpId is required for WebAuthn registration")};try{if(!$y())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:m,error:y}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(x=>{var O;return(O=x.data)===null||O===void 0?void 0:O.all.find(C=>C.factor_type==="webauthn"&&C.friendly_name===n&&C.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:y};const{data:v,error:_}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:c},{create:f});return v?this._verify({factorId:m.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:_}}catch(m){return ke(m)?{data:null,error:m}:{data:null,error:new $i("Unexpected error in register",m)}}}}Fw();const v1={url:mw,storageKey:pw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Py(r,n,i){return await i()}const Ps={};class wo{get jwks(){var n,i;return(i=(n=Ps[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Ps[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ps[this.storageKey]=Object.assign(Object.assign({},Ps[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},v1),n);if(this.storageKey=f.storageKey,this.instanceID=(i=wo.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,wo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&rn()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new Jw({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Ug(f.fetch),this.lock=f.lock||Py,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&rn()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Zw:this.lock=Py,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new g1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Mg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Hy(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m);try{await this._notifyAllSubscribers(m.data.event,m.data.session,!1)}catch(y){this._debug("#broadcastChannel","error",y)}})}this.initialize().catch(m=>{this._debug("#initialize()","error",m)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Cg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(rn()&&(i=Rw(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),rn()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:f}=await this._getSessionFromURL(i,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),ww(f)){const v=(n=f.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:m,redirectType:y}=c;return this._debug("#_initialize()","detected session in URL",m,"redirect type",y),await this._saveSession(m),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ke(i)?this._returnResult({error:i}):this._returnResult({error:new $i("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,c;try{const f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:oa}),{data:m,error:y}=f;if(y||!m)return this._returnResult({data:{user:null,session:null},error:y});const v=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(ke(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var i,l,c;try{let f;if("email"in n){const{email:x,password:O,options:C}=n;let j=null,Y=null;this.flowType==="pkce"&&([j,Y]=await qs(this.storage,this.storageKey)),f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C?.emailRedirectTo,body:{email:x,password:O,data:(i=C?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:C?.captchaToken},code_challenge:j,code_challenge_method:Y},xform:oa})}else if("phone"in n){const{phone:x,password:O,options:C}=n;f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:O,data:(l=C?.data)!==null&&l!==void 0?l:{},channel:(c=C?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:C?.captchaToken}},xform:oa})}else throw new Xu("You must provide either an email or phone number and a password");const{data:m,error:y}=f;if(y||!m)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const v=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let i;if("email"in n){const{email:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ly})}else if("phone"in n){const{phone:f,password:m,options:y}=n;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:m,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ly})}else throw new Xu("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new Ls;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,c,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,c,f,m,y,v,_,x,O,C;let j,Y;if("message"in n)j=n.message,Y=n.signature;else{const{chain:W,wallet:F,statement:le,options:ae}=n;let re;if(rn())if(typeof F=="object")re=F;else{const lt=window;if("ethereum"in lt&&typeof lt.ethereum=="object"&&"request"in lt.ethereum&&typeof lt.ethereum.request=="function")re=lt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!ae?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");re=F}const _e=new URL((i=ae?.url)!==null&&i!==void 0?i:window.location.href),Ue=await re.request({method:"eth_requestAccounts"}).then(lt=>lt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Ue||Ue.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ae=Bg(Ue[0]);let pe=(l=ae?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!pe){const lt=await re.request({method:"eth_chainId"});pe=e1(lt)}const et={domain:_e.host,address:Ae,statement:le,uri:_e.href,version:"1",chainId:pe,nonce:(c=ae?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(m=(f=ae?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(y=ae?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(v=ae?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(_=ae?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(x=ae?.signInWithEthereum)===null||x===void 0?void 0:x.resources};j=n1(et),Y=await re.request({method:"personal_sign",params:[t1(j),Ae]})}try{const{data:W,error:F}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:Y},!((O=n.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:oa});if(F)throw F;if(!W||!W.session||!W.user){const le=new Ls;return this._returnResult({data:{user:null,session:null},error:le})}return W.session&&(await this._saveSession(W.session),await this._notifyAllSubscribers("SIGNED_IN",W.session)),this._returnResult({data:Object.assign({},W),error:F})}catch(W){if(ke(W))return this._returnResult({data:{user:null,session:null},error:W});throw W}}async signInWithSolana(n){var i,l,c,f,m,y,v,_,x,O,C,j;let Y,W;if("message"in n)Y=n.message,W=n.signature;else{const{chain:F,wallet:le,statement:ae,options:re}=n;let _e;if(rn())if(typeof le=="object")_e=le;else{const Ae=window;if("solana"in Ae&&typeof Ae.solana=="object"&&("signIn"in Ae.solana&&typeof Ae.solana.signIn=="function"||"signMessage"in Ae.solana&&typeof Ae.solana.signMessage=="function"))_e=Ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof le!="object"||!re?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_e=le}const Ue=new URL((i=re?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in _e&&_e.signIn){const Ae=await _e.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},re?.signInWithSolana),{version:"1",domain:Ue.host,uri:Ue.href}),ae?{statement:ae}:null));let pe;if(Array.isArray(Ae)&&Ae[0]&&typeof Ae[0]=="object")pe=Ae[0];else if(Ae&&typeof Ae=="object"&&"signedMessage"in Ae&&"signature"in Ae)pe=Ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in pe&&"signature"in pe&&(typeof pe.signedMessage=="string"||pe.signedMessage instanceof Uint8Array)&&pe.signature instanceof Uint8Array)Y=typeof pe.signedMessage=="string"?pe.signedMessage:new TextDecoder().decode(pe.signedMessage),W=pe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _e)||typeof _e.signMessage!="function"||!("publicKey"in _e)||typeof _e!="object"||!_e.publicKey||!("toBase58"in _e.publicKey)||typeof _e.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Y=[`${Ue.host} wants you to sign in with your Solana account:`,_e.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${Ue.href}`,`Issued At: ${(c=(l=re?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=re?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${re.signInWithSolana.notBefore}`]:[],...!((m=re?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${re.signInWithSolana.expirationTime}`]:[],...!((y=re?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${re.signInWithSolana.chainId}`]:[],...!((v=re?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${re.signInWithSolana.nonce}`]:[],...!((_=re?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${re.signInWithSolana.requestId}`]:[],...!((O=(x=re?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||O===void 0)&&O.length?["Resources",...re.signInWithSolana.resources.map(pe=>`- ${pe}`)]:[]].join(`
`);const Ae=await _e.signMessage(new TextEncoder().encode(Y),"utf8");if(!Ae||!(Ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");W=Ae}}try{const{data:F,error:le}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:Y,signature:Pi(W)},!((C=n.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:oa});if(le)throw le;if(!F||!F.session||!F.user){const ae=new Ls;return this._returnResult({data:{user:null,session:null},error:ae})}return F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),this._returnResult({data:Object.assign({},F),error:le})}catch(F){if(ke(F))return this._returnResult({data:{user:null,session:null},error:F});throw F}}async _exchangeCodeForSession(n){const i=await Bi(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Sw;const{data:f,error:m}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:oa});if(await an(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!f||!f.session||!f.user){const y=new Ls;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:m})}catch(f){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:i,provider:l,token:c,access_token:f,nonce:m}=n,y=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:f,nonce:m,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:oa}),{data:v,error:_}=y;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!v||!v.session||!v.user){const x=new Ls;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:_})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,c,f,m;try{if("email"in n){const{email:y,options:v}=n;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await qs(this.storage,this.storageKey));const{error:O}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(i=v?.data)!==null&&i!==void 0?i:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:x},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:O})}if("phone"in n){const{phone:y,options:v}=n,{data:_,error:x}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(c=v?.data)!==null&&c!==void 0?c:{},create_user:(f=v?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(m=v?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:x})}throw new Xu("You must provide either an email or phone number.")}catch(y){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(n){var i,l;try{let c,f;"options"in n&&(c=(i=n.options)===null||i===void 0?void 0:i.redirectTo,f=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:m,error:y}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:oa});if(y)throw y;if(!m)throw new Error("An error occurred on token verification.");const v=m.session,_=m.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(c){if(ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var i,l,c,f,m;try{let y=null,v=null;this.flowType==="pkce"&&([y,v]=await qs(this.storage,this.storageKey));const _=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:v}),headers:this.headers,xform:Iw});return!((f=_.data)===null||f===void 0)&&f.url&&rn()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(y){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Bn;const{error:c}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:f}=n,{error:m}=await De(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:l,type:c,options:f}=n,{data:m,error:y}=await De(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new Xu("You must provide either an email or phone number and a type")}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<xh:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const m=await Bi(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Oh()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=Kw(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Fr}):await this._useSession(async i=>{var l,c,f;const{data:m,error:y}=i;if(y)throw y;return!(!((l=m.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Fr})})}catch(i){if(ke(i))return Eh(i)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:c,error:f}=l;if(f)throw f;if(!c.session)throw new Bn;const m=c.session;let y=null,v=null;this.flowType==="pkce"&&n.email!=null&&([y,v]=await qs(this.storage,this.storageKey));const{data:_,error:x}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:y,code_challenge_method:v}),jwt:m.access_token,xform:Fr});if(x)throw x;return m.user=_.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(l){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Bn;const i=Date.now()/1e3;let l=i,c=!0,f=null;const{payload:m}=Ju(n.access_token);if(m.exp&&(l=m.exp,c=l<=i),c){const{data:y,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y)return{data:{user:null,session:null},error:null};f=y}else{const{data:y,error:v}=await this._getUser(n.access_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});f={access_token:n.access_token,refresh_token:n.refresh_token,user:y.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(i){if(ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:m,error:y}=i;if(y)throw y;n=(l=m.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Bn;const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!rn())throw new Qu("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Qu(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Cy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Cy("No code detected.");const{data:ae,error:re}=await this._exchangeCodeForSession(n.code);if(re)throw re;const _e=new URL(window.location.href);return _e.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_e.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:f,refresh_token:m,expires_in:y,expires_at:v,token_type:_}=n;if(!f||!y||!m||!_)throw new Qu("No session defined in URL");const x=Math.round(Date.now()/1e3),O=parseInt(y);let C=x+O;v&&(C=parseInt(v));const j=C-x;j*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${O}s`);const Y=C-O;x-Y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Y,C,x):x-Y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Y,C,x);const{data:W,error:F}=await this._getUser(f);if(F)throw F;const le={provider_token:l,provider_refresh_token:c,access_token:f,expires_in:O,expires_at:C,refresh_token:m,token_type:_,user:W.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:le,redirectType:n.type},error:null})}catch(l){if(ke(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Bi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f&&!Eh(f))return this._returnResult({error:f});const m=(l=c.session)===null||l===void 0?void 0:l.access_token;if(m){const{error:y}=await this.admin.signOut(m,n);if(y&&!(_w(y)&&(y.status===404||y.status===401||y.status===403)||Eh(y)))return this._returnResult({error:y})}return n!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=jw(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,c;try{const{data:{session:f},error:m}=i;if(m)throw m;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,i={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await qs(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(f){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:c}=await this._useSession(async f=>{var m,y,v,_,x;const{data:O,error:C}=f;if(C)throw C;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(y=n.options)===null||y===void 0?void 0:y.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",j,{headers:this.headers,jwt:(x=(_=O.session)===null||_===void 0?void 0:_.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return rn()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ke(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:c,data:{session:f}}=i;if(c)throw c;const{options:m,provider:y,token:v,access_token:_,nonce:x}=n,O=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:y,id_token:v,access_token:_,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:oa}),{data:C,error:j}=O;return j?this._returnResult({data:{user:null,session:null},error:j}):!C||!C.session||!C.user?this._returnResult({data:{user:null,session:null},error:new Ls}):(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("USER_UPDATED",C.session)),this._returnResult({data:C,error:j}))}catch(c){if(await an(this.storage,`${this.storageKey}-code-verifier`),ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,c;const{data:f,error:m}=i;if(m)throw m;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Dw(async c=>(c>0&&await Nw(200*Math.pow(2,c-1)),this._debug(i,"refreshing attempt",c),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:oa})),(c,f)=>{const m=200*Math.pow(2,c);return f&&Th(f)&&Date.now()+m-l<Ys})}catch(l){if(this._debug(i,"error",l),ke(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),rn()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Bi(this.storage,this.storageKey);if(c&&this.userStorage){let m=await Bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:c.user},await Vs(this.userStorage,this.storageKey+"-user",m)),c.user=(n=m?.user)!==null&&n!==void 0?n:Oh()}else if(c&&!c.user&&!c.user){const m=await Bi(this.storage,this.storageKey+"-user");m&&m?.user?(c.user=m.user,await an(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,c)):c.user=Oh()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const f=((i=c.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<xh;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${xh}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:m}=await this._callRefreshToken(c.refresh_token);m&&(console.error(m),Th(m)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:y}=await this._getUser(c.access_token);!y&&m?.user?(c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(l,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new pc;const{data:f,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!f.session)throw new Bn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const y={data:f.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(f){if(this._debug(c,"error",f),ke(f)){const m={data:null,error:f};return Th(f)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(m),m}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,i,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const f=[],m=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(n,i)}catch(v){f.push(v)}});if(await Promise.all(m),f.length>0){for(let y=0;y<f.length;y+=1)console.error(f[y]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:i.user});const c=Object.assign({},i);delete c.user;const f=zy(c);await Vs(this.storage,this.storageKey,f)}else{const c=zy(i);await Vs(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&rn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ys}ms, refresh threshold is ${qh} ticks`),c<=qh&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof zg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const c=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,m]=await qs(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(m)}`});c.push(y.toString())}if(l?.queryParams){const f=new URLSearchParams(l.queryParams);c.push(f.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;return f?this._returnResult({data:null,error:f}):await De(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,c;const{data:f,error:m}=i;if(m)return this._returnResult({data:null,error:m});const y=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:_}=await De(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=f?.session)===null||l===void 0?void 0:l.access_token});return _?this._returnResult({data:null,error:_}):(n.factorType==="totp"&&v.type==="totp"&&(!((c=v?.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?u1(n.webauthn.credential_response):c1(n.webauthn.credential_response)})}:{code:n.code}),{data:y,error:v}=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:v}))})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:c,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=await De(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(m.error)return m;const{data:y}=m;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:l1(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:o1(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=i?.factors)!==null&&n!==void 0?n:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var i,l,c,f;if(n)try{const{payload:j}=Ju(n);let Y=null;j.aal&&(Y=j.aal);let W=Y;const{data:{user:F},error:le}=await this.getUser(n);if(le)return this._returnResult({data:null,error:le});((l=(i=F?.factors)===null||i===void 0?void 0:i.filter(_e=>_e.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(W="aal2");const re=j.amr||[];return{data:{currentLevel:Y,nextLevel:W,currentAuthenticationMethods:re},error:null}}catch(j){if(ke(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:m},error:y}=await this.getSession();if(y)return this._returnResult({data:null,error:y});if(!m)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:v}=Ju(m.access_token);let _=null;v.aal&&(_=v.aal);let x=_;((f=(c=m.user.factors)===null||c===void 0?void 0:c.filter(j=>j.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(x="aal2");const C=v.amr||[];return{data:{currentLevel:_,nextLevel:x,currentAuthenticationMethods:C},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Bn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&rn()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(ke(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Bn});const m=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return m.data&&m.data.redirect_url&&rn()&&!i?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(l){if(ke(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;return c?this._returnResult({data:null,error:c}):l?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(y=>y.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(y=>y.kid===n),l&&this.jwks_cached_at+vw>c)return l;const{data:f,error:m}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,l=f.keys.find(y=>y.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:j,error:Y}=await this.getSession();if(Y||!j.session)return this._returnResult({data:null,error:Y});l=j.session.access_token}const{header:c,payload:f,signature:m,raw:{header:y,payload:v}}=Ju(l);i?.allowExpired||Hw(f.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!_){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:f,header:c,signature:m},error:null}}const x=$w(c.alg),O=await crypto.subtle.importKey("jwk",_,x,!0,["verify"]);if(!await crypto.subtle.verify(x,O,m,Aw(`${y}.${v}`)))throw new Ph("Invalid JWT signature");return{data:{claims:f,header:c,signature:m},error:null}}catch(l){if(ke(l))return this._returnResult({data:null,error:l});throw l}}}wo.nextInstanceID={};const b1=wo,_1="2.95.3";let fo="";typeof Deno<"u"?fo="deno":typeof document<"u"?fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fo="react-native":fo="node";const w1={"X-Client-Info":`supabase-js-${fo}/${_1}`},S1={headers:w1},x1={schema:"public"},E1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T1={};function So(r){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},So(r)}function O1(r,n){if(So(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(So(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function A1(r){var n=O1(r,"string");return So(n)=="symbol"?n:n+""}function k1(r,n,i){return(n=A1(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Ky(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),i.push.apply(i,l)}return i}function Rt(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Ky(Object(i),!0).forEach(function(l){k1(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ky(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const j1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),R1=()=>Headers,C1=(r,n,i)=>{const l=j1(i),c=R1();return async(f,m)=>{var y;const v=(y=await n())!==null&&y!==void 0?y:r;let _=new c(m?.headers);return _.has("apikey")||_.set("apikey",r),_.has("Authorization")||_.set("Authorization",`Bearer ${v}`),l(f,Rt(Rt({},m),{},{headers:_}))}};function N1(r){return r.endsWith("/")?r:r+"/"}function D1(r,n){var i,l;const{db:c,auth:f,realtime:m,global:y}=r,{db:v,auth:_,realtime:x,global:O}=n,C={db:Rt(Rt({},v),c),auth:Rt(Rt({},_),f),realtime:Rt(Rt({},x),m),storage:{},global:Rt(Rt(Rt({},O),y),{},{headers:Rt(Rt({},(i=O?.headers)!==null&&i!==void 0?i:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?C.accessToken=r.accessToken:delete C.accessToken,C}function M1(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var U1=class extends b1{constructor(r){super(r)}},z1=class{constructor(r,n,i){var l,c;this.supabaseUrl=r,this.supabaseKey=n;const f=M1(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const m=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:x1,realtime:T1,auth:Rt(Rt({},E1),{},{storageKey:m}),global:S1},v=D1(i??{},y);if(this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=v.auth)!==null&&_!==void 0?_:{},this.headers,v.global.fetch)}this.fetch=C1(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new __(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch,timeout:v.db.timeout,urlLengthLimit:v.db.urlLengthLimit}),this.storage=new dw(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new h_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,storageKey:f,flowType:m,lock:y,debug:v,throwOnError:_},x,O){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U1({url:this.authUrl.href,headers:Rt(Rt({},C),x),storageKey:f,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:c,flowType:m,lock:y,debug:v,throwOnError:_,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new B_(this.realtimeUrl.href,Rt(Rt({},r),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const B1=(r,n,i)=>new z1(r,n,i);function L1(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}L1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q1="https://uzkgrywvntdvfznbzydv.supabase.co",H1="sb_publishable_WSUDdU7NLCftdEhrKiFPqQ_9JrD0djr",fa=B1(q1,H1);var nc={exports:{}},$1=nc.exports,Gy;function P1(){return Gy||(Gy=1,(function(r,n){((i,l)=>{r.exports=l()})($1,function(){var i=function(o,d){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(p,g){p.__proto__=g}:function(p,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w])}))(o,d)},l=function(){return(l=Object.assign||function(o){for(var d,p=1,g=arguments.length;p<g;p++)for(var w in d=arguments[p])Object.prototype.hasOwnProperty.call(d,w)&&(o[w]=d[w]);return o}).apply(this,arguments)};function c(o,d,p){for(var g,w=0,S=d.length;w<S;w++)!g&&w in d||((g=g||Array.prototype.slice.call(d,0,w))[w]=d[w]);return o.concat(g||Array.prototype.slice.call(d))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:g0,m=Object.keys,y=Array.isArray;function v(o,d){return typeof d=="object"&&m(d).forEach(function(p){o[p]=d[p]}),o}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var _=Object.getPrototypeOf,x={}.hasOwnProperty;function O(o,d){return x.call(o,d)}function C(o,d){typeof d=="function"&&(d=d(_(o))),(typeof Reflect>"u"?m:Reflect.ownKeys)(d).forEach(function(p){Y(o,p,d[p])})}var j=Object.defineProperty;function Y(o,d,p,g){j(o,d,v(p&&O(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},g))}function W(o){return{from:function(d){return o.prototype=Object.create(d.prototype),Y(o.prototype,"constructor",o),{extend:C.bind(null,o.prototype)}}}}var F=Object.getOwnPropertyDescriptor,le=[].slice;function ae(o,d,p){return le.call(o,d,p)}function re(o,d){return d(o)}function _e(o){if(!o)throw new Error("Assertion Failed")}function Ue(o){f.setImmediate?setImmediate(o):setTimeout(o,0)}function Ae(o,d){if(typeof d=="string"&&O(o,d))return o[d];if(!d)return o;if(typeof d!="string"){for(var p=[],g=0,w=d.length;g<w;++g){var S=Ae(o,d[g]);p.push(S)}return p}var A,k=d.indexOf(".");return k===-1||(A=o[d.substr(0,k)])==null?void 0:Ae(A,d.substr(k+1))}function pe(o,d,p){if(o&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof d!="string"&&"length"in d){_e(typeof p!="string"&&"length"in p);for(var g=0,w=d.length;g<w;++g)pe(o,d[g],p[g])}else{var S,A,k=d.indexOf(".");k!==-1?(S=d.substr(0,k),(k=d.substr(k+1))===""?p===void 0?y(o)&&!isNaN(parseInt(S))?o.splice(S,1):delete o[S]:o[S]=p:pe(A=(A=o[S])&&O(o,S)?A:o[S]={},k,p)):p===void 0?y(o)&&!isNaN(parseInt(d))?o.splice(d,1):delete o[d]:o[d]=p}}function et(o){var d,p={};for(d in o)O(o,d)&&(p[d]=o[d]);return p}var lt=[].concat;function mn(o){return lt.apply([],o)}var ie="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(mn([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(d){return d+o+"Array"})}))).filter(function(o){return f[o]}),An=new Set(ie.map(function(o){return f[o]})),zt=null;function pn(o){return zt=new WeakMap,o=(function d(p){if(!p||typeof p!="object")return p;var g=zt.get(p);if(g)return g;if(y(p)){g=[],zt.set(p,g);for(var w=0,S=p.length;w<S;++w)g.push(d(p[w]))}else if(An.has(p.constructor))g=p;else{var A,k=_(p);for(A in g=k===Object.prototype?{}:Object.create(k),zt.set(p,g),p)O(p,A)&&(g[A]=d(p[A]))}return g})(o),zt=null,o}var ea={}.toString;function yn(o){return ea.call(o).slice(8,-1)}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof ee=="symbol"?function(o){var d;return o!=null&&(d=o[ee])&&d.apply(o)}:function(){return null};function je(o,d){d=o.indexOf(d),0<=d&&o.splice(d,1)}var We={};function Ye(o){var d,p,g,w;if(arguments.length===1){if(y(o))return o.slice();if(this===We&&typeof o=="string")return[o];if(w=ge(o))for(p=[];!(g=w.next()).done;)p.push(g.value);else{if(o==null)return[o];if(typeof(d=o.length)!="number")return[o];for(p=new Array(d);d--;)p[d]=o[d]}}else for(d=arguments.length,p=new Array(d);d--;)p[d]=arguments[d];return p}var H=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ie=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],on=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ie),ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xe(o,d){this.name=o,this.message=d}function Be(o,d){return o+". Errors: "+Object.keys(d).map(function(p){return d[p].toString()}).filter(function(p,g,w){return w.indexOf(p)===g}).join(`
`)}function He(o,d,p,g){this.failures=d,this.failedKeys=g,this.successCount=p,this.message=Be(o,d)}function Ve(o,d){this.name="BulkError",this.failures=Object.keys(d).map(function(p){return d[p]}),this.failuresByPos=d,this.message=Be(o,this.failures)}W(xe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),W(He).from(xe),W(Ve).from(xe);var Kt=on.reduce(function(o,d){return o[d]=d+"Error",o},{}),At=xe,Oe=on.reduce(function(o,d){var p=d+"Error";function g(w,S){this.name=p,w?typeof w=="string"?(this.message="".concat(w).concat(S?`
 `+S:""),this.inner=S||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=ve[d]||p,this.inner=null)}return W(g).from(At),o[d]=g,o},{}),ei=(Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError,ie.reduce(function(o,d){return o[d+"Error"]=Oe[d],o},{}));ie=on.reduce(function(o,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(o[d+"Error"]=Oe[d]),o},{});function tt(){}function dr(o){return o}function Ca(o,d){return o==null||o===dr?d:function(p){return d(o(p))}}function ta(o,d){return function(){o.apply(this,arguments),d.apply(this,arguments)}}function al(o,d){return o===tt?d:function(){var p=o.apply(this,arguments),g=(p!==void 0&&(arguments[0]=p),this.onsuccess),w=this.onerror,S=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return g&&(this.onsuccess=this.onsuccess?ta(g,this.onsuccess):g),w&&(this.onerror=this.onerror?ta(w,this.onerror):w),S!==void 0?S:p}}function gc(o,d){return o===tt?d:function(){o.apply(this,arguments);var p=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?ta(p,this.onsuccess):p),g&&(this.onerror=this.onerror?ta(g,this.onerror):g)}}function ko(o,d){return o===tt?d:function(w){var g=o.apply(this,arguments),w=(v(w,g),this.onsuccess),S=this.onerror,A=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return w&&(this.onsuccess=this.onsuccess?ta(w,this.onsuccess):w),S&&(this.onerror=this.onerror?ta(S,this.onerror):S),g===void 0?A===void 0?void 0:A:v(g,A)}}function rl(o,d){return o===tt?d:function(){return d.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ti(o,d){return o===tt?d:function(){var p=o.apply(this,arguments);if(p&&typeof p.then=="function"){for(var g=this,w=arguments.length,S=new Array(w);w--;)S[w]=arguments[w];return p.then(function(){return d.apply(g,S)})}return d.apply(this,arguments)}}ie.ModifyError=He,ie.DexieError=xe,ie.BulkError=Ve;var _n=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function jo(o){_n=o}var ni={},ln=100,ai=typeof Promise>"u"?[]:(on=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[ai=crypto.subtle.digest("SHA-512",new Uint8Array([0])),_(ai),on]:[on,_(on),on]),on=ai[0],Ya=ai[1],Ya=Ya&&Ya.then,ma=on&&on.constructor,mr=!!ai[2],ri=function(o,d){ii.push([o,d]),Gi&&(queueMicrotask(Ro),Gi=!1)},Ki=!0,Gi=!0,Na=[],pa=[],Jt=dr,Wt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:tt,pgp:!1,env:{},finalize:tt},be=Wt,ii=[],Da=0,Yi=[];function me(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=be;if(typeof o!="function"){if(o!==ni)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&na(this,this._value)}else this._state=null,this._value=null,++d.ref,(function p(g,w){try{w(function(S){if(g._state===null){if(S===g)throw new TypeError("A promise cannot be resolved with itself.");var A=g._lib&&ya();S&&typeof S.then=="function"?p(g,function(k,D){S instanceof me?S._then(k,D):S.then(k,D)}):(g._state=!0,g._value=S,li(g)),A&&Hn()}},na.bind(null,g))}catch(S){na(g,S)}})(this,o)}var pr={get:function(){var o=be,d=ci;function p(g,w){var S=this,A=!o.global&&(o!==be||d!==ci),k=A&&!gn(),D=new me(function(P,M){Ma(S,new si(Vi(g,o,A,k),Vi(w,o,A,k),P,M,o))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return p.prototype=ni,p},set:function(o){Y(this,"then",o&&o.prototype===ni?pr:{get:function(){return o},set:pr.set})}};function si(o,d,p,g,w){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof d=="function"?d:null,this.resolve=p,this.reject=g,this.psd=w}function na(o,d){var p,g;pa.push(d),o._state===null&&(p=o._lib&&ya(),d=Jt(d),o._state=!1,o._value=d,g=o,Na.some(function(w){return w._value===g._value})||Na.push(g),li(o),p)&&Hn()}function li(o){var d=o._listeners;o._listeners=[];for(var p=0,g=d.length;p<g;++p)Ma(o,d[p]);var w=o._PSD;--w.ref||w.finalize(),Da===0&&(++Da,ri(function(){--Da==0&&il()},[]))}function Ma(o,d){if(o._state===null)o._listeners.push(d);else{var p=o._state?d.onFulfilled:d.onRejected;if(p===null)return(o._state?d.resolve:d.reject)(o._value);++d.psd.ref,++Da,ri(vc,[p,o,d])}}function vc(o,d,p){try{var g,w=d._value;!d._state&&pa.length&&(pa=[]),g=_n&&d._consoleTask?d._consoleTask.run(function(){return o(w)}):o(w),d._state||pa.indexOf(w)!==-1||(S=>{for(var A=Na.length;A;)if(Na[--A]._value===S._value)return Na.splice(A,1)})(d),p.resolve(g)}catch(S){p.reject(S)}finally{--Da==0&&il(),--p.psd.ref||p.psd.finalize()}}function Ro(){kn(Wt,function(){ya()&&Hn()})}function ya(){var o=Ki;return Gi=Ki=!1,o}function Hn(){var o,d,p;do for(;0<ii.length;)for(o=ii,ii=[],p=o.length,d=0;d<p;++d){var g=o[d];g[0].apply(null,g[1])}while(0<ii.length);Gi=Ki=!0}function il(){for(var o=Na,d=(Na=[],o.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)}),Yi.slice(0)),p=d.length;p;)d[--p]()}function oi(o){return new me(ni,!1,o)}function yt(o,d){var p=be;return function(){var g=ya(),w=be;try{return va(p,!0),o.apply(this,arguments)}catch(S){d&&d(S)}finally{va(w,!1),g&&Hn()}}}C(me.prototype,{then:pr,_then:function(o,d){Ma(this,new si(null,null,o,d,be))},catch:function(o){var d,p;return arguments.length===1?this.then(null,o):(d=o,p=arguments[1],typeof d=="function"?this.then(null,function(g){return(g instanceof d?p:oi)(g)}):this.then(null,function(g){return(g&&g.name===d?p:oi)(g)}))},finally:function(o){return this.then(function(d){return me.resolve(o()).then(function(){return d})},function(d){return me.resolve(o()).then(function(){return oi(d)})})},timeout:function(o,d){var p=this;return o<1/0?new me(function(g,w){var S=setTimeout(function(){return w(new Oe.Timeout(d))},o);p.then(g,w).finally(clearTimeout.bind(null,S))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(me.prototype,Symbol.toStringTag,"Dexie.Promise"),Wt.env=ll(),C(me,{all:function(){var o=Ye.apply(null,arguments).map(gr);return new me(function(d,p){o.length===0&&d([]);var g=o.length;o.forEach(function(w,S){return me.resolve(w).then(function(A){o[S]=A,--g||d(o)},p)})})},resolve:function(o){return o instanceof me?o:o&&typeof o.then=="function"?new me(function(d,p){o.then(d,p)}):new me(ni,!0,o)},reject:oi,race:function(){var o=Ye.apply(null,arguments).map(gr);return new me(function(d,p){o.map(function(g){return me.resolve(g).then(d,p)})})},PSD:{get:function(){return be},set:function(o){return be=o}},totalEchoes:{get:function(){return ci}},newPSD:vt,usePSD:kn,scheduler:{get:function(){return ri},set:function(o){ri=o}},rejectionMapper:{get:function(){return Jt},set:function(o){Jt=o}},follow:function(o,d){return new me(function(p,g){return vt(function(w,S){var A=be;A.unhandleds=[],A.onunhandled=S,A.finalize=ta(function(){var k,D=this;k=function(){D.unhandleds.length===0?w():S(D.unhandleds[0])},Yi.push(function P(){k(),Yi.splice(Yi.indexOf(P),1)}),++Da,ri(function(){--Da==0&&il()},[])},A.finalize),o()},d,p,g)})}}),ma&&(ma.allSettled&&Y(me,"allSettled",function(){var o=Ye.apply(null,arguments).map(gr);return new me(function(d){o.length===0&&d([]);var p=o.length,g=new Array(p);o.forEach(function(w,S){return me.resolve(w).then(function(A){return g[S]={status:"fulfilled",value:A}},function(A){return g[S]={status:"rejected",reason:A}}).then(function(){return--p||d(g)})})})}),ma.any&&typeof AggregateError<"u"&&Y(me,"any",function(){var o=Ye.apply(null,arguments).map(gr);return new me(function(d,p){o.length===0&&p(new AggregateError([]));var g=o.length,w=new Array(g);o.forEach(function(S,A){return me.resolve(S).then(function(k){return d(k)},function(k){w[A]=k,--g||p(new AggregateError(w))})})})}),ma.withResolvers)&&(me.withResolvers=ma.withResolvers);var Ct={awaits:0,echoes:0,id:0},sl=0,yr=[],ui=0,ci=0,ga=0;function vt(o,A,p,g){var w=be,S=Object.create(w),A=(S.parent=w,S.ref=0,S.global=!1,S.id=++ga,Wt.env,S.env=mr?{Promise:me,PromiseProp:{value:me,configurable:!0,writable:!0},all:me.all,race:me.race,allSettled:me.allSettled,any:me.any,resolve:me.resolve,reject:me.reject}:{},A&&v(S,A),++w.ref,S.finalize=function(){--this.parent.ref||this.parent.finalize()},kn(S,o,p,g));return S.ref===0&&S.finalize(),A}function Nt(){return Ct.id||(Ct.id=++sl),++Ct.awaits,Ct.echoes+=ln,Ct.id}function gn(){return!!Ct.awaits&&(--Ct.awaits==0&&(Ct.id=0),Ct.echoes=Ct.awaits*ln,!0)}function gr(o){return Ct.echoes&&o&&o.constructor===ma?(Nt(),o.then(function(d){return gn(),d},function(d){return gn(),ft(d)})):o}function bc(){var o=yr[yr.length-1];yr.pop(),va(o,!1)}function va(o,d){var p,g,w=be;(d?!Ct.echoes||ui++&&o===be:!ui||--ui&&o===be)||queueMicrotask(d?(function(S){++ci,Ct.echoes&&--Ct.echoes!=0||(Ct.echoes=Ct.awaits=Ct.id=0),yr.push(be),va(S,!0)}).bind(null,o):bc),o!==be&&(be=o,w===Wt&&(Wt.env=ll()),mr)&&(p=Wt.env.Promise,g=o.env,w.global||o.global)&&(Object.defineProperty(f,"Promise",g.PromiseProp),p.all=g.all,p.race=g.race,p.resolve=g.resolve,p.reject=g.reject,g.allSettled&&(p.allSettled=g.allSettled),g.any)&&(p.any=g.any)}function ll(){var o=f.Promise;return mr?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function kn(o,d,p,g,w){var S=be;try{return va(o,!0),d(p,g,w)}finally{va(S,!1)}}function Vi(o,d,p,g){return typeof o!="function"?o:function(){var w=be;p&&Nt(),va(d,!0);try{return o.apply(this,arguments)}finally{va(w,!1),g&&queueMicrotask(gn)}}}function ba(o){Promise===ma&&Ct.echoes===0?ui===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Ya).indexOf("[native code]")===-1&&(Nt=gn=tt);var ft=me.reject,jn="",un="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Dt="String expected.",Ua=[],fi="__dbnames",aa="readonly",_a="readwrite";function za(o,d){return o?d?function(){return o.apply(this,arguments)&&d.apply(this,arguments)}:o:d}var ol={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hi(o){return typeof o!="string"||/\./.test(o)?function(d){return d}:function(d){return d[o]===void 0&&o in d&&delete(d=pn(d))[o],d}}function Co(){throw Oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ke(o,d){try{var p=di(o),g=di(d);if(p!==g)return p==="Array"?1:g==="Array"?-1:p==="binary"?1:g==="binary"?-1:p==="string"?1:g==="string"?-1:p==="Date"?1:g!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return d<o?1:o<d?-1:0;case"binary":for(var w=$n(o),S=$n(d),A=w.length,k=S.length,D=A<k?A:k,P=0;P<D;++P)if(w[P]!==S[P])return w[P]<S[P]?-1:1;return A===k?0:A<k?-1:1;case"Array":for(var M=o,N=d,B=M.length,q=N.length,U=B<q?B:q,z=0;z<U;++z){var G=Ke(M[z],N[z]);if(G!==0)return G}return B===q?0:B<q?-1:1}}catch{}return NaN}function di(o){var d=typeof o;return d=="object"&&(ArrayBuffer.isView(o)||(d=yn(o))==="ArrayBuffer")?"binary":d}function $n(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function Zt(o,d,p){var g=o.schema.yProps;return g?(d&&0<p.numFailures&&(d=d.filter(function(w,S){return!p.failures[S]})),Promise.all(g.map(function(w){return w=w.updatesTable,d?o.db.table(w).where("k").anyOf(d).delete():o.db.table(w).clear()})).then(function(){return p})):p}No.prototype.execute=function(o){var d=this["@@propmod"];if(d.add!==void 0){var p=d.add;if(y(p))return c(c([],y(o)?o:[],!0),p).sort();if(typeof p=="number")return(Number(o)||0)+p;if(typeof p=="bigint")try{return BigInt(o)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(d.remove!==void 0){var g=d.remove;if(y(g))return y(o)?o.filter(function(w){return!g.includes(w)}).sort():[];if(typeof g=="number")return Number(o)-g;if(typeof g=="bigint")try{return BigInt(o)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return p=(p=d.replacePrefix)==null?void 0:p[0],p&&typeof o=="string"&&o.startsWith(p)?d.replacePrefix[1]+o.substring(p.length):o};var vr=No;function No(o){this["@@propmod"]=o}function Ii(o,d){for(var p=m(d),g=p.length,w=!1,S=0;S<g;++S){var A=p[S],k=d[A],D=Ae(o,A);k instanceof vr?(pe(o,A,k.execute(D)),w=!0):D!==k&&(pe(o,A,k),w=!0)}return w}rt.prototype._trans=function(o,d,p){var g=this._tx||be.trans,w=this.name,S=_n&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function A(P,M,N){if(N.schema[w])return d(N.idbtrans,N);throw new Oe.NotFound("Table "+w+" not part of transaction")}var k=ya();try{var D=g&&g.db._novip===this.db._novip?g===be.trans?g._promise(o,A,p):vt(function(){return g._promise(o,A,p)},{trans:g,transless:be.transless||be}):(function P(M,N,B,q){if(M.idbdb&&(M._state.openComplete||be.letThrough||M._vip)){var U=M._createTransaction(N,B,M._dbSchema);try{U.create(),M._state.PR1398_maxLoop=3}catch(z){return z.name===Kt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,B,q)})):ft(z)}return U._promise(N,function(z,G){return vt(function(){return be.trans=U,q(z,G,U)})}).then(function(z){if(N==="readwrite")try{U.idbtrans.commit()}catch{}return N==="readonly"?z:U._completion.then(function(){return z})})}if(M._state.openComplete)return ft(new Oe.DatabaseClosed(M._state.dbOpenError));if(!M._state.isBeingOpened){if(!M._state.autoOpen)return ft(new Oe.DatabaseClosed);M.open().catch(tt)}return M._state.dbReadyPromise.then(function(){return P(M,N,B,q)})})(this.db,o,[this.name],A);return S&&(D._consoleTask=S,D=D.catch(function(P){return console.trace(P),ft(P)})),D}finally{k&&Hn()}},rt.prototype.get=function(o,d){var p=this;return o&&o.constructor===Object?this.where(o).first(d):o==null?ft(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return p.core.get({trans:g,key:o}).then(function(w){return p.hook.reading.fire(w)})}).then(d)},rt.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(y(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var d=m(o);if(d.length===1)return this.where(d[0]).equals(o[d[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&d.every(function(P){return 0<=k.keyPath.indexOf(P)})){for(var D=0;D<d.length;++D)if(d.indexOf(k.keyPath[D])===-1)return!1;return!0}return!1}).sort(function(k,D){return k.keyPath.length-D.keyPath.length})[0];if(p&&this.db._maxKey!==jn)return A=p.keyPath.slice(0,d.length),this.where(A).equals(A.map(function(k){return o[k]}));!p&&_n&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var g=this.schema.idxByName;function w(k,D){return Ke(k,D)===0}var A=d.reduce(function(M,D){var P=M[0],M=M[1],N=g[D],B=o[D];return[P||N,P||!N?za(M,N&&N.multi?function(q){return q=Ae(q,D),y(q)&&q.some(function(U){return w(B,U)})}:function(q){return w(B,Ae(q,D))}):M]},[null,null]),S=A[0],A=A[1];return S?this.where(S.name).equals(o[S.keyPath]).filter(A):p?this.filter(A):this.where(d).equals("")},rt.prototype.filter=function(o){return this.toCollection().and(o)},rt.prototype.count=function(o){return this.toCollection().count(o)},rt.prototype.offset=function(o){return this.toCollection().offset(o)},rt.prototype.limit=function(o){return this.toCollection().limit(o)},rt.prototype.each=function(o){return this.toCollection().each(o)},rt.prototype.toArray=function(o){return this.toCollection().toArray(o)},rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},rt.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,y(o)?"[".concat(o.join("+"),"]"):o))},rt.prototype.reverse=function(){return this.toCollection().reverse()},rt.prototype.mapToClass=function(o){for(var d=this.db,p=this.name,g=((this.schema.mappedClass=o).prototype instanceof Co&&(o=(A=>{var k=M,D=A;if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function P(){this.constructor=k}function M(){return A!==null&&A.apply(this,arguments)||this}return i(k,D),k.prototype=D===null?Object.create(D):(P.prototype=D.prototype,new P),Object.defineProperty(M.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),M.prototype.table=function(){return p},M})(o)),new Set),w=o.prototype;w;w=_(w))Object.getOwnPropertyNames(w).forEach(function(A){return g.add(A)});function S(A){if(!A)return A;var k,D=Object.create(o.prototype);for(k in A)if(!g.has(k))try{D[k]=A[k]}catch{}return D}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),o},rt.prototype.defineClass=function(){return this.mapToClass(function(o){v(this,o)})},rt.prototype.add=function(o,d){var p=this,g=this.schema.primKey,w=g.auto,S=g.keyPath,A=o;return S&&w&&(A=hi(S)(o)),this._trans("readwrite",function(k){return p.core.mutate({trans:k,type:"add",keys:d!=null?[d]:null,values:[A]})}).then(function(k){return k.numFailures?me.reject(k.failures[0]):k.lastResult}).then(function(k){if(S)try{pe(o,S,k)}catch{}return k})},rt.prototype.upsert=function(o,d){var p=this,g=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return p.core.get({trans:w,key:o}).then(function(S){var A=S??{};return Ii(A,d),g&&pe(A,g,o),p.core.mutate({trans:w,type:"put",values:[A],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[d]}}).then(function(k){return k.numFailures?me.reject(k.failures[0]):!!S})})})},rt.prototype.update=function(o,d){return typeof o!="object"||y(o)?this.where(":id").equals(o).modify(d):(o=Ae(o,this.schema.primKey.keyPath))===void 0?ft(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(d)},rt.prototype.put=function(o,d){var p=this,g=this.schema.primKey,w=g.auto,S=g.keyPath,A=o;return S&&w&&(A=hi(S)(o)),this._trans("readwrite",function(k){return p.core.mutate({trans:k,type:"put",values:[A],keys:d!=null?[d]:null})}).then(function(k){return k.numFailures?me.reject(k.failures[0]):k.lastResult}).then(function(k){if(S)try{pe(o,S,k)}catch{}return k})},rt.prototype.delete=function(o){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"delete",keys:[o]}).then(function(g){return Zt(d,[o],g)}).then(function(g){return g.numFailures?me.reject(g.failures[0]):void 0})})},rt.prototype.clear=function(){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"deleteRange",range:ol}).then(function(p){return Zt(o,null,p)})}).then(function(d){return d.numFailures?me.reject(d.failures[0]):void 0})},rt.prototype.bulkGet=function(o){var d=this;return this._trans("readonly",function(p){return d.core.getMany({keys:o,trans:p}).then(function(g){return g.map(function(w){return d.hook.reading.fire(w)})})})},rt.prototype.bulkAdd=function(o,d,p){var g=this,w=Array.isArray(d)?d:void 0,S=(p=p||(w?void 0:d))?p.allKeys:void 0;return this._trans("readwrite",function(A){var k=g.schema.primKey,P=k.auto,k=k.keyPath;if(k&&w)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,P=k&&P?o.map(hi(k)):o;return g.core.mutate({trans:A,type:"add",keys:w,values:P,wantResults:S}).then(function(M){var N=M.numFailures,B=M.failures;if(N===0)return S?M.results:M.lastResult;throw new Ve("".concat(g.name,".bulkAdd(): ").concat(N," of ").concat(D," operations failed"),B)})})},rt.prototype.bulkPut=function(o,d,p){var g=this,w=Array.isArray(d)?d:void 0,S=(p=p||(w?void 0:d))?p.allKeys:void 0;return this._trans("readwrite",function(A){var k=g.schema.primKey,P=k.auto,k=k.keyPath;if(k&&w)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==o.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var D=o.length,P=k&&P?o.map(hi(k)):o;return g.core.mutate({trans:A,type:"put",keys:w,values:P,wantResults:S}).then(function(M){var N=M.numFailures,B=M.failures;if(N===0)return S?M.results:M.lastResult;throw new Ve("".concat(g.name,".bulkPut(): ").concat(N," of ").concat(D," operations failed"),B)})})},rt.prototype.bulkUpdate=function(o){var d=this,p=this.core,g=o.map(function(A){return A.key}),w=o.map(function(A){return A.changes}),S=[];return this._trans("readwrite",function(A){return p.getMany({trans:A,keys:g,cache:"clone"}).then(function(k){var D=[],P=[],M=(o.forEach(function(N,B){var q=N.key,U=N.changes,z=k[B];if(z){for(var G=0,Q=Object.keys(U);G<Q.length;G++){var K=Q[G],te=U[K];if(K===d.schema.primKey.keyPath){if(Ke(te,q)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else pe(z,K,te)}S.push(B),D.push(q),P.push(z)}}),D.length);return p.mutate({trans:A,type:"put",keys:D,values:P,updates:{keys:g,changeSpecs:w}}).then(function(N){var B=N.numFailures,q=N.failures;if(B===0)return M;for(var U=0,z=Object.keys(q);U<z.length;U++){var G,Q=z[U],K=S[Number(Q)];K!=null&&(G=q[Q],delete q[Q],q[K]=G)}throw new Ve("".concat(d.name,".bulkUpdate(): ").concat(B," of ").concat(M," operations failed"),q)})})})},rt.prototype.bulkDelete=function(o){var d=this,p=o.length;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:o}).then(function(w){return Zt(d,o,w)})}).then(function(g){var w=g.numFailures,S=g.failures;if(w===0)return g.lastResult;throw new Ve("".concat(d.name,".bulkDelete(): ").concat(w," of ").concat(p," operations failed"),S)})};var ul=rt;function rt(){}function mi(o){function d(A,k){if(k){for(var D=arguments.length,P=new Array(D-1);--D;)P[D-1]=arguments[D];return p[A].subscribe.apply(null,P),o}if(typeof A=="string")return p[A]}var p={};d.addEventType=S;for(var g=1,w=arguments.length;g<w;++g)S(arguments[g]);return d;function S(A,k,D){var P,M;if(typeof A!="object")return k=k||rl,M={subscribers:[],fire:D=D||tt,subscribe:function(N){M.subscribers.indexOf(N)===-1&&(M.subscribers.push(N),M.fire=k(M.fire,N))},unsubscribe:function(N){M.subscribers=M.subscribers.filter(function(B){return B!==N}),M.fire=M.subscribers.reduce(k,D)}},p[A]=d[A]=M;m(P=A).forEach(function(N){var B=P[N];if(y(B))S(N,P[N][0],P[N][1]);else{if(B!=="asap")throw new Oe.InvalidArgument("Invalid event config");var q=S(N,dr,function(){for(var U=arguments.length,z=new Array(U);U--;)z[U]=arguments[U];q.subscribers.forEach(function(G){Ue(function(){G.apply(null,z)})})})}})}}function Vt(o,d){return W(d).from({prototype:o}),d}function wa(o,d){return!(o.filter||o.algorithm||o.or)&&(d?o.justLimit:!o.replayFilter)}function Xi(o,d){o.filter=za(o.filter,d)}function pi(o,d,p){var g=o.replayFilter;o.replayFilter=g?function(){return za(g(),d())}:d,o.justLimit=p&&!g}function ra(o,d){if(o.isPrimKey)return d.primaryKey;var p=d.getIndexByKeyPath(o.index);if(p)return p;throw new Oe.Schema("KeyPath "+o.index+" on object store "+d.name+" is not indexed")}function cl(o,d,p){var g=ra(o,d.schema);return d.openCursor({trans:p,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:g,range:o.range}})}function yi(o,d,p,g){var w,S,A=o.replayFilter?za(o.filter,o.replayFilter()):o.filter;return o.or?(w={},S=function(k,D,P){var M,N;A&&!A(D,P,function(B){return D.stop(B)},function(B){return D.fail(B)})||((N=""+(M=D.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(M)),O(w,N))||(w[N]=!0,d(k,D,P))},Promise.all([o.or._iterate(S,p),Ba(cl(o,g,p),o.algorithm,S,!o.keysOnly&&o.valueMapper)])):Ba(cl(o,g,p),za(o.algorithm,A),d,!o.keysOnly&&o.valueMapper)}function Ba(o,d,p,g){var w=yt(g?function(S,A,k){return p(g(S),A,k)}:p);return o.then(function(S){if(S)return S.start(function(){var A=function(){return S.continue()};d&&!d(S,function(k){return A=k},function(k){S.stop(k),A=tt},function(k){S.fail(k),A=tt})||w(S.value,S,function(k){return A=k}),A()})})}Ze.prototype._read=function(o,d){var p=this._ctx;return p.error?p.table._trans(null,ft.bind(null,p.error)):p.table._trans("readonly",o).then(d)},Ze.prototype._write=function(o){var d=this._ctx;return d.error?d.table._trans(null,ft.bind(null,d.error)):d.table._trans("readwrite",o,"locked")},Ze.prototype._addAlgorithm=function(o){var d=this._ctx;d.algorithm=za(d.algorithm,o)},Ze.prototype._iterate=function(o,d){return yi(this._ctx,o,d,this._ctx.table.core)},Ze.prototype.clone=function(o){var d=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return o&&v(p,o),d._ctx=p,d},Ze.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ze.prototype.each=function(o){var d=this._ctx;return this._read(function(p){return yi(d,o,p,d.table.core)})},Ze.prototype.count=function(o){var d=this;return this._read(function(p){var g,w=d._ctx,S=w.table.core;return wa(w,!0)?S.count({trans:p,query:{index:ra(w,S.schema),range:w.range}}).then(function(A){return Math.min(A,w.limit)}):(g=0,yi(w,function(){return++g,!1},p,S).then(function(){return g}))}).then(o)},Ze.prototype.sortBy=function(o,d){var p=o.split(".").reverse(),g=p[0],w=p.length-1;function S(D,P){return P?S(D[p[P]],P-1):D[g]}var A=this._ctx.dir==="next"?1:-1;function k(D,P){return Ke(S(D,w),S(P,w))*A}return this.toArray(function(D){return D.sort(k)}).then(d)},Ze.prototype.toArray=function(o){var d=this;return this._read(function(p){var g,w,S,A=d._ctx;return A.dir==="next"&&wa(A,!0)&&0<A.limit?(g=A.valueMapper,w=ra(A,A.table.core.schema),A.table.core.query({trans:p,limit:A.limit,values:!0,query:{index:w,range:A.range}}).then(function(k){return k=k.result,g?k.map(g):k})):(S=[],yi(A,function(k){return S.push(k)},p,A.table.core).then(function(){return S}))},o)},Ze.prototype.offset=function(o){var d=this._ctx;return o<=0||(d.offset+=o,wa(d)?pi(d,function(){var p=o;return function(g,w){return p===0||(p===1?--p:w(function(){g.advance(p),p=0}),!1)}}):pi(d,function(){var p=o;return function(){return--p<0}})),this},Ze.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),pi(this._ctx,function(){var d=o;return function(p,g,w){return--d<=0&&g(w),0<=d}},!0),this},Ze.prototype.until=function(o,d){return Xi(this._ctx,function(p,g,w){return!o(p.value)||(g(w),d)}),this},Ze.prototype.first=function(o){return this.limit(1).toArray(function(d){return d[0]}).then(o)},Ze.prototype.last=function(o){return this.reverse().first(o)},Ze.prototype.filter=function(o){var d;return Xi(this._ctx,function(p){return o(p.value)}),(d=this._ctx).isMatch=za(d.isMatch,o),this},Ze.prototype.and=function(o){return this.filter(o)},Ze.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},Ze.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ze.prototype.desc=function(){return this.reverse()},Ze.prototype.eachKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(p,g){o(g.key,g)})},Ze.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},Ze.prototype.eachPrimaryKey=function(o){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(p,g){o(g.primaryKey,g)})},Ze.prototype.keys=function(o){var d=this._ctx,p=(d.keysOnly=!d.isMatch,[]);return this.each(function(g,w){p.push(w.key)}).then(function(){return p}).then(o)},Ze.prototype.primaryKeys=function(o){var d=this._ctx;if(d.dir==="next"&&wa(d,!0)&&0<d.limit)return this._read(function(g){var w=ra(d,d.table.core.schema);return d.table.core.query({trans:g,values:!1,limit:d.limit,query:{index:w,range:d.range}})}).then(function(g){return g.result}).then(o);d.keysOnly=!d.isMatch;var p=[];return this.each(function(g,w){p.push(w.primaryKey)}).then(function(){return p}).then(o)},Ze.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},Ze.prototype.firstKey=function(o){return this.limit(1).keys(function(d){return d[0]}).then(o)},Ze.prototype.lastKey=function(o){return this.reverse().firstKey(o)},Ze.prototype.distinct=function(){var o,d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];return d&&d.multi&&(o={},Xi(this._ctx,function(g){var g=g.primaryKey.toString(),w=O(o,g);return o[g]=!0,!w})),this},Ze.prototype.modify=function(o){var d=this,p=this._ctx;return this._write(function(g){function w(z,G){var Q=G.failures;B+=z-G.numFailures;for(var K=0,te=m(Q);K<te.length;K++){var ue=te[K];N.push(Q[ue])}}var S=typeof o=="function"?o:function(z){return Ii(z,o)},A=p.table.core,M=A.schema.primaryKey,k=M.outbound,D=M.extractKey,P=200,M=d.db._options.modifyChunkSize,N=(M&&(P=typeof M=="object"?M[A.name]||M["*"]||200:M),[]),B=0,q=[],U=o===fl;return d.clone().primaryKeys().then(function(z){function G(K){var te=Math.min(P,z.length-K),ue=z.slice(K,K+te);return(U?Promise.resolve([]):A.getMany({trans:g,keys:ue,cache:"immutable"})).then(function(he){var de=[],ce=[],we=k?[]:null,ye=U?ue:[];if(!U)for(var fe=0;fe<te;++fe){var Se=he[fe],ze={value:pn(Se),primKey:z[K+fe]};S.call(ze,ze.value,ze)!==!1&&(ze.value==null?ye.push(z[K+fe]):k||Ke(D(Se),D(ze.value))===0?(ce.push(ze.value),k&&we.push(z[K+fe])):(ye.push(z[K+fe]),de.push(ze.value)))}return Promise.resolve(0<de.length&&A.mutate({trans:g,type:"add",values:de}).then(function(Ge){for(var Re in Ge.failures)ye.splice(parseInt(Re),1);w(de.length,Ge)})).then(function(){return(0<ce.length||Q&&typeof o=="object")&&A.mutate({trans:g,type:"put",keys:we,values:ce,criteria:Q,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<K}).then(function(Ge){return w(ce.length,Ge)})}).then(function(){return(0<ye.length||Q&&U)&&A.mutate({trans:g,type:"delete",keys:ye,criteria:Q,isAdditionalChunk:0<K}).then(function(Ge){return Zt(p.table,ye,Ge)}).then(function(Ge){return w(ye.length,Ge)})}).then(function(){return z.length>K+te&&G(K+P)})})}var Q=wa(p)&&p.limit===1/0&&(typeof o!="function"||U)&&{index:p.index,range:p.range};return G(0).then(function(){if(0<N.length)throw new He("Error modifying one or more objects",N,B,q);return z.length})})})},Ze.prototype.delete=function(){var o=this._ctx,d=o.range;return!wa(o)||o.table.schema.yProps||!o.isPrimKey&&d.type!==3?this.modify(fl):this._write(function(p){var g=o.table.core.schema.primaryKey,w=d;return o.table.core.count({trans:p,query:{index:g,range:w}}).then(function(S){return o.table.core.mutate({trans:p,type:"deleteRange",range:w}).then(function(D){var k=D.failures,D=D.numFailures;if(D)throw new He("Could not delete some values",Object.keys(k).map(function(P){return k[P]}),S-D);return S-D})})})};var _c=Ze;function Ze(){}var fl=function(o,d){return d.value=null};function hl(o,d){return o<d?-1:o===d?0:1}function wc(o,d){return d<o?-1:o===d?0:1}function vn(o,d,p){return o=o instanceof La?new o.Collection(o):o,o._ctx.error=new(p||TypeError)(d),o}function ia(o){return new o.Collection(o,function(){return Qi("")}).limit(0)}function wn(q,d,p,g){var w,S,A,k,D,P,M,N=p.length;if(!p.every(function(z){return typeof z=="string"}))return vn(q,Dt);function B(z){w=z==="next"?function(Q){return Q.toUpperCase()}:function(Q){return Q.toLowerCase()},S=z==="next"?function(Q){return Q.toLowerCase()}:function(Q){return Q.toUpperCase()},A=z==="next"?hl:wc;var G=p.map(function(Q){return{lower:S(Q),upper:w(Q)}}).sort(function(Q,K){return A(Q.lower,K.lower)});k=G.map(function(Q){return Q.upper}),D=G.map(function(Q){return Q.lower}),M=(P=z)==="next"?"":g}B("next");var q=new q.Collection(q,function(){return Pn(k[0],D[N-1]+g)}),U=(q._ondirectionchange=function(z){B(z)},0);return q._addAlgorithm(function(z,G,Q){var K=z.key;if(typeof K=="string"){var te=S(K);if(d(te,D,U))return!0;for(var ue=null,he=U;he<N;++he){var de=((ce,we,ye,fe,Se,ze)=>{for(var Ge=Math.min(ce.length,fe.length),Re=-1,Le=0;Le<Ge;++Le){var ht=we[Le];if(ht!==fe[Le])return Se(ce[Le],ye[Le])<0?ce.substr(0,Le)+ye[Le]+ye.substr(Le+1):Se(ce[Le],fe[Le])<0?ce.substr(0,Le)+fe[Le]+ye.substr(Le+1):0<=Re?ce.substr(0,Re)+we[Re]+ye.substr(Re+1):null;Se(ce[Le],ht)<0&&(Re=Le)}return Ge<fe.length&&ze==="next"?ce+ye.substr(ce.length):Ge<ce.length&&ze==="prev"?ce.substr(0,ye.length):Re<0?null:ce.substr(0,Re)+fe[Re]+ye.substr(Re+1)})(K,te,k[he],D[he],A,P);de===null&&ue===null?U=he+1:(ue===null||0<A(ue,de))&&(ue=de)}G(ue!==null?function(){z.continue(ue+M)}:Q)}return!1}),q}function Pn(o,d,p,g){return{type:2,lower:o,upper:d,lowerOpen:p,upperOpen:g}}function Qi(o){return{type:1,lower:o,upper:o}}Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(o,d,p,g){p=p!==!1,g=g===!0;try{return 0<this._cmp(o,d)||this._cmp(o,d)===0&&(p||g)&&(!p||!g)?ia(this):new this.Collection(this,function(){return Pn(o,d,!p,!g)})}catch{return vn(this,un)}},wt.prototype.equals=function(o){return o==null?vn(this,un):new this.Collection(this,function(){return Qi(o)})},wt.prototype.above=function(o){return o==null?vn(this,un):new this.Collection(this,function(){return Pn(o,void 0,!0)})},wt.prototype.aboveOrEqual=function(o){return o==null?vn(this,un):new this.Collection(this,function(){return Pn(o,void 0,!1)})},wt.prototype.below=function(o){return o==null?vn(this,un):new this.Collection(this,function(){return Pn(void 0,o,!1,!0)})},wt.prototype.belowOrEqual=function(o){return o==null?vn(this,un):new this.Collection(this,function(){return Pn(void 0,o)})},wt.prototype.startsWith=function(o){return typeof o!="string"?vn(this,Dt):this.between(o,o+jn,!0,!0)},wt.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):wn(this,function(d,p){return d.indexOf(p[0])===0},[o],jn)},wt.prototype.equalsIgnoreCase=function(o){return wn(this,function(d,p){return d===p[0]},[o],"")},wt.prototype.anyOfIgnoreCase=function(){var o=Ye.apply(We,arguments);return o.length===0?ia(this):wn(this,function(d,p){return p.indexOf(d)!==-1},o,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var o=Ye.apply(We,arguments);return o.length===0?ia(this):wn(this,function(d,p){return p.some(function(g){return d.indexOf(g)===0})},o,jn)},wt.prototype.anyOf=function(){var o,d,p=this,g=Ye.apply(We,arguments),w=this._cmp;try{g.sort(w)}catch{return vn(this,un)}return g.length===0?ia(this):((o=new this.Collection(this,function(){return Pn(g[0],g[g.length-1])}))._ondirectionchange=function(S){w=S==="next"?p._ascending:p._descending,g.sort(w)},d=0,o._addAlgorithm(function(S,A,k){for(var D=S.key;0<w(D,g[d]);)if(++d===g.length)return A(k),!1;return w(D,g[d])===0||(A(function(){S.continue(g[d])}),!1)}),o)},wt.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var o=Ye.apply(We,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return vn(this,un)}var d=o.reduce(function(p,g){return p?p.concat([[p[p.length-1][1],g]]):[[-1/0,g]]},null);return d.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function(o,Q){var p=this,g=this._cmp,w=this._ascending,S=this._descending,A=this._min,k=this._max;if(o.length===0)return ia(this);if(!o.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&w(K[0],K[1])<=0}))return vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var D=!Q||Q.includeLowers!==!1,P=Q&&Q.includeUppers===!0,M,N=w;function B(K,te){return N(K[0],te[0])}try{(M=o.reduce(function(K,te){for(var ue=0,he=K.length;ue<he;++ue){var de=K[ue];if(g(te[0],de[1])<0&&0<g(te[1],de[0])){de[0]=A(de[0],te[0]),de[1]=k(de[1],te[1]);break}}return ue===he&&K.push(te),K},[])).sort(B)}catch{return vn(this,un)}var q=0,U=P?function(K){return 0<w(K,M[q][1])}:function(K){return 0<=w(K,M[q][1])},z=D?function(K){return 0<S(K,M[q][0])}:function(K){return 0<=S(K,M[q][0])},G=U,Q=new this.Collection(this,function(){return Pn(M[0][0],M[M.length-1][1],!D,!P)});return Q._ondirectionchange=function(K){N=K==="next"?(G=U,w):(G=z,S),M.sort(B)},Q._addAlgorithm(function(K,te,ue){for(var he,de=K.key;G(de);)if(++q===M.length)return te(ue),!1;return!U(he=de)&&!z(he)||(p._cmp(de,M[q][1])===0||p._cmp(de,M[q][0])===0||te(function(){N===w?K.continue(M[q][0]):K.continue(M[q][1])}),!1)}),Q},wt.prototype.startsWithAnyOf=function(){var o=Ye.apply(We,arguments);return o.every(function(d){return typeof d=="string"})?o.length===0?ia(this):this.inAnyRange(o.map(function(d){return[d,d+jn]})):vn(this,"startsWithAnyOf() only works with strings")};var La=wt;function wt(){}function Rn(o){return yt(function(d){return qa(d),o(d.target.error),!1})}function qa(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var br="storagemutated",Ha="x-storagemutated-1",It=mi(null,br),dl=(cn.prototype._lock=function(){return _e(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},cn.prototype._unlock=function(){if(_e(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{kn(o[1],o[0])}catch{}}return this},cn.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},cn.prototype.create=function(o){var d=this;if(this.mode){var p=this.db.idbdb,g=this.db._state.dbOpenError;if(_e(!this.idbtrans),!o&&!p)switch(g&&g.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(g);case"MissingAPIError":throw new Oe.MissingAPI(g.message,g);default:throw new Oe.OpenFailed(g)}if(!this.active)throw new Oe.TransactionInactive;_e(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=yt(function(w){qa(w),d._reject(o.error)}),o.onabort=yt(function(w){qa(w),d.active&&d._reject(new Oe.Abort(o.error)),d.active=!1,d.on("abort").fire(w)}),o.oncomplete=yt(function(){d.active=!1,d._resolve(),"mutatedParts"in o&&It.storagemutated.fire(o.mutatedParts)})}return this},cn.prototype._promise=function(o,d,p){var g,w=this;return o==="readwrite"&&this.mode!=="readwrite"?ft(new Oe.ReadOnly("Transaction is readonly")):this.active?this._locked()?new me(function(S,A){w._blockedFuncs.push([function(){w._promise(o,d,p).then(S,A)},be])}):p?vt(function(){var S=new me(function(A,k){w._lock();var D=d(A,k,w);D&&D.then&&D.then(A,k)});return S.finally(function(){return w._unlock()}),S._lib=!0,S}):((g=new me(function(S,A){var k=d(S,A,w);k&&k.then&&k.then(S,A)}))._lib=!0,g):ft(new Oe.TransactionInactive)},cn.prototype._root=function(){return this.parent?this.parent._root():this},cn.prototype.waitFor=function(o){var d,p=this._root(),g=me.resolve(o),w=(p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return g}):(p._waitingFor=g,p._waitingQueue=[],d=p.idbtrans.objectStore(p.storeNames[0]),(function S(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(d.get(-1/0).onsuccess=S)})()),p._waitingFor);return new me(function(S,A){g.then(function(k){return p._waitingQueue.push(yt(S.bind(null,k)))},function(k){return p._waitingQueue.push(yt(A.bind(null,k)))}).finally(function(){p._waitingFor===w&&(p._waitingFor=null)})})},cn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},cn.prototype.table=function(o){var d=this._memoizedTables||(this._memoizedTables={});if(O(d,o))return d[o];var p=this.schema[o];if(p)return(p=new this.db.Table(o,p,this)).core=this.db.core.table(o),d[o]=p;throw new Oe.NotFound("Table "+o+" not part of transaction")},cn);function cn(){}function Kn(o,d,p,g,w,S,A,k){return{name:o,keyPath:d,unique:p,multi:g,auto:w,compound:S,src:(p&&!A?"&":"")+(g?"*":"")+(w?"++":"")+Ji(d),type:k}}function Ji(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function _r(o,d,p){return{name:o,primKey:d,indexes:p,mappedClass:null,idxByName:(g=function(w){return[w.name,w]},p.reduce(function(w,S,A){return S=g(S,A),S&&(w[S[0]]=S[1]),w},{}))};var g}var wr=function(o){try{return o.only([[]]),wr=function(){return[[]]},[[]]}catch{return wr=function(){return jn},jn}};function Sr(o){return o==null?function(){}:typeof o=="string"?(d=o).split(".").length===1?function(p){return p[d]}:function(p){return Ae(p,d)}:function(p){return Ae(p,o)};var d}function gi(o){return[].slice.call(o)}var Do=0;function Bt(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function $a(o,d,D){function g(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var N=U.lower,B=U.upper,q=U.lowerOpen,U=U.upperOpen;return N===void 0?B===void 0?null:d.upperBound(B,!!U):B===void 0?d.lowerBound(N,!!q):d.bound(N,B,!!q,!!U)}function w(M){var N,B=M.name;return{name:B,schema:M,mutate:function(q){var U=q.trans,z=q.type,G=q.keys,Q=q.values,K=q.range;return new Promise(function(te,ue){te=yt(te);var he=U.objectStore(B),de=he.keyPath==null,ce=z==="put"||z==="add";if(!ce&&z!=="delete"&&z!=="deleteRange")throw new Error("Invalid operation type: "+z);var we,ye=(G||Q||{length:1}).length;if(G&&Q&&G.length!==Q.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function fe(st){++Ge,qa(st)}var Se=[],ze=[],Ge=0;if(z==="deleteRange"){if(K.type===4)return te({numFailures:Ge,failures:ze,results:[],lastResult:void 0});K.type===3?Se.push(we=he.clear()):Se.push(we=he.delete(g(K)))}else{var de=ce?de?[Q,G]:[Q,null]:[G,null],Re=de[0],Le=de[1];if(ce)for(var ht=0;ht<ye;++ht)Se.push(we=Le&&Le[ht]!==void 0?he[z](Re[ht],Le[ht]):he[z](Re[ht])),we.onerror=fe;else for(ht=0;ht<ye;++ht)Se.push(we=he[z](Re[ht])),we.onerror=fe}function hn(st){st=st.target.result,Se.forEach(function(Ta,kr){return Ta.error!=null&&(ze[kr]=Ta.error)}),te({numFailures:Ge,failures:ze,results:z==="delete"?G:Se.map(function(Ta){return Ta.result}),lastResult:st})}we.onerror=function(st){fe(st),hn(st)},we.onsuccess=hn})},getMany:function(q){var U=q.trans,z=q.keys;return new Promise(function(G,Q){G=yt(G);for(var K,te=U.objectStore(B),ue=z.length,he=new Array(ue),de=0,ce=0,we=function(Se){Se=Se.target,he[Se._pos]=Se.result,++ce===de&&G(he)},ye=Rn(Q),fe=0;fe<ue;++fe)z[fe]!=null&&((K=te.get(z[fe]))._pos=fe,K.onsuccess=we,K.onerror=ye,++de);de===0&&G(he)})},get:function(q){var U=q.trans,z=q.key;return new Promise(function(G,Q){G=yt(G);var K=U.objectStore(B).get(z);K.onsuccess=function(te){return G(te.target.result)},K.onerror=Rn(Q)})},query:(N=k,function(q){return new Promise(function(U,z){U=yt(U);var G,Q,K,ce=q.trans,te=q.values,ue=q.limit,de=q.query,he=ue===1/0?void 0:ue,we=de.index,de=de.range,ce=ce.objectStore(B),ce=we.isPrimaryKey?ce:ce.index(we.name),we=g(de);if(ue===0)return U({result:[]});N?((de=te?ce.getAll(we,he):ce.getAllKeys(we,he)).onsuccess=function(ye){return U({result:ye.target.result})},de.onerror=Rn(z)):(G=0,Q=!te&&"openKeyCursor"in ce?ce.openKeyCursor(we):ce.openCursor(we),K=[],Q.onsuccess=function(ye){var fe=Q.result;return!fe||(K.push(te?fe.value:fe.primaryKey),++G===ue)?U({result:K}):void fe.continue()},Q.onerror=Rn(z))})}),openCursor:function(q){var U=q.trans,z=q.values,G=q.query,Q=q.reverse,K=q.unique;return new Promise(function(te,ue){te=yt(te);var ce=G.index,he=G.range,de=U.objectStore(B),de=ce.isPrimaryKey?de:de.index(ce.name),ce=Q?K?"prevunique":"prev":K?"nextunique":"next",we=!z&&"openKeyCursor"in de?de.openKeyCursor(g(he),ce):de.openCursor(g(he),ce);we.onerror=Rn(ue),we.onsuccess=yt(function(ye){var fe,Se,ze,Ge,Re=we.result;Re?(Re.___id=++Do,Re.done=!1,fe=Re.continue.bind(Re),Se=(Se=Re.continuePrimaryKey)&&Se.bind(Re),ze=Re.advance.bind(Re),Ge=function(){throw new Error("Cursor not stopped")},Re.trans=U,Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=function(){throw new Error("Cursor not started")},Re.fail=yt(ue),Re.next=function(){var Le=this,ht=1;return this.start(function(){return ht--?Le.continue():Le.stop()}).then(function(){return Le})},Re.start=function(Le){function ht(){if(we.result)try{Le()}catch(st){Re.fail(st)}else Re.done=!0,Re.start=function(){throw new Error("Cursor behind last entry")},Re.stop()}var hn=new Promise(function(st,Ta){st=yt(st),we.onerror=Rn(Ta),Re.fail=Ta,Re.stop=function(kr){Re.stop=Re.continue=Re.continuePrimaryKey=Re.advance=Ge,st(kr)}});return we.onsuccess=yt(function(st){we.onsuccess=ht,ht()}),Re.continue=fe,Re.continuePrimaryKey=Se,Re.advance=ze,ht(),hn},te(Re)):te(null)},ue)})},count:function(q){var U=q.query,z=q.trans,G=U.index,Q=U.range;return new Promise(function(K,te){var ue=z.objectStore(B),ue=G.isPrimaryKey?ue:ue.index(G.name),he=g(Q),he=he?ue.count(he):ue.count();he.onsuccess=yt(function(de){return K(de.target.result)}),he.onerror=Rn(te)})}}}S=D,A=gi((D=o).objectStoreNames);var S,D={schema:{name:D.name,tables:A.map(function(M){return S.objectStore(M)}).map(function(M){var N=M.keyPath,B=M.autoIncrement,U=y(N),q={},U={name:M.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:N==null,compound:U,keyPath:N,autoIncrement:B,unique:!0,extractKey:Sr(N)},indexes:gi(M.indexNames).map(function(z){return M.index(z)}).map(function(K){var te=K.name,G=K.unique,Q=K.multiEntry,K=K.keyPath,te={name:te,compound:y(K),keyPath:K,unique:G,multiEntry:Q,extractKey:Sr(K)};return q[Bt(K)]=te}),getIndexByKeyPath:function(z){return q[Bt(z)]}};return q[":id"]=U.primaryKey,N!=null&&(q[Bt(N)]=U.primaryKey),U})},hasGetAll:0<A.length&&"getAll"in S.objectStore(A[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},A=D.schema,k=D.hasGetAll,D=A.tables.map(w),P={};return D.forEach(function(M){return P[M.name]=M}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(M){if(P[M])return P[M];throw new Error("Table '".concat(M,"' not found"))},MIN_KEY:-1/0,MAX_KEY:wr(d),schema:A}}function Wi(o,d,p,g){return p=p.IDBKeyRange,d=$a(d,p,g),{dbcore:o.dbcore.reduce(function(w,S){return S=S.create,l(l({},w),S(w))},d)}}function Sa(o,d){var p=d.db,p=Wi(o._middlewares,p,o._deps,d);o.core=p.dbcore,o.tables.forEach(function(g){var w=g.name;o.core.schema.tables.some(function(S){return S.name===w})&&(g.core=o.core.table(w),o[w]instanceof o.Table)&&(o[w].core=g.core)})}function Zi(o,d,p,g){p.forEach(function(w){var S=g[w];d.forEach(function(A){var k=(function D(P,M){return F(P,M)||(P=_(P))&&D(P,M)})(A,w);(!k||"value"in k&&k.value===void 0)&&(A===o.Transaction.prototype||A instanceof o.Transaction?Y(A,w,{get:function(){return this.table(w)},set:function(D){j(this,w,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):A[w]=new o.Table(w,S))})})}function vi(o,d){d.forEach(function(p){for(var g in p)p[g]instanceof o.Table&&delete p[g]})}function ml(o,d){return o._cfg.version-d._cfg.version}function bi(o,d,p,g){var w=o._dbSchema,S=(p.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=_r("$meta",Uo("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,w)),A=(S.create(p),S._completion.catch(g),S._reject.bind(S)),k=be.transless||be;vt(function(){if(be.trans=S,be.transless=k,d!==0)return Sa(o,p),P=d,((D=S).storeNames.includes("$meta")?D.table("$meta").get("version").then(function(M){return M??P}):me.resolve(P)).then(function(G){var N=o,B=G,q=S,U=p,z=[],G=N._versions,Q=N._dbSchema=xr(0,N.idbdb,U);return(G=G.filter(function(K){return K._cfg.version>=B})).length===0?me.resolve():(G.forEach(function(K){z.push(function(){var te,ue,he,de=Q,ce=K._cfg.dbschema,we=(ns(N,de,U),ns(N,ce,U),Q=N._dbSchema=ce,es(de,ce)),ye=(we.add.forEach(function(fe){pl(U,fe[0],fe[1].primKey,fe[1].indexes)}),we.change.forEach(function(fe){if(fe.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var Se=U.objectStore(fe.name);fe.add.forEach(function(ze){return ts(Se,ze)}),fe.change.forEach(function(ze){Se.deleteIndex(ze.name),ts(Se,ze)}),fe.del.forEach(function(ze){return Se.deleteIndex(ze)})}),K._cfg.contentUpgrade);if(ye&&K._cfg.version>B)return Sa(N,U),q._memoizedTables={},te=et(ce),we.del.forEach(function(fe){te[fe]=de[fe]}),vi(N,[N.Transaction.prototype]),Zi(N,[N.Transaction.prototype],m(te),te),q.schema=te,(ue=H(ye))&&Nt(),ce=me.follow(function(){var fe;(he=ye(q))&&ue&&(fe=gn.bind(null,null),he.then(fe,fe))}),he&&typeof he.then=="function"?me.resolve(he):ce.then(function(){return he})}),z.push(function(te){var ue,he,de=K._cfg.dbschema;ue=de,he=te,[].slice.call(he.db.objectStoreNames).forEach(function(ce){return ue[ce]==null&&he.db.deleteObjectStore(ce)}),vi(N,[N.Transaction.prototype]),Zi(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),q.schema=N._dbSchema}),z.push(function(te){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===K._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(ue){return ue!=="$meta"})):te.objectStore("$meta").put(K._cfg.version,"version"))})}),(function K(){return z.length?me.resolve(z.shift()(q.idbtrans)).then(K):me.resolve()})().then(function(){Mo(Q,U)}))}).catch(A);var D,P;m(w).forEach(function(M){pl(p,M,w[M].primKey,w[M].indexes)}),Sa(o,p),me.follow(function(){return o.on.populate.fire(S)}).catch(A)})}function Fi(o,d){Mo(o._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var p=xr(0,o.idbdb,d);ns(o,o._dbSchema,d);for(var g=0,w=es(p,o._dbSchema).change;g<w.length;g++){var S=(A=>{if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=d.objectStore(A.name);A.add.forEach(function(D){_n&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(D.src)),ts(k,D)})})(w[g]);if(typeof S=="object")return S.value}}function es(o,d){var p,g={del:[],add:[],change:[]};for(p in o)d[p]||g.del.push(p);for(p in d){var w=o[p],S=d[p];if(w){var A={name:p,def:S,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(S.primKey.keyPath||"")||w.primKey.auto!==S.primKey.auto)A.recreate=!0,g.change.push(A);else{var k=w.idxByName,D=S.idxByName,P=void 0;for(P in k)D[P]||A.del.push(P);for(P in D){var M=k[P],N=D[P];M?M.src!==N.src&&A.change.push(N):A.add.push(N)}(0<A.del.length||0<A.add.length||0<A.change.length)&&g.change.push(A)}}else g.add.push([p,S])}return g}function pl(o,d,p,g){var w=o.db.createObjectStore(d,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});g.forEach(function(S){return ts(w,S)})}function Mo(o,d){m(o).forEach(function(p){d.db.objectStoreNames.contains(p)||(_n&&console.debug("Dexie: Creating missing table",p),pl(d,p,o[p].primKey,o[p].indexes))})}function ts(o,d){o.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function xr(o,d,p){var g={};return ae(d.objectStoreNames,0).forEach(function(w){for(var S=p.objectStore(w),A=Kn(Ji(P=S.keyPath),P||"",!0,!1,!!S.autoIncrement,P&&typeof P!="string",!0),k=[],D=0;D<S.indexNames.length;++D){var M=S.index(S.indexNames[D]),P=M.keyPath,M=Kn(M.name,P,!!M.unique,!!M.multiEntry,!1,P&&typeof P!="string",!1);k.push(M)}g[w]=_r(w,A,k)}),g}function ns(o,d,p){for(var g=p.db.objectStoreNames,w=0;w<g.length;++w){var S=g[w],A=p.objectStore(S);o._hasGetAll="getAll"in A;for(var k=0;k<A.indexNames.length;++k){var D,P=A.indexNames[k],M=A.index(P).keyPath,M=typeof M=="string"?M:"["+ae(M).join("+")+"]";d[S]&&(D=d[S].idxByName[M])&&(D.name=P,delete d[S].idxByName[M],d[S].idxByName[P]=D)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function Uo(o){return o.split(",").map(function(d,p){var w=d.split(":"),g=(g=w[1])==null?void 0:g.trim(),w=(d=w[0].trim()).replace(/([&*]|\+\+)/g,""),S=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Kn(w,S||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),y(S),p===0,g)})}Er.prototype._createTableSchema=_r,Er.prototype._parseIndexSyntax=Uo,Er.prototype._parseStoresSpec=function(o,d){var p=this;m(o).forEach(function(g){if(o[g]!==null){var w=p._parseIndexSyntax(o[g]),S=w.shift();if(!S)throw new Oe.Schema("Invalid schema for table "+g+": "+o[g]);if(S.unique=!0,S.multi)throw new Oe.Schema("Primary key cannot be multiEntry*");w.forEach(function(A){if(A.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!A.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),S=p._createTableSchema(g,S,w),d[g]=S}})},Er.prototype.stores=function(p){var d=this.db,p=(this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,p):p,d._versions),g={},w={};return p.forEach(function(S){v(g,S._cfg.storesSource),w=S._cfg.dbschema={},S._parseStoresSpec(g,w)}),d._dbSchema=w,vi(d,[d._allTables,d,d.Transaction.prototype]),Zi(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],m(w),w),d._storeNames=m(w),this},Er.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ti(this._cfg.contentUpgrade||tt,o),this};var Sc=Er;function Er(){}function yl(o,d){var p=o._dbNamesDB;return p||(p=o._dbNamesDB=new Gn(fi,{addons:[],indexedDB:o,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function as(o){return o&&typeof o.databases=="function"}function gl(o){return vt(function(){return be.letThrough=!0,o()})}function vl(o){return!("from"in o)}var Xt=function(o,d){var p;if(!this)return p=new Xt,o&&"d"in o&&v(p,o),p;v(this,arguments.length?{d:1,from:o,to:1<arguments.length?d:o}:{d:0})};function _i(o,d,p){var g=Ke(d,p);if(!isNaN(g)){if(0<g)throw RangeError();if(vl(o))return v(o,{from:d,to:p,d:1});var g=o.l,w=o.r;if(Ke(p,o.from)<0)return g?_i(g,d,p):o.l={from:d,to:p,d:1,l:null,r:null},Bo(o);if(0<Ke(d,o.to))return w?_i(w,d,p):o.r={from:d,to:p,d:1,l:null,r:null},Bo(o);Ke(d,o.from)<0&&(o.from=d,o.l=null,o.d=w?w.d+1:1),0<Ke(p,o.to)&&(o.to=p,o.r=null,o.d=o.l?o.l.d+1:1),d=!o.r,g&&!o.l&&Pa(o,g),w&&d&&Pa(o,w)}}function Pa(o,d){vl(d)||(function p(g,w){var S=w.from,A=w.l,k=w.r;_i(g,S,w.to),A&&p(g,A),k&&p(g,k)})(o,d)}function zo(o,d){var p=rs(d),g=p.next();if(!g.done)for(var w=g.value,S=rs(o),A=S.next(w.from),k=A.value;!g.done&&!A.done;){if(Ke(k.from,w.to)<=0&&0<=Ke(k.to,w.from))return!0;Ke(w.from,k.from)<0?w=(g=p.next(k.from)).value:k=(A=S.next(w.from)).value}return!1}function rs(o){var d=vl(o)?null:{s:0,n:o};return{next:function(p){for(var g=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,g)for(;d.n.l&&Ke(p,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!g||Ke(p,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Bo(o){var d,p,g,w=(((w=o.r)==null?void 0:w.d)||0)-(((w=o.l)==null?void 0:w.d)||0),w=1<w?"r":w<-1?"l":"";w&&(d=w=="r"?"l":"r",p=l({},o),g=o[w],o.from=g.from,o.to=g.to,o[w]=g[w],p[w]=g[d],(o[d]=p).d=bl(p)),o.d=bl(o)}function bl(p){var d=p.r,p=p.l;return(d?p?Math.max(d.d,p.d):d.d:p?p.d:0)+1}function is(o,d){return m(d).forEach(function(p){o[p]?Pa(o[p],d[p]):o[p]=(function g(w){var S,A,k={};for(S in w)O(w,S)&&(A=w[S],k[S]=!A||typeof A!="object"||An.has(A.constructor)?A:g(A));return k})(d[p])}),o}function _l(o,d){return o.all||d.all||Object.keys(o).some(function(p){return d[p]&&zo(d[p],o[p])})}C(Xt.prototype,((on={add:function(o){return Pa(this,o),this},addKey:function(o){return _i(this,o,o),this},addKeys:function(o){var d=this;return o.forEach(function(p){return _i(d,p,p)}),this},hasKey:function(o){var d=rs(this).next(o).value;return d&&Ke(d.from,o)<=0&&0<=Ke(d.to,o)}})[ee]=function(){return rs(this)},on));var Ka={},wl={},Sl=!1;function ss(o){is(wl,o),Sl||(Sl=!0,setTimeout(function(){Sl=!1,xl(wl,!(wl={}))},0))}function xl(o,d){d===void 0&&(d=!1);var p=new Set;if(o.all)for(var g=0,w=Object.values(Ka);g<w.length;g++)Lo(k=w[g],o,p,d);else for(var S in o){var A,k,S=/^idb\:\/\/(.*)\/(.*)\//.exec(S);S&&(A=S[1],S=S[2],k=Ka["idb://".concat(A,"/").concat(S)])&&Lo(k,o,p,d)}p.forEach(function(D){return D()})}function Lo(o,d,p,g){for(var w=[],S=0,A=Object.entries(o.queries.query);S<A.length;S++){for(var k=A[S],D=k[0],P=[],M=0,N=k[1];M<N.length;M++){var B=N[M];_l(d,B.obsSet)?B.subscribers.forEach(function(G){return p.add(G)}):g&&P.push(B)}g&&w.push([D,P])}if(g)for(var q=0,U=w;q<U.length;q++){var z=U[q],D=z[0],P=z[1];o.queries.query[D]=P}}function xc(o){var d=o._state,p=o._deps.indexedDB;if(d.isBeingOpened||o.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?ft(d.dbOpenError):o});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var g=d.openCanceller,w=Math.round(10*o.verno),S=!1;function A(){if(d.openCanceller!==g)throw new Oe.DatabaseClosed("db.open() was cancelled")}function k(){return new me(function(B,q){if(A(),!p)throw new Oe.MissingAPI;var U=o.name,z=d.autoSchema||!w?p.open(U):p.open(U,w);if(!z)throw new Oe.MissingAPI;z.onerror=Rn(q),z.onblocked=yt(o._fireOnBlocked),z.onupgradeneeded=yt(function(G){var Q;M=z.transaction,d.autoSchema&&!o._options.allowEmptyDB?(z.onerror=qa,M.abort(),z.result.close(),(Q=p.deleteDatabase(U)).onsuccess=Q.onerror=yt(function(){q(new Oe.NoSuchDatabase("Database ".concat(U," doesnt exist")))})):(M.onerror=Rn(q),Q=G.oldVersion>Math.pow(2,62)?0:G.oldVersion,N=Q<1,o.idbdb=z.result,S&&Fi(o,M),bi(o,Q/10,M,q))},q),z.onsuccess=yt(function(){M=null;var G,Q,K,te,ue,he,de=o.idbdb=z.result,ce=ae(de.objectStoreNames);if(0<ce.length)try{var we=de.transaction((ue=ce).length===1?ue[0]:ue,"readonly");if(d.autoSchema)he=de,te=we,(K=o).verno=he.version/10,te=K._dbSchema=xr(0,he,te),K._storeNames=ae(he.objectStoreNames,0),Zi(K,[K._allTables],m(te),te);else if(ns(o,o._dbSchema,we),Q=we,((Q=es(xr(0,(G=o).idbdb,Q),G._dbSchema)).add.length||Q.change.some(function(ye){return ye.add.length||ye.change.length}))&&!S)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),w=de.version+1,S=!0,B(k());Sa(o,we)}catch{}Ua.push(o),de.onversionchange=yt(function(ye){d.vcFired=!0,o.on("versionchange").fire(ye)}),de.onclose=yt(function(){o.close({disableAutoOpen:!1})}),N&&(ce=o._deps,ue=U,as(he=ce.indexedDB)||ue===fi||yl(he,ce.IDBKeyRange).put({name:ue}).catch(tt)),B()},q)}).catch(function(B){switch(B?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(0<w)return w=0,k()}return me.reject(B)})}var D,P=d.dbReadyResolve,M=null,N=!1;return me.race([g,(typeof navigator>"u"?me.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(B){function q(){return indexedDB.databases().finally(B)}D=setInterval(q,100),q()}).finally(function(){return clearInterval(D)}):Promise.resolve()).then(k)]).then(function(){return A(),d.onReadyBeingFired=[],me.resolve(gl(function(){return o.on.ready.fire(o.vip)})).then(function B(){var q;if(0<d.onReadyBeingFired.length)return q=d.onReadyBeingFired.reduce(ti,tt),d.onReadyBeingFired=[],me.resolve(gl(function(){return q(o.vip)})).then(B)})}).finally(function(){d.openCanceller===g&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(B){d.dbOpenError=B;try{M&&M.abort()}catch{}return g===d.openCanceller&&o._close(),ft(B)}).finally(function(){d.openComplete=!0,P()}).then(function(){var B;return N&&(B={},o.tables.forEach(function(q){q.schema.indexes.forEach(function(U){U.name&&(B["idb://".concat(o.name,"/").concat(q.name,"/").concat(U.name)]=new Xt(-1/0,[[[]]]))}),B["idb://".concat(o.name,"/").concat(q.name,"/")]=B["idb://".concat(o.name,"/").concat(q.name,"/:dels")]=new Xt(-1/0,[[[]]])}),It(br).fire(B),xl(B,!0)),o})}function wi(o){function d(S){return o.next(S)}var p=w(d),g=w(function(S){return o.throw(S)});function w(S){return function(k){var k=S(k),D=k.value;return k.done?D:D&&typeof D.then=="function"?D.then(p,g):y(D)?Promise.all(D).then(p,g):p(D)}}return w(d)()}function xa(o,d,p){for(var g=y(o)?o.slice():[o],w=0;w<p;++w)g.push(d);return g}var Ec={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return l(l({},o),{table:function(g){var p=o.table(g),g=p.schema,w={},S=[];function A(B,q,U){var K=Bt(B),z=w[K]=w[K]||[],G=B==null?0:typeof B=="string"?1:B.length,Q=0<q,K=l(l({},U),{name:Q?"".concat(K,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:Q,keyTail:q,keyLength:G,extractKey:Sr(B),unique:!Q&&U.unique});return z.push(K),K.isPrimaryKey||S.push(K),1<G&&A(G===2?B[0]:B.slice(0,G-1),q+1,U),z.sort(function(te,ue){return te.keyTail-ue.keyTail}),K}var k=A(g.primaryKey.keyPath,0,g.primaryKey);w[":id"]=[k];for(var D=0,P=g.indexes;D<P.length;D++){var M=P[D];A(M.keyPath,0,M)}function N(B){var q,U=B.query.index;return U.isVirtual?l(l({},B),{query:{index:U.lowLevelIndex,range:(q=B.query.range,U=U.keyTail,{type:q.type===1?2:q.type,lower:xa(q.lower,q.lowerOpen?o.MAX_KEY:o.MIN_KEY,U),lowerOpen:!0,upper:xa(q.upper,q.upperOpen?o.MIN_KEY:o.MAX_KEY,U),upperOpen:!0})}}):B}return l(l({},p),{schema:l(l({},g),{primaryKey:k,indexes:S,getIndexByKeyPath:function(B){return(B=w[Bt(B)])&&B[0]}}),count:function(B){return p.count(N(B))},query:function(B){return p.query(N(B))},openCursor:function(B){var q=B.query.index,U=q.keyTail,z=q.keyLength;return q.isVirtual?p.openCursor(N(B)).then(function(Q){return Q&&G(Q)}):p.openCursor(B);function G(Q){return Object.create(Q,{continue:{value:function(K){K!=null?Q.continue(xa(K,B.reverse?o.MAX_KEY:o.MIN_KEY,U)):B.unique?Q.continue(Q.key.slice(0,z).concat(B.reverse?o.MIN_KEY:o.MAX_KEY,U)):Q.continue()}},continuePrimaryKey:{value:function(K,te){Q.continuePrimaryKey(xa(K,o.MAX_KEY,U),te)}},primaryKey:{get:function(){return Q.primaryKey}},key:{get:function(){var K=Q.key;return z===1?K[0]:K.slice(0,z)}},value:{get:function(){return Q.value}}})}}})}})}};function ls(o,d,p,g){return p=p||{},g=g||"",m(o).forEach(function(w){var S,A,k;O(d,w)?(S=o[w],A=d[w],typeof S=="object"&&typeof A=="object"&&S&&A?(k=yn(S))!==yn(A)?p[g+w]=d[w]:k==="Object"?ls(S,A,p,g+w+"."):S!==A&&(p[g+w]=d[w]):S!==A&&(p[g+w]=d[w])):p[g+w]=void 0}),m(d).forEach(function(w){O(o,w)||(p[g+w]=d[w])}),p}function os(o,d){return d.type==="delete"?d.keys:d.keys||d.values.map(o.extractKey)}var qo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return l(l({},o),{table:function(d){var p=o.table(d),g=p.schema.primaryKey;return l(l({},p),{mutate:function(w){var S=be.trans,A=S.table(d).hook,k=A.deleting,D=A.creating,P=A.updating;switch(w.type){case"add":if(D.fire===tt)break;return S._promise("readwrite",function(){return M(w)},!0);case"put":if(D.fire===tt&&P.fire===tt)break;return S._promise("readwrite",function(){return M(w)},!0);case"delete":if(k.fire===tt)break;return S._promise("readwrite",function(){return M(w)},!0);case"deleteRange":if(k.fire===tt)break;return S._promise("readwrite",function(){return(function N(B,q,U){return p.query({trans:B,values:!1,query:{index:g,range:q},limit:U}).then(function(z){var G=z.result;return M({type:"delete",keys:G,trans:B}).then(function(Q){return 0<Q.numFailures?Promise.reject(Q.failures[0]):G.length<U?{failures:[],numFailures:0,lastResult:void 0}:N(B,l(l({},q),{lower:G[G.length-1],lowerOpen:!0}),U)})})})(w.trans,w.range,1e4)},!0)}return p.mutate(w);function M(N){var B,q,U,z=be.trans,G=N.keys||os(g,N);if(G)return(N=N.type==="add"||N.type==="put"?l(l({},N),{keys:G}):l({},N)).type!=="delete"&&(N.values=c([],N.values)),N.keys&&(N.keys=c([],N.keys)),B=p,U=G,((q=N).type==="add"?Promise.resolve([]):B.getMany({trans:q.trans,keys:U,cache:"immutable"})).then(function(Q){var K=G.map(function(te,ue){var he,de,ce,we=Q[ue],ye={onerror:null,onsuccess:null};return N.type==="delete"?k.fire.call(ye,te,we,z):N.type==="add"||we===void 0?(he=D.fire.call(ye,te,N.values[ue],z),te==null&&he!=null&&(N.keys[ue]=te=he,g.outbound||pe(N.values[ue],g.keyPath,te))):(he=ls(we,N.values[ue]),(de=P.fire.call(ye,he,te,we,z))&&(ce=N.values[ue],Object.keys(de).forEach(function(fe){O(ce,fe)?ce[fe]=de[fe]:pe(ce,fe,de[fe])}))),ye});return p.mutate(N).then(function(te){for(var ue=te.failures,he=te.results,de=te.numFailures,te=te.lastResult,ce=0;ce<G.length;++ce){var we=(he||G)[ce],ye=K[ce];we==null?ye.onerror&&ye.onerror(ue[ce]):ye.onsuccess&&ye.onsuccess(N.type==="put"&&Q[ce]?N.values[ce]:we)}return{failures:ue,results:he,numFailures:de,lastResult:te}}).catch(function(te){return K.forEach(function(ue){return ue.onerror&&ue.onerror(te)}),Promise.reject(te)})});throw new Error("Keys missing")}}})}})}};function El(o,d,p){try{if(!d||d.keys.length<o.length)return null;for(var g=[],w=0,S=0;w<d.keys.length&&S<o.length;++w)Ke(d.keys[w],o[S])===0&&(g.push(p?pn(d.values[w]):d.values[w]),++S);return g.length===o.length?g:null}catch{return null}}var Ho={stack:"dbcore",level:-1,create:function(o){return{table:function(d){var p=o.table(d);return l(l({},p),{getMany:function(g){var w;return g.cache?(w=El(g.keys,g.trans._cache,g.cache==="clone"))?me.resolve(w):p.getMany(g).then(function(S){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?pn(S):S},S}):p.getMany(g)},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),p.mutate(g)}})}}}};function Ga(o,d){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function $o(o,d){switch(o){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Tc={stack:"dbcore",level:0,name:"Observability",create:function(o){var d=o.schema.name,p=new Xt(o.MIN_KEY,o.MAX_KEY);return l(l({},o),{transaction:function(g,w,S){if(be.subscr&&w!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return o.transaction(g,w,S)},table:function(g){function w(G){var z,G=G.query;return[z=G.index,new Xt((z=(G=G.range).lower)!=null?z:o.MIN_KEY,(z=G.upper)!=null?z:o.MAX_KEY)]}var S=o.table(g),A=S.schema,k=A.primaryKey,D=A.indexes,P=k.extractKey,M=k.outbound,N=k.autoIncrement&&D.filter(function(U){return U.compound&&U.keyPath.includes(k.keyPath)}),B=l(l({},S),{mutate:function(U){function z(Se){return Se="idb://".concat(d,"/").concat(g,"/").concat(Se),ue[Se]||(ue[Se]=new Xt)}var G,Q,K,te=U.trans,ue=U.mutatedParts||(U.mutatedParts={}),he=z(""),de=z(":dels"),ce=U.type,ye=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[os(k,U).filter(function(Se){return Se}),U.values]:[],we=ye[0],ye=ye[1],fe=U.trans._cache;return y(we)?(he.addKeys(we),(ce=ce==="delete"||we.length===ye.length?El(we,fe):null)||de.addKeys(we),(ce||ye)&&(G=z,Q=ce,K=ye,A.indexes.forEach(function(Se){var ze=G(Se.name||"");function Ge(Le){return Le!=null?Se.extractKey(Le):null}function Re(Le){Se.multiEntry&&y(Le)?Le.forEach(function(ht){return ze.addKey(ht)}):ze.addKey(Le)}(Q||K).forEach(function(Le,st){var hn=Q&&Ge(Q[st]),st=K&&Ge(K[st]);Ke(hn,st)!==0&&(hn!=null&&Re(hn),st!=null)&&Re(st)})}))):we?(ye={from:(fe=we.lower)!=null?fe:o.MIN_KEY,to:(ce=we.upper)!=null?ce:o.MAX_KEY},de.add(ye),he.add(ye)):(he.add(p),de.add(p),A.indexes.forEach(function(Se){return z(Se.name).add(p)})),S.mutate(U).then(function(Se){return!we||U.type!=="add"&&U.type!=="put"||(he.addKeys(Se.results),N&&N.forEach(function(ze){for(var Ge=U.values.map(function(hn){return ze.extractKey(hn)}),Re=ze.keyPath.findIndex(function(hn){return hn===k.keyPath}),Le=0,ht=Se.results.length;Le<ht;++Le)Ge[Le][Re]=Se.results[Le];z(ze.name).addKeys(Ge)})),te.mutatedParts=is(te.mutatedParts||{},ue),Se})}}),q={get:function(U){return[k,new Xt(U.key)]},getMany:function(U){return[k,new Xt().addKeys(U.keys)]},count:w,query:w,openCursor:w};return m(q).forEach(function(U){B[U]=function(z){var G=be.subscr,Q=!!G,K=Ga(be,S)&&$o(U,z)?z.obsSet={}:G;if(Q){var te,G=function(ye){return ye="idb://".concat(d,"/").concat(g,"/").concat(ye),K[ye]||(K[ye]=new Xt)},ue=G(""),he=G(":dels"),Q=q[U](z),de=Q[0],Q=Q[1];if((U==="query"&&de.isPrimaryKey&&!z.values?he:G(de.name||"")).add(Q),!de.isPrimaryKey){if(U!=="count")return te=U==="query"&&M&&z.values&&S.query(l(l({},z),{values:!1})),S[U].apply(this,arguments).then(function(ye){if(U==="query"){if(M&&z.values)return te.then(function(Ge){return Ge=Ge.result,ue.addKeys(Ge),ye});var fe=z.values?ye.result.map(P):ye.result;(z.values?ue:he).addKeys(fe)}else{var Se,ze;if(U==="openCursor")return ze=z.values,(Se=ye)&&Object.create(Se,{key:{get:function(){return he.addKey(Se.primaryKey),Se.key}},primaryKey:{get:function(){var Ge=Se.primaryKey;return he.addKey(Ge),Ge}},value:{get:function(){return ze&&ue.addKey(Se.primaryKey),Se.value}}})}return ye});he.add(p)}}return S[U].apply(this,arguments)}}),B}})}};function Po(o,d,p){var g;return p.numFailures===0?d:d.type==="deleteRange"||(g=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1,p.numFailures===g)?null:(g=l({},d),y(g.keys)&&(g.keys=g.keys.filter(function(w,S){return!(S in p.failures)})),"values"in g&&y(g.values)&&(g.values=g.values.filter(function(w,S){return!(S in p.failures)})),g)}function us(o,d){return p=o,((g=d).lower===void 0||(g.lowerOpen?0<Ke(p,g.lower):0<=Ke(p,g.lower)))&&(p=o,(g=d).upper===void 0||(g.upperOpen?Ke(p,g.upper)<0:Ke(p,g.upper)<=0));var p,g}function Tl(o,d,p,g,w,S){var A,k,D,P,M,N;return!p||p.length===0||(A=d.query.index,k=A.multiEntry,D=d.query.range,P=g.schema.primaryKey.extractKey,M=A.extractKey,N=(A.lowLevelIndex||A).extractKey,(g=p.reduce(function(B,q){var U=B,z=[];if(q.type==="add"||q.type==="put")for(var G=new Xt,Q=q.values.length-1;0<=Q;--Q){var K,te=q.values[Q],ue=P(te);!G.hasKey(ue)&&(K=M(te),k&&y(K)?K.some(function(ye){return us(ye,D)}):us(K,D))&&(G.addKey(ue),z.push(te))}switch(q.type){case"add":var he=new Xt().addKeys(d.values?B.map(function(fe){return P(fe)}):B),U=B.concat(d.values?z.filter(function(fe){return fe=P(fe),!he.hasKey(fe)&&(he.addKey(fe),!0)}):z.map(function(fe){return P(fe)}).filter(function(fe){return!he.hasKey(fe)&&(he.addKey(fe),!0)}));break;case"put":var de=new Xt().addKeys(q.values.map(function(fe){return P(fe)}));U=B.filter(function(fe){return!de.hasKey(d.values?P(fe):fe)}).concat(d.values?z:z.map(function(fe){return P(fe)}));break;case"delete":var ce=new Xt().addKeys(q.keys);U=B.filter(function(fe){return!ce.hasKey(d.values?P(fe):fe)});break;case"deleteRange":var we=q.range;U=B.filter(function(fe){return!us(P(fe),we)})}return U},o))===o)?o:(g.sort(function(B,q){return Ke(N(B),N(q))||Ke(P(B),P(q))}),d.limit&&d.limit<1/0&&(g.length>d.limit?g.length=d.limit:o.length===d.limit&&g.length<d.limit&&(w.dirty=!0)),S?Object.freeze(g):g)}function Tr(o,d){return Ke(o.lower,d.lower)===0&&Ke(o.upper,d.upper)===0&&!!o.lowerOpen==!!d.lowerOpen&&!!o.upperOpen==!!d.upperOpen}function Si(o,d){return((p,g,w,S)=>{if(p===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((p=Ke(p,g))===0){if(w&&S)return 0;if(w)return 1;if(S)return-1}return p})(o.lower,d.lower,o.lowerOpen,d.lowerOpen)<=0&&0<=((p,g,w,S)=>{if(p===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((p=Ke(p,g))===0){if(w&&S)return 0;if(w)return-1;if(S)return 1}return p})(o.upper,d.upper,o.upperOpen,d.upperOpen)}function Oc(o,d,p,g){o.subscribers.add(p),g.addEventListener("abort",function(){var w,S;o.subscribers.delete(p),o.subscribers.size===0&&(w=o,S=d,setTimeout(function(){w.subscribers.size===0&&je(S,w)},3e3))})}var cs={stack:"dbcore",level:0,name:"Cache",create:function(o){var d=o.schema.name;return l(l({},o),{transaction:function(p,g,w){var S,A,k=o.transaction(p,g,w);return g==="readwrite"&&(w=(S=new AbortController).signal,k.addEventListener("abort",(A=function(D){return function(){if(S.abort(),g==="readwrite"){for(var P=new Set,M=0,N=p;M<N.length;M++){var B=N[M],q=Ka["idb://".concat(d,"/").concat(B)];if(q){var U=o.table(B),z=q.optimisticOps.filter(function(Se){return Se.trans===k});if(k._explicit&&D&&k.mutatedParts)for(var G=0,Q=Object.values(q.queries.query);G<Q.length;G++)for(var K=0,te=(de=Q[G]).slice();K<te.length;K++)_l((ce=te[K]).obsSet,k.mutatedParts)&&(je(de,ce),ce.subscribers.forEach(function(Se){return P.add(Se)}));else if(0<z.length){q.optimisticOps=q.optimisticOps.filter(function(Se){return Se.trans!==k});for(var ue=0,he=Object.values(q.queries.query);ue<he.length;ue++)for(var de,ce,we,ye=0,fe=(de=he[ue]).slice();ye<fe.length;ye++)(ce=fe[ye]).res!=null&&k.mutatedParts&&(D&&!ce.dirty?(we=Object.isFrozen(ce.res),we=Tl(ce.res,ce.req,z,U,ce,we),ce.dirty?(je(de,ce),ce.subscribers.forEach(function(Se){return P.add(Se)})):we!==ce.res&&(ce.res=we,ce.promise=me.resolve({result:we}))):(ce.dirty&&je(de,ce),ce.subscribers.forEach(function(Se){return P.add(Se)})))}}}P.forEach(function(Se){return Se()})}}})(!1),{signal:w}),k.addEventListener("error",A(!1),{signal:w}),k.addEventListener("complete",A(!0),{signal:w})),k},table:function(p){var g=o.table(p),w=g.schema.primaryKey;return l(l({},g),{mutate:function(S){var A,k=be.trans;return!w.outbound&&k.db._options.cache!=="disabled"&&!k.explicit&&k.idbtrans.mode==="readwrite"&&(A=Ka["idb://".concat(d,"/").concat(p)])?(k=g.mutate(S),S.type!=="add"&&S.type!=="put"||!(50<=S.values.length||os(w,S).some(function(D){return D==null}))?(A.optimisticOps.push(S),S.mutatedParts&&ss(S.mutatedParts),k.then(function(D){0<D.numFailures&&(je(A.optimisticOps,S),(D=Po(0,S,D))&&A.optimisticOps.push(D),S.mutatedParts)&&ss(S.mutatedParts)}),k.catch(function(){je(A.optimisticOps,S),S.mutatedParts&&ss(S.mutatedParts)})):k.then(function(D){var P=Po(0,l(l({},S),{values:S.values.map(function(M,N){var B;return D.failures[N]?M:(pe(B=(B=w.keyPath)!=null&&B.includes(".")?pn(M):l({},M),w.keyPath,D.results[N]),B)})}),D);A.optimisticOps.push(P),queueMicrotask(function(){return S.mutatedParts&&ss(S.mutatedParts)})}),k):g.mutate(S)},query:function(S){var A,k,D,P,M,N,B;return Ga(be,g)&&$o("query",S)?(A=((D=be.trans)==null?void 0:D.db._options.cache)==="immutable",k=(D=be).requery,D=D.signal,N=((q,U,z,G)=>{var Q=Ka["idb://".concat(q,"/").concat(U)];if(!Q)return[];if(!(q=Q.queries[z]))return[null,!1,Q,null];var K=q[(G.query?G.query.index.name:null)||""];if(!K)return[null,!1,Q,null];switch(z){case"query":var te=K.find(function(ue){return ue.req.limit===G.limit&&ue.req.values===G.values&&Tr(ue.req.query.range,G.query.range)});return te?[te,!0,Q,K]:[K.find(function(ue){return("limit"in ue.req?ue.req.limit:1/0)>=G.limit&&(!G.values||ue.req.values)&&Si(ue.req.query.range,G.query.range)}),!1,Q,K];case"count":return te=K.find(function(ue){return Tr(ue.req.query.range,G.query.range)}),[te,!!te,Q,K]}})(d,p,"query",S),B=N[0],P=N[2],M=N[3],B&&N[1]?B.obsSet=S.obsSet:(N=g.query(S).then(function(q){var U=q.result;if(B&&(B.res=U),A){for(var z=0,G=U.length;z<G;++z)Object.freeze(U[z]);Object.freeze(U)}else q.result=pn(U);return q}).catch(function(q){return M&&B&&je(M,B),Promise.reject(q)}),B={obsSet:S.obsSet,promise:N,subscribers:new Set,type:"query",req:S,dirty:!1},M?M.push(B):(M=[B],(P=P||(Ka["idb://".concat(d,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[S.query.index.name||""]=M)),Oc(B,M,k,D),B.promise.then(function(q){return{result:Tl(q.result,S,P?.optimisticOps,g,B,A)}})):g.query(S)}})}})}};function xi(o,d){return new Proxy(o,{get:function(p,g,w){return g==="db"?d:Reflect.get(p,g,w)}})}St.prototype.version=function(o){if(isNaN(o)||o<.1)throw new Oe.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var d=this._versions,p=d.filter(function(g){return g._cfg.version===o})[0];return p||(p=new this.Version(o),d.push(p),d.sort(ml),p.stores({}),this._state.autoSchema=!1),p},St.prototype._whenReady=function(o){var d=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?o():new me(function(p,g){if(d._state.openComplete)return g(new Oe.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void g(new Oe.DatabaseClosed);d.open().catch(tt)}d._state.dbReadyPromise.then(p,g)}).then(o)},St.prototype.use=function(w){var d=w.stack,p=w.create,g=w.level,w=w.name,S=(w&&this.unuse({stack:d,name:w}),this._middlewares[d]||(this._middlewares[d]=[]));return S.push({stack:d,create:p,level:g??10,name:w}),S.sort(function(A,k){return A.level-k.level}),this},St.prototype.unuse=function(o){var d=o.stack,p=o.name,g=o.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(w){return g?w.create!==g:!!p&&w.name!==p})),this},St.prototype.open=function(){var o=this;return kn(Wt,function(){return xc(o)})},St.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,d=Ua.indexOf(this);if(0<=d&&Ua.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new me(function(p){o.dbReadyResolve=p}),o.openCanceller=new me(function(p,g){o.cancelOpen=g}))},St.prototype.close=function(d){var d=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,p=this._state;d?(p.isBeingOpened&&p.cancelOpen(new Oe.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new Oe.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},St.prototype.delete=function(o){var d=this,p=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),g=this._state;return new me(function(w,S){function A(){d.close(o);var k=d._deps.indexedDB.deleteDatabase(d.name);k.onsuccess=yt(function(){var D,P,M;D=d._deps,P=d.name,as(M=D.indexedDB)||P===fi||yl(M,D.IDBKeyRange).delete(P).catch(tt),w()}),k.onerror=Rn(S),k.onblocked=d._fireOnBlocked}if(p)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(A):A()})},St.prototype.backendDB=function(){return this.idbdb},St.prototype.isOpen=function(){return this.idbdb!==null},St.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},St.prototype.hasFailed=function(){return this._state.dbOpenError!==null},St.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(St.prototype,"tables",{get:function(){var o=this;return m(this._allTables).map(function(d){return o._allTables[d]})},enumerable:!1,configurable:!0}),St.prototype.transaction=function(){var o=(function(d,p,g){var w=arguments.length;if(w<2)throw new Oe.InvalidArgument("Too few arguments");for(var S=new Array(w-1);--w;)S[w-1]=arguments[w];return g=S.pop(),[d,mn(S),g]}).apply(this,arguments);return this._transaction.apply(this,o)},St.prototype._transaction=function(o,d,p){var g,w,S=this,A=be.trans,k=(A&&A.db===this&&o.indexOf("!")===-1||(A=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(w=d.map(function(P){if(P=P instanceof S.Table?P.name:P,typeof P!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return P}),o=="r"||o===aa)g=aa;else{if(o!="rw"&&o!=_a)throw new Oe.InvalidArgument("Invalid transaction mode: "+o);g=_a}if(A){if(A.mode===aa&&g===_a){if(!k)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&w.forEach(function(P){if(A&&A.storeNames.indexOf(P)===-1){if(!k)throw new Oe.SubTransaction("Table "+P+" not included in parent transaction.");A=null}}),k&&A&&!A.active&&(A=null)}}catch(P){return A?A._promise(null,function(M,N){N(P)}):ft(P)}var D=(function P(M,N,B,q,U){return me.resolve().then(function(){var K=be.transless||be,z=M._createTransaction(N,B,M._dbSchema,q),K=(z.explicit=!0,{trans:z,transless:K});if(q)z.idbtrans=q.idbtrans;else try{z.create(),z.idbtrans._explicit=!0,M._state.PR1398_maxLoop=3}catch(te){return te.name===Kt.InvalidState&&M.isOpen()&&0<--M._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),M.close({disableAutoOpen:!1}),M.open().then(function(){return P(M,N,B,null,U)})):ft(te)}var G,Q=H(U),K=(Q&&Nt(),me.follow(function(){var te;(G=U.call(z,z))&&(Q?(te=gn.bind(null,null),G.then(te,te)):typeof G.next=="function"&&typeof G.throw=="function"&&(G=wi(G)))},K));return(G&&typeof G.then=="function"?me.resolve(G).then(function(te){return z.active?te:ft(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return G})).then(function(te){return q&&z._resolve(),z._completion.then(function(){return te})}).catch(function(te){return z._reject(te),ft(te)})})}).bind(null,this,g,w,A,p);return A?A._promise(g,D,"lock"):be.trans?kn(be.transless,function(){return S._whenReady(D)}):this._whenReady(D)},St.prototype.table=function(o){if(O(this._allTables,o))return this._allTables[o];throw new Oe.InvalidTable("Table ".concat(o," does not exist"))};var Gn=St;function St(o,d){var p,g,w,S,A,k=this,D=(this._middlewares={},this.verno=0,St.dependencies),D=(this._options=d=l({addons:St.addons,autoOpen:!0,indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},d.addons),P=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tt,dbReadyPromise:null,cancelOpen:tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen}),M=(P.dbReadyPromise=new me(function(N){P.dbReadyResolve=N}),P.openCanceller=new me(function(N,B){P.cancelOpen=B}),this._state=P,this.name=o,this.on=mi(this,"populate","blocked","versionchange","close",{ready:[ti,tt]}),this.once=function(N,B){var q=function(){for(var U=[],z=0;z<arguments.length;z++)U[z]=arguments[z];k.on(N).unsubscribe(q),B.apply(k,U)};return k.on(N,q)},this.on.ready.subscribe=re(this.on.ready.subscribe,function(N){return function(B,q){St.vip(function(){var U,z=k._state;z.openComplete?(z.dbOpenError||me.resolve().then(B),q&&N(B)):z.onReadyBeingFired?(z.onReadyBeingFired.push(B),q&&N(B)):(N(B),U=k,q||N(function G(){U.on.ready.unsubscribe(B),U.on.ready.unsubscribe(G)}))})}}),this.Collection=(p=this,Vt(_c.prototype,function(G,z){this.db=p;var q=ol,U=null;if(z)try{q=z()}catch(K){U=K}var z=G._ctx,G=z.table,Q=G.hook.reading.fire;this._ctx={table:G,index:z.index,isPrimKey:!z.index||G.schema.primKey.keyPath&&z.index===G.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:U,or:z.or,valueMapper:Q!==dr?Q:null}})),this.Table=(g=this,Vt(ul.prototype,function(N,B,q){this.db=g,this._tx=q,this.name=N,this.schema=B,this.hook=g._allTables[N]?g._allTables[N].hook:mi(null,{creating:[al,tt],reading:[Ca,dr],updating:[ko,tt],deleting:[gc,tt]})})),this.Transaction=(w=this,Vt(dl.prototype,function(N,B,q,U,z){var G=this;N!=="readonly"&&B.forEach(function(Q){Q=(Q=q[Q])==null?void 0:Q.yProps,Q&&(B=B.concat(Q.map(function(K){return K.updatesTable})))}),this.db=w,this.mode=N,this.storeNames=B,this.schema=q,this.chromeTransactionDurability=U,this.idbtrans=null,this.on=mi(this,"complete","error","abort"),this.parent=z||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new me(function(Q,K){G._resolve=Q,G._reject=K}),this._completion.then(function(){G.active=!1,G.on.complete.fire()},function(Q){var K=G.active;return G.active=!1,G.on.error.fire(Q),G.parent?G.parent._reject(Q):K&&G.idbtrans&&G.idbtrans.abort(),ft(Q)})})),this.Version=(S=this,Vt(Sc.prototype,function(N){this.db=S,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(A=this,Vt(La.prototype,function(N,B,q){if(this.db=A,this._ctx={table:N,index:B===":id"?null:B,or:q},this._cmp=this._ascending=Ke,this._descending=function(U,z){return Ke(z,U)},this._max=function(U,z){return 0<Ke(U,z)?U:z},this._min=function(U,z){return Ke(U,z)<0?U:z},this._IDBKeyRange=A._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(k.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(k.name,"'. Closing db now to resume the delete request.")),k.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(k.name,"') was blocked")):console.warn("Upgrade '".concat(k.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=wr(d.IDBKeyRange),this._createTransaction=function(N,B,q,U){return new k.Transaction(N,B,q,k._options.chromeTransactionDurability,U)},this._fireOnBlocked=function(N){k.on("blocked").fire(N),Ua.filter(function(B){return B.name===k.name&&B!==k&&!B._state.vcFired}).map(function(B){return B.on("versionchange").fire(N)})},this.use(Ho),this.use(cs),this.use(Tc),this.use(Ec),this.use(qo),new Proxy(this,{get:function(N,B,q){var U;return B==="_vip"||(B==="table"?function(z){return xi(k.table(z),M)}:(U=Reflect.get(N,B,q))instanceof ul?xi(U,M):B==="tables"?U.map(function(z){return xi(z,M)}):B==="_createTransaction"?function(){return xi(U.apply(this,arguments),M)}:U)}}));this.vip=M,D.forEach(function(N){return N(k)})}var Or,Ya=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ko=(fs.prototype.subscribe=function(o,d,p){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:d,complete:p})},fs.prototype[Ya]=function(){return this},fs);function fs(o){this._subscribe=o}try{Or={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{Or={indexedDB:null,IDBKeyRange:null}}function Go(o){var d,p=!1,g=new Ko(function(w){var S=H(o),A,k=!1,D={},P={},M={get closed(){return k},unsubscribe:function(){k||(k=!0,A&&A.abort(),N&&It.storagemutated.unsubscribe(q))}},N=(w.start&&w.start(M),!1),B=function(){return ba(U)},q=function(z){is(D,z),_l(P,D)&&B()},U=function(){var z,G,Q;!k&&Or.indexedDB&&(D={},z={},A&&A.abort(),A=new AbortController,Q=(K=>{var te=ya();try{S&&Nt();var ue=vt(o,K);return ue=S?ue.finally(gn):ue}finally{te&&Hn()}})(G={subscr:z,signal:A.signal,requery:B,querier:o,trans:null}),Promise.resolve(Q).then(function(K){p=!0,d=K,k||G.signal.aborted||(D={},(te=>{for(var ue in te)if(O(te,ue))return;return 1})(P=z)||N||(It(br,q),N=!0),ba(function(){return!k&&w.next&&w.next(K)}))},function(K){p=!1,["DatabaseClosedError","AbortError"].includes(K?.name)||k||ba(function(){k||w.error&&w.error(K)})}))};return setTimeout(B,0),M});return g.hasValue=function(){return p},g.getValue=function(){return d},g}var Va=Gn;function Ol(o){var d=Ea;try{Ea=!0,It.storagemutated.fire(o),xl(o,!0)}finally{Ea=d}}C(Va,l(l({},ie),{delete:function(o){return new Va(o,{addons:[]}).delete()},exists:function(o){return new Va(o,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return d=Va.dependencies,p=d.indexedDB,d=d.IDBKeyRange,(as(p)?Promise.resolve(p.databases()).then(function(g){return g.map(function(w){return w.name}).filter(function(w){return w!==fi})}):yl(p,d).toCollection().primaryKeys()).then(o)}catch{return ft(new Oe.MissingAPI)}var d,p},defineClass:function(){return function(o){v(this,o)}},ignoreTransaction:function(o){return be.trans?kn(be.transless,o):o()},vip:gl,async:function(o){return function(){try{var d=wi(o.apply(this,arguments));return d&&typeof d.then=="function"?d:me.resolve(d)}catch(p){return ft(p)}}},spawn:function(o,d,p){try{var g=wi(o.apply(p,d||[]));return g&&typeof g.then=="function"?g:me.resolve(g)}catch(w){return ft(w)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(o,d){return o=me.resolve(typeof o=="function"?Va.ignoreTransaction(o):o).timeout(d||6e4),be.trans?be.trans.waitFor(o):o},Promise:me,debug:{get:function(){return _n},set:function(o){jo(o)}},derive:W,extend:v,props:C,override:re,Events:mi,on:It,liveQuery:Go,extendObservabilitySet:is,getByKeyPath:Ae,setByKeyPath:pe,delByKeyPath:function(o,d){typeof d=="string"?pe(o,d,void 0):"length"in d&&[].map.call(d,function(p){pe(o,p,void 0)})},shallowClone:et,deepClone:pn,getObjectDiff:ls,cmp:Ke,asap:Ue,minKey:-1/0,addons:[],connections:Ua,errnames:Kt,dependencies:Or,cache:Ka,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,d,p){return o+d/Math.pow(10,2*p)})})),Va.maxKey=wr(Va.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(It(br,function(o){Ea||(o=new CustomEvent(Ha,{detail:o}),Ea=!0,dispatchEvent(o),Ea=!1)}),addEventListener(Ha,function(o){o=o.detail,Ea||Ol(o)}));var Ar,Ea=!1,fn=function(){};return typeof BroadcastChannel<"u"&&((fn=function(){(Ar=new BroadcastChannel(Ha)).onmessage=function(o){return o.data&&Ol(o.data)}})(),typeof Ar.unref=="function"&&Ar.unref(),It(br,function(o){Ea||Ar.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!Gn.disableBfCache&&o.persisted){_n&&console.debug("Dexie: handling persisted pagehide"),Ar?.close();for(var d=0,p=Ua;d<p.length;d++)p[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!Gn.disableBfCache&&o.persisted&&(_n&&console.debug("Dexie: handling persisted pageshow"),fn(),Ol({all:new Xt(-1/0,[[]])}))})),me.rejectionMapper=function(o,d){return!o||o instanceof xe||o instanceof TypeError||o instanceof SyntaxError||!o.name||!ei[o.name]?o:(d=new ei[o.name](d||o.message,o),"stack"in o&&Y(d,"stack",{get:function(){return this.inner.stack}}),d)},jo(_n),l(Gn,Object.freeze({__proto__:null,Dexie:Gn,Entity:Co,PropModification:vr,RangeSet:Xt,add:function(o){return new vr({add:o})},cmp:Ke,default:Gn,liveQuery:Go,mergeRanges:Pa,rangesOverlap:zo,remove:function(o){return new vr({remove:o})},replacePrefix:function(o,d){return new vr({replacePrefix:[o,d]})}}),{default:Gn}),Gn})})(nc)),nc.exports}var K1=P1();const Kh=Gh(K1),Yy=Symbol.for("Dexie"),lc=globalThis[Yy]||(globalThis[Yy]=Kh);if(Kh.semVer!==lc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Kh.semVer} and ${lc.semVer}`);const{liveQuery:wE,mergeRanges:SE,rangesOverlap:xE,RangeSet:EE,cmp:TE,Entity:OE,PropModification:AE,replacePrefix:kE,add:jE,remove:RE,DexieYProvider:CE}=lc;class G1 extends lc{user_profile;body_metrics;athlete_levels_lookup;athlete_level;equipment;muscles;exercises;exercise_muscles;exercise_equipment;routines;routine_exercises;personal_record;workouts;workout_logs;athlete_progress;constructor(){super("TrackFitDB"),this.version(1).stores({user_profile:"user_id, role",body_metrics:"[user_id+logdate], user_id, logdate",athlete_levels_lookup:"id, &level_name",athlete_level:"user_id",equipment:"id, &name",muscles:"id, name, parent",exercises:"id, name, added_by",exercise_muscles:"[exercise_id+muscle_id], muscle_id",exercise_equipment:"[exercise_id+equipment_id], equipment_id",routines:"id, name, created_by",routine_exercises:"[routine_id+exercise_id], exercise_id",personal_record:"[user_id+exercise_id+record_date], user_id, exercise_id",workouts:"id, user_id, routine_id, start_time",workout_logs:"id, workout_id, exercise_id, set_number, [workout_id+exercise_id+set_number]",athlete_progress:"user_id, current_level, level_points, level_completion_percent, points_remaining, avg_weekly_gain, estimated_weeks_to_next_level"})}}const sn=new G1,qg=I.createContext(void 0),Y1=({children:r})=>{const[n,i]=I.useState(null),[l,c]=I.useState(null),[f,m]=I.useState(!0),y=async x=>{l||m(!0);try{let O=await sn.user_profile.get(x);if(!O){const{data:C}=await fa.from("user_profile").select("*").eq("user_id",x).single();C&&(await sn.user_profile.put(C),O=C)}c(O||null)}catch(O){console.error("Data Loader Error:",O),c(null)}finally{m(!1)}};I.useEffect(()=>{const{data:{subscription:x}}=fa.auth.onAuthStateChange(async(O,C)=>{C?.user?(i(C.user.id),await y(C.user.id)):(i(null),c(null),m(!1))});return()=>x.unsubscribe()},[]);const v=async()=>{n&&await y(n)},_=async()=>{await fa.auth.signOut(),await sn.delete(),window.location.href="/fitnex/login"};return T.jsx(qg.Provider,{value:{user_id:n,profile:l,loading:f,signOut:_,setProfile:c,refreshProfile:v},children:r})},nl=()=>{const r=I.useContext(qg);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},Xs=({label:r,...n})=>T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1 ml-1",children:r}),T.jsx("input",{...n,className:"w-full h-12 bg-slate-900 border border-slate-800 rounded-xl px-4 focus:outline-none focus:ring-2 focus:ring-brand transition-all"})]}),Vy="/fitnex/logo.webp",V1=()=>{const r=el(),[n,i]=I.useState(""),[l,c]=I.useState(""),[f,m]=I.useState(!1),[y,v]=I.useState(null),_=async x=>{x.preventDefault(),m(!0),v(null);const{error:O}=await fa.auth.signInWithPassword({email:n,password:l});O?(v(O.message),m(!1)):r("/dashboard",{replace:!0})};return T.jsx("div",{className:"safe-ios-top h-screen w-full bg-black overflow-hidden animate-login",children:T.jsxs("div",{className:"h-full w-full flex flex-col lg:flex-row",children:[T.jsx("div",{className:"hidden lg:flex w-1/2 items-center justify-center bg-gradient-to-br from-brand to-brand/70",children:T.jsxs("div",{className:"flex flex-col items-center text-black space-y-3",children:[T.jsx("img",{src:Vy,className:"w-[300px]"}),T.jsx("h1",{className:"text-4xl font-black tracking-tight",children:"TRACK-FIT"}),T.jsx("p",{className:"tracking-[0.35em] font-bold opacity-70",children:"PRO EDITION"})]})}),T.jsxs("div",{className:"flex lg:hidden h-full flex-col items-center justify-center px-6",children:[T.jsx("img",{src:Vy,className:"w-56 mb-6"}),T.jsxs("div",{className:"w-full max-w-sm",children:[T.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),T.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx("div",{className:"h-px flex-1 bg-white/10"}),T.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),T.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),T.jsxs("form",{onSubmit:_,className:"space-y-4",children:[T.jsx(Xs,{label:"Email Address",type:"email",value:n,onChange:x=>i(x.target.value),placeholder:"name@example.com",required:!0}),T.jsx(Xs,{label:"Password",type:"password",value:l,onChange:x=>c(x.target.value),placeholder:"",required:!0}),y&&T.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),T.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})]}),T.jsx("div",{className:"hidden lg:flex flex-1 items-center justify-center px-6",children:T.jsxs("div",{className:"w-full max-w-sm",children:[T.jsx("h1",{className:"text-2xl font-black text-center mb-2",children:"Welcome Back"}),T.jsx("p",{className:"text-center text-slate-400 text-sm mb-4",children:"Sign in to track your progress"}),T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx("div",{className:"h-px flex-1 bg-white/10"}),T.jsx("div",{className:"w-2 h-2 rounded-full bg-brand"}),T.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),T.jsxs("form",{onSubmit:_,className:"space-y-4",children:[T.jsx(Xs,{label:"Email Address",type:"email",value:n,onChange:x=>i(x.target.value),placeholder:"name@example.com",required:!0}),T.jsx(Xs,{label:"Password",type:"password",value:l,onChange:x=>c(x.target.value),placeholder:"",required:!0}),y&&T.jsx("p",{className:"text-red-500 text-[10px] font-black uppercase tracking-widest ml-1 bg-red-500/10 p-2 rounded-lg border border-red-500/20",children:y}),T.jsx("button",{disabled:f,className:"w-full h-14 bg-brand text-white font-black uppercase italic rounded-2xl mt-6 active:scale-[0.98] transition-all disabled:opacity-50 shadow-xl shadow-brand/20",children:f?"Authenticating...":"Sign In"})]})]})})]})})},I1=()=>({saveOnboarding:async(n,i,l,c,f)=>{const m=new Date().toISOString().split("T")[0],y=new Date().toISOString(),{data:v,error:_}=await fa.from("user_profile").upsert(n,{onConflict:"user_id"}).select().single();if(_||!v)throw _;const x={user_id:v.user_id,logdate:m,weight:i,height:l,created_at:y,updated_at:y},{error:O}=await fa.from("body_metrics").upsert(x,{onConflict:"user_id,logdate"});if(O)throw O;const C={user_id:v.user_id,current_level:c,level_points:f,updated_date:new Date().toISOString().split("T")[0]},{error:j}=await fa.from("athlete_level").upsert(C,{onConflict:"user_id"});if(j)throw j;return await sn.transaction("rw",[sn.user_profile,sn.body_metrics,sn.athlete_level],async()=>{await sn.user_profile.put(v),await sn.body_metrics.put(x),await sn.athlete_level.put(C)}),v}});const Hg=(...r)=>r.filter((n,i,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===i).join(" ").trim();const X1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Q1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,l)=>l?l.toUpperCase():i.toLowerCase());const Iy=r=>{const n=Q1(r);return n.charAt(0).toUpperCase()+n.slice(1)};var J1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W1=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const Z1=I.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:m,...y},v)=>I.createElement("svg",{ref:v,...J1,width:n,height:n,stroke:r,strokeWidth:l?Number(i)*24/Number(n):i,className:Hg("lucide",c),...!f&&!W1(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,x])=>I.createElement(_,x)),...Array.isArray(f)?f:[f]]));const _t=(r,n)=>{const i=I.forwardRef(({className:l,...c},f)=>I.createElement(Z1,{ref:f,iconNode:n,className:Hg(`lucide-${X1(Iy(r))}`,`lucide-${r}`,l),...c}));return i.displayName=Iy(r),i};const F1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eS=_t("arrow-left",F1);const tS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nS=_t("calendar",tS);const aS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],rS=_t("chart-no-axes-column",aS);const iS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sS=_t("chevron-left",iS);const lS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$g=_t("chevron-right",lS);const oS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uS=_t("circle-check",oS);const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],fS=_t("circle-user",cS);const hS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dS=_t("clipboard-list",hS);const mS=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Pg=_t("dumbbell",mS);const pS=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],yS=_t("heart",pS);const gS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vS=_t("house",gS);const bS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_S=_t("loader-circle",bS);const wS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kg=_t("log-out",wS);const SS=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],xS=_t("palette",SS);const ES=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Gg=_t("ruler",ES);const TS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OS=_t("settings",TS);const AS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Yg=_t("sparkles",AS);const kS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jS=_t("star",kS);const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],CS=_t("target",RS);const NS=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],DS=_t("timer",NS);const MS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ao=_t("trophy",MS);const US=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xo=_t("user",US);const zS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],BS=_t("users",zS);const LS=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],qS=_t("wind",LS);const HS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$S=_t("x",HS);const PS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],td=_t("zap",PS),KS=({value:r,onChange:n})=>{const i=[{id:"male",label:"Male",icon:T.jsx(xo,{size:32})},{id:"female",label:"Female",icon:T.jsx(fS,{size:32})},{id:"other",label:"Other",icon:T.jsx(BS,{size:32})}];return T.jsx("div",{className:"grid grid-cols-1 gap-4 w-full",children:i.map(l=>T.jsxs("button",{type:"button",onClick:()=>n(l.id),className:`flex items-center gap-6 p-6 rounded-3xl border-2 transition-all active:scale-95 ${r===l.id?"border-brand bg-brand/10 text-brand":"border-slate-800 bg-slate-900/50 text-slate-500"}`,children:[T.jsx("div",{className:`p-4 rounded-2xl ${r===l.id?"bg-brand text-white shadow-lg shadow-brand/30":"bg-slate-800"}`,children:l.icon}),T.jsx("span",{className:"text-xl font-bold uppercase tracking-tight",children:l.label})]},l.id))})},kh=({min:r,max:n,value:i,onChange:l,unit:c})=>{const f=I.useRef(null),m=20,y=()=>{if(!f.current)return;const{scrollLeft:v}=f.current,_=Math.round(v/m),x=r+_;x!==i&&x>=r&&x<=n&&l(x)};return I.useEffect(()=>{f.current&&(f.current.scrollLeft=(i-r)*m)},[]),T.jsxs("div",{className:"flex flex-col items-center w-full py-6 select-none overflow-hidden",children:[T.jsxs("div",{className:"text-7xl font-black mb-4 flex items-baseline gap-2 tabular-nums",children:[i," ",T.jsx("span",{className:"text-2xl text-brand font-bold uppercase",children:c})]}),T.jsxs("div",{className:"relative w-full h-32 flex items-center justify-center",children:[T.jsx("div",{className:"absolute inset-0 flex justify-center pointer-events-none z-20",children:T.jsx("div",{className:"w-1.5 h-24 bg-brand rounded-full shadow-[0_0_20px_rgba(14,165,233,0.8)]"})}),T.jsxs("div",{ref:f,onScroll:y,className:"w-full flex overflow-x-auto snap-x snap-mandatory no-scrollbar",children:[T.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginLeft:`-${m/2}px`}}),Array.from({length:n-r+1},(v,_)=>r+_).map(v=>T.jsxs("div",{className:"flex flex-col items-center justify-end flex-shrink-0 snap-center z-10",style:{width:`${m}px`},children:[T.jsx("div",{className:`w-1 rounded-full mb-3 transition-all duration-150 ${v===i?"bg-brand h-20 opacity-100 scale-x-150":v%5===0?"h-10 bg-slate-500 opacity-60":"h-6 bg-slate-800 opacity-40"}`}),v%5===0&&T.jsx("span",{className:`text-[10px] font-black transition-colors ${v===i?"text-brand":"text-slate-600"}`,children:v})]},v)),T.jsx("div",{className:"flex-shrink-0 w-[50%]",style:{marginRight:`-${m/2}px`}})]})]})]})},GS=({value:r,onChange:n})=>{const[i,l]=I.useState([]);I.useEffect(()=>{(async()=>{const{data:m}=await fa.from("athlete_levels_lookup").select("*").eq("status",!0).order("display_order",{ascending:!0});m&&l(m)})()},[]);const c=f=>{const m=Math.floor(f/2);if(m===0)return"Beginner";if(m<30)return`${m} Day${m>1?"s":""} Experience`;const y=Math.floor(m/30.44);if(y<12)return`${y} Month${y>1?"s":""} Experience`;const v=Math.floor(y/12),_=y%12;return _===0?`${v} Year${v>1?"s":""} Experience`:`${v}y ${_}m Experience`};return T.jsxs("div",{className:"relative w-full h-[380px]",children:[T.jsx("div",{className:"h-full overflow-y-auto pr-2 space-y-4 no-scrollbar pb-10",children:i.map(f=>T.jsxs("button",{onClick:()=>n(f.level_name,f.min_points),className:`w-full flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-95 text-left ${r===f.level_name?"border-brand bg-brand/10 shadow-lg":"border-slate-800 bg-slate-900/40"}`,children:[T.jsx("div",{className:`p-3 rounded-2xl ${r===f.level_name?"bg-brand text-white":"bg-slate-800 text-slate-500"}`,children:f.multiplier>1.8?T.jsx(Ao,{size:24}):f.multiplier>1.2?T.jsx(jS,{size:24}):T.jsx(td,{size:24})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("span",{className:`text-lg font-black block uppercase tracking-tight ${r===f.level_name?"text-white":"text-slate-300"}`,children:f.level_name}),T.jsx("span",{className:"text-[11px] text-slate-500 font-bold uppercase tracking-wider",children:c(f.min_points)})]})]},f.id))}),T.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black to-transparent pointer-events-none"})]})},YS=()=>{const{user_id:r,refreshProfile:n}=nl(),{saveOnboarding:i}=I1(),[l,c]=I.useState(1),[f,m]=I.useState(!1),[y,v]=I.useState({name:"",gender:"male",birthdate:"",height:175,current_weight:80,target_weight:75,target_workout_days:4,selected_level:"Novice",initial_points:0}),_=I.useMemo(()=>{const j=y.height/100,Y=parseFloat((y.current_weight/(j*j)).toFixed(1));return Y<18.5?{val:Y,label:"Underweight",color:"text-yellow-500"}:Y<25?{val:Y,label:"Healthy",color:"text-brand"}:Y<30?{val:Y,label:"Overweight",color:"text-orange-500"}:{val:Y,label:"Obese",color:"text-red-500"}},[y.height,y.current_weight]),x=y.current_weight-y.target_weight,O=I.useMemo(()=>x>0?`That's a ${x}kg loss plan!`:x<0?`Targeting a ${Math.abs(x)}kg gain!`:"Staying steady and strong!",[x]),C=async()=>{if(r){m(!0);try{await i({user_id:r,name:y.name,gender:y.gender,birthdate:y.birthdate,target_weight:y.target_weight,target_days_per_week:y.target_workout_days,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},y.current_weight,y.height,y.selected_level,y.initial_points),await n()}catch(j){console.error("Onboarding Error:",j)}finally{m(!1)}}};return T.jsxs("div",{className:"flex flex-col h-screen bg-transparent text-white pt-safe overflow-hidden",children:[T.jsx("div",{className:"flex-none h-1 w-full bg-slate-900/30",children:T.jsx("div",{className:"h-full bg-brand transition-all duration-700 shadow-[0_0_15px_#0ea5e9]",style:{width:`${l/6*100}%`}})}),T.jsx("div",{className:"flex-1 overflow-y-auto touch-pan-y no-scrollbar px-8 pt-8",children:T.jsxs("div",{className:"min-h-full flex flex-col",children:[l===1&&T.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[T.jsxs("header",{className:"space-y-1",children:[T.jsxs("h1",{className:"text-4xl font-black uppercase leading-tight italic tracking-tighter",children:["First, ",T.jsx("br",{})," the ",T.jsx("span",{className:"text-brand",children:"Basics"})]}),T.jsx("p",{className:"text-slate-400 font-medium italic",children:"What should we call you?"})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsx(Xs,{label:"FULL NAME",value:y.name,onChange:j=>v({...y,name:j.target.value}),placeholder:"John Doe"}),T.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Gender"}),T.jsx(KS,{value:y.gender,onChange:j=>v({...y,gender:j})}),T.jsx("p",{className:"text-slate-500 font-black uppercase text-[10px] tracking-widest ml-1",children:"Birthday"}),T.jsx(Xs,{label:"BIRTH DATE",type:"date",value:y.birthdate,onChange:j=>v({...y,birthdate:j.target.value})})]})]}),l===2&&T.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[T.jsx(Yg,{className:"mx-auto mb-4 text-brand animate-pulse",size:32}),T.jsxs("h1",{className:"text-3xl font-black uppercase italic tracking-tight",children:["Nice to meet you, ",T.jsx("br",{}),T.jsxs("span",{className:"text-brand",children:[y.name.split(" ")[0]||"Athlete","!"]})]}),T.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"How tall are you?"}),T.jsx(kh,{min:100,max:250,value:y.height,unit:"cm",onChange:j=>v({...y,height:j})})]}),l===3&&T.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[T.jsx("h1",{className:"text-3xl font-black uppercase italic text-white tracking-tight",children:"Current Weight"}),T.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"Your starting point today"}),T.jsx(kh,{min:30,max:200,value:y.current_weight,unit:"kg",onChange:j=>v({...y,current_weight:j})}),T.jsxs("div",{className:"mt-8 bg-slate-900/40 border border-slate-800 p-6 rounded-[2rem] flex justify-between items-center backdrop-blur-md",children:[T.jsxs("div",{className:"text-left",children:[T.jsx("p",{className:"text-[10px] text-slate-500 font-black uppercase tracking-widest",children:"BMI Index"}),T.jsx("p",{className:`text-lg font-black italic ${_.color}`,children:_.label})]}),T.jsx("div",{className:"text-5xl font-black italic tabular-nums text-white",children:_.val})]})]}),l===4&&T.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[T.jsx(CS,{className:"mx-auto mb-4 text-brand",size:40}),T.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Target Weight"}),T.jsx("p",{className:"text-slate-400 font-medium mb-10 italic",children:"What is your dream goal?"}),T.jsx(kh,{min:30,max:200,value:y.target_weight,unit:"kg",onChange:j=>v({...y,target_weight:j})}),T.jsx("div",{className:"mt-8 py-3 px-8 bg-brand/10 border border-brand/20 rounded-full inline-block mx-auto animate-in zoom-in duration-500",children:T.jsx("span",{className:"text-brand font-black uppercase tracking-tighter text-xs italic",children:O})})]}),l===5&&T.jsxs("div",{className:"flex-1 flex flex-col justify-center text-center py-6",children:[T.jsx("h1",{className:"text-4xl font-black uppercase mb-4 leading-tight italic",children:"Commitment"}),T.jsx("p",{className:"text-slate-400 font-medium mb-12 italic",children:"How many days a week will you train?"}),T.jsx("div",{className:"flex justify-between items-center bg-slate-900/40 p-6 rounded-[2.5rem] border border-slate-800",children:[1,2,3,4,5,6,7].map(j=>T.jsx("button",{onClick:()=>v({...y,target_workout_days:j}),className:`w-10 h-10 rounded-full font-black transition-all ${y.target_workout_days===j?"bg-brand text-white scale-125 shadow-lg shadow-brand/40":"text-slate-600"}`,children:j},j))})]}),l===6&&T.jsxs("div",{className:"flex-1 flex flex-col justify-center py-6",children:[T.jsxs("header",{className:"text-center mb-8",children:[T.jsx(Ao,{className:"mx-auto mb-2 text-brand",size:32}),T.jsx("h1",{className:"text-3xl font-black uppercase italic",children:"Experience"}),T.jsx("p",{className:"text-slate-400 font-medium italic",children:"Where should we start you off?"})]}),T.jsx(GS,{value:y.selected_level,onChange:(j,Y)=>v({...y,selected_level:j,initial_points:Y})})]}),T.jsx("div",{className:"h-6 flex-none"})]})}),T.jsxs("footer",{className:"flex-none px-8 pt-2 pb-10 flex gap-3 bg-transparent mt-auto",children:[l>1&&T.jsx("button",{onClick:()=>c(j=>j-1),className:"h-14 w-14 bg-slate-900/80 rounded-2xl border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:T.jsx(sS,{size:24})}),T.jsx("button",{onClick:l===6?C:()=>c(j=>j+1),disabled:f||l===1&&!y.name,className:"h-14 flex-1 bg-brand text-white rounded-2xl font-black uppercase tracking-widest italic shadow-lg shadow-brand/20 active:scale-[0.98] transition-all disabled:opacity-30",children:f?T.jsx(_S,{className:"animate-spin"}):T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx("span",{children:l===6?"Finish":"Continue"}),l<6&&T.jsx($g,{size:18,strokeWidth:3})]})})]})]})},Vg=I.createContext(void 0),VS=({children:r})=>{const[n,i]=I.useState(!1),l=()=>i(!0),c=()=>i(!1);return T.jsx(Vg.Provider,{value:{isSidebarOpen:n,openSidebar:l,closeSidebar:c},children:r})},Ig=()=>{const r=I.useContext(Vg);if(!r)throw new Error("useUI must be used within UIProvider");return r},IS=()=>{const{profile:r,user_id:n}=nl(),{openSidebar:i}=Ig(),[l,c]=I.useState(null),f=()=>{const y=new Date().getHours();return y<12?"Good morning,":y<17?"Good afternoon,":"Good evening,"};I.useEffect(()=>{(async()=>{if(n){const v=await sn.athlete_progress.get(n);v&&c(v)}})()},[n]);const m=r?.name?r.name.split(" ")[0].charAt(0).toUpperCase()+r.name.split(" ")[0].slice(1).toLowerCase():"Athlete";return T.jsxs("header",{className:"pt-4 pb-4 space-y-6 ios-no-top",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsxs("p",{className:"flex items-center gap-1.5 text-brand font-black italic text-[11px] uppercase tracking-widest animate-pulse",children:[T.jsx(Yg,{size:12,strokeWidth:3}),f()]}),T.jsxs("h1",{className:"text-2xl font-black text-white tracking-tight",children:[m,"!"]})]}),T.jsx("button",{className:"w-12 h-12 rounded-2xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 active:scale-90 transition-all",children:T.jsx(nS,{size:22})})]}),T.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-5 rounded-[2.5rem] text-left transition-all active:scale-[0.98]",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-brand/10 rounded-xl",children:T.jsx(Ao,{size:20,className:"text-brand"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Athlete Rank"}),T.jsx("p",{className:"text-lg font-black text-white uppercase italic",children:l?.current_level||"Novice"})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none",children:"Points"}),T.jsx("p",{className:"text-lg font-black text-brand italic",children:l?.level_points||0})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-tighter",children:[T.jsx("span",{className:"text-slate-400",children:"Progress to next rank"}),T.jsxs("span",{className:"text-brand",children:[l?.level_completion_percent||0,"%"]})]}),T.jsx("div",{className:"h-2 w-full bg-black rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-brand transition-all duration-1000 shadow-[0_0_12px_#0ea5e9]",style:{width:`${l?.level_completion_percent||0}%`}})})]})]})]})},Xg=6048e5,XS=864e5,Xy=Symbol.for("constructDateFrom");function fr(r,n){return typeof r=="function"?r(n):r&&typeof r=="object"&&Xy in r?r[Xy](n):r instanceof Date?new r.constructor(n):new Date(n)}function Fn(r,n){return fr(n||r,r)}function QS(r,n,i){const l=Fn(r,i?.in);return isNaN(n)?fr(r,NaN):(n&&l.setDate(l.getDate()+n),l)}let JS={};function yc(){return JS}function Js(r,n){const i=yc(),l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=Fn(r,n?.in),f=c.getDay(),m=(f<l?7:0)+f-l;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function oc(r,n){return Js(r,{...n,weekStartsOn:1})}function Qg(r,n){const i=Fn(r,n?.in),l=i.getFullYear(),c=fr(i,0);c.setFullYear(l+1,0,4),c.setHours(0,0,0,0);const f=oc(c),m=fr(i,0);m.setFullYear(l,0,4),m.setHours(0,0,0,0);const y=oc(m);return i.getTime()>=f.getTime()?l+1:i.getTime()>=y.getTime()?l:l-1}function Qy(r){const n=Fn(r),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+r-+i}function Jg(r,...n){const i=fr.bind(null,n.find(l=>typeof l=="object"));return n.map(i)}function uc(r,n){const i=Fn(r,n?.in);return i.setHours(0,0,0,0),i}function WS(r,n,i){const[l,c]=Jg(i?.in,r,n),f=uc(l),m=uc(c),y=+f-Qy(f),v=+m-Qy(m);return Math.round((y-v)/XS)}function ZS(r,n){const i=Qg(r,n),l=fr(r,0);return l.setFullYear(i,0,4),l.setHours(0,0,0,0),oc(l)}function Jy(r,n,i){const[l,c]=Jg(i?.in,r,n);return+uc(l)==+uc(c)}function FS(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function ex(r){return!(!FS(r)&&typeof r!="number"||isNaN(+Fn(r)))}function tx(r,n){const i=Fn(r,n?.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const nx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ax=(r,n,i)=>{let l;const c=nx[r];return typeof c=="string"?l=c:n===1?l=c.one:l=c.other.replace("{{count}}",n.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+l:l+" ago":l};function jh(r){return(n={})=>{const i=n.width?String(n.width):r.defaultWidth;return r.formats[i]||r.formats[r.defaultWidth]}}const rx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ix={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lx={date:jh({formats:rx,defaultWidth:"full"}),time:jh({formats:ix,defaultWidth:"full"}),dateTime:jh({formats:sx,defaultWidth:"full"})},ox={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ux=(r,n,i,l)=>ox[r];function uo(r){return(n,i)=>{const l=i?.context?String(i.context):"standalone";let c;if(l==="formatting"&&r.formattingValues){const m=r.defaultFormattingWidth||r.defaultWidth,y=i?.width?String(i.width):m;c=r.formattingValues[y]||r.formattingValues[m]}else{const m=r.defaultWidth,y=i?.width?String(i.width):r.defaultWidth;c=r.values[y]||r.values[m]}const f=r.argumentCallback?r.argumentCallback(n):n;return c[f]}}const cx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},px={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yx=(r,n)=>{const i=Number(r),l=i%100;if(l>20||l<10)switch(l%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},gx={ordinalNumber:yx,era:uo({values:cx,defaultWidth:"wide"}),quarter:uo({values:fx,defaultWidth:"wide",argumentCallback:r=>r-1}),month:uo({values:hx,defaultWidth:"wide"}),day:uo({values:dx,defaultWidth:"wide"}),dayPeriod:uo({values:mx,defaultWidth:"wide",formattingValues:px,defaultFormattingWidth:"wide"})};function co(r){return(n,i={})=>{const l=i.width,c=l&&r.matchPatterns[l]||r.matchPatterns[r.defaultMatchWidth],f=n.match(c);if(!f)return null;const m=f[0],y=l&&r.parsePatterns[l]||r.parsePatterns[r.defaultParseWidth],v=Array.isArray(y)?bx(y,O=>O.test(m)):vx(y,O=>O.test(m));let _;_=r.valueCallback?r.valueCallback(v):v,_=i.valueCallback?i.valueCallback(_):_;const x=n.slice(m.length);return{value:_,rest:x}}}function vx(r,n){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&n(r[i]))return i}function bx(r,n){for(let i=0;i<r.length;i++)if(n(r[i]))return i}function _x(r){return(n,i={})=>{const l=n.match(r.matchPattern);if(!l)return null;const c=l[0],f=n.match(r.parsePattern);if(!f)return null;let m=r.valueCallback?r.valueCallback(f[0]):f[0];m=i.valueCallback?i.valueCallback(m):m;const y=n.slice(c.length);return{value:m,rest:y}}}const wx=/^(\d+)(th|st|nd|rd)?/i,Sx=/\d+/i,xx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ex={any:[/^b/i,/^(a|c)/i]},Tx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ox={any:[/1/i,/2/i,/3/i,/4/i]},Ax={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dx={ordinalNumber:_x({matchPattern:wx,parsePattern:Sx,valueCallback:r=>parseInt(r,10)}),era:co({matchPatterns:xx,defaultMatchWidth:"wide",parsePatterns:Ex,defaultParseWidth:"any"}),quarter:co({matchPatterns:Tx,defaultMatchWidth:"wide",parsePatterns:Ox,defaultParseWidth:"any",valueCallback:r=>r+1}),month:co({matchPatterns:Ax,defaultMatchWidth:"wide",parsePatterns:kx,defaultParseWidth:"any"}),day:co({matchPatterns:jx,defaultMatchWidth:"wide",parsePatterns:Rx,defaultParseWidth:"any"}),dayPeriod:co({matchPatterns:Cx,defaultMatchWidth:"any",parsePatterns:Nx,defaultParseWidth:"any"})},Mx={code:"en-US",formatDistance:ax,formatLong:lx,formatRelative:ux,localize:gx,match:Dx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ux(r,n){const i=Fn(r,n?.in);return WS(i,tx(i))+1}function zx(r,n){const i=Fn(r,n?.in),l=+oc(i)-+ZS(i);return Math.round(l/Xg)+1}function Wg(r,n){const i=Fn(r,n?.in),l=i.getFullYear(),c=yc(),f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,m=fr(n?.in||r,0);m.setFullYear(l+1,0,f),m.setHours(0,0,0,0);const y=Js(m,n),v=fr(n?.in||r,0);v.setFullYear(l,0,f),v.setHours(0,0,0,0);const _=Js(v,n);return+i>=+y?l+1:+i>=+_?l:l-1}function Bx(r,n){const i=yc(),l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Wg(r,n),f=fr(n?.in||r,0);return f.setFullYear(c,0,l),f.setHours(0,0,0,0),Js(f,n)}function Lx(r,n){const i=Fn(r,n?.in),l=+Js(i,n)-+Bx(i,n);return Math.round(l/Xg)+1}function ct(r,n){const i=r<0?"-":"",l=Math.abs(r).toString().padStart(n,"0");return i+l}const Wr={y(r,n){const i=r.getFullYear(),l=i>0?i:1-i;return ct(n==="yy"?l%100:l,n.length)},M(r,n){const i=r.getMonth();return n==="M"?String(i+1):ct(i+1,2)},d(r,n){return ct(r.getDate(),n.length)},a(r,n){const i=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];default:return i==="am"?"a.m.":"p.m."}},h(r,n){return ct(r.getHours()%12||12,n.length)},H(r,n){return ct(r.getHours(),n.length)},m(r,n){return ct(r.getMinutes(),n.length)},s(r,n){return ct(r.getSeconds(),n.length)},S(r,n){const i=n.length,l=r.getMilliseconds(),c=Math.trunc(l*Math.pow(10,i-3));return ct(c,n.length)}},Ks={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wy={G:function(r,n,i){const l=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(l,{width:"abbreviated"});case"GGGGG":return i.era(l,{width:"narrow"});default:return i.era(l,{width:"wide"})}},y:function(r,n,i){if(n==="yo"){const l=r.getFullYear(),c=l>0?l:1-l;return i.ordinalNumber(c,{unit:"year"})}return Wr.y(r,n)},Y:function(r,n,i,l){const c=Wg(r,l),f=c>0?c:1-c;if(n==="YY"){const m=f%100;return ct(m,2)}return n==="Yo"?i.ordinalNumber(f,{unit:"year"}):ct(f,n.length)},R:function(r,n){const i=Qg(r);return ct(i,n.length)},u:function(r,n){const i=r.getFullYear();return ct(i,n.length)},Q:function(r,n,i){const l=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(l);case"QQ":return ct(l,2);case"Qo":return i.ordinalNumber(l,{unit:"quarter"});case"QQQ":return i.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(l,{width:"narrow",context:"formatting"});default:return i.quarter(l,{width:"wide",context:"formatting"})}},q:function(r,n,i){const l=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(l);case"qq":return ct(l,2);case"qo":return i.ordinalNumber(l,{unit:"quarter"});case"qqq":return i.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(l,{width:"narrow",context:"standalone"});default:return i.quarter(l,{width:"wide",context:"standalone"})}},M:function(r,n,i){const l=r.getMonth();switch(n){case"M":case"MM":return Wr.M(r,n);case"Mo":return i.ordinalNumber(l+1,{unit:"month"});case"MMM":return i.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(l,{width:"narrow",context:"formatting"});default:return i.month(l,{width:"wide",context:"formatting"})}},L:function(r,n,i){const l=r.getMonth();switch(n){case"L":return String(l+1);case"LL":return ct(l+1,2);case"Lo":return i.ordinalNumber(l+1,{unit:"month"});case"LLL":return i.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(l,{width:"narrow",context:"standalone"});default:return i.month(l,{width:"wide",context:"standalone"})}},w:function(r,n,i,l){const c=Lx(r,l);return n==="wo"?i.ordinalNumber(c,{unit:"week"}):ct(c,n.length)},I:function(r,n,i){const l=zx(r);return n==="Io"?i.ordinalNumber(l,{unit:"week"}):ct(l,n.length)},d:function(r,n,i){return n==="do"?i.ordinalNumber(r.getDate(),{unit:"date"}):Wr.d(r,n)},D:function(r,n,i){const l=Ux(r);return n==="Do"?i.ordinalNumber(l,{unit:"dayOfYear"}):ct(l,n.length)},E:function(r,n,i){const l=r.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(l,{width:"short",context:"formatting"});default:return i.day(l,{width:"wide",context:"formatting"})}},e:function(r,n,i,l){const c=r.getDay(),f=(c-l.weekStartsOn+8)%7||7;switch(n){case"e":return String(f);case"ee":return ct(f,2);case"eo":return i.ordinalNumber(f,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(r,n,i,l){const c=r.getDay(),f=(c-l.weekStartsOn+8)%7||7;switch(n){case"c":return String(f);case"cc":return ct(f,n.length);case"co":return i.ordinalNumber(f,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(r,n,i){const l=r.getDay(),c=l===0?7:l;switch(n){case"i":return String(c);case"ii":return ct(c,n.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(l,{width:"short",context:"formatting"});default:return i.day(l,{width:"wide",context:"formatting"})}},a:function(r,n,i){const c=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(r,n,i){const l=r.getHours();let c;switch(l===12?c=Ks.noon:l===0?c=Ks.midnight:c=l/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(r,n,i){const l=r.getHours();let c;switch(l>=17?c=Ks.evening:l>=12?c=Ks.afternoon:l>=4?c=Ks.morning:c=Ks.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(r,n,i){if(n==="ho"){let l=r.getHours()%12;return l===0&&(l=12),i.ordinalNumber(l,{unit:"hour"})}return Wr.h(r,n)},H:function(r,n,i){return n==="Ho"?i.ordinalNumber(r.getHours(),{unit:"hour"}):Wr.H(r,n)},K:function(r,n,i){const l=r.getHours()%12;return n==="Ko"?i.ordinalNumber(l,{unit:"hour"}):ct(l,n.length)},k:function(r,n,i){let l=r.getHours();return l===0&&(l=24),n==="ko"?i.ordinalNumber(l,{unit:"hour"}):ct(l,n.length)},m:function(r,n,i){return n==="mo"?i.ordinalNumber(r.getMinutes(),{unit:"minute"}):Wr.m(r,n)},s:function(r,n,i){return n==="so"?i.ordinalNumber(r.getSeconds(),{unit:"second"}):Wr.s(r,n)},S:function(r,n){return Wr.S(r,n)},X:function(r,n,i){const l=r.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Fy(l);case"XXXX":case"XX":return qi(l);default:return qi(l,":")}},x:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"x":return Fy(l);case"xxxx":case"xx":return qi(l);default:return qi(l,":")}},O:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Zy(l,":");default:return"GMT"+qi(l,":")}},z:function(r,n,i){const l=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Zy(l,":");default:return"GMT"+qi(l,":")}},t:function(r,n,i){const l=Math.trunc(+r/1e3);return ct(l,n.length)},T:function(r,n,i){return ct(+r,n.length)}};function Zy(r,n=""){const i=r>0?"-":"+",l=Math.abs(r),c=Math.trunc(l/60),f=l%60;return f===0?i+String(c):i+String(c)+n+ct(f,2)}function Fy(r,n){return r%60===0?(r>0?"-":"+")+ct(Math.abs(r)/60,2):qi(r,n)}function qi(r,n=""){const i=r>0?"-":"+",l=Math.abs(r),c=ct(Math.trunc(l/60),2),f=ct(l%60,2);return i+c+n+f}const eg=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},Zg=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},qx=(r,n)=>{const i=r.match(/(P+)(p+)?/)||[],l=i[1],c=i[2];if(!c)return eg(r,n);let f;switch(l){case"P":f=n.dateTime({width:"short"});break;case"PP":f=n.dateTime({width:"medium"});break;case"PPP":f=n.dateTime({width:"long"});break;default:f=n.dateTime({width:"full"});break}return f.replace("{{date}}",eg(l,n)).replace("{{time}}",Zg(c,n))},Hx={p:Zg,P:qx},$x=/^D+$/,Px=/^Y+$/,Kx=["D","DD","YY","YYYY"];function Gx(r){return $x.test(r)}function Yx(r){return Px.test(r)}function Vx(r,n,i){const l=Ix(r,n,i);if(console.warn(l),Kx.includes(r))throw new RangeError(l)}function Ix(r,n,i){const l=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${l} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jx=/^'([^]*?)'?$/,Wx=/''/g,Zx=/[a-zA-Z]/;function Wu(r,n,i){const l=yc(),c=l.locale??Mx,f=l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=l.weekStartsOn??l.locale?.options?.weekStartsOn??0,y=Fn(r,i?.in);if(!ex(y))throw new RangeError("Invalid time value");let v=n.match(Qx).map(x=>{const O=x[0];if(O==="p"||O==="P"){const C=Hx[O];return C(x,c.formatLong)}return x}).join("").match(Xx).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const O=x[0];if(O==="'")return{isToken:!1,value:Fx(x)};if(Wy[O])return{isToken:!0,value:x};if(O.match(Zx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:x}});c.localize.preprocessor&&(v=c.localize.preprocessor(y,v));const _={firstWeekContainsDate:f,weekStartsOn:m,locale:c};return v.map(x=>{if(!x.isToken)return x.value;const O=x.value;(Yx(O)||Gx(O))&&Vx(O,n,String(r));const C=Wy[O[0]];return C(y,O,c.localize,_)}).join("")}function Fx(r){const n=r.match(Jx);return n?n[1].replace(Wx,"'"):r}const eE=()=>{const r=new Date,n=[new Date().toISOString()],i=I.useMemo(()=>{const l=Js(r,{weekStartsOn:1});return Array.from({length:7}).map((c,f)=>QS(l,f))},[]);return T.jsx("section",{className:"mt-2",children:T.jsxs("div",{className:"bg-gradient-to-br from-slate-900/80 to-slate-950 border border-slate-800 p-6 rounded-[2.5rem]",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Weekly Activity"}),T.jsx("div",{className:"px-3 py-1 bg-black/40 rounded-full border border-slate-800",children:T.jsxs("span",{className:"text-[10px] font-black uppercase text-brand italic",children:[Wu(i[0],"MMM d"),"  ",Wu(i[6],"MMM d")]})})]}),T.jsx("div",{className:"flex justify-between items-center",children:i.map(l=>{const c=Jy(l,r),f=n.some(m=>Jy(new Date(m),l));return T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter ${c?"text-brand":"text-slate-600"}`,children:Wu(l,"EEE")}),T.jsxs("div",{className:"relative",children:[f?T.jsx("div",{className:"bg-brand rounded-full p-1 shadow-[0_0_15px_rgba(14,165,233,0.3)] animate-in zoom-in",children:T.jsx(uS,{size:20,className:"text-white"})}):T.jsx("div",{className:`w-9 h-9 rounded-2xl border-2 flex items-center justify-center transition-all ${c?"border-brand bg-brand/5 shadow-[0_0_10px_rgba(14,165,233,0.15)]":"border-slate-800 bg-black/40"}`,children:T.jsx("span",{className:`text-[11px] font-black ${c?"text-white":"text-slate-700"}`,children:Wu(l,"d")})}),c&&!f&&T.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-brand rounded-full shadow-[0_0_5px_#0ea5e9] animate-pulse"})]})]},l.toString())})})]})})},tE=[{id:"strength",name:"Strength",icon:Pg,color:"bg-orange-500",bg:"from-orange-500/20"},{id:"hiit",name:"HIIT",icon:td,color:"bg-yellow-500",bg:"from-yellow-500/20"},{id:"cardio",name:"Cardio",icon:yS,color:"bg-red-500",bg:"from-red-500/20"},{id:"endurance",name:"Endurance",icon:DS,color:"bg-blue-500",bg:"from-blue-500/20"},{id:"mobility",name:"Mobility",icon:qS,color:"bg-emerald-500",bg:"from-emerald-500/20"}],nE=()=>T.jsxs("section",{className:"mt-8 space-y-4",children:[T.jsxs("div",{className:"flex justify-between items-end",children:[T.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Training Focus"}),T.jsx("button",{className:"text-[10px] font-black uppercase text-brand",children:"Explore All"})]}),T.jsx("div",{className:"flex gap-4 overflow-x-auto no-scrollbar pb-2",children:tE.map(r=>T.jsxs("button",{className:"flex-shrink-0 group relative w-32 h-40 bg-gradient-to-br to-slate-950 border border-slate-800 rounded-[2rem] overflow-hidden transition-all active:scale-95",children:[T.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${r.bg} to-transparent opacity-40 group-hover:opacity-60 transition-opacity`}),T.jsxs("div",{className:"relative h-full flex flex-col items-center justify-between py-6",children:[T.jsx("div",{className:`w-12 h-12 rounded-2xl ${r.color} flex items-center justify-center shadow-lg`,children:T.jsx(r.icon,{size:24,className:"text-black"})}),T.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white group-hover:text-brand transition-colors",children:r.name})]})]},r.id))})]}),aE=()=>T.jsxs("div",{className:"px-6 space-y-4 pb-6",children:[T.jsx(IS,{}),T.jsx(eE,{}),T.jsx(nE,{}),T.jsxs("section",{className:"mt-6 space-y-4",children:[T.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Recommended Today"}),T.jsxs("div",{className:"group relative w-full h-44 border border-slate-800 rounded-[2.5rem] overflow-hidden transition-all active:scale-[0.98]",children:[T.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-30 group-hover:scale-110 transition-transform duration-700"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"}),T.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("span",{className:"text-[10px] font-black uppercase text-brand tracking-widest",children:"Advanced  45 Min"}),T.jsx("h4",{className:"text-xl font-black uppercase italic leading-none",children:"Full Body Power"})]}),T.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-black",children:T.jsx(td,{size:20,fill:"currentColor"})})]})]})]})]}),rE=()=>{const r=el(),n=Ra(),i=[{icon:vS,label:"Home",path:"/dashboard"},{icon:Pg,label:"Workouts",path:"/workouts"},{icon:dS,label:"Logs",path:"/logs"},{icon:rS,label:"Stats",path:"/stats"},{icon:xo,label:"Profile",path:"/profile"}],l=I.useMemo(()=>i.findIndex(c=>c.path===n.pathname),[n.pathname]);return T.jsx("nav",{className:"pointer-events-none w-full h-full flex items-end justify-center pb-2",children:T.jsxs("div",{className:"pointer-events-auto relative w-[90%] max-w-sm bg-slate-900/80 backdrop-blur-sm border border-white/5 rounded-full shadow-md px-3 py-2",children:[T.jsx("div",{className:"absolute top-2 left-3 h-10 w-[calc((100%-24px)/5)] bg-brand rounded-full transition-transform duration-300 ease-out",style:{transform:`translateX(${l*100}%)`}}),T.jsx("div",{className:"relative flex items-center justify-between",children:i.map(c=>{const f=n.pathname===c.path;return T.jsxs("button",{onClick:()=>r(c.path),className:"flex flex-col items-center justify-center flex-1 active:scale-95 transition",children:[T.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full ${f?"text-white":"text-slate-400"}`,children:T.jsx(c.icon,{size:20,strokeWidth:2})}),T.jsx("span",{className:`text-[10px] font-extrabold uppercase tracking-wide mt-1 ${f?"text-brand":"text-slate-500"}`,children:c.label})]},c.path)})})]})})},tg=({isOpen:r,onClose:n,isStatic:i=!1})=>{const{profile:l,signOut:c}=nl(),f=i?"w-full h-full bg-slate-950 border-r border-slate-900":`fixed top-0 left-0 bottom-0 w-80 bg-slate-950 z-[70] border-r border-slate-900 transition-transform duration-300 ease-out ${r?"translate-x-0":"-translate-x-full"}`;return T.jsxs(T.Fragment,{children:[!i&&T.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),T.jsx("aside",{className:f,children:T.jsxs("div",{className:"flex flex-col h-full p-8",children:[!i&&T.jsx("button",{onClick:n,className:"self-end p-2 text-slate-500 mb-4 active:scale-90 transition-transform",children:T.jsx($S,{size:24})}),i&&T.jsx("div",{className:"mb-10 px-4",children:T.jsxs("h2",{className:"text-xl font-black italic tracking-tighter text-white",children:["TRACK",T.jsx("span",{className:"text-brand",children:"FIT"})]})}),T.jsxs("div",{className:"flex items-center gap-4 mb-10 px-2",children:[T.jsx("div",{className:"w-12 h-12 rounded-2xl bg-brand/10 border border-brand/20 flex items-center justify-center text-brand font-black text-xl italic",children:l?.name?.[0].toUpperCase()}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-black text-white text-md truncate w-32",children:l?.name}),T.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Athlete Profile"})]})]}),T.jsxs("nav",{className:"flex-1 space-y-1",children:[T.jsx(Zu,{icon:xo,label:"My Profile"}),T.jsx(Zu,{icon:Ao,label:"Rank Progress"}),T.jsx(Zu,{icon:Gg,label:"Body Metrics"}),T.jsx(Zu,{icon:OS,label:"Settings"})]}),T.jsxs("button",{onClick:c,className:"flex items-center gap-3 p-4 w-full rounded-2xl bg-red-500/5 text-red-500 font-bold border border-red-500/10 active:scale-95 transition-all mt-auto",children:[T.jsx(Kg,{size:18}),T.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})]})},Zu=({icon:r,label:n})=>T.jsxs("button",{className:"w-full flex items-center justify-between p-4 rounded-2xl hover:bg-slate-900 transition-colors group",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx(r,{size:18,className:"text-slate-500 group-hover:text-brand transition-colors"}),T.jsx("span",{className:"text-sm font-bold text-slate-400 group-hover:text-white transition-colors",children:n})]}),T.jsx($g,{size:14,className:"text-slate-800"})]}),ng=80,iE=()=>{const{isSidebarOpen:r,closeSidebar:n}=Ig(),i=Ra(),l=I.useRef(null);return I.useLayoutEffect(()=>{l.current&&(l.current.scrollTop=0),window.scrollTo(0,0)},[i.pathname]),T.jsxs("div",{className:"relative h-full text-white overflow-hidden",children:[T.jsxs("div",{className:"flex h-full",children:[T.jsx("div",{className:"hidden lg:block w-72 h-full border-r border-slate-900",children:T.jsx(tg,{isOpen:!0,onClose:()=>{},isStatic:!0})}),T.jsx("div",{className:"lg:hidden",children:T.jsx(tg,{isOpen:r,onClose:n})}),T.jsx("main",{ref:l,className:"flex-1 overflow-y-auto samsung-scroll safe-ios-top",style:{paddingBottom:ng+8},children:T.jsx(gg,{})})]}),T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 lg:hidden",style:{height:ng},children:T.jsx(rE,{})})]})},sE=()=>T.jsx(VS,{children:T.jsx(iE,{})}),lE=()=>T.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-bg-main",children:T.jsxs("div",{className:"flex flex-col items-center gap-4",children:[T.jsx("div",{className:"text-brand-primary animate-pulse font-black italic text-4xl tracking-tighter",children:"TRACKFIT"}),T.jsx("div",{className:"h-1 w-12 bg-surface overflow-hidden rounded-full",children:T.jsx("div",{className:"h-full bg-brand-primary animate-progress-loading"})})]})}),oE=()=>{const{user_id:r,profile:n}=nl(),[i,l]=I.useState(!1);return I.useEffect(()=>{(async()=>{if(!r||!n){l(!0);return}try{const[f,m,y]=await Promise.all([sn.athlete_level.get(r),sn.athlete_levels_lookup.count(),sn.muscles.count()]);if(f&&m>0&&y>0){l(!0);return}const[v,_,x]=await Promise.all([fa.from("athlete_level").select("*").eq("user_id",r).single(),fa.from("athlete_levels_lookup").select("*"),fa.from("muscles").select("*")]);v.data&&await sn.athlete_level.put(v.data),_.data&&await sn.athlete_levels_lookup.bulkPut(_.data),x.data&&await sn.muscles.bulkPut(x.data),l(!0)}catch(f){console.error("Hydration Sync Error:",f),l(!0)}})()},[r,n]),i?T.jsx(gg,{}):T.jsx(lE,{})},uE=()=>{const r=el(),{profile:n,signOut:i}=nl();return T.jsxs("div",{className:"pb-16 space-y-8",children:[T.jsxs("section",{className:"pt-6 flex flex-col items-center text-center space-y-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"w-28 h-28 rounded-full bg-brand/20 flex items-center justify-center",children:T.jsx(xo,{size:42,className:"text-brand"})}),T.jsx("div",{className:"absolute -bottom-1 -right-1 w-9 h-9 rounded-full bg-brand text-black flex items-center justify-center font-black text-sm",children:"5"})]}),T.jsx("h2",{className:"text-2xl font-black",children:n?.name||"Athlete"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx(Rh,{label:"Target",value:`${n?.target_weight||0}kg`}),T.jsx(Rh,{label:"BMI",value:"22.1"}),T.jsx(Rh,{label:"Points",value:"5"})]})]}),T.jsxs("section",{className:"grid grid-cols-2 gap-4 px-6",children:[T.jsx(Fu,{title:"User Info",icon:T.jsx(xo,{}),onClick:()=>r("/profile/details")}),T.jsx(Fu,{title:"Measurements",icon:T.jsx(Gg,{}),onClick:()=>r("/profile/metrics")}),T.jsx(Fu,{title:"Level",icon:T.jsx(Ao,{}),onClick:()=>r("/profile/level")}),T.jsx(Fu,{title:"Appearance",icon:T.jsx(xS,{}),onClick:()=>r("/profile/theme")})]}),T.jsx("div",{className:"px-6 pt-6",children:T.jsxs("button",{onClick:i,className:"w-full h-14 rounded-2xl bg-red-500/10 text-red-400 font-black uppercase tracking-widest flex items-center justify-center gap-2",children:[T.jsx(Kg,{size:16}),"Logout"]})})]})},Rh=({label:r,value:n})=>T.jsxs("div",{className:"px-4 py-2 rounded-xl bg-slate-900/60 border border-slate-800 text-center",children:[T.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-black",children:r}),T.jsx("p",{className:"font-black",children:n})]}),Fu=({title:r,icon:n,onClick:i})=>T.jsxs("button",{onClick:i,className:"aspect-square rounded-[2rem] bg-slate-900/50 border border-slate-800 flex flex-col items-center justify-center gap-2 active:scale-95 transition",children:[T.jsx("div",{className:"text-brand",children:n}),T.jsx("span",{className:"text-xs font-black uppercase tracking-wide",children:r})]}),Fg=({title:r,children:n})=>{const i=el();return T.jsxs("div",{className:"relative",children:[T.jsx("header",{className:"sticky top-0 z-40 bg-black/90 backdrop-blur-md border-b border-slate-900 safe-ios-top",children:T.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[T.jsx("button",{onClick:()=>i(-1),className:"w-10 h-10 flex items-center justify-center rounded-xl bg-slate-900 border border-slate-800 active:scale-90 transition-all",children:T.jsx(eS,{size:20})}),T.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-sm font-black uppercase tracking-widest",children:r}),T.jsx("div",{className:"w-10"})]})}),T.jsx("div",{className:"px-6 py-6 space-y-6",children:n})]})},cE=()=>T.jsx(Fg,{title:"Profile Details",children:T.jsx("div",{className:"space-y-4",children:[...Array(50)].map((r,n)=>T.jsxs("div",{className:"h-20 rounded-xl bg-white/5 flex items-center px-4",children:["Details ",n+1]},n))})}),fE=()=>T.jsx(Fg,{title:"Measurements",children:T.jsx("div",{className:"space-y-4",children:[...Array(15)].map((r,n)=>T.jsxs("div",{className:"h-20 rounded-xl bg-white/5 flex items-center px-4",children:["Metric ",n+1]},n))})}),hE=()=>T.jsxs("div",{className:"px-4 pt-10 text-center space-y-4",children:[T.jsx("div",{className:"text-5xl font-black text-brand",children:"5"}),T.jsx("p",{className:"text-slate-400",children:"Intermediate"}),T.jsx("button",{className:"w-full h-12 bg-brand rounded-xl",children:"Sync Level"})]}),dE=()=>T.jsxs("div",{className:"px-4 pt-6 space-y-4",children:[T.jsx("button",{className:"w-full h-12 bg-slate-900 rounded-xl",children:"Dark Mode"}),T.jsx("button",{className:"w-full h-12 bg-slate-900 rounded-xl",children:"Light Mode"})]}),mE=()=>{const{user_id:r,profile:n,loading:i}=nl();return i?null:T.jsxs(jb,{children:[!r&&T.jsx(Zn,{path:"*",element:T.jsx(V1,{})}),r&&!n&&T.jsx(Zn,{path:"*",element:T.jsx(YS,{})}),r&&n&&T.jsxs(Zn,{element:T.jsx(oE,{}),children:[T.jsxs(Zn,{element:T.jsx(sE,{}),children:[T.jsx(Zn,{path:"/dashboard",element:T.jsx(aE,{})}),T.jsx(Zn,{path:"/profile",element:T.jsx(uE,{})})]}),T.jsx(Zn,{path:"/profile/details",element:T.jsx(cE,{})}),T.jsx(Zn,{path:"/profile/metrics",element:T.jsx(fE,{})}),T.jsx(Zn,{path:"/profile/level",element:T.jsx(hE,{})}),T.jsx(Zn,{path:"/profile/theme",element:T.jsx(dE,{})}),T.jsx(Zn,{path:"*",element:T.jsx(Ab,{to:"/dashboard",replace:!0})})]})]})};function pE(){function r(){I.useEffect(()=>{let i=0;const l=f=>{i=f.touches[0].clientX},c=f=>{const m=f.touches[0].clientX-i;(i<20||i>window.innerWidth-20)&&Math.abs(m)>10&&f.preventDefault()};return document.addEventListener("touchstart",l,{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),()=>{document.removeEventListener("touchstart",l),document.removeEventListener("touchmove",c)}},[])}function n(){I.useEffect(()=>{let i=0;const l=f=>{i=f.touches[0].clientY},c=f=>{const m=document.querySelector(".no-bounce");if(!m)return;const y=f.touches[0].clientY-i,v=m.scrollTop===0,_=m.scrollHeight-m.scrollTop===m.clientHeight;(v&&y>0||_&&y<0)&&f.preventDefault()};return document.addEventListener("touchstart",l,{passive:!1}),document.addEventListener("touchmove",c,{passive:!1}),()=>{document.removeEventListener("touchstart",l),document.removeEventListener("touchmove",c)}},[])}return r(),n(),T.jsx("div",{className:"app-root",children:T.jsx(mE,{})})}const yE="modulepreload",gE=function(r){return"/fitnex/"+r},ag={},vE=function(n,i,l){let c=Promise.resolve();if(i&&i.length>0){let _=function(x){return Promise.all(x.map(O=>Promise.resolve(O).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var m=_;document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),v=y?.nonce||y?.getAttribute("nonce");c=_(i.map(x=>{if(x=gE(x),x in ag)return;ag[x]=!0;const O=x.endsWith(".css"),C=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${C}`))return;const j=document.createElement("link");if(j.rel=O?"stylesheet":yE,O||(j.as="script"),j.crossOrigin="",j.href=x,v&&j.setAttribute("nonce",v),document.head.appendChild(j),O)return new Promise((Y,W)=>{j.addEventListener("load",Y),j.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${x}`)))})}))}function f(y){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=y,window.dispatchEvent(v),!v.defaultPrevented)throw y}return c.then(y=>{for(const v of y||[])v.status==="rejected"&&f(v.reason);return n().catch(f)})};function bE(r={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:l,onRegistered:c,onRegisteredSW:f,onRegisterError:m}=r;let y,v;const _=async(O=!0)=>{await v};async function x(){if("serviceWorker"in navigator){if(y=await vE(async()=>{const{Workbox:O}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:O}},[]).then(({Workbox:O})=>new O("/fitnex/sw.js",{scope:"/fitnex/",type:"classic"})).catch(O=>{m?.(O)}),!y)return;y.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),y.addEventListener("installed",O=>{O.isUpdate||l?.()}),y.register({immediate:n}).then(O=>{f?f("/fitnex/sw.js",O):c?.(O)}).catch(O=>{m?.(O)})}}return v=x(),_}function nd(){const r=window.visualViewport?.height||window.innerHeight;document.documentElement.style.setProperty("--app-height",`${r}px`)}nd();window.visualViewport?.addEventListener("resize",nd);window.addEventListener("orientationchange",nd);bE({immediate:!0,onNeedRefresh(){window.location.reload()}});j0.createRoot(document.getElementById("root")).render(T.jsx(w0.StrictMode,{children:T.jsx(Fb,{basename:"/fitnex",children:T.jsx(Y1,{children:T.jsx(pE,{})})})}));
